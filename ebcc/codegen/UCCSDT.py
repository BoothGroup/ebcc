"""Code generated by `albert` version 0.0.0.

 * date: 2024-12-19T15:11:05.201748
 * python version: 3.10.15 (main, Sep  9 2024, 03:03:06) [GCC 13.2.0]
 * albert version: 0.0.0
 * caller: /opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/albert/code/einsum.py
 * node: fv-az1676-657
 * system: Linux
 * processor: x86_64
 * release: 6.8.0-1017-azure
"""

from ebcc import numpy as np
from ebcc.util import pack_2e, einsum, dirsum, Namespace


def energy(f=None, t1=None, t2=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        t1: 
        t2: 
        v: 

    Returns:
        e_cc: 
    """

    e_cc = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (0, 3, 1, 2), ()) * -1
    e_cc += einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 1, 3), ())
    e_cc += einsum(v.aaaa.ovov, (0, 1, 2, 3), t2.aaaa, (0, 2, 1, 3), ())
    tmp1 = np.copy(f.bb.ov) * 2
    tmp1 += einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 1, 2, 3), (2, 3)) * 2
    tmp0 = np.copy(np.transpose(v.bbbb.ovov, (2, 0, 1, 3))) * -1
    tmp0 += np.transpose(v.bbbb.ovov, (2, 0, 3, 1))
    tmp1 += einsum(tmp0, (0, 1, 2, 3), t1.bb, (0, 3), (1, 2)) * -1
    del tmp0
    e_cc += einsum(tmp1, (0, 1), t1.bb, (0, 1), ()) * 0.5
    del tmp1
    tmp3 = np.copy(f.aa.ov)
    tmp2 = np.copy(np.transpose(v.aaaa.ovov, (2, 0, 1, 3))) * -1
    tmp2 += np.transpose(v.aaaa.ovov, (2, 0, 3, 1))
    tmp3 += einsum(t1.aa, (0, 1), tmp2, (0, 2, 3, 1), (2, 3)) * -0.5
    del tmp2
    e_cc += einsum(t1.aa, (0, 1), tmp3, (0, 1), ())
    del tmp3

    return e_cc

def update_amps(f=None, t1=None, t2=None, t3=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        t1: 
        t2: 
        t3: 
        v: 

    Returns:
        t1new: 
        t2new: 
        t3new: 
    """

    t1new = Namespace()
    t1new.aa = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 3, 5, 1), (4, 5)) * -1
    t1new.aa += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (1, 5, 2, 4), (0, 3)) * -3
    t1new.aa += f.aa.ov
    t1new.aa += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 5, 1, 4), (0, 3)) * 2
    t1new.aa += einsum(v.aabb.ooov, (0, 1, 2, 3), t2.abab, (1, 2, 4, 3), (0, 4)) * -1
    t1new.aa += einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ooov, (4, 1, 0, 3), (4, 2)) * 2
    tmp0 = einsum(v.aabb.ovov, (0, 1, 2, 3), t1.bb, (2, 3), (0, 1))
    t1new.aa += tmp0
    tmp4 = np.copy(f.bb.ov)
    tmp1 = einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 1, 2, 3), (2, 3))
    tmp4 += tmp1
    tmp2 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1))) * -1
    tmp2 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp3 = einsum(tmp2, (0, 1, 2, 3), t1.bb, (0, 3), (1, 2))
    tmp4 += tmp3 * -1
    del tmp3
    t1new.aa += einsum(t2.abab, (0, 1, 2, 3), tmp4, (1, 3), (0, 2))
    tmp7 = np.copy(f.aa.ov)
    tmp7 += tmp0
    del tmp0
    tmp5 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1))) * -1
    tmp5 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp6 = einsum(t1.aa, (0, 1), tmp5, (0, 2, 3, 1), (2, 3))
    tmp7 += tmp6 * -1
    del tmp6
    t1new.aa += einsum(t2.aaaa, (0, 1, 2, 3), tmp7, (1, 3), (0, 2)) * 2
    tmp8 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp8 += v.aaaa.oovv * -1
    t1new.aa += einsum(t1.aa, (0, 1), tmp8, (0, 2, 1, 3), (2, 3))
    tmp12 = np.copy(f.aa.oo)
    tmp9 = einsum(v.aabb.ooov, (0, 1, 2, 3), t1.bb, (2, 3), (0, 1))
    tmp12 += np.transpose(tmp9, (1, 0))
    del tmp9
    tmp10 = np.copy(v.aaaa.ooov) * -1
    tmp10 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3))
    tmp11 = einsum(tmp10, (0, 1, 2, 3), t1.aa, (2, 3), (0, 1))
    del tmp10
    tmp12 += np.transpose(tmp11, (1, 0)) * -1
    del tmp11
    t1new.aa += einsum(tmp12, (0, 1), t1.aa, (0, 2), (1, 2)) * -1
    tmp13 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t1.aa, (4, 3), (4, 0, 2, 1))
    t1new.aa += einsum(t2.aaaa, (0, 1, 2, 3), tmp13, (4, 0, 1, 3), (4, 2)) * 2
    tmp14 = einsum(t1.aa, (0, 1), v.aabb.ovov, (2, 1, 3, 4), (0, 2, 3, 4))
    t1new.aa += einsum(t2.abab, (0, 1, 2, 3), tmp14, (4, 0, 1, 3), (4, 2)) * -1
    tmp15 = np.copy(t2.aaaa) * 2
    tmp15 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3))
    t1new.aa += einsum(v.aaaa.ovvv, (0, 1, 2, 3), tmp15, (0, 4, 3, 1), (4, 2)) * -1
    del tmp15
    tmp16 = np.copy(t2.abab)
    tmp16 += einsum(t1.aa, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    t1new.aa += einsum(tmp16, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 1, 3), (0, 4))
    tmp17 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t2.aaaa, (4, 2, 1, 3), (4, 0))
    tmp20 = np.copy(np.transpose(tmp17, (1, 0))) * 2
    tmp18 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 3), (0, 4))
    tmp20 += np.transpose(tmp18, (1, 0))
    tmp19 = einsum(t1.aa, (0, 1), tmp7, (2, 1), (2, 0))
    tmp20 += tmp19
    t1new.aa += einsum(t1.aa, (0, 1), tmp20, (0, 2), (2, 1)) * -1
    tmp21 = np.copy(f.aa.vv)
    tmp21 += einsum(v.aaaa.ovvv, (0, 1, 2, 3), t1.aa, (0, 1), (2, 3))
    t1new.aa += einsum(t1.aa, (0, 1), tmp21, (1, 2), (0, 2))
    del tmp21
    t1new.bb = np.copy(tmp1)
    del tmp1
    t1new.bb += f.bb.ov
    t1new.bb += einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.abab, (0, 3, 1, 4), (2, 4)) * -1
    t1new.bb += einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 1, 5, 3), (4, 5))
    t1new.bb += einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 1, 3), (4, 5)) * 2
    t1new.bb += einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ooov, (4, 1, 0, 3), (4, 2)) * 2
    t1new.bb += einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 3, 1), (4, 5)) * -3
    t1new.bb += einsum(t2.abab, (0, 1, 2, 3), tmp7, (0, 2), (1, 3))
    t1new.bb += einsum(t2.bbbb, (0, 1, 2, 3), tmp4, (1, 3), (0, 2)) * 2
    tmp22 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp22 += v.bbbb.oovv * -1
    t1new.bb += einsum(tmp22, (0, 1, 2, 3), t1.bb, (0, 2), (1, 3))
    tmp26 = np.copy(f.bb.oo)
    tmp23 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (0, 1, 2, 3), (2, 3))
    tmp26 += np.transpose(tmp23, (1, 0))
    del tmp23
    tmp24 = np.copy(v.bbbb.ooov)
    tmp24 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)) * -1
    tmp25 = einsum(t1.bb, (0, 1), tmp24, (0, 2, 3, 1), (2, 3))
    tmp26 += np.transpose(tmp25, (1, 0)) * -1
    del tmp25
    t1new.bb += einsum(t1.bb, (0, 1), tmp26, (0, 2), (2, 1)) * -1
    tmp27 = einsum(t1.bb, (0, 1), v.aabb.ovov, (2, 3, 4, 1), (2, 0, 4, 3))
    t1new.bb += einsum(tmp27, (0, 1, 2, 3), t2.abab, (0, 2, 3, 4), (1, 4)) * -1
    tmp28 = einsum(t1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    t1new.bb += einsum(tmp28, (0, 1, 2, 3), t2.bbbb, (1, 2, 4, 3), (0, 4)) * 2
    tmp29 = np.copy(t2.bbbb) * 2
    tmp29 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    t1new.bb += einsum(v.bbbb.ovvv, (0, 1, 2, 3), tmp29, (0, 4, 3, 1), (4, 2)) * -1
    del tmp29
    t1new.bb += einsum(v.aabb.ovvv, (0, 1, 2, 3), tmp16, (0, 4, 1, 3), (4, 2))
    tmp30 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 3), (1, 4))
    tmp33 = np.copy(np.transpose(tmp30, (1, 0))) * 0.5
    tmp31 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 2, 1, 3), (0, 4))
    tmp33 += np.transpose(tmp31, (1, 0))
    tmp32 = einsum(tmp4, (0, 1), t1.bb, (2, 1), (2, 0)) * 0.5
    tmp33 += np.transpose(tmp32, (1, 0))
    del tmp32
    t1new.bb += einsum(tmp33, (0, 1), t1.bb, (0, 2), (1, 2)) * -2
    tmp34 = np.copy(f.bb.vv)
    tmp34 += einsum(v.bbbb.ovvv, (0, 1, 2, 3), t1.bb, (0, 1), (2, 3))
    t1new.bb += einsum(t1.bb, (0, 1), tmp34, (1, 2), (0, 2))
    del tmp34
    tmp35 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ooov, (6, 2, 1, 4), (0, 6, 3, 5))
    t2new = Namespace()
    t2new.aaaa = np.copy(np.transpose(tmp35, (0, 1, 3, 2)))
    tmp36 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.aaaaaa, (4, 1, 2, 5, 3, 6), (4, 0, 5, 6)) * -1
    t2new.aaaa += np.transpose(tmp36, (0, 1, 3, 2)) * 6
    tmp37 = einsum(t2.aaaa, (0, 1, 2, 3), tmp12, (1, 4), (4, 0, 2, 3)) * -2
    t2new.aaaa += np.transpose(tmp37, (1, 0, 3, 2)) * -1
    t2new.aaaa += einsum(v.aaaa.oooo, (0, 1, 2, 3), t2.aaaa, (3, 1, 4, 5), (0, 2, 4, 5)) * -2
    tmp38 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    t2new.aaaa += np.transpose(tmp38, (0, 1, 3, 2))
    t2new.aaaa += np.transpose(tmp36, (1, 0, 3, 2)) * -6
    del tmp36
    t2new.aaaa += np.transpose(tmp35, (1, 0, 3, 2)) * -1
    tmp39 = einsum(t1.aa, (0, 1), v.aaaa.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp40 = einsum(t1.aa, (0, 1), tmp39, (2, 0, 3, 4), (2, 3, 1, 4))
    t2new.aaaa += tmp40
    t2new.aaaa += np.transpose(tmp40, (0, 1, 3, 2)) * -1
    del tmp40
    tmp41 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp4, (1, 4), (0, 2, 3, 5))
    t2new.aaaa += np.transpose(tmp41, (1, 0, 3, 2))
    t2new.aaaa += einsum(tmp7, (0, 1), t3.aaaaaa, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5)) * 6
    tmp42 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t2.aaaa, (0, 2, 4, 1), (4, 3)) * -1
    tmp44 = np.copy(tmp42)
    tmp43 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 3), (2, 4))
    tmp44 += tmp43 * 0.5
    t2new.aaaa += einsum(tmp44, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 4, 0)) * -4
    del tmp44
    t2new.aaaa += np.transpose(tmp37, (0, 1, 3, 2))
    del tmp37
    tmp46 = np.copy(v.aaaa.ovvv)
    tmp45 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t1.aa, (2, 4), (0, 4, 1, 3))
    tmp46 += np.transpose(tmp45, (0, 3, 2, 1))
    tmp47 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp46, (2, 5, 4, 6), (0, 1, 6, 3)) * 6
    t2new.aaaa += tmp47 * -1
    tmp49 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3)))
    tmp48 = einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 2, 3, 4), (3, 1, 2, 4))
    tmp49 += np.transpose(tmp48, (0, 2, 1, 3)) * -1
    tmp50 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp49, (1, 3, 6, 4), (0, 2, 6, 5)) * 2
    t2new.aaaa += np.transpose(tmp50, (1, 0, 2, 3)) * -1
    tmp55 = np.copy(f.aa.vv) * -1
    tmp51 = einsum(v.aabb.vvov, (0, 1, 2, 3), t1.bb, (2, 3), (0, 1))
    tmp55 += np.transpose(tmp51, (1, 0)) * -1
    tmp55 += np.transpose(tmp42, (1, 0)) * 2
    tmp55 += np.transpose(tmp43, (1, 0))
    tmp52 = np.copy(v.aaaa.ovvv)
    tmp52 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)) * -1
    tmp53 = einsum(tmp52, (0, 1, 2, 3), t1.aa, (0, 1), (2, 3))
    tmp55 += np.transpose(tmp53, (1, 0)) * -1
    tmp54 = einsum(tmp7, (0, 1), t1.aa, (0, 2), (1, 2))
    tmp55 += tmp54
    t2new.aaaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp55, (3, 4), (0, 1, 4, 2)) * 2
    t2new.aaaa += np.transpose(tmp47, (0, 1, 3, 2))
    del tmp47
    t2new.aaaa += np.transpose(tmp50, (1, 0, 3, 2))
    del tmp50
    tmp56 = np.copy(f.aa.vv) * -1
    tmp56 += np.transpose(tmp51, (1, 0)) * -1
    tmp56 += np.transpose(tmp53, (1, 0)) * -1
    del tmp53
    tmp56 += tmp54
    t2new.aaaa += einsum(tmp56, (0, 1), t2.aaaa, (2, 3, 4, 0), (2, 3, 4, 1)) * -2
    del tmp56
    t2new.aaaa += tmp38 * -1
    t2new.aaaa += np.transpose(tmp35, (1, 0, 3, 2)) * -1
    t2new.aaaa += np.transpose(tmp41, (1, 0, 3, 2))
    del tmp41
    tmp57 = einsum(tmp13, (0, 1, 2, 3), t3.aaaaaa, (4, 2, 1, 5, 3, 6), (0, 4, 5, 6)) * -1
    t2new.aaaa += np.transpose(tmp57, (1, 0, 3, 2)) * 6
    tmp58 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t1.aa, (4, 3), (4, 0, 1, 2))
    t2new.aaaa += np.transpose(tmp58, (1, 0, 2, 3))
    tmp59 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp60 = einsum(t2.aaaa, (0, 1, 2, 3), tmp59, (4, 5, 0, 1), (4, 5, 2, 3))
    t2new.aaaa += np.transpose(tmp60, (1, 0, 3, 2)) * -2
    tmp61 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp14, (6, 2, 1, 4), (6, 0, 3, 5))
    t2new.aaaa += np.transpose(tmp61, (1, 0, 3, 2))
    tmp62 = einsum(t1.aa, (0, 1), tmp59, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp63 = einsum(t1.aa, (0, 1), tmp62, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp62
    t2new.aaaa += np.transpose(tmp63, (1, 0, 2, 3))
    t2new.aaaa += np.transpose(tmp63, (1, 0, 3, 2)) * -1
    tmp64 = np.copy(tmp17) * 2
    tmp64 += tmp18
    tmp64 += np.transpose(tmp19, (1, 0))
    del tmp19
    tmp65 = einsum(t2.aaaa, (0, 1, 2, 3), tmp64, (4, 1), (4, 0, 2, 3)) * -2
    t2new.aaaa += np.transpose(tmp65, (1, 0, 3, 2)) * -1
    tmp66 = einsum(tmp8, (0, 1, 2, 3), t1.aa, (4, 2), (0, 1, 4, 3))
    tmp67 = einsum(tmp66, (0, 1, 2, 3), t1.aa, (0, 4), (2, 1, 3, 4))
    t2new.aaaa += np.transpose(tmp67, (1, 0, 2, 3)) * -1
    t2new.aaaa += np.transpose(tmp57, (0, 1, 3, 2)) * -6
    del tmp57
    t2new.aaaa += tmp58 * -1
    t2new.aaaa += np.transpose(tmp60, (0, 1, 3, 2)) * 2
    del tmp60
    t2new.aaaa += np.transpose(tmp61, (0, 1, 3, 2)) * -1
    t2new.aaaa += tmp63 * -1
    t2new.aaaa += np.transpose(tmp63, (0, 1, 3, 2))
    del tmp63
    t2new.aaaa += np.transpose(tmp65, (0, 1, 3, 2))
    del tmp65
    t2new.aaaa += tmp67
    t2new.aaaa += np.transpose(tmp38, (1, 0, 3, 2)) * -1
    t2new.aaaa += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp68 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 1, 3), (0, 4, 2, 5))
    tmp69 = einsum(t2.aaaa, (0, 1, 2, 3), tmp68, (4, 1, 5, 3), (0, 4, 2, 5))
    t2new.aaaa += tmp69 * 2
    t2new.aaaa += np.transpose(tmp69, (1, 0, 3, 2)) * 2
    tmp74 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp74 += v.aaaa.oovv * -1
    tmp70 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1)))
    tmp70 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3)) * -1
    tmp71 = einsum(t2.aaaa, (0, 1, 2, 3), tmp70, (1, 4, 3, 5), (4, 0, 5, 2)) * 2
    tmp74 += np.transpose(tmp71, (1, 0, 3, 2)) * -1
    tmp72 = np.copy(v.aaaa.ooov)
    tmp72 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)) * -1
    tmp73 = einsum(tmp72, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4))
    tmp74 += np.transpose(tmp73, (0, 1, 3, 2)) * -1
    tmp75 = einsum(tmp74, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 4, 2, 5)) * 2
    del tmp74
    t2new.aaaa += tmp75
    tmp78 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp76 = einsum(t1.aa, (0, 1), v.aabb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp78 += tmp76 * -1
    tmp77 = einsum(t2.abab, (0, 1, 2, 3), tmp2, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp78 += tmp77 * -1
    t2new.aaaa += einsum(tmp78, (0, 1, 2, 3), t2.abab, (4, 1, 5, 3), (0, 4, 2, 5))
    del tmp78
    t2new.aaaa += np.transpose(tmp38, (1, 0, 2, 3))
    del tmp38
    t2new.aaaa += np.transpose(v.aaaa.ovov, (0, 2, 3, 1)) * -1
    tmp79 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1)))
    tmp79 += v.aaaa.oovv * -1
    tmp79 += np.transpose(tmp73, (1, 0, 3, 2)) * -1
    tmp80 = einsum(tmp79, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (1, 4, 2, 5)) * 2
    del tmp79
    t2new.aaaa += np.transpose(tmp80, (0, 1, 3, 2)) * -1
    tmp81 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp81 += tmp76 * -1
    t2new.aaaa += einsum(tmp81, (0, 1, 2, 3), t2.abab, (4, 1, 5, 3), (0, 4, 5, 2)) * -1
    del tmp81
    t2new.aaaa += np.transpose(tmp58, (0, 1, 3, 2))
    t2new.aaaa += np.transpose(tmp61, (0, 1, 3, 2)) * -1
    t2new.aaaa += np.transpose(tmp67, (0, 1, 3, 2)) * -1
    t2new.aaaa += np.transpose(tmp58, (1, 0, 3, 2)) * -1
    t2new.aaaa += np.transpose(tmp61, (1, 0, 3, 2))
    del tmp61
    t2new.aaaa += np.transpose(tmp67, (1, 0, 3, 2))
    del tmp67
    t2new.aaaa += np.transpose(tmp69, (0, 1, 3, 2)) * -2
    t2new.aaaa += np.transpose(tmp69, (1, 0, 2, 3)) * -2
    del tmp69
    t2new.aaaa += np.transpose(tmp75, (1, 0, 2, 3)) * -1
    del tmp75
    tmp83 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * -1
    tmp83 += tmp76
    tmp82 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1)))
    tmp82 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3)) * -1
    tmp83 += einsum(t2.abab, (0, 1, 2, 3), tmp82, (1, 4, 5, 3), (0, 4, 2, 5)) * -1
    t2new.aaaa += einsum(tmp83, (0, 1, 2, 3), t2.abab, (4, 1, 5, 3), (4, 0, 2, 5))
    del tmp83
    t2new.aaaa += np.transpose(tmp80, (1, 0, 3, 2))
    del tmp80
    tmp84 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * -1
    tmp84 += tmp76
    t2new.aaaa += einsum(t2.abab, (0, 1, 2, 3), tmp84, (4, 1, 5, 3), (0, 4, 2, 5)) * -1
    del tmp84
    tmp85 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 2, 5, 3), (0, 1, 4, 5))
    t2new.aaaa += einsum(tmp85, (0, 1, 2, 3), t2.aaaa, (3, 2, 4, 5), (1, 0, 4, 5)) * 2
    tmp86 = np.copy(v.aaaa.vvvv) * -1
    tmp86 += einsum(tmp46, (0, 1, 2, 3), t1.aa, (0, 4), (1, 4, 3, 2))
    del tmp46
    t2new.aaaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp86, (2, 4, 5, 3), (0, 1, 5, 4)) * 2
    del tmp86
    t2new.aaaa += np.transpose(tmp35, (0, 1, 3, 2))
    del tmp35
    tmp87 = np.copy(v.aaaa.ovvv)
    tmp87 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)) * -1
    tmp88 = einsum(t1.aa, (0, 1), tmp87, (2, 3, 1, 4), (2, 0, 3, 4))
    del tmp87
    tmp91 = np.copy(np.transpose(tmp88, (1, 0, 3, 2))) * -1
    del tmp88
    tmp89 = np.copy(tmp13)
    tmp89 += np.transpose(tmp13, (0, 2, 1, 3)) * -1
    tmp90 = einsum(tmp89, (0, 1, 2, 3), t1.aa, (1, 4), (0, 2, 3, 4))
    tmp91 += np.transpose(tmp90, (0, 1, 3, 2)) * -1
    del tmp90
    tmp92 = einsum(t2.aaaa, (0, 1, 2, 3), tmp91, (4, 1, 5, 3), (4, 0, 5, 2)) * 2
    t2new.aaaa += np.transpose(tmp92, (1, 0, 2, 3))
    tmp93 = einsum(t1.aa, (0, 1), v.aabb.vvov, (2, 1, 3, 4), (0, 3, 2, 4))
    tmp95 = np.copy(tmp93) * -1
    tmp94 = einsum(t1.aa, (0, 1), tmp14, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp95 += tmp94
    tmp96 = einsum(t2.abab, (0, 1, 2, 3), tmp95, (4, 1, 5, 3), (4, 0, 5, 2))
    t2new.aaaa += np.transpose(tmp96, (1, 0, 2, 3))
    t2new.aaaa += tmp92 * -1
    tmp97 = np.copy(tmp93)
    tmp97 += tmp94 * -1
    tmp98 = einsum(t2.abab, (0, 1, 2, 3), tmp97, (4, 1, 5, 3), (4, 0, 5, 2))
    t2new.aaaa += tmp98
    t2new.aaaa += np.transpose(tmp92, (1, 0, 3, 2)) * -1
    t2new.aaaa += np.transpose(tmp96, (1, 0, 3, 2)) * -1
    del tmp96
    t2new.aaaa += np.transpose(tmp92, (0, 1, 3, 2))
    del tmp92
    t2new.aaaa += np.transpose(tmp98, (0, 1, 3, 2)) * -1
    del tmp98
    tmp99 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovvv, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    t2new.aaaa += einsum(t1.aa, (0, 1), tmp99, (2, 3, 0, 4), (2, 3, 1, 4)) * -2
    tmp100 = einsum(t1.aa, (0, 1), tmp13, (2, 3, 4, 1), (2, 0, 4, 3))
    t2new.aaaa += einsum(tmp100, (0, 1, 2, 3), t2.aaaa, (3, 2, 4, 5), (1, 0, 4, 5)) * 2
    tmp101 = einsum(t1.aa, (0, 1), tmp58, (2, 3, 1, 4), (0, 2, 3, 4))
    del tmp58
    tmp102 = einsum(tmp101, (0, 1, 2, 3), t1.aa, (2, 4), (0, 1, 4, 3))
    t2new.aaaa += np.transpose(tmp102, (0, 1, 3, 2))
    t2new.aaaa += np.transpose(tmp102, (1, 0, 3, 2)) * -1
    tmp103 = einsum(v.aaaa.vvvv, (0, 1, 2, 3), t1.aa, (4, 3), (4, 0, 1, 2))
    tmp104 = einsum(tmp103, (0, 1, 2, 3), t1.aa, (4, 2), (4, 0, 1, 3))
    tmp107 = np.copy(tmp104)
    del tmp104
    tmp105 = einsum(tmp100, (0, 1, 2, 3), t1.aa, (2, 4), (1, 0, 3, 4))
    tmp106 = einsum(t1.aa, (0, 1), tmp105, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp107 += tmp106
    del tmp106
    t2new.aaaa += tmp107
    t2new.aaaa += np.transpose(tmp107, (0, 1, 3, 2)) * -1
    del tmp107
    t2new.aaaa += tmp102 * -1
    t2new.aaaa += np.transpose(tmp102, (1, 0, 2, 3))
    del tmp102
    tmp178 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.babbab, (4, 0, 3, 5, 1, 6), (4, 2, 5, 6))
    t2new.bbbb = np.copy(np.transpose(tmp178, (0, 1, 3, 2)))
    tmp179 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.bbbbbb, (4, 1, 2, 5, 3, 6), (4, 0, 5, 6)) * -1
    t2new.bbbb += np.transpose(tmp179, (0, 1, 3, 2)) * 6
    tmp180 = einsum(tmp26, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 1, 3, 4)) * -2
    t2new.bbbb += np.transpose(tmp180, (0, 1, 3, 2)) * -1
    tmp181 = einsum(t1.bb, (0, 1), v.bbbb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    t2new.bbbb += np.transpose(tmp181, (0, 1, 3, 2))
    t2new.bbbb += np.transpose(tmp178, (1, 0, 3, 2)) * -1
    t2new.bbbb += np.transpose(tmp179, (1, 0, 3, 2)) * -6
    del tmp179
    t2new.bbbb += einsum(v.bbbb.oooo, (0, 1, 2, 3), t2.bbbb, (1, 3, 4, 5), (0, 2, 4, 5)) * 2
    tmp182 = einsum(v.bbbb.oooo, (0, 1, 2, 3), t1.bb, (3, 4), (0, 1, 2, 4))
    tmp183 = einsum(t1.bb, (0, 1), tmp182, (2, 0, 3, 4), (3, 2, 4, 1))
    t2new.bbbb += tmp183
    t2new.bbbb += np.transpose(tmp183, (0, 1, 3, 2)) * -1
    del tmp183
    t2new.bbbb += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp4, (2, 5), (0, 1, 3, 4)) * 6
    tmp184 = einsum(tmp7, (0, 1), t3.babbab, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    t2new.bbbb += np.transpose(tmp184, (1, 0, 3, 2))
    tmp114 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 1, 4), (3, 4))
    tmp185 = np.copy(tmp114) * 0.5
    tmp115 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t2.bbbb, (0, 2, 4, 1), (4, 3)) * -1
    tmp185 += tmp115
    t2new.bbbb += einsum(tmp185, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 4, 0)) * -4
    del tmp185
    t2new.bbbb += np.transpose(tmp180, (1, 0, 3, 2))
    del tmp180
    tmp119 = np.copy(v.aabb.ovvv)
    tmp118 = einsum(v.aabb.ovov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp119 += np.transpose(tmp118, (0, 1, 3, 2)) * -1
    tmp186 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp119, (1, 4, 3, 6), (0, 2, 6, 5)) * 2
    t2new.bbbb += np.transpose(tmp186, (1, 0, 2, 3)) * -1
    tmp187 = np.copy(v.bbbb.ovvv)
    tmp155 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 4, 1, 3))
    tmp187 += np.transpose(tmp155, (0, 3, 2, 1))
    tmp188 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp187, (2, 5, 4, 6), (0, 1, 3, 6)) * 6
    t2new.bbbb += np.transpose(tmp188, (0, 1, 3, 2)) * -1
    tmp190 = np.copy(f.bb.vv) * -1
    tmp120 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (0, 1, 2, 3), (2, 3))
    tmp190 += np.transpose(tmp120, (1, 0)) * -1
    tmp190 += np.transpose(tmp114, (1, 0))
    tmp190 += np.transpose(tmp115, (1, 0)) * 2
    tmp163 = np.copy(v.bbbb.ovvv) * -1
    tmp163 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))
    tmp189 = einsum(tmp163, (0, 1, 2, 3), t1.bb, (0, 2), (1, 3))
    tmp190 += tmp189 * -1
    tmp123 = einsum(tmp4, (0, 1), t1.bb, (0, 2), (2, 1))
    tmp190 += np.transpose(tmp123, (1, 0))
    t2new.bbbb += einsum(t2.bbbb, (0, 1, 2, 3), tmp190, (3, 4), (0, 1, 4, 2)) * 2
    t2new.bbbb += np.transpose(tmp186, (1, 0, 3, 2))
    del tmp186
    t2new.bbbb += tmp188
    del tmp188
    tmp191 = np.copy(f.bb.vv) * -1
    tmp191 += np.transpose(tmp120, (1, 0)) * -1
    tmp191 += tmp189 * -1
    del tmp189
    tmp191 += np.transpose(tmp123, (1, 0))
    t2new.bbbb += einsum(tmp191, (0, 1), t2.bbbb, (2, 3, 4, 0), (2, 3, 4, 1)) * -2
    del tmp191
    t2new.bbbb += tmp181 * -1
    t2new.bbbb += np.transpose(tmp178, (1, 0, 3, 2)) * -1
    t2new.bbbb += np.transpose(tmp184, (1, 0, 3, 2))
    del tmp184
    tmp192 = einsum(t1.bb, (0, 1), v.bbbb.ovvv, (2, 3, 4, 1), (0, 2, 3, 4))
    t2new.bbbb += np.transpose(tmp192, (1, 0, 2, 3))
    tmp193 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp28, (6, 2, 1, 4), (6, 0, 3, 5)) * -1
    t2new.bbbb += np.transpose(tmp193, (1, 0, 3, 2)) * 6
    tmp194 = einsum(tmp27, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 3, 6), (1, 4, 5, 6))
    t2new.bbbb += np.transpose(tmp194, (1, 0, 3, 2))
    tmp195 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t1.bb, (4, 3), (4, 0, 1, 2))
    tmp196 = einsum(t2.bbbb, (0, 1, 2, 3), tmp195, (4, 5, 0, 1), (4, 5, 2, 3))
    t2new.bbbb += np.transpose(tmp196, (1, 0, 3, 2)) * -2
    tmp197 = einsum(t1.bb, (0, 1), tmp195, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp198 = einsum(t1.bb, (0, 1), tmp197, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp197
    t2new.bbbb += np.transpose(tmp198, (1, 0, 2, 3))
    t2new.bbbb += np.transpose(tmp198, (1, 0, 3, 2)) * -1
    tmp200 = np.copy(tmp30)
    tmp200 += tmp31 * 2
    tmp199 = einsum(tmp4, (0, 1), t1.bb, (2, 1), (2, 0))
    tmp200 += tmp199
    tmp201 = einsum(t2.bbbb, (0, 1, 2, 3), tmp200, (4, 1), (0, 4, 2, 3)) * -2
    t2new.bbbb += np.transpose(tmp201, (0, 1, 3, 2)) * -1
    tmp202 = einsum(tmp22, (0, 1, 2, 3), t1.bb, (4, 2), (0, 1, 4, 3))
    tmp203 = einsum(tmp202, (0, 1, 2, 3), t1.bb, (0, 4), (2, 1, 3, 4))
    t2new.bbbb += np.transpose(tmp203, (1, 0, 2, 3)) * -1
    t2new.bbbb += tmp192 * -1
    t2new.bbbb += np.transpose(tmp193, (0, 1, 3, 2)) * -6
    del tmp193
    t2new.bbbb += np.transpose(tmp194, (0, 1, 3, 2)) * -1
    t2new.bbbb += np.transpose(tmp196, (0, 1, 3, 2)) * 2
    del tmp196
    t2new.bbbb += tmp198 * -1
    t2new.bbbb += np.transpose(tmp198, (0, 1, 3, 2))
    del tmp198
    t2new.bbbb += np.transpose(tmp201, (1, 0, 3, 2))
    del tmp201
    t2new.bbbb += tmp203
    t2new.bbbb += np.transpose(tmp181, (1, 0, 3, 2)) * -1
    t2new.bbbb += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp204 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp205 = einsum(t2.abab, (0, 1, 2, 3), tmp204, (0, 4, 2, 5), (1, 4, 3, 5))
    t2new.bbbb += tmp205 * 2
    t2new.bbbb += np.transpose(tmp205, (1, 0, 3, 2)) * 2
    tmp207 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3))) * 0.5
    tmp207 += v.bbbb.oovv * -0.5
    tmp206 = einsum(t2.bbbb, (0, 1, 2, 3), tmp2, (1, 4, 5, 3), (4, 0, 5, 2))
    tmp207 += np.transpose(tmp206, (1, 0, 3, 2)) * -1
    tmp146 = np.copy(v.bbbb.ooov) * -1
    tmp146 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))
    tmp207 += einsum(t1.bb, (0, 1), tmp146, (2, 3, 0, 4), (3, 2, 1, 4)) * -0.5
    t2new.bbbb += einsum(t2.bbbb, (0, 1, 2, 3), tmp207, (4, 1, 5, 3), (4, 0, 5, 2)) * 4
    del tmp207
    tmp209 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp133 = einsum(t1.bb, (0, 1), v.aabb.ovoo, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp209 += tmp133 * -1
    tmp208 = einsum(tmp70, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 4, 2, 5))
    tmp209 += tmp208
    t2new.bbbb += einsum(tmp209, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (1, 4, 3, 5))
    del tmp209
    t2new.bbbb += np.transpose(tmp181, (1, 0, 2, 3))
    del tmp181
    t2new.bbbb += np.transpose(v.bbbb.ovov, (0, 2, 3, 1)) * -1
    tmp212 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1)))
    tmp212 += v.bbbb.oovv * -1
    tmp210 = np.copy(v.bbbb.ooov) * -1
    tmp210 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3))
    tmp211 = einsum(t1.bb, (0, 1), tmp210, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp212 += np.transpose(tmp211, (1, 0, 3, 2)) * -1
    tmp213 = einsum(t2.bbbb, (0, 1, 2, 3), tmp212, (1, 4, 5, 3), (0, 4, 2, 5)) * 2
    del tmp212
    t2new.bbbb += np.transpose(tmp213, (1, 0, 2, 3)) * -1
    tmp149 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp149 += tmp133 * -1
    t2new.bbbb += einsum(tmp149, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (1, 4, 5, 3)) * -1
    t2new.bbbb += np.transpose(tmp194, (0, 1, 3, 2)) * -1
    t2new.bbbb += np.transpose(tmp192, (0, 1, 3, 2))
    t2new.bbbb += np.transpose(tmp203, (0, 1, 3, 2)) * -1
    t2new.bbbb += np.transpose(tmp194, (1, 0, 3, 2))
    del tmp194
    t2new.bbbb += np.transpose(tmp192, (1, 0, 3, 2)) * -1
    t2new.bbbb += np.transpose(tmp203, (1, 0, 3, 2))
    del tmp203
    t2new.bbbb += np.transpose(tmp205, (0, 1, 3, 2)) * -2
    t2new.bbbb += np.transpose(tmp205, (1, 0, 2, 3)) * -2
    del tmp205
    tmp216 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp216 += v.bbbb.oovv * -1
    tmp214 = einsum(t2.bbbb, (0, 1, 2, 3), tmp2, (1, 4, 5, 3), (4, 0, 5, 2)) * 2
    tmp216 += np.transpose(tmp214, (1, 0, 3, 2)) * -1
    tmp215 = einsum(tmp146, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 3, 4))
    tmp216 += np.transpose(tmp215, (1, 0, 3, 2)) * -1
    t2new.bbbb += einsum(t2.bbbb, (0, 1, 2, 3), tmp216, (4, 1, 5, 3), (0, 4, 5, 2)) * -2
    del tmp216
    tmp217 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * -1
    tmp217 += tmp133
    tmp217 += einsum(t2.abab, (0, 1, 2, 3), tmp5, (0, 4, 5, 2), (4, 1, 5, 3))
    t2new.bbbb += einsum(tmp217, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (4, 1, 3, 5))
    del tmp217
    t2new.bbbb += tmp213
    del tmp213
    tmp218 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * -1
    tmp218 += tmp133
    t2new.bbbb += einsum(t2.abab, (0, 1, 2, 3), tmp218, (0, 4, 2, 5), (1, 4, 3, 5)) * -1
    del tmp218
    tmp219 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 5, 1, 3), (4, 5, 0, 2))
    t2new.bbbb += einsum(tmp219, (0, 1, 2, 3), t2.bbbb, (3, 2, 4, 5), (1, 0, 4, 5)) * 2
    tmp220 = np.copy(v.bbbb.vvvv) * -1
    tmp220 += einsum(t1.bb, (0, 1), tmp187, (0, 2, 3, 4), (2, 1, 4, 3))
    del tmp187
    t2new.bbbb += einsum(tmp220, (0, 1, 2, 3), t2.bbbb, (4, 5, 0, 3), (4, 5, 2, 1)) * 2
    del tmp220
    t2new.bbbb += np.transpose(tmp178, (0, 1, 3, 2))
    del tmp178
    tmp121 = np.copy(v.bbbb.ovvv)
    tmp121 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)) * -1
    tmp221 = einsum(t1.bb, (0, 1), tmp121, (2, 3, 1, 4), (2, 0, 3, 4))
    tmp224 = np.copy(np.transpose(tmp221, (1, 0, 3, 2))) * -1
    del tmp221
    tmp222 = np.copy(tmp28)
    tmp222 += np.transpose(tmp28, (0, 2, 1, 3)) * -1
    tmp223 = einsum(tmp222, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 3, 4))
    tmp224 += np.transpose(tmp223, (0, 1, 3, 2)) * -1
    del tmp223
    tmp225 = einsum(t2.bbbb, (0, 1, 2, 3), tmp224, (4, 1, 5, 3), (0, 4, 2, 5)) * 2
    t2new.bbbb += np.transpose(tmp225, (0, 1, 3, 2))
    tmp125 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t1.bb, (4, 3), (0, 4, 1, 2))
    tmp226 = np.copy(tmp125) * -1
    tmp127 = einsum(t1.bb, (0, 1), tmp27, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp226 += tmp127
    tmp227 = einsum(t2.abab, (0, 1, 2, 3), tmp226, (0, 4, 2, 5), (4, 1, 5, 3))
    t2new.bbbb += np.transpose(tmp227, (1, 0, 2, 3))
    t2new.bbbb += np.transpose(tmp225, (1, 0, 3, 2)) * -1
    tmp168 = np.copy(tmp125)
    tmp168 += tmp127 * -1
    tmp228 = einsum(t2.abab, (0, 1, 2, 3), tmp168, (0, 4, 2, 5), (4, 1, 5, 3))
    t2new.bbbb += tmp228
    t2new.bbbb += tmp225 * -1
    t2new.bbbb += np.transpose(tmp227, (1, 0, 3, 2)) * -1
    del tmp227
    t2new.bbbb += np.transpose(tmp225, (1, 0, 2, 3))
    del tmp225
    t2new.bbbb += np.transpose(tmp228, (0, 1, 3, 2)) * -1
    del tmp228
    tmp229 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t2.bbbb, (4, 5, 3, 1), (4, 5, 0, 2)) * -1
    t2new.bbbb += einsum(t1.bb, (0, 1), tmp229, (2, 3, 0, 4), (2, 3, 1, 4)) * -2
    tmp230 = einsum(t1.bb, (0, 1), tmp28, (2, 3, 4, 1), (2, 0, 4, 3))
    t2new.bbbb += einsum(tmp230, (0, 1, 2, 3), t2.bbbb, (3, 2, 4, 5), (1, 0, 4, 5)) * 2
    tmp231 = einsum(t1.bb, (0, 1), v.bbbb.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp232 = einsum(tmp231, (0, 1, 2, 3), t1.bb, (4, 2), (4, 0, 1, 3))
    tmp235 = np.copy(tmp232)
    del tmp232
    tmp233 = einsum(tmp230, (0, 1, 2, 3), t1.bb, (2, 4), (1, 0, 3, 4))
    tmp234 = einsum(t1.bb, (0, 1), tmp233, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp235 += tmp234
    del tmp234
    t2new.bbbb += tmp235
    t2new.bbbb += np.transpose(tmp235, (0, 1, 3, 2)) * -1
    del tmp235
    tmp236 = einsum(tmp192, (0, 1, 2, 3), t1.bb, (4, 2), (4, 0, 1, 3))
    del tmp192
    tmp237 = einsum(t1.bb, (0, 1), tmp236, (2, 3, 0, 4), (2, 3, 1, 4))
    t2new.bbbb += np.transpose(tmp237, (0, 1, 3, 2))
    t2new.bbbb += np.transpose(tmp237, (1, 0, 3, 2)) * -1
    t2new.bbbb += tmp237 * -1
    t2new.bbbb += np.transpose(tmp237, (1, 0, 2, 3))
    del tmp237
    tmp108 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovoo, (2, 5, 6, 1), (0, 6, 3, 4))
    t2new.abab = np.copy(tmp108) * -1
    tmp109 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.bbbb.ooov, (6, 2, 0, 3), (1, 6, 4, 5))
    t2new.abab += tmp109 * -1
    tmp110 = einsum(tmp4, (0, 1), t3.babbab, (2, 3, 0, 4, 5, 1), (3, 2, 5, 4))
    t2new.abab += tmp110
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp26, (1, 4), (0, 4, 2, 3)) * -1
    tmp111 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.abaaba, (2, 4, 1, 3, 5, 6), (0, 4, 6, 5))
    t2new.abab += tmp111 * -1
    tmp112 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ooov, (6, 1, 2, 5), (6, 0, 4, 3))
    t2new.abab += tmp112 * -1
    tmp113 = einsum(tmp7, (0, 1), t3.abaaba, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    t2new.abab += tmp113
    tmp116 = np.copy(tmp114)
    tmp116 += tmp115 * 2
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp116, (4, 3), (0, 1, 2, 4)) * -1
    del tmp116
    t2new.abab += einsum(tmp12, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4)) * -1
    t2new.abab += einsum(v.aabb.oooo, (0, 1, 2, 3), tmp16, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp117 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)))
    tmp117 += tmp45
    t2new.abab += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp117, (2, 6, 5, 3), (0, 1, 6, 4)) * -2
    del tmp117
    t2new.abab += einsum(tmp55, (0, 1), t2.abab, (2, 3, 0, 4), (2, 3, 1, 4)) * -1
    t2new.abab += einsum(tmp119, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 2, 1), (4, 5, 6, 3)) * 2
    tmp124 = np.copy(f.bb.vv)
    tmp124 += np.transpose(tmp120, (1, 0))
    tmp122 = einsum(t1.bb, (0, 1), tmp121, (0, 2, 1, 3), (2, 3))
    tmp124 += tmp122 * -1
    tmp124 += np.transpose(tmp123, (1, 0)) * -1
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp124, (3, 4), (0, 1, 2, 4))
    del tmp124
    t2new.abab += tmp111 * -1
    del tmp111
    t2new.abab += tmp76 * -1
    t2new.abab += tmp112 * -1
    del tmp112
    t2new.abab += tmp113
    del tmp113
    t2new.abab += tmp108 * -1
    del tmp108
    t2new.abab += tmp109 * -1
    del tmp109
    t2new.abab += tmp110
    del tmp110
    t2new.abab += tmp125
    tmp126 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp27, (2, 6, 1, 5), (0, 6, 3, 4))
    t2new.abab += tmp126 * -1
    t2new.abab += tmp127 * -1
    del tmp127
    tmp128 = einsum(tmp28, (0, 1, 2, 3), t3.babbab, (1, 4, 2, 3, 5, 6), (4, 0, 5, 6))
    t2new.abab += tmp128 * -1
    t2new.abab += einsum(tmp33, (0, 1), t2.abab, (2, 0, 3, 4), (2, 1, 3, 4)) * -2
    tmp129 = einsum(v.aabb.ooov, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 4, 2))
    t2new.abab += einsum(tmp16, (0, 1, 2, 3), tmp129, (0, 4, 5, 1), (4, 5, 2, 3))
    tmp130 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp14, (6, 1, 2, 5), (6, 0, 4, 3))
    t2new.abab += tmp130 * -1
    tmp131 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp13, (6, 0, 2, 3), (6, 1, 5, 4))
    t2new.abab += tmp131 * -1
    t2new.abab += einsum(tmp20, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4)) * -1
    tmp132 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (2, 1, 3, 4), (0, 2, 3, 4))
    t2new.abab += einsum(tmp132, (0, 1, 2, 3), tmp16, (1, 2, 4, 5), (0, 3, 4, 5))
    t2new.abab += np.transpose(v.aabb.ovov, (0, 2, 1, 3))
    t2new.abab += tmp133 * -1
    tmp137 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp137 += v.aaaa.oovv * -1
    tmp137 += np.transpose(tmp68, (1, 0, 3, 2))
    tmp134 = einsum(t2.aaaa, (0, 1, 2, 3), tmp5, (1, 4, 3, 5), (4, 0, 5, 2)) * 2
    tmp137 += tmp134
    del tmp134
    tmp135 = np.copy(v.aaaa.ooov)
    tmp135 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3)) * -1
    tmp136 = einsum(tmp135, (0, 1, 2, 3), t1.aa, (2, 4), (0, 1, 3, 4))
    tmp137 += np.transpose(tmp136, (1, 0, 2, 3))
    del tmp136
    t2new.abab += einsum(tmp137, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (1, 4, 3, 5))
    tmp139 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp139 += tmp76 * -1
    tmp138 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 2, 5, 3))
    tmp139 += tmp138 * 2
    tmp139 += tmp77 * -1
    t2new.abab += einsum(t2.bbbb, (0, 1, 2, 3), tmp139, (4, 1, 5, 3), (4, 0, 5, 2)) * 2
    tmp140 = einsum(t1.aa, (0, 1), v.aabb.vvoo, (2, 1, 3, 4), (0, 3, 4, 2))
    t2new.abab += einsum(t1.bb, (0, 1), tmp140, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    t2new.abab += tmp93
    tmp141 = np.copy(v.aaaa.ovvv) * -1
    tmp141 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))
    tmp142 = einsum(t1.aa, (0, 1), tmp141, (2, 3, 1, 4), (2, 0, 3, 4))
    del tmp141
    tmp145 = np.copy(np.transpose(tmp142, (1, 0, 2, 3))) * -1
    tmp143 = np.copy(tmp13) * -1
    tmp143 += np.transpose(tmp13, (0, 2, 1, 3))
    tmp144 = einsum(tmp143, (0, 1, 2, 3), t1.aa, (2, 4), (0, 1, 3, 4))
    tmp145 += tmp144
    del tmp144
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp145, (4, 0, 2, 5), (4, 1, 5, 3))
    t2new.abab += einsum(tmp97, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (0, 4, 2, 5)) * 2
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvoo, (4, 2, 5, 1), (0, 5, 4, 3)) * -1
    t2new.abab += einsum(tmp49, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 6, 1, 3), (5, 4, 2, 6)) * 2
    tmp148 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp148 += v.bbbb.oovv * -1
    tmp147 = einsum(tmp146, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4))
    tmp148 += np.transpose(tmp147, (1, 0, 2, 3))
    t2new.abab += einsum(tmp148, (0, 1, 2, 3), t2.abab, (4, 0, 5, 2), (4, 1, 5, 3))
    del tmp148
    t2new.abab += einsum(t2.aaaa, (0, 1, 2, 3), tmp149, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp151 = np.copy(v.aabb.oovv)
    tmp150 = einsum(v.aabb.ooov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp151 += np.transpose(tmp150, (1, 0, 3, 2)) * -1
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp151, (0, 4, 3, 5), (4, 1, 2, 5)) * -1
    tmp152 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 3), (0, 4, 1, 5))
    t2new.abab += einsum(tmp152, (0, 1, 2, 3), t2.abab, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp154 = np.copy(v.aabb.vvvv)
    tmp153 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3)))
    tmp153 += tmp48 * -1
    tmp154 += einsum(tmp153, (0, 1, 2, 3), t1.bb, (0, 4), (2, 1, 3, 4)) * -1
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp154, (2, 4, 3, 5), (0, 1, 4, 5))
    del tmp154
    tmp156 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)))
    tmp156 += tmp155
    t2new.abab += einsum(tmp156, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 3, 6, 2), (5, 4, 6, 1)) * -2
    del tmp156
    tmp157 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (0, 2, 3, 4), (3, 4, 1, 2))
    tmp159 = np.copy(np.transpose(tmp157, (1, 0, 2, 3)))
    tmp158 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 5, 3), (1, 5, 2, 4))
    tmp159 += np.transpose(tmp158, (1, 0, 2, 3))
    t2new.abab += einsum(tmp159, (0, 1, 2, 3), t2.abab, (4, 0, 3, 5), (4, 1, 2, 5))
    tmp160 = einsum(v.aabb.vvov, (0, 1, 2, 3), t1.bb, (4, 3), (4, 2, 0, 1))
    tmp162 = np.copy(np.transpose(tmp160, (0, 1, 3, 2)))
    tmp161 = einsum(t1.aa, (0, 1), tmp27, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp162 += np.transpose(tmp161, (0, 1, 3, 2)) * -1
    del tmp161
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp162, (4, 1, 2, 5), (0, 4, 5, 3)) * -1
    tmp164 = einsum(tmp163, (0, 1, 2, 3), t1.bb, (4, 2), (0, 4, 1, 3))
    del tmp163
    tmp167 = np.copy(np.transpose(tmp164, (1, 0, 2, 3))) * -1
    tmp165 = np.copy(tmp28) * -1
    tmp165 += np.transpose(tmp28, (0, 2, 1, 3))
    tmp166 = einsum(tmp165, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 3, 4))
    tmp167 += tmp166
    del tmp166
    t2new.abab += einsum(tmp167, (0, 1, 2, 3), t2.abab, (4, 1, 5, 2), (4, 0, 5, 3))
    t2new.abab += einsum(tmp168, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3)) * 2
    tmp169 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp171 = np.copy(np.transpose(tmp169, (0, 1, 3, 2)))
    tmp170 = einsum(tmp14, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp171 += np.transpose(tmp170, (0, 1, 3, 2)) * -1
    del tmp170
    t2new.abab += einsum(t2.abab, (0, 1, 2, 3), tmp171, (4, 0, 3, 5), (4, 1, 2, 5)) * -1
    tmp172 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 3), (0, 4, 1, 5))
    t2new.abab += einsum(t1.aa, (0, 1), tmp172, (2, 0, 3, 4), (2, 3, 1, 4)) * -1
    tmp173 = einsum(v.aabb.oovv, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 4, 2))
    t2new.abab += einsum(t1.aa, (0, 1), tmp173, (2, 0, 3, 4), (2, 3, 1, 4)) * -1
    t2new.abab += tmp126 * -1
    del tmp126
    t2new.abab += tmp128 * -1
    del tmp128
    t2new.abab += tmp130 * -1
    del tmp130
    t2new.abab += tmp131 * -1
    del tmp131
    t2new.abab += tmp94 * -1
    del tmp94
    tmp174 = einsum(v.aabb.vvvv, (0, 1, 2, 3), t1.bb, (4, 3), (4, 0, 1, 2))
    t2new.abab += einsum(t1.aa, (0, 1), tmp174, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp175 = einsum(t1.aa, (0, 1), tmp160, (2, 3, 4, 1), (0, 2, 3, 4))
    t2new.abab += einsum(t1.bb, (0, 1), tmp175, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    tmp176 = einsum(t1.aa, (0, 1), tmp27, (2, 3, 4, 1), (0, 2, 3, 4))
    t2new.abab += einsum(tmp176, (0, 1, 2, 3), tmp16, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp177 = einsum(t1.aa, (0, 1), tmp125, (2, 3, 1, 4), (0, 2, 3, 4))
    t2new.abab += einsum(t1.aa, (0, 1), tmp177, (2, 0, 3, 4), (2, 3, 1, 4)) * -1
    tmp238 = einsum(tmp12, (0, 1), t3.aaaaaa, (2, 3, 0, 4, 5, 6), (1, 2, 3, 4, 5, 6)) * 3
    t3new = Namespace()
    t3new.aaaaaa = np.copy(np.transpose(tmp238, (1, 2, 0, 4, 5, 3))) * -1
    tmp239 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 7), (4, 5, 0, 1, 6, 7))
    tmp241 = np.copy(np.transpose(tmp239, (0, 1, 3, 2, 5, 4))) * -1
    tmp240 = einsum(tmp135, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 2, 6, 7, 3), (0, 1, 4, 5, 6, 7)) * 6
    tmp241 += np.transpose(tmp240, (2, 3, 1, 0, 4, 5))
    del tmp240
    tmp242 = einsum(t1.aa, (0, 1), tmp241, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 6, 1))
    del tmp241
    t3new.aaaaaa += np.transpose(tmp242, (0, 1, 2, 4, 3, 5))
    tmp243 = np.copy(t2.aaaa) * 2
    tmp243 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (2, 0, 1, 3)) * -1
    tmp243 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3))
    tmp244 = einsum(tmp243, (0, 1, 2, 3), v.aaaa.ooov, (4, 1, 0, 5), (4, 2, 3, 5)) * 0.5
    tmp245 = einsum(tmp244, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 2, 1, 6)) * -4
    del tmp244
    t3new.aaaaaa += np.transpose(tmp245, (2, 1, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp238, (1, 2, 0, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp238, (1, 0, 2, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp242, (0, 2, 1, 4, 3, 5)) * -1
    del tmp242
    t3new.aaaaaa += np.transpose(tmp245, (2, 0, 1, 5, 4, 3)) * -1
    del tmp245
    t3new.aaaaaa += np.transpose(tmp238, (1, 0, 2, 4, 5, 3))
    tmp246 = einsum(v.aaaa.oooo, (0, 1, 2, 3), t3.aaaaaa, (4, 3, 1, 5, 6, 7), (4, 0, 2, 5, 6, 7)) * -1
    t3new.aaaaaa += np.transpose(tmp246, (1, 2, 0, 4, 5, 3)) * 3
    tmp247 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6))
    tmp248 = einsum(tmp247, (0, 1, 2, 3, 4, 5), t1.aa, (4, 6), (0, 1, 2, 3, 6, 5))
    tmp249 = einsum(t1.aa, (0, 1), tmp248, (2, 3, 0, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp248
    t3new.aaaaaa += np.transpose(tmp249, (2, 1, 0, 5, 3, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp249, (2, 1, 0, 5, 4, 3)) * -2
    del tmp249
    tmp250 = einsum(t2.aaaa, (0, 1, 2, 3), tmp39, (4, 1, 5, 6), (0, 5, 4, 6, 2, 3))
    t3new.aaaaaa += np.transpose(tmp250, (1, 2, 0, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp250, (2, 1, 0, 5, 4, 3)) * -2
    tmp251 = np.copy(tmp42) * 2
    tmp251 += tmp43
    tmp251 += np.transpose(tmp54, (1, 0))
    del tmp54
    t3new.aaaaaa += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp251, (6, 5), (0, 1, 2, 3, 4, 6)) * -6
    tmp253 = np.copy(np.transpose(tmp247, (0, 1, 3, 2, 4, 5))) * -0.6666666666666666
    del tmp247
    tmp252 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (6, 4, 7, 5), (0, 1, 2, 6, 7, 3))
    tmp253 += np.transpose(tmp252, (0, 1, 2, 4, 3, 5)) * -1
    t3new.aaaaaa += einsum(tmp253, (0, 1, 2, 3, 4, 5), t2.aaaa, (3, 4, 6, 7), (2, 1, 0, 5, 6, 7)) * -6
    del tmp253
    t3new.aaaaaa += np.transpose(tmp238, (0, 1, 2, 4, 5, 3)) * -1
    tmp254 = np.copy(np.transpose(tmp239, (0, 1, 3, 2, 5, 4))) * -0.16666666666666666
    tmp254 += einsum(tmp252, (0, 1, 2, 3, 4, 5), t1.aa, (4, 6), (0, 1, 2, 3, 6, 5)) * -1
    del tmp252
    tmp254 += einsum(tmp72, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 2, 6, 7, 3), (4, 5, 1, 0, 6, 7))
    t3new.aaaaaa += einsum(t1.aa, (0, 1), tmp254, (2, 3, 4, 0, 5, 6), (4, 3, 2, 6, 5, 1)) * -6
    del tmp254
    t3new.aaaaaa += np.transpose(tmp246, (1, 2, 0, 4, 5, 3)) * 3
    t3new.aaaaaa += np.transpose(tmp238, (0, 1, 2, 4, 5, 3)) * -1
    del tmp238
    tmp255 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp55, (5, 6), (0, 1, 2, 6, 3, 4)) * 6
    t3new.aaaaaa += np.transpose(tmp255, (1, 2, 0, 3, 4, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp255, (1, 2, 0, 4, 3, 5))
    del tmp255
    tmp258 = np.copy(f.aa.vv)
    tmp258 += np.transpose(tmp51, (1, 0))
    del tmp51
    tmp256 = np.copy(v.aaaa.ovvv) * -1
    tmp256 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp257 = einsum(tmp256, (0, 1, 2, 3), t1.aa, (0, 1), (2, 3))
    tmp258 += np.transpose(tmp257, (1, 0)) * -1
    del tmp257
    t3new.aaaaaa += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp258, (5, 6), (0, 1, 2, 3, 4, 6)) * 6
    tmp259 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp59, (6, 7, 1, 2), (6, 0, 7, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp259, (2, 1, 0, 4, 5, 3)) * -3
    tmp260 = einsum(tmp64, (0, 1), t3.aaaaaa, (2, 3, 1, 4, 5, 6), (0, 2, 3, 4, 5, 6)) * 3
    del tmp64
    t3new.aaaaaa += np.transpose(tmp260, (1, 2, 0, 4, 5, 3)) * -1
    tmp261 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp14, (6, 7, 1, 4), (6, 0, 2, 7, 3, 5))
    tmp265 = np.copy(np.transpose(tmp261, (0, 2, 1, 3, 5, 4))) * -1
    tmp262 = einsum(tmp143, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 1, 6, 7, 3), (0, 2, 4, 5, 6, 7)) * 6
    tmp265 += np.transpose(tmp262, (0, 2, 3, 1, 4, 5))
    del tmp262
    tmp263 = np.copy(np.transpose(tmp59, (0, 2, 1, 3))) * -1
    tmp263 += np.transpose(tmp59, (0, 3, 2, 1))
    tmp264 = einsum(t2.aaaa, (0, 1, 2, 3), tmp263, (4, 5, 6, 1), (4, 5, 6, 0, 2, 3)) * -2
    tmp265 += np.transpose(tmp264, (0, 3, 2, 1, 5, 4))
    del tmp264
    tmp266 = einsum(t1.aa, (0, 1), tmp265, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 6, 1))
    del tmp265
    t3new.aaaaaa += np.transpose(tmp266, (2, 1, 0, 4, 3, 5))
    tmp267 = einsum(t2.aaaa, (0, 1, 2, 3), tmp13, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp270 = np.copy(np.transpose(tmp267, (0, 2, 1, 3))) * -1
    tmp268 = einsum(t1.aa, (0, 1), tmp13, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp269 = einsum(t1.aa, (0, 1), tmp268, (2, 0, 3, 4), (2, 1, 3, 4))
    del tmp268
    tmp270 += tmp269 * 0.5
    tmp270 += np.transpose(tmp269, (0, 2, 1, 3)) * -0.5
    tmp271 = einsum(t2.aaaa, (0, 1, 2, 3), tmp270, (4, 5, 6, 3), (4, 0, 1, 5, 6, 2)) * -4
    del tmp270
    t3new.aaaaaa += np.transpose(tmp271, (2, 1, 0, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp259, (2, 1, 0, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp260, (1, 2, 0, 4, 5, 3)) * -1
    del tmp260
    t3new.aaaaaa += np.transpose(tmp259, (2, 0, 1, 4, 5, 3)) * 3
    tmp272 = einsum(tmp20, (0, 1), t3.aaaaaa, (2, 3, 0, 4, 5, 6), (1, 2, 3, 4, 5, 6)) * 3
    t3new.aaaaaa += np.transpose(tmp272, (1, 0, 2, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp266, (2, 0, 1, 4, 3, 5)) * -1
    del tmp266
    t3new.aaaaaa += np.transpose(tmp271, (2, 0, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp259, (2, 0, 1, 4, 5, 3)) * 3
    t3new.aaaaaa += np.transpose(tmp272, (1, 0, 2, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp259, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp272, (0, 1, 2, 4, 5, 3)) * -1
    tmp273 = np.copy(np.transpose(tmp261, (0, 2, 3, 1, 5, 4)))
    tmp273 += einsum(tmp89, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 1, 6, 7, 3), (0, 4, 2, 5, 6, 7)) * 6
    tmp273 += einsum(t2.aaaa, (0, 1, 2, 3), tmp263, (4, 1, 5, 6), (4, 0, 6, 5, 2, 3)) * 2
    t3new.aaaaaa += einsum(t1.aa, (0, 1), tmp273, (2, 3, 0, 4, 5, 6), (2, 4, 3, 6, 5, 1)) * -1
    del tmp273
    t3new.aaaaaa += np.transpose(tmp271, (0, 2, 1, 5, 4, 3)) * -1
    del tmp271
    t3new.aaaaaa += np.transpose(tmp259, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp272, (0, 1, 2, 4, 5, 3)) * -1
    del tmp272
    tmp274 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 2, 5, 3, 6), (4, 5, 6, 1)) * -1
    tmp280 = np.copy(np.transpose(tmp274, (0, 2, 1, 3))) * -3
    tmp275 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 6, 1, 4), (0, 3, 5, 6))
    tmp280 += np.transpose(tmp275, (0, 2, 1, 3)) * -0.5
    tmp276 = einsum(tmp7, (0, 1), t2.aaaa, (2, 0, 3, 4), (2, 1, 3, 4)) * -1
    tmp280 += np.transpose(tmp276, (0, 3, 2, 1))
    tmp278 = np.copy(tmp68) * 0.5
    tmp277 = einsum(t2.aaaa, (0, 1, 2, 3), tmp70, (1, 4, 3, 5), (4, 0, 5, 2))
    tmp278 += np.transpose(tmp277, (1, 0, 3, 2)) * -1
    tmp279 = einsum(t1.aa, (0, 1), tmp278, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp280 += np.transpose(tmp279, (0, 3, 1, 2)) * -1
    del tmp279
    tmp281 = einsum(tmp280, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6)) * -4
    del tmp280
    t3new.aaaaaa += np.transpose(tmp281, (0, 2, 1, 5, 4, 3)) * -1
    tmp286 = np.copy(np.transpose(v.aaaa.ovoo, (0, 2, 3, 1))) * -1
    tmp282 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 1, 3), (0, 4, 5, 2))
    tmp286 += np.transpose(tmp282, (0, 2, 1, 3)) * -1
    tmp283 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 2, 6, 1, 3), (4, 5, 0, 6))
    tmp286 += np.transpose(tmp283, (0, 2, 1, 3)) * -6
    tmp284 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 1), (4, 5, 0, 6))
    tmp286 += np.transpose(tmp284, (0, 2, 1, 3)) * -2
    tmp286 += np.transpose(tmp39, (1, 0, 2, 3)) * -1
    tmp286 += np.transpose(tmp39, (2, 1, 0, 3))
    tmp285 = einsum(tmp72, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (1, 2, 4, 5)) * 2
    tmp286 += np.transpose(tmp285, (2, 1, 0, 3))
    del tmp285
    tmp287 = einsum(t2.aaaa, (0, 1, 2, 3), tmp286, (4, 1, 5, 6), (4, 5, 0, 6, 2, 3)) * -2
    del tmp286
    t3new.aaaaaa += np.transpose(tmp287, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp281, (2, 0, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp287, (1, 2, 0, 3, 5, 4)) * -1
    tmp288 = np.copy(np.transpose(tmp274, (0, 2, 1, 3))) * -3
    tmp288 += np.transpose(tmp275, (0, 2, 1, 3)) * -0.5
    tmp288 += np.transpose(tmp276, (0, 3, 2, 1))
    del tmp276
    tmp289 = einsum(tmp288, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6)) * -4
    del tmp288
    t3new.aaaaaa += np.transpose(tmp289, (0, 2, 1, 4, 5, 3))
    tmp292 = np.copy(np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)))
    tmp292 += np.transpose(tmp282, (0, 2, 1, 3))
    tmp292 += np.transpose(tmp39, (1, 0, 2, 3))
    tmp292 += np.transpose(tmp39, (2, 1, 0, 3)) * -1
    tmp290 = np.copy(v.aaaa.ooov) * -1
    tmp290 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1))
    tmp291 = einsum(tmp290, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (1, 2, 4, 5)) * 2
    tmp292 += np.transpose(tmp291, (2, 1, 0, 3))
    tmp293 = einsum(t2.aaaa, (0, 1, 2, 3), tmp292, (4, 1, 5, 6), (4, 5, 0, 6, 2, 3)) * -2
    del tmp292
    t3new.aaaaaa += np.transpose(tmp293, (2, 1, 0, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp289, (2, 0, 1, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp293, (1, 2, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp281, (2, 1, 0, 5, 4, 3)) * -1
    del tmp281
    t3new.aaaaaa += np.transpose(tmp287, (1, 0, 2, 3, 5, 4))
    del tmp287
    t3new.aaaaaa += np.transpose(tmp289, (2, 1, 0, 4, 5, 3))
    del tmp289
    t3new.aaaaaa += np.transpose(tmp293, (1, 0, 2, 5, 3, 4))
    del tmp293
    tmp297 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)))
    tmp297 += np.transpose(tmp274, (0, 2, 1, 3)) * -6
    tmp297 += np.transpose(tmp275, (0, 2, 1, 3)) * -1
    tmp294 = einsum(tmp7, (0, 1), t2.aaaa, (2, 0, 3, 4), (2, 1, 3, 4)) * -2
    tmp297 += np.transpose(tmp294, (0, 3, 2, 1))
    del tmp294
    tmp295 = einsum(t1.aa, (0, 1), tmp8, (0, 2, 3, 4), (2, 3, 4, 1))
    tmp297 += np.transpose(tmp295, (0, 3, 2, 1)) * -1
    tmp296 = einsum(tmp243, (0, 1, 2, 3), v.aaaa.ooov, (4, 1, 0, 5), (4, 2, 3, 5))
    del tmp243
    tmp297 += np.transpose(tmp296, (0, 2, 1, 3)) * -1
    del tmp296
    tmp298 = einsum(tmp297, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6)) * -2
    del tmp297
    t3new.aaaaaa += np.transpose(tmp298, (0, 2, 1, 4, 3, 5)) * -1
    tmp299 = np.copy(tmp283) * 3
    tmp299 += tmp284
    tmp300 = einsum(t2.aaaa, (0, 1, 2, 3), tmp299, (4, 5, 1, 6), (4, 5, 0, 6, 2, 3)) * -4
    t3new.aaaaaa += np.transpose(tmp300, (2, 0, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp298, (2, 0, 1, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp300, (0, 2, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp298, (2, 1, 0, 4, 3, 5)) * -1
    del tmp298
    t3new.aaaaaa += np.transpose(tmp300, (0, 1, 2, 5, 4, 3))
    del tmp300
    tmp301 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (4, 0, 2, 5, 6, 3))
    t3new.aaaaaa += np.transpose(tmp301, (0, 2, 1, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp301, (2, 0, 1, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp301, (0, 2, 1, 4, 5, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp301, (2, 0, 1, 4, 5, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp301, (2, 1, 0, 5, 4, 3)) * -2
    tmp302 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp137, (2, 6, 5, 7), (6, 0, 1, 7, 3, 4)) * 6
    t3new.aaaaaa += tmp302
    tmp304 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * 0.5
    tmp304 += tmp76 * -0.5
    del tmp76
    tmp304 += tmp138
    tmp303 = einsum(t2.abab, (0, 1, 2, 3), tmp2, (1, 4, 5, 3), (0, 4, 2, 5)) * 0.5
    del tmp2
    tmp304 += tmp303 * -1
    tmp305 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp304, (6, 1, 7, 4), (6, 0, 2, 7, 3, 5)) * 2
    del tmp304
    t3new.aaaaaa += np.transpose(tmp305, (0, 2, 1, 3, 5, 4))
    tmp306 = einsum(t1.aa, (0, 1), tmp278, (2, 0, 3, 4), (2, 3, 4, 1)) * 2
    del tmp278
    tmp307 = einsum(tmp306, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 3, 1, 6)) * -2
    t3new.aaaaaa += np.transpose(tmp307, (0, 2, 1, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp301, (2, 1, 0, 4, 5, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp302, (0, 1, 2, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp305, (0, 2, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp301, (0, 1, 2, 4, 3, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp301, (0, 2, 1, 4, 3, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp301, (1, 0, 2, 4, 3, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp301, (2, 0, 1, 4, 3, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp301, (1, 2, 0, 4, 3, 5)) * 2
    tmp308 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 7), (4, 5, 0, 6, 7, 1))
    t3new.aaaaaa += np.transpose(tmp308, (2, 1, 0, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp301, (2, 1, 0, 4, 3, 5)) * -2
    del tmp301
    tmp309 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp8, (2, 6, 5, 7), (6, 0, 1, 7, 3, 4)) * 6
    t3new.aaaaaa += np.transpose(tmp309, (0, 1, 2, 4, 5, 3))
    tmp310 = np.copy(v.aaaa.ovvv)
    tmp310 += np.transpose(tmp275, (0, 2, 3, 1))
    tmp310 += np.transpose(tmp295, (0, 2, 1, 3)) * -1
    tmp311 = einsum(tmp310, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 3, 6)) * -2
    del tmp310
    t3new.aaaaaa += np.transpose(tmp311, (2, 1, 0, 4, 3, 5))
    tmp312 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))) * -1
    tmp312 += np.transpose(tmp275, (0, 2, 1, 3))
    tmp312 += np.transpose(tmp295, (0, 3, 2, 1))
    t3new.aaaaaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp312, (4, 5, 6, 3), (0, 4, 1, 5, 6, 2)) * 2
    del tmp312
    tmp313 = np.copy(v.aaaa.ovvv)
    tmp313 += np.transpose(tmp295, (0, 2, 1, 3)) * -1
    tmp314 = einsum(tmp313, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 3, 6)) * -2
    t3new.aaaaaa += np.transpose(tmp314, (2, 1, 0, 4, 5, 3)) * -1
    tmp317 = np.copy(v.aaaa.ovvv)
    tmp315 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp316 = einsum(tmp315, (0, 1, 2, 3), t1.aa, (1, 4), (0, 4, 2, 3))
    del tmp315
    tmp317 += np.transpose(tmp316, (0, 1, 3, 2))
    tmp317 += np.transpose(tmp316, (0, 2, 3, 1)) * -1
    tmp317 += np.transpose(tmp295, (0, 2, 1, 3)) * -1
    tmp318 = einsum(tmp317, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 3, 6)) * -2
    t3new.aaaaaa += np.transpose(tmp318, (2, 1, 0, 3, 5, 4))
    tmp319 = np.copy(tmp283)
    tmp319 += tmp284 * 0.3333333333333333
    tmp320 = einsum(t2.aaaa, (0, 1, 2, 3), tmp319, (4, 5, 1, 6), (4, 5, 0, 6, 2, 3)) * -12
    del tmp319
    t3new.aaaaaa += np.transpose(tmp320, (0, 1, 2, 5, 3, 4)) * -1
    tmp321 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)))
    tmp321 += np.transpose(tmp295, (0, 3, 2, 1)) * -1
    tmp322 = einsum(tmp321, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6)) * -2
    t3new.aaaaaa += np.transpose(tmp322, (2, 0, 1, 3, 5, 4))
    tmp323 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)))
    tmp323 += tmp316 * -1
    tmp323 += np.transpose(tmp316, (0, 2, 1, 3))
    del tmp316
    tmp323 += np.transpose(tmp295, (0, 3, 2, 1)) * -1
    del tmp295
    t3new.aaaaaa += einsum(tmp323, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (4, 0, 5, 2, 6, 1)) * -2
    t3new.aaaaaa += np.transpose(tmp320, (0, 2, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp311, (0, 2, 1, 4, 3, 5))
    del tmp311
    t3new.aaaaaa += np.transpose(tmp314, (0, 2, 1, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp318, (0, 2, 1, 3, 5, 4))
    del tmp318
    t3new.aaaaaa += np.transpose(tmp320, (2, 0, 1, 5, 3, 4)) * -1
    del tmp320
    t3new.aaaaaa += np.transpose(tmp314, (2, 1, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp314, (2, 1, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp322, (2, 0, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp322, (2, 0, 1, 5, 4, 3))
    del tmp322
    t3new.aaaaaa += np.transpose(tmp314, (0, 2, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp314, (0, 2, 1, 5, 3, 4)) * -1
    del tmp314
    t3new.aaaaaa += np.transpose(tmp246, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp246, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp250, (0, 1, 2, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp250, (0, 2, 1, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp246, (1, 0, 2, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp246, (1, 0, 2, 4, 5, 3)) * -3
    del tmp246
    t3new.aaaaaa += np.transpose(tmp250, (1, 0, 2, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp250, (2, 0, 1, 5, 4, 3)) * 2
    del tmp250
    tmp324 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1)))
    tmp324 += v.aaaa.oovv * -1
    tmp324 += np.transpose(tmp68, (1, 0, 2, 3))
    tmp324 += np.transpose(tmp71, (0, 1, 3, 2)) * -1
    tmp324 += np.transpose(tmp73, (1, 0, 3, 2)) * -1
    tmp325 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp324, (2, 6, 7, 5), (6, 0, 1, 7, 3, 4)) * 6
    del tmp324
    t3new.aaaaaa += np.transpose(tmp325, (1, 2, 0, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp305, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp307, (2, 1, 0, 4, 5, 3)) * -1
    tmp326 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp139, (6, 1, 7, 4), (6, 0, 2, 7, 3, 5))
    t3new.aaaaaa += np.transpose(tmp326, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp302, (1, 0, 2, 3, 4, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp305, (2, 0, 1, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp307, (2, 0, 1, 4, 5, 3))
    del tmp307
    t3new.aaaaaa += np.transpose(tmp326, (2, 0, 1, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp325, (1, 2, 0, 4, 3, 5)) * -1
    del tmp325
    t3new.aaaaaa += np.transpose(tmp305, (2, 1, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp326, (2, 1, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp302, (1, 0, 2, 4, 3, 5))
    del tmp302
    t3new.aaaaaa += np.transpose(tmp305, (2, 0, 1, 5, 3, 4))
    del tmp305
    t3new.aaaaaa += np.transpose(tmp326, (2, 0, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp326, (0, 2, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp326, (0, 2, 1, 5, 3, 4)) * -1
    del tmp326
    t3new.aaaaaa += np.transpose(tmp308, (0, 1, 2, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp309, (1, 2, 0, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp308, (0, 1, 2, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp308, (0, 2, 1, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp309, (1, 0, 2, 4, 5, 3)) * -1
    del tmp309
    t3new.aaaaaa += np.transpose(tmp308, (0, 2, 1, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp308, (2, 1, 0, 4, 3, 5))
    del tmp308
    tmp330 = np.copy(v.aaaa.vvvv) * -1
    tmp327 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (0, 4, 1, 5), (2, 3, 5, 4)) * -1
    tmp330 += np.transpose(tmp327, (3, 1, 2, 0)) * -1
    del tmp327
    tmp328 = np.copy(v.aaaa.ovvv)
    tmp328 += np.transpose(tmp45, (0, 3, 1, 2))
    tmp329 = einsum(tmp328, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4))
    del tmp328
    tmp330 += np.transpose(tmp329, (2, 1, 0, 3))
    del tmp329
    tmp331 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp330, (5, 6, 4, 7), (0, 1, 2, 6, 7, 3)) * 6
    del tmp330
    t3new.aaaaaa += np.transpose(tmp331, (1, 2, 0, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp331, (1, 2, 0, 3, 5, 4)) * -1
    del tmp331
    tmp333 = np.copy(v.aaaa.vvvv)
    tmp332 = einsum(t1.aa, (0, 1), v.aaaa.ovvv, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp333 += np.transpose(tmp332, (3, 2, 1, 0)) * -1
    t3new.aaaaaa += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp333, (5, 6, 4, 7), (0, 1, 2, 3, 6, 7)) * -6
    del tmp333
    tmp334 = einsum(t2.abab, (0, 1, 2, 3), tmp14, (4, 5, 1, 3), (4, 0, 5, 2))
    tmp338 = np.copy(np.transpose(tmp334, (0, 2, 1, 3)))
    tmp335 = einsum(tmp89, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 2, 4, 5)) * 2
    tmp338 += tmp335
    tmp336 = einsum(tmp8, (0, 1, 2, 3), t1.aa, (4, 3), (0, 1, 4, 2))
    tmp338 += np.transpose(tmp336, (2, 1, 0, 3))
    del tmp336
    tmp337 = einsum(t1.aa, (0, 1), tmp263, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp338 += np.transpose(tmp337, (0, 2, 1, 3))
    tmp339 = einsum(t2.aaaa, (0, 1, 2, 3), tmp338, (4, 1, 5, 6), (4, 5, 0, 6, 2, 3)) * -2
    del tmp338
    t3new.aaaaaa += np.transpose(tmp339, (2, 0, 1, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp339, (0, 2, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp339, (2, 0, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp339, (0, 2, 1, 5, 3, 4)) * -1
    tmp340 = np.copy(tmp334)
    tmp340 += np.transpose(tmp335, (0, 2, 1, 3))
    tmp340 += np.transpose(tmp66, (2, 1, 0, 3))
    tmp340 += tmp337
    tmp341 = einsum(t2.aaaa, (0, 1, 2, 3), tmp340, (4, 5, 1, 6), (4, 5, 0, 6, 2, 3)) * -2
    del tmp340
    t3new.aaaaaa += np.transpose(tmp341, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp339, (0, 1, 2, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp341, (2, 1, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp339, (0, 1, 2, 5, 3, 4))
    del tmp339
    t3new.aaaaaa += np.transpose(tmp341, (1, 2, 0, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp341, (1, 0, 2, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp341, (1, 2, 0, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp341, (1, 0, 2, 5, 3, 4)) * -1
    del tmp341
    tmp342 = einsum(t2.aaaa, (0, 1, 2, 3), tmp66, (1, 4, 5, 6), (5, 4, 0, 6, 2, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp342, (2, 0, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp342, (0, 2, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp342, (2, 1, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp342, (0, 1, 2, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp342, (1, 2, 0, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp342, (1, 0, 2, 5, 4, 3))
    del tmp342
    tmp344 = np.copy(np.transpose(tmp267, (0, 2, 1, 3))) * -2
    tmp344 += np.transpose(tmp103, (0, 2, 3, 1))
    tmp344 += np.transpose(tmp103, (0, 3, 2, 1)) * -1
    tmp344 += tmp269
    tmp344 += np.transpose(tmp269, (0, 2, 1, 3)) * -1
    tmp343 = einsum(t1.aa, (0, 1), tmp142, (0, 2, 3, 4), (2, 3, 4, 1)) * -1
    tmp344 += np.transpose(tmp343, (0, 3, 2, 1)) * -1
    t3new.aaaaaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp344, (4, 5, 6, 3), (0, 1, 4, 6, 5, 2)) * -2
    del tmp344
    tmp345 = np.copy(np.transpose(tmp267, (0, 2, 3, 1))) * -2
    tmp345 += np.transpose(tmp103, (0, 2, 1, 3))
    tmp345 += np.transpose(tmp103, (0, 3, 2, 1)) * -1
    tmp345 += np.transpose(tmp269, (0, 1, 3, 2))
    tmp345 += np.transpose(tmp269, (0, 2, 3, 1)) * -1
    tmp345 += np.transpose(tmp343, (0, 3, 1, 2)) * -1
    del tmp343
    tmp346 = einsum(tmp345, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 3, 6)) * -2
    del tmp345
    t3new.aaaaaa += np.transpose(tmp346, (2, 0, 1, 4, 3, 5))
    tmp347 = einsum(tmp13, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 2, 1, 6))
    del tmp13
    tmp348 = einsum(tmp347, (0, 1, 2, 3, 4, 5), t1.aa, (4, 6), (0, 1, 2, 3, 6, 5))
    del tmp347
    tmp349 = einsum(tmp348, (0, 1, 2, 3, 4, 5), t1.aa, (3, 6), (0, 1, 2, 6, 4, 5))
    del tmp348
    t3new.aaaaaa += np.transpose(tmp349, (1, 2, 0, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp349, (1, 2, 0, 4, 5, 3)) * -2
    tmp350 = einsum(tmp103, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 6, 3, 1))
    t3new.aaaaaa += np.transpose(tmp350, (1, 2, 0, 4, 3, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp350, (1, 2, 0, 5, 3, 4)) * -2
    tmp351 = einsum(t2.aaaa, (0, 1, 2, 3), tmp142, (4, 5, 3, 6), (5, 4, 0, 1, 6, 2))
    tmp352 = einsum(t1.aa, (0, 1), tmp351, (2, 0, 3, 4, 5, 6), (2, 4, 3, 6, 5, 1)) * -2
    del tmp351
    t3new.aaaaaa += np.transpose(tmp352, (1, 2, 0, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp349, (1, 0, 2, 3, 5, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp349, (1, 0, 2, 4, 5, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp350, (1, 0, 2, 4, 3, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp350, (1, 0, 2, 5, 3, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp352, (1, 0, 2, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp346, (0, 2, 1, 4, 3, 5)) * -1
    del tmp346
    t3new.aaaaaa += np.transpose(tmp349, (0, 2, 1, 3, 5, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp349, (0, 2, 1, 4, 5, 3)) * 2
    del tmp349
    t3new.aaaaaa += np.transpose(tmp350, (0, 2, 1, 4, 3, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp350, (0, 2, 1, 5, 3, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp352, (0, 2, 1, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp350, (1, 2, 0, 3, 4, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp350, (1, 2, 0, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp352, (1, 2, 0, 3, 4, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp350, (1, 0, 2, 3, 4, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp350, (1, 0, 2, 3, 5, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp352, (1, 0, 2, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp350, (0, 2, 1, 3, 4, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp350, (0, 2, 1, 3, 5, 4)) * -2
    del tmp350
    t3new.aaaaaa += np.transpose(tmp352, (0, 2, 1, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp259, (1, 0, 2, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp259, (1, 0, 2, 4, 5, 3)) * -3
    tmp353 = einsum(t2.aaaa, (0, 1, 2, 3), tmp337, (4, 5, 1, 6), (4, 5, 0, 6, 2, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp353, (2, 0, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp259, (0, 1, 2, 4, 5, 3)) * 3
    t3new.aaaaaa += np.transpose(tmp259, (0, 1, 2, 4, 5, 3)) * 3
    t3new.aaaaaa += np.transpose(tmp353, (0, 2, 1, 5, 4, 3))
    del tmp353
    tmp354 = einsum(t1.aa, (0, 1), tmp239, (2, 3, 0, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp239
    t3new.aaaaaa += np.transpose(tmp354, (0, 1, 2, 5, 4, 3))
    tmp355 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ooov, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp356 = einsum(tmp355, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6))
    t3new.aaaaaa += np.transpose(tmp356, (0, 1, 2, 4, 5, 3)) * -4
    t3new.aaaaaa += np.transpose(tmp354, (0, 2, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp356, (0, 2, 1, 4, 5, 3)) * 4
    t3new.aaaaaa += np.transpose(tmp259, (1, 2, 0, 4, 5, 3)) * 3
    t3new.aaaaaa += np.transpose(tmp259, (1, 2, 0, 4, 5, 3)) * 3
    del tmp259
    t3new.aaaaaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp337, (4, 5, 1, 6), (0, 5, 4, 2, 3, 6)) * 2
    del tmp337
    t3new.aaaaaa += np.transpose(tmp354, (2, 1, 0, 5, 4, 3)) * -1
    del tmp354
    t3new.aaaaaa += np.transpose(tmp356, (2, 1, 0, 4, 5, 3)) * 4
    del tmp356
    tmp357 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp91, (6, 2, 7, 5), (6, 0, 1, 7, 3, 4)) * 6
    t3new.aaaaaa += np.transpose(tmp357, (1, 2, 0, 3, 4, 5)) * -1
    tmp358 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp97, (6, 1, 7, 4), (6, 0, 2, 7, 3, 5))
    t3new.aaaaaa += np.transpose(tmp358, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp358, (2, 1, 0, 3, 5, 4))
    tmp359 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp145, (6, 2, 5, 7), (6, 0, 1, 7, 3, 4)) * 6
    t3new.aaaaaa += np.transpose(tmp359, (1, 0, 2, 3, 4, 5)) * -1
    tmp360 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp95, (6, 1, 7, 4), (6, 0, 2, 7, 3, 5))
    t3new.aaaaaa += np.transpose(tmp360, (2, 0, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp360, (2, 0, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp357, (1, 2, 0, 4, 3, 5))
    del tmp357
    t3new.aaaaaa += np.transpose(tmp358, (2, 1, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp358, (2, 1, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp359, (1, 0, 2, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp360, (2, 0, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp360, (2, 0, 1, 5, 3, 4)) * -1
    del tmp360
    t3new.aaaaaa += tmp359
    t3new.aaaaaa += np.transpose(tmp358, (0, 2, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp358, (0, 2, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp359, (0, 1, 2, 4, 3, 5)) * -1
    del tmp359
    t3new.aaaaaa += np.transpose(tmp358, (0, 2, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp358, (0, 2, 1, 5, 3, 4)) * -1
    del tmp358
    tmp361 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), v.aaaa.ovvv, (6, 4, 7, 5), (0, 1, 2, 6, 3, 7))
    tmp362 = einsum(t1.aa, (0, 1), tmp361, (2, 3, 4, 0, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp361
    t3new.aaaaaa += np.transpose(tmp362, (0, 1, 2, 3, 5, 4)) * -6
    tmp363 = einsum(tmp93, (0, 1, 2, 3), t3.abaaba, (4, 1, 5, 6, 3, 7), (0, 4, 5, 6, 7, 2))
    t3new.aaaaaa += np.transpose(tmp363, (1, 2, 0, 4, 3, 5)) * -1
    tmp364 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp142, (2, 6, 5, 7), (6, 0, 1, 7, 3, 4)) * -6
    t3new.aaaaaa += np.transpose(tmp364, (1, 2, 0, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp363, (1, 2, 0, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp363, (1, 0, 2, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp364, (1, 0, 2, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp363, (1, 0, 2, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp363, (0, 2, 1, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp364, (0, 1, 2, 4, 5, 3))
    del tmp364
    t3new.aaaaaa += np.transpose(tmp363, (0, 2, 1, 4, 3, 5))
    del tmp363
    t3new.aaaaaa += tmp362 * 6
    t3new.aaaaaa += np.transpose(tmp362, (0, 1, 2, 4, 3, 5)) * -6
    del tmp362
    tmp365 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp85, (6, 7, 2, 1), (7, 6, 0, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp365, (2, 1, 0, 4, 5, 3)) * -3
    tmp366 = np.copy(t3.aaaaaa) * -1
    tmp366 += einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (0, 1, 4, 5, 2, 3)) * -1.3333333333333333
    tmp367 = einsum(tmp366, (0, 1, 2, 3, 4, 5), tmp85, (6, 7, 0, 2), (6, 7, 1, 3, 4, 5)) * 3
    del tmp366
    t3new.aaaaaa += np.transpose(tmp367, (2, 1, 0, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp365, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp367, (1, 2, 0, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp365, (0, 1, 2, 4, 5, 3)) * 3
    del tmp365
    t3new.aaaaaa += np.transpose(tmp367, (1, 0, 2, 4, 5, 3)) * -1
    del tmp367
    tmp368 = einsum(tmp275, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (4, 5, 0, 6, 1, 2))
    t3new.aaaaaa += np.transpose(tmp368, (2, 1, 0, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp368, (0, 2, 1, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp368, (2, 1, 0, 5, 3, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp368, (0, 2, 1, 5, 3, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp368, (0, 1, 2, 3, 5, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp368, (0, 1, 2, 5, 3, 4)) * 2
    del tmp368
    tmp369 = np.copy(tmp138) * 2
    tmp369 += tmp77 * -1
    del tmp77
    tmp370 = einsum(tmp369, (0, 1, 2, 3), t3.abaaba, (4, 1, 5, 6, 3, 7), (0, 4, 5, 2, 6, 7))
    del tmp369
    t3new.aaaaaa += np.transpose(tmp370, (2, 1, 0, 5, 4, 3))
    tmp371 = np.copy(tmp68)
    tmp371 += np.transpose(tmp71, (1, 0, 3, 2)) * -1
    tmp372 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp371, (6, 2, 7, 5), (6, 0, 1, 7, 3, 4)) * 6
    t3new.aaaaaa += np.transpose(tmp372, (1, 2, 0, 4, 5, 3))
    tmp373 = np.copy(np.transpose(tmp282, (0, 2, 1, 3)))
    tmp373 += np.transpose(tmp291, (2, 1, 0, 3))
    del tmp291
    tmp374 = einsum(t2.aaaa, (0, 1, 2, 3), tmp373, (4, 1, 5, 6), (4, 5, 0, 6, 2, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp374, (1, 2, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp370, (2, 1, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp370, (2, 0, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp372, (1, 0, 2, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp374, (1, 0, 2, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp370, (2, 0, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp370, (0, 2, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp372, (0, 1, 2, 4, 5, 3))
    del tmp372
    t3new.aaaaaa += np.transpose(tmp374, (0, 1, 2, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp370, (0, 2, 1, 5, 4, 3))
    del tmp370
    tmp376 = np.copy(np.transpose(tmp282, (0, 2, 1, 3))) * 0.5
    tmp375 = einsum(tmp290, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (1, 2, 4, 5))
    tmp376 += np.transpose(tmp375, (2, 1, 0, 3))
    del tmp375
    tmp377 = einsum(t2.aaaa, (0, 1, 2, 3), tmp376, (4, 1, 5, 6), (4, 5, 0, 6, 2, 3)) * -4
    t3new.aaaaaa += np.transpose(tmp377, (2, 0, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp377, (0, 2, 1, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp377, (2, 0, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp377, (0, 2, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp374, (2, 0, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp374, (0, 2, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp377, (0, 1, 2, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp377, (0, 1, 2, 5, 3, 4)) * -1
    del tmp377
    t3new.aaaaaa += np.transpose(tmp374, (2, 1, 0, 5, 4, 3)) * -1
    del tmp374
    tmp378 = np.copy(v.aaaa.ovvv)
    tmp378 += np.transpose(tmp45, (0, 2, 3, 1)) * -1
    tmp379 = einsum(t2.aaaa, (0, 1, 2, 3), tmp378, (4, 2, 3, 5), (4, 0, 1, 5))
    del tmp378
    tmp380 = einsum(t2.aaaa, (0, 1, 2, 3), tmp379, (1, 4, 5, 6), (5, 4, 0, 6, 2, 3)) * -4
    t3new.aaaaaa += np.transpose(tmp380, (2, 0, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp380, (0, 2, 1, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp380, (2, 0, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp380, (0, 2, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp380, (0, 1, 2, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp380, (0, 1, 2, 5, 3, 4)) * -1
    del tmp380
    tmp381 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))) * -1
    tmp381 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp381 += tmp45
    tmp381 += np.transpose(tmp45, (0, 1, 3, 2)) * -1
    tmp382 = einsum(t2.aaaa, (0, 1, 2, 3), tmp381, (1, 4, 5, 3), (0, 4, 5, 2))
    del tmp381
    tmp384 = np.copy(np.transpose(tmp382, (0, 1, 3, 2))) * -1
    del tmp382
    tmp383 = einsum(tmp49, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 1, 2, 5)) * 0.5
    tmp384 += np.transpose(tmp383, (0, 2, 3, 1)) * -1
    del tmp383
    tmp385 = einsum(tmp384, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6)) * -4
    del tmp384
    t3new.aaaaaa += np.transpose(tmp385, (2, 1, 0, 3, 4, 5)) * -1
    tmp386 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)))
    tmp386 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)) * -1
    tmp386 += tmp45 * -1
    tmp386 += np.transpose(tmp45, (0, 1, 3, 2))
    tmp387 = einsum(t2.aaaa, (0, 1, 2, 3), tmp386, (1, 4, 3, 5), (0, 4, 5, 2))
    tmp389 = np.copy(np.transpose(tmp387, (0, 3, 2, 1))) * -1
    del tmp387
    tmp388 = einsum(tmp153, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 1, 2, 5)) * 0.5
    tmp389 += np.transpose(tmp388, (0, 3, 2, 1)) * -1
    del tmp388
    tmp390 = einsum(tmp389, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 3, 6)) * -4
    del tmp389
    t3new.aaaaaa += np.transpose(tmp390, (2, 0, 1, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp385, (2, 1, 0, 4, 3, 5))
    t3new.aaaaaa += np.transpose(tmp390, (2, 0, 1, 3, 4, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp390, (0, 2, 1, 4, 3, 5)) * -1
    t3new.aaaaaa += np.transpose(tmp390, (0, 2, 1, 3, 4, 5))
    t3new.aaaaaa += np.transpose(tmp390, (0, 2, 1, 4, 5, 3))
    t3new.aaaaaa += np.transpose(tmp390, (2, 0, 1, 4, 5, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp390, (0, 2, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp390, (2, 0, 1, 5, 4, 3))
    del tmp390
    t3new.aaaaaa += np.transpose(tmp385, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp385, (2, 1, 0, 5, 3, 4)) * -1
    del tmp385
    tmp391 = einsum(tmp99, (0, 1, 2, 3), t2.aaaa, (4, 2, 5, 6), (0, 1, 4, 5, 6, 3))
    t3new.aaaaaa += np.transpose(tmp391, (2, 1, 0, 4, 3, 5)) * -4
    t3new.aaaaaa += np.transpose(tmp391, (0, 2, 1, 4, 3, 5)) * -4
    t3new.aaaaaa += np.transpose(tmp391, (0, 1, 2, 4, 3, 5)) * 4
    del tmp391
    tmp392 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 5, 1, 3), (0, 2, 4, 5))
    tmp394 = np.copy(np.transpose(tmp392, (0, 1, 3, 2))) * 0.5
    tmp393 = einsum(t2.aaaa, (0, 1, 2, 3), tmp256, (1, 3, 4, 5), (0, 4, 5, 2))
    tmp394 += np.transpose(tmp393, (0, 3, 2, 1)) * -1
    del tmp393
    tmp395 = einsum(tmp394, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 3, 6)) * -4
    del tmp394
    t3new.aaaaaa += np.transpose(tmp395, (2, 1, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp395, (2, 0, 1, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp395, (0, 2, 1, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp395, (0, 2, 1, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp395, (2, 0, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp395, (2, 1, 0, 5, 3, 4)) * -1
    del tmp395
    tmp396 = einsum(t2.aaaa, (0, 1, 2, 3), tmp267, (4, 5, 6, 3), (4, 0, 1, 5, 6, 2)) * -1
    t3new.aaaaaa += np.transpose(tmp396, (1, 2, 0, 4, 5, 3)) * -4
    tmp397 = einsum(t1.aa, (0, 1), tmp261, (2, 3, 4, 0, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp261
    t3new.aaaaaa += np.transpose(tmp397, (1, 2, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp396, (1, 0, 2, 4, 5, 3)) * 4
    t3new.aaaaaa += np.transpose(tmp397, (1, 0, 2, 5, 4, 3)) * -1
    tmp399 = np.copy(tmp334) * 0.5
    tmp398 = einsum(tmp89, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 2, 4, 5))
    tmp399 += np.transpose(tmp398, (0, 2, 1, 3))
    tmp400 = einsum(t2.aaaa, (0, 1, 2, 3), tmp399, (4, 5, 1, 6), (4, 5, 0, 6, 2, 3)) * -4
    del tmp399
    t3new.aaaaaa += np.transpose(tmp400, (2, 1, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp400, (1, 2, 0, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp400, (2, 0, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp400, (1, 0, 2, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp396, (0, 2, 1, 4, 5, 3)) * 4
    del tmp396
    t3new.aaaaaa += np.transpose(tmp397, (0, 2, 1, 5, 4, 3)) * -1
    del tmp397
    t3new.aaaaaa += np.transpose(tmp400, (0, 2, 1, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp400, (0, 1, 2, 5, 4, 3)) * -1
    del tmp400
    tmp401 = einsum(tmp105, (0, 1, 2, 3), t2.aaaa, (4, 2, 5, 6), (1, 0, 4, 3, 5, 6))
    t3new.aaaaaa += np.transpose(tmp401, (2, 0, 1, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (2, 1, 0, 3, 5, 4)) * -2
    tmp402 = einsum(tmp101, (0, 1, 2, 3), t2.aaaa, (4, 2, 5, 6), (0, 1, 4, 5, 6, 3))
    t3new.aaaaaa += np.transpose(tmp402, (2, 0, 1, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (2, 1, 0, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (0, 2, 1, 3, 5, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (1, 2, 0, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (0, 2, 1, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (1, 2, 0, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (2, 0, 1, 5, 3, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (2, 1, 0, 5, 3, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (2, 0, 1, 4, 5, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (2, 1, 0, 4, 5, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (0, 2, 1, 5, 3, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (1, 2, 0, 5, 3, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (0, 2, 1, 4, 5, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (1, 2, 0, 4, 5, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (0, 1, 2, 3, 5, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (1, 0, 2, 3, 5, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (0, 1, 2, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (1, 0, 2, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (0, 1, 2, 5, 3, 4)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (1, 0, 2, 5, 3, 4)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (0, 1, 2, 4, 5, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (1, 0, 2, 4, 5, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp352, (1, 2, 0, 5, 4, 3))
    t3new.aaaaaa += np.transpose(tmp352, (1, 0, 2, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp352, (0, 2, 1, 5, 4, 3)) * -1
    t3new.aaaaaa += np.transpose(tmp402, (2, 0, 1, 4, 3, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (2, 1, 0, 4, 3, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (0, 2, 1, 4, 3, 5)) * -2
    t3new.aaaaaa += np.transpose(tmp402, (1, 2, 0, 4, 3, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp352, (1, 2, 0, 5, 3, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp352, (1, 0, 2, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp352, (1, 2, 0, 3, 5, 4))
    t3new.aaaaaa += np.transpose(tmp352, (1, 0, 2, 3, 5, 4)) * -1
    t3new.aaaaaa += np.transpose(tmp402, (0, 1, 2, 4, 3, 5)) * 2
    t3new.aaaaaa += np.transpose(tmp402, (1, 0, 2, 4, 3, 5)) * -2
    del tmp402
    t3new.aaaaaa += np.transpose(tmp352, (0, 2, 1, 5, 3, 4))
    t3new.aaaaaa += np.transpose(tmp352, (0, 2, 1, 3, 5, 4)) * -1
    del tmp352
    tmp403 = einsum(tmp100, (0, 1, 2, 3), t3.aaaaaa, (4, 3, 2, 5, 6, 7), (1, 0, 4, 5, 7, 6)) * -1
    t3new.aaaaaa += np.transpose(tmp403, (2, 1, 0, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp403, (2, 1, 0, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp401, (2, 0, 1, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (2, 1, 0, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp403, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp403, (0, 2, 1, 4, 5, 3)) * -3
    t3new.aaaaaa += np.transpose(tmp401, (0, 2, 1, 5, 4, 3)) * -2
    t3new.aaaaaa += np.transpose(tmp401, (1, 2, 0, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp403, (0, 1, 2, 4, 5, 3)) * 3
    t3new.aaaaaa += np.transpose(tmp403, (0, 1, 2, 4, 5, 3)) * 3
    del tmp403
    t3new.aaaaaa += np.transpose(tmp401, (0, 1, 2, 5, 4, 3)) * 2
    t3new.aaaaaa += np.transpose(tmp401, (1, 0, 2, 5, 4, 3)) * -2
    del tmp401
    tmp863 = einsum(tmp26, (0, 1), t3.bbbbbb, (2, 3, 0, 4, 5, 6), (2, 3, 1, 4, 5, 6)) * 3
    t3new.bbbbbb = np.copy(np.transpose(tmp863, (0, 1, 2, 4, 5, 3))) * -1
    tmp864 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ovoo, (1, 4, 6, 7), (0, 2, 6, 7, 3, 5))
    tmp866 = np.copy(np.transpose(tmp864, (0, 1, 3, 2, 5, 4))) * -1
    tmp651 = np.copy(v.bbbb.ooov)
    tmp651 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3)) * -1
    tmp865 = einsum(tmp651, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 7, 3), (4, 5, 0, 1, 6, 7)) * 6
    tmp866 += np.transpose(tmp865, (0, 1, 3, 2, 4, 5))
    del tmp865
    tmp867 = einsum(tmp866, (0, 1, 2, 3, 4, 5), t1.bb, (2, 6), (0, 1, 3, 4, 5, 6))
    del tmp866
    t3new.bbbbbb += np.transpose(tmp867, (0, 1, 2, 4, 3, 5))
    tmp868 = np.copy(t2.bbbb) * 2
    tmp868 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (2, 0, 1, 3)) * -1
    tmp868 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    tmp869 = einsum(tmp868, (0, 1, 2, 3), v.bbbb.ooov, (4, 1, 0, 5), (4, 5, 2, 3)) * 0.5
    tmp870 = einsum(tmp869, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 1), (4, 5, 0, 6, 3, 2)) * -4
    del tmp869
    t3new.bbbbbb += np.transpose(tmp870, (1, 0, 2, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp863, (0, 1, 2, 4, 5, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp863, (0, 2, 1, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp867, (0, 2, 1, 4, 3, 5)) * -1
    del tmp867
    t3new.bbbbbb += np.transpose(tmp870, (1, 2, 0, 3, 5, 4)) * -1
    del tmp870
    t3new.bbbbbb += np.transpose(tmp863, (0, 2, 1, 4, 5, 3))
    tmp871 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), v.bbbb.oooo, (6, 1, 7, 2), (0, 6, 7, 3, 4, 5))
    t3new.bbbbbb += np.transpose(tmp871, (1, 2, 0, 4, 5, 3)) * 3
    tmp872 = einsum(tmp182, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 6), (4, 2, 0, 3, 5, 6))
    t3new.bbbbbb += np.transpose(tmp872, (1, 2, 0, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp872, (2, 1, 0, 5, 4, 3)) * -2
    tmp873 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6))
    tmp874 = einsum(tmp873, (0, 1, 2, 3, 4, 5), t1.bb, (4, 6), (0, 1, 2, 3, 6, 5))
    tmp875 = einsum(tmp874, (0, 1, 2, 3, 4, 5), t1.bb, (2, 6), (0, 1, 3, 6, 4, 5))
    del tmp874
    t3new.bbbbbb += np.transpose(tmp875, (2, 1, 0, 5, 3, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp875, (2, 1, 0, 5, 4, 3)) * -2
    del tmp875
    tmp674 = np.copy(tmp114) * 0.5
    tmp674 += tmp115
    tmp673 = einsum(tmp4, (0, 1), t1.bb, (0, 2), (2, 1)) * 0.5
    tmp674 += tmp673
    del tmp673
    t3new.bbbbbb += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp674, (6, 5), (0, 1, 2, 3, 4, 6)) * -12
    tmp877 = np.copy(np.transpose(tmp873, (0, 1, 3, 2, 4, 5)))
    del tmp873
    tmp876 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 3, 1), (4, 5, 6, 0, 2, 7)) * -1
    tmp877 += np.transpose(tmp876, (0, 1, 2, 4, 3, 5)) * 1.5
    t3new.bbbbbb += einsum(tmp877, (0, 1, 2, 3, 4, 5), t2.bbbb, (3, 4, 6, 7), (2, 1, 0, 5, 6, 7)) * 4
    del tmp877
    t3new.bbbbbb += np.transpose(tmp863, (2, 0, 1, 4, 5, 3)) * -1
    tmp878 = np.copy(np.transpose(tmp864, (0, 1, 3, 2, 5, 4))) * -0.16666666666666666
    tmp878 += einsum(t1.bb, (0, 1), tmp876, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6)) * -1
    del tmp876
    tmp878 += einsum(tmp24, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 7, 3), (4, 5, 1, 0, 6, 7))
    t3new.bbbbbb += einsum(tmp878, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (2, 1, 0, 5, 4, 6)) * -6
    del tmp878
    t3new.bbbbbb += np.transpose(tmp871, (1, 2, 0, 4, 5, 3)) * 3
    t3new.bbbbbb += np.transpose(tmp863, (2, 0, 1, 4, 5, 3)) * -1
    del tmp863
    tmp879 = einsum(tmp190, (0, 1), t3.bbbbbb, (2, 3, 4, 5, 6, 0), (2, 3, 4, 5, 6, 1)) * 6
    t3new.bbbbbb += np.transpose(tmp879, (1, 2, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp879, (1, 2, 0, 3, 5, 4))
    del tmp879
    tmp662 = np.copy(f.bb.vv)
    tmp662 += np.transpose(tmp120, (1, 0))
    del tmp120
    tmp662 += tmp122 * -1
    del tmp122
    t3new.bbbbbb += einsum(tmp662, (0, 1), t3.bbbbbb, (2, 3, 4, 5, 6, 0), (2, 3, 4, 5, 6, 1)) * 6
    tmp880 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp195, (6, 7, 2, 1), (6, 0, 7, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp880, (2, 1, 0, 4, 5, 3)) * -3
    tmp881 = einsum(tmp200, (0, 1), t3.bbbbbb, (2, 3, 1, 4, 5, 6), (2, 3, 0, 4, 5, 6)) * 3
    t3new.bbbbbb += np.transpose(tmp881, (0, 1, 2, 4, 5, 3)) * -1
    tmp882 = einsum(tmp27, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 3, 7), (1, 4, 5, 2, 6, 7))
    tmp885 = np.copy(np.transpose(tmp882, (0, 2, 1, 3, 5, 4))) * -1
    tmp883 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp165, (6, 2, 7, 5), (0, 1, 6, 7, 3, 4)) * 6
    tmp885 += np.transpose(tmp883, (2, 0, 1, 3, 4, 5))
    del tmp883
    tmp848 = np.copy(np.transpose(tmp195, (0, 2, 1, 3))) * -1
    tmp848 += np.transpose(tmp195, (0, 3, 2, 1))
    tmp884 = einsum(tmp848, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (4, 0, 1, 2, 5, 6)) * -2
    tmp885 += np.transpose(tmp884, (1, 0, 3, 2, 5, 4))
    del tmp884
    tmp886 = einsum(t1.bb, (0, 1), tmp885, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 6, 1))
    del tmp885
    t3new.bbbbbb += np.transpose(tmp886, (2, 1, 0, 4, 3, 5))
    tmp832 = einsum(t2.bbbb, (0, 1, 2, 3), tmp28, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp887 = np.copy(np.transpose(tmp832, (0, 2, 1, 3))) * -1
    tmp761 = einsum(t1.bb, (0, 1), tmp28, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp762 = einsum(t1.bb, (0, 1), tmp761, (2, 0, 3, 4), (2, 1, 3, 4))
    del tmp761
    tmp887 += tmp762 * 0.5
    tmp887 += np.transpose(tmp762, (0, 2, 1, 3)) * -0.5
    tmp888 = einsum(tmp887, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 6, 1, 2)) * -4
    del tmp887
    t3new.bbbbbb += np.transpose(tmp888, (1, 0, 2, 3, 5, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp880, (2, 1, 0, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp881, (0, 1, 2, 4, 5, 3)) * -1
    del tmp881
    t3new.bbbbbb += np.transpose(tmp880, (2, 0, 1, 4, 5, 3)) * 3
    tmp889 = np.copy(np.transpose(tmp30, (1, 0)))
    del tmp30
    tmp889 += np.transpose(tmp31, (1, 0)) * 2
    del tmp31
    tmp889 += np.transpose(tmp199, (1, 0))
    del tmp199
    tmp890 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp889, (2, 6), (0, 1, 6, 3, 4, 5)) * 3
    del tmp889
    t3new.bbbbbb += np.transpose(tmp890, (0, 2, 1, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp886, (2, 0, 1, 4, 3, 5)) * -1
    del tmp886
    t3new.bbbbbb += np.transpose(tmp888, (1, 2, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp880, (2, 0, 1, 4, 5, 3)) * 3
    t3new.bbbbbb += np.transpose(tmp890, (0, 2, 1, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp880, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp890, (2, 0, 1, 4, 5, 3)) * -1
    tmp891 = np.copy(np.transpose(tmp882, (0, 2, 3, 1, 5, 4)))
    tmp891 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp165, (6, 7, 2, 5), (6, 0, 7, 1, 3, 4)) * 6
    tmp891 += einsum(tmp848, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 6), (0, 4, 3, 2, 5, 6)) * 2
    t3new.bbbbbb += einsum(tmp891, (0, 1, 2, 3, 4, 5), t1.bb, (2, 6), (0, 3, 1, 5, 4, 6)) * -1
    del tmp891
    t3new.bbbbbb += np.transpose(tmp888, (2, 1, 0, 3, 5, 4)) * -1
    del tmp888
    t3new.bbbbbb += np.transpose(tmp880, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp890, (2, 0, 1, 4, 5, 3)) * -1
    del tmp890
    tmp690 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (1, 4, 2, 6), (0, 3, 5, 6))
    tmp894 = np.copy(np.transpose(tmp690, (0, 2, 1, 3))) * -0.16666666666666666
    tmp691 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 3, 6), (4, 5, 6, 1)) * -1
    tmp894 += np.transpose(tmp691, (0, 2, 1, 3)) * -1
    tmp892 = einsum(tmp4, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 3, 4, 1)) * -0.3333333333333333
    tmp894 += np.transpose(tmp892, (0, 2, 1, 3))
    tmp491 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 5), (1, 4, 3, 5))
    tmp722 = np.copy(tmp491)
    tmp722 += np.transpose(tmp214, (1, 0, 3, 2)) * -1
    tmp893 = einsum(tmp722, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 3, 4)) * 0.16666666666666666
    tmp894 += np.transpose(tmp893, (0, 3, 1, 2)) * -1
    del tmp893
    tmp895 = einsum(tmp894, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 6, 1, 2)) * -12
    del tmp894
    t3new.bbbbbb += np.transpose(tmp895, (2, 1, 0, 3, 5, 4)) * -1
    tmp897 = np.copy(np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))) * -1
    tmp686 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 2, 4, 5), (1, 4, 5, 3))
    tmp897 += np.transpose(tmp686, (0, 2, 1, 3)) * -1
    tmp687 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (1, 4, 6, 5), (0, 2, 6, 3))
    tmp897 += np.transpose(tmp687, (0, 2, 1, 3)) * -2
    tmp688 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), v.bbbb.ovov, (6, 4, 2, 5), (0, 1, 6, 3))
    tmp897 += np.transpose(tmp688, (0, 2, 1, 3)) * -6
    tmp897 += np.transpose(tmp182, (1, 0, 2, 3)) * -1
    tmp897 += np.transpose(tmp182, (2, 1, 0, 3))
    tmp896 = einsum(t2.bbbb, (0, 1, 2, 3), tmp210, (4, 5, 1, 3), (0, 4, 5, 2)) * 2
    tmp897 += np.transpose(tmp896, (0, 2, 1, 3))
    del tmp896
    tmp898 = einsum(t2.bbbb, (0, 1, 2, 3), tmp897, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6)) * -2
    del tmp897
    t3new.bbbbbb += np.transpose(tmp898, (0, 2, 1, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp895, (1, 2, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp898, (2, 0, 1, 5, 4, 3)) * -1
    tmp899 = np.copy(np.transpose(tmp690, (0, 2, 1, 3))) * -0.16666666666666666
    tmp899 += np.transpose(tmp691, (0, 2, 1, 3)) * -1
    tmp899 += np.transpose(tmp892, (0, 2, 1, 3))
    del tmp892
    tmp900 = einsum(t2.bbbb, (0, 1, 2, 3), tmp899, (4, 5, 6, 3), (0, 1, 4, 2, 5, 6)) * -12
    del tmp899
    t3new.bbbbbb += np.transpose(tmp900, (2, 1, 0, 5, 3, 4))
    tmp902 = np.copy(np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)))
    tmp902 += np.transpose(tmp686, (0, 2, 1, 3))
    tmp902 += np.transpose(tmp182, (1, 0, 2, 3))
    tmp902 += np.transpose(tmp182, (2, 1, 0, 3)) * -1
    tmp901 = einsum(tmp651, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (4, 0, 1, 5)) * 2
    tmp902 += np.transpose(tmp901, (0, 2, 1, 3))
    tmp903 = einsum(t2.bbbb, (0, 1, 2, 3), tmp902, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6)) * -2
    del tmp902
    t3new.bbbbbb += np.transpose(tmp903, (0, 2, 1, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp900, (1, 2, 0, 5, 3, 4)) * -1
    tmp904 = np.copy(np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))) * 0.5
    tmp904 += np.transpose(tmp686, (0, 2, 1, 3)) * 0.5
    tmp904 += np.transpose(tmp182, (1, 0, 2, 3)) * 0.5
    tmp904 += np.transpose(tmp182, (2, 1, 0, 3)) * -0.5
    tmp799 = einsum(tmp651, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (4, 0, 1, 5))
    tmp904 += np.transpose(tmp799, (0, 2, 1, 3))
    t3new.bbbbbb += einsum(tmp904, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 6), (2, 4, 0, 5, 3, 6)) * -4
    del tmp904
    t3new.bbbbbb += np.transpose(tmp895, (1, 0, 2, 3, 5, 4)) * -1
    del tmp895
    t3new.bbbbbb += np.transpose(tmp898, (2, 1, 0, 5, 4, 3))
    del tmp898
    t3new.bbbbbb += np.transpose(tmp900, (1, 0, 2, 5, 3, 4))
    del tmp900
    t3new.bbbbbb += np.transpose(tmp903, (2, 1, 0, 4, 5, 3))
    del tmp903
    tmp907 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)))
    tmp907 += np.transpose(tmp690, (0, 2, 1, 3)) * -1
    tmp907 += np.transpose(tmp691, (0, 2, 1, 3)) * -6
    tmp905 = einsum(tmp4, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 3, 4, 1)) * -2
    tmp907 += np.transpose(tmp905, (0, 2, 1, 3))
    del tmp905
    tmp708 = einsum(t1.bb, (0, 1), tmp22, (0, 2, 3, 4), (2, 3, 4, 1))
    tmp907 += np.transpose(tmp708, (0, 3, 2, 1)) * -1
    tmp906 = einsum(tmp868, (0, 1, 2, 3), v.bbbb.ooov, (4, 1, 0, 5), (4, 5, 2, 3))
    del tmp868
    tmp907 += np.transpose(tmp906, (0, 3, 2, 1)) * -1
    del tmp906
    tmp908 = einsum(tmp907, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 6, 1, 2)) * -2
    del tmp907
    t3new.bbbbbb += np.transpose(tmp908, (2, 1, 0, 5, 4, 3)) * -1
    tmp700 = np.copy(tmp687) * 0.3333333333333333
    tmp700 += tmp688
    tmp909 = einsum(t2.bbbb, (0, 1, 2, 3), tmp700, (4, 5, 1, 6), (0, 4, 5, 2, 3, 6)) * -12
    t3new.bbbbbb += np.transpose(tmp909, (0, 1, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp908, (1, 2, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp909, (1, 0, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp908, (1, 0, 2, 5, 4, 3)) * -1
    del tmp908
    t3new.bbbbbb += np.transpose(tmp909, (1, 2, 0, 4, 3, 5))
    del tmp909
    tmp910 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ooov, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6))
    t3new.bbbbbb += np.transpose(tmp910, (0, 2, 1, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp910, (2, 0, 1, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp910, (0, 2, 1, 4, 5, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp910, (2, 0, 1, 4, 5, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp910, (2, 1, 0, 5, 4, 3)) * -2
    tmp913 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3))) * 0.5
    tmp913 += v.bbbb.oovv * -0.5
    tmp913 += np.transpose(tmp491, (1, 0, 3, 2)) * 0.5
    tmp911 = einsum(t2.bbbb, (0, 1, 2, 3), tmp82, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp913 += np.transpose(tmp911, (1, 0, 3, 2))
    del tmp911
    tmp912 = einsum(tmp146, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * 0.5
    tmp913 += np.transpose(tmp912, (1, 0, 2, 3))
    del tmp912
    tmp914 = einsum(tmp913, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 2), (4, 5, 1, 6, 7, 3)) * 12
    del tmp913
    t3new.bbbbbb += np.transpose(tmp914, (2, 0, 1, 5, 3, 4))
    tmp495 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp495 += tmp133 * -1
    tmp495 += tmp204 * 2
    tmp495 += tmp208
    tmp915 = einsum(tmp495, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 2, 7), (1, 4, 5, 3, 6, 7))
    t3new.bbbbbb += np.transpose(tmp915, (0, 2, 1, 3, 5, 4))
    tmp723 = einsum(tmp722, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 3, 4)) * 0.5
    del tmp722
    tmp916 = einsum(t2.bbbb, (0, 1, 2, 3), tmp723, (4, 5, 3, 6), (0, 1, 4, 2, 6, 5)) * -4
    t3new.bbbbbb += np.transpose(tmp916, (2, 1, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp910, (2, 1, 0, 4, 5, 3)) * 2
    tmp493 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp493 += v.bbbb.oovv * -1
    tmp493 += np.transpose(tmp491, (1, 0, 3, 2))
    tmp492 = einsum(t2.bbbb, (0, 1, 2, 3), tmp82, (1, 4, 5, 3), (0, 4, 2, 5)) * 2
    del tmp82
    tmp493 += np.transpose(tmp492, (1, 0, 3, 2))
    del tmp492
    tmp493 += np.transpose(tmp147, (1, 0, 2, 3))
    del tmp147
    tmp917 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp493, (2, 6, 5, 7), (0, 1, 6, 3, 4, 7)) * 6
    t3new.bbbbbb += np.transpose(tmp917, (2, 0, 1, 3, 5, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp915, (0, 2, 1, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp910, (0, 1, 2, 4, 3, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp910, (0, 2, 1, 4, 3, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp910, (1, 0, 2, 4, 3, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp910, (2, 0, 1, 4, 3, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp910, (1, 2, 0, 4, 3, 5)) * 2
    tmp918 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 2, 6, 7, 3))
    t3new.bbbbbb += np.transpose(tmp918, (2, 1, 0, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp910, (2, 1, 0, 4, 3, 5)) * -2
    del tmp910
    tmp919 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp22, (2, 6, 5, 7), (0, 1, 6, 3, 4, 7)) * 6
    t3new.bbbbbb += np.transpose(tmp919, (2, 0, 1, 3, 4, 5))
    tmp920 = np.copy(v.bbbb.ovvv)
    tmp920 += np.transpose(tmp690, (0, 2, 3, 1))
    tmp920 += np.transpose(tmp708, (0, 2, 1, 3)) * -1
    tmp921 = einsum(t2.bbbb, (0, 1, 2, 3), tmp920, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6)) * -2
    del tmp920
    t3new.bbbbbb += np.transpose(tmp921, (1, 0, 2, 5, 4, 3))
    tmp922 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))) * -1
    tmp922 += np.transpose(tmp690, (0, 2, 1, 3))
    tmp922 += np.transpose(tmp708, (0, 3, 2, 1))
    t3new.bbbbbb += einsum(t2.bbbb, (0, 1, 2, 3), tmp922, (4, 5, 6, 3), (0, 4, 1, 5, 6, 2)) * 2
    del tmp922
    tmp716 = np.copy(v.bbbb.ovvv)
    tmp716 += np.transpose(tmp708, (0, 2, 1, 3)) * -1
    tmp923 = einsum(tmp716, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (4, 5, 0, 6, 1, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp923, (1, 0, 2, 5, 3, 4)) * -1
    tmp717 = np.copy(v.bbbb.ovvv)
    tmp711 = einsum(t1.bb, (0, 1), v.bbbb.ooov, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp712 = einsum(t1.bb, (0, 1), tmp711, (2, 0, 3, 4), (2, 1, 3, 4))
    del tmp711
    tmp717 += np.transpose(tmp712, (0, 1, 3, 2))
    tmp717 += np.transpose(tmp712, (0, 2, 3, 1)) * -1
    tmp717 += np.transpose(tmp708, (0, 2, 1, 3)) * -1
    tmp924 = einsum(t2.bbbb, (0, 1, 2, 3), tmp717, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6)) * -2
    t3new.bbbbbb += np.transpose(tmp924, (1, 0, 2, 4, 3, 5))
    tmp925 = np.copy(tmp687)
    tmp925 += tmp688 * 3
    tmp926 = einsum(tmp925, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (4, 0, 1, 5, 6, 3)) * -4
    del tmp925
    t3new.bbbbbb += np.transpose(tmp926, (1, 2, 0, 4, 5, 3)) * -1
    tmp709 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)))
    tmp709 += np.transpose(tmp708, (0, 3, 2, 1)) * -1
    tmp927 = einsum(t2.bbbb, (0, 1, 2, 3), tmp709, (4, 5, 6, 3), (0, 1, 4, 2, 5, 6)) * -2
    t3new.bbbbbb += np.transpose(tmp927, (1, 2, 0, 4, 3, 5))
    tmp713 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)))
    tmp713 += tmp712 * -1
    tmp713 += np.transpose(tmp712, (0, 2, 1, 3))
    del tmp712
    tmp713 += np.transpose(tmp708, (0, 3, 2, 1)) * -1
    del tmp708
    t3new.bbbbbb += einsum(tmp713, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 0, 5, 2, 6, 1)) * -2
    t3new.bbbbbb += np.transpose(tmp926, (1, 0, 2, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp921, (2, 1, 0, 5, 4, 3))
    del tmp921
    t3new.bbbbbb += np.transpose(tmp923, (2, 1, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp924, (2, 1, 0, 4, 3, 5))
    del tmp924
    t3new.bbbbbb += np.transpose(tmp926, (0, 1, 2, 4, 5, 3)) * -1
    del tmp926
    t3new.bbbbbb += np.transpose(tmp923, (1, 0, 2, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp923, (1, 0, 2, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp927, (1, 2, 0, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp927, (1, 2, 0, 3, 5, 4))
    del tmp927
    t3new.bbbbbb += np.transpose(tmp923, (2, 1, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp923, (2, 1, 0, 3, 4, 5)) * -1
    del tmp923
    t3new.bbbbbb += np.transpose(tmp871, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp871, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp872, (0, 1, 2, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp872, (0, 2, 1, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp871, (1, 0, 2, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp871, (1, 0, 2, 4, 5, 3)) * -3
    del tmp871
    t3new.bbbbbb += np.transpose(tmp872, (1, 0, 2, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp872, (2, 0, 1, 5, 4, 3)) * 2
    del tmp872
    tmp928 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1))) * 0.5
    tmp928 += v.bbbb.oovv * -0.5
    tmp928 += np.transpose(tmp491, (1, 0, 2, 3)) * 0.5
    tmp928 += np.transpose(tmp206, (0, 1, 3, 2)) * -1
    tmp928 += einsum(t1.bb, (0, 1), tmp210, (2, 3, 0, 4), (3, 2, 1, 4)) * -0.5
    t3new.bbbbbb += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp928, (2, 6, 7, 5), (0, 1, 6, 7, 3, 4)) * 12
    del tmp928
    t3new.bbbbbb += np.transpose(tmp915, (2, 1, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp916, (1, 0, 2, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp915, (2, 1, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp914, (0, 2, 1, 5, 3, 4)) * -1
    del tmp914
    t3new.bbbbbb += np.transpose(tmp915, (2, 0, 1, 3, 5, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp916, (1, 2, 0, 5, 3, 4))
    del tmp916
    t3new.bbbbbb += np.transpose(tmp915, (2, 0, 1, 3, 5, 4)) * -1
    tmp929 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1)))
    tmp929 += v.bbbb.oovv * -1
    tmp929 += np.transpose(tmp491, (1, 0, 2, 3))
    tmp929 += np.transpose(tmp214, (0, 1, 3, 2)) * -1
    tmp929 += np.transpose(tmp211, (1, 0, 3, 2)) * -1
    del tmp211
    t3new.bbbbbb += einsum(tmp929, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 3), (4, 5, 1, 6, 2, 7)) * -6
    del tmp929
    t3new.bbbbbb += np.transpose(tmp915, (2, 1, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp915, (2, 1, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp917, (0, 2, 1, 3, 5, 4))
    del tmp917
    t3new.bbbbbb += np.transpose(tmp915, (2, 0, 1, 5, 3, 4))
    t3new.bbbbbb += np.transpose(tmp915, (2, 0, 1, 5, 3, 4))
    t3new.bbbbbb += np.transpose(tmp915, (0, 2, 1, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp915, (0, 2, 1, 5, 3, 4)) * -1
    del tmp915
    t3new.bbbbbb += np.transpose(tmp918, (0, 1, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += tmp919
    t3new.bbbbbb += np.transpose(tmp918, (0, 1, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp918, (0, 2, 1, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp919, (0, 2, 1, 3, 4, 5)) * -1
    del tmp919
    t3new.bbbbbb += np.transpose(tmp918, (0, 2, 1, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp918, (2, 1, 0, 4, 3, 5))
    del tmp918
    tmp933 = np.copy(v.bbbb.vvvv) * -1
    tmp930 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t2.bbbb, (0, 2, 4, 5), (4, 5, 3, 1)) * -1
    tmp933 += np.transpose(tmp930, (3, 1, 2, 0)) * -1
    del tmp930
    tmp931 = np.copy(v.bbbb.ovvv)
    tmp931 += np.transpose(tmp155, (0, 3, 1, 2))
    tmp932 = einsum(tmp931, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4))
    del tmp931
    tmp933 += np.transpose(tmp932, (2, 1, 0, 3))
    del tmp932
    tmp934 = einsum(tmp933, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 2, 0), (4, 5, 6, 7, 1, 3)) * 6
    del tmp933
    t3new.bbbbbb += np.transpose(tmp934, (1, 2, 0, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp934, (1, 2, 0, 4, 3, 5)) * -1
    del tmp934
    tmp935 = np.copy(v.bbbb.vvvv)
    tmp731 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t1.bb, (0, 4), (4, 1, 2, 3))
    tmp935 += np.transpose(tmp731, (3, 2, 1, 0)) * -1
    t3new.bbbbbb += einsum(tmp935, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 2, 0), (4, 5, 6, 7, 1, 3)) * -6
    del tmp935
    tmp737 = einsum(tmp27, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 4, 2, 5))
    tmp939 = np.copy(np.transpose(tmp737, (0, 2, 1, 3)))
    tmp936 = einsum(t2.bbbb, (0, 1, 2, 3), tmp165, (4, 5, 1, 3), (0, 4, 5, 2)) * 2
    tmp939 += np.transpose(tmp936, (1, 2, 0, 3))
    del tmp936
    tmp937 = einsum(tmp22, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 4, 2))
    tmp939 += np.transpose(tmp937, (2, 1, 0, 3))
    del tmp937
    tmp938 = einsum(tmp848, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 3, 4))
    tmp939 += np.transpose(tmp938, (0, 2, 1, 3))
    tmp940 = einsum(t2.bbbb, (0, 1, 2, 3), tmp939, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6)) * -2
    del tmp939
    t3new.bbbbbb += np.transpose(tmp940, (0, 1, 2, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp940, (1, 0, 2, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp940, (0, 1, 2, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp940, (1, 0, 2, 4, 5, 3)) * -1
    tmp741 = np.copy(tmp737)
    tmp738 = einsum(t2.bbbb, (0, 1, 2, 3), tmp222, (4, 1, 5, 3), (0, 4, 5, 2)) * 2
    tmp741 += np.transpose(tmp738, (1, 0, 2, 3))
    del tmp738
    tmp741 += np.transpose(tmp202, (2, 1, 0, 3))
    tmp739 = np.copy(np.transpose(tmp195, (0, 2, 1, 3)))
    tmp739 += np.transpose(tmp195, (0, 3, 2, 1)) * -1
    tmp740 = einsum(t1.bb, (0, 1), tmp739, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp741 += np.transpose(tmp740, (0, 2, 1, 3))
    tmp941 = einsum(t2.bbbb, (0, 1, 2, 3), tmp741, (4, 5, 1, 6), (0, 4, 5, 2, 3, 6)) * -2
    t3new.bbbbbb += np.transpose(tmp941, (0, 2, 1, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp940, (1, 2, 0, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp941, (0, 2, 1, 4, 5, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp940, (1, 2, 0, 4, 5, 3))
    del tmp940
    t3new.bbbbbb += np.transpose(tmp941, (2, 0, 1, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp941, (2, 1, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp941, (2, 0, 1, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp941, (2, 1, 0, 4, 5, 3)) * -1
    del tmp941
    tmp942 = einsum(t2.bbbb, (0, 1, 2, 3), tmp202, (1, 4, 5, 6), (0, 5, 4, 2, 3, 6)) * -2
    t3new.bbbbbb += np.transpose(tmp942, (0, 1, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp942, (1, 0, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp942, (0, 2, 1, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp942, (1, 2, 0, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp942, (2, 0, 1, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp942, (2, 1, 0, 4, 3, 5))
    del tmp942
    tmp944 = np.copy(np.transpose(tmp832, (0, 2, 1, 3))) * -2
    tmp944 += np.transpose(tmp231, (0, 2, 3, 1))
    tmp944 += np.transpose(tmp231, (0, 3, 2, 1)) * -1
    tmp944 += tmp762
    tmp944 += np.transpose(tmp762, (0, 2, 1, 3)) * -1
    tmp943 = einsum(t1.bb, (0, 1), tmp164, (0, 2, 3, 4), (2, 3, 4, 1)) * -1
    tmp944 += np.transpose(tmp943, (0, 3, 2, 1)) * -1
    t3new.bbbbbb += einsum(tmp944, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 2, 1, 6)) * -2
    del tmp944
    tmp945 = np.copy(np.transpose(tmp832, (0, 2, 3, 1))) * -2
    tmp945 += np.transpose(tmp231, (0, 2, 1, 3))
    tmp945 += np.transpose(tmp231, (0, 3, 2, 1)) * -1
    tmp945 += np.transpose(tmp762, (0, 1, 3, 2))
    tmp945 += np.transpose(tmp762, (0, 2, 3, 1)) * -1
    tmp945 += np.transpose(tmp943, (0, 3, 1, 2)) * -1
    del tmp943
    tmp946 = einsum(t2.bbbb, (0, 1, 2, 3), tmp945, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6)) * -2
    del tmp945
    t3new.bbbbbb += np.transpose(tmp946, (1, 2, 0, 5, 4, 3))
    tmp947 = einsum(t2.bbbb, (0, 1, 2, 3), tmp231, (4, 5, 3, 6), (4, 0, 1, 2, 6, 5))
    t3new.bbbbbb += np.transpose(tmp947, (1, 2, 0, 4, 3, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp947, (1, 2, 0, 5, 3, 4)) * -2
    tmp948 = einsum(t2.bbbb, (0, 1, 2, 3), tmp28, (4, 5, 6, 3), (4, 0, 1, 6, 5, 2))
    del tmp28
    tmp949 = einsum(t1.bb, (0, 1), tmp948, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    del tmp948
    tmp950 = einsum(t1.bb, (0, 1), tmp949, (2, 3, 4, 0, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp949
    t3new.bbbbbb += np.transpose(tmp950, (1, 2, 0, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp950, (1, 2, 0, 4, 5, 3)) * -2
    tmp951 = einsum(t2.bbbb, (0, 1, 2, 3), tmp164, (4, 5, 3, 6), (0, 1, 5, 4, 2, 6))
    tmp952 = einsum(t1.bb, (0, 1), tmp951, (2, 3, 4, 0, 5, 6), (4, 3, 2, 5, 6, 1)) * -2
    del tmp951
    t3new.bbbbbb += np.transpose(tmp952, (1, 2, 0, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp947, (1, 0, 2, 4, 3, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp947, (1, 0, 2, 5, 3, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp950, (1, 0, 2, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp950, (1, 0, 2, 4, 5, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp952, (1, 0, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp946, (2, 1, 0, 5, 4, 3)) * -1
    del tmp946
    t3new.bbbbbb += np.transpose(tmp947, (0, 2, 1, 4, 3, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp947, (0, 2, 1, 5, 3, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp950, (0, 2, 1, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp950, (0, 2, 1, 4, 5, 3)) * 2
    del tmp950
    t3new.bbbbbb += np.transpose(tmp952, (0, 2, 1, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp947, (1, 2, 0, 3, 4, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp947, (1, 2, 0, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp952, (1, 2, 0, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp947, (1, 0, 2, 3, 4, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp947, (1, 0, 2, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp952, (1, 0, 2, 3, 4, 5))
    t3new.bbbbbb += np.transpose(tmp947, (0, 2, 1, 3, 4, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp947, (0, 2, 1, 3, 5, 4)) * -2
    del tmp947
    t3new.bbbbbb += np.transpose(tmp952, (0, 2, 1, 3, 4, 5))
    t3new.bbbbbb += np.transpose(tmp880, (1, 0, 2, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp880, (1, 0, 2, 4, 5, 3)) * -3
    tmp953 = einsum(tmp938, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (4, 0, 1, 5, 6, 3)) * -2
    del tmp938
    t3new.bbbbbb += np.transpose(tmp953, (0, 1, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp880, (0, 1, 2, 4, 5, 3)) * 3
    t3new.bbbbbb += np.transpose(tmp880, (0, 1, 2, 4, 5, 3)) * 3
    t3new.bbbbbb += np.transpose(tmp953, (1, 0, 2, 4, 3, 5))
    del tmp953
    tmp954 = einsum(tmp864, (0, 1, 2, 3, 4, 5), t1.bb, (2, 6), (0, 1, 3, 6, 4, 5))
    del tmp864
    t3new.bbbbbb += np.transpose(tmp954, (0, 1, 2, 5, 4, 3))
    tmp676 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ooov, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp955 = einsum(t2.bbbb, (0, 1, 2, 3), tmp676, (4, 5, 6, 3), (0, 1, 4, 5, 6, 2))
    t3new.bbbbbb += np.transpose(tmp955, (0, 1, 2, 4, 5, 3)) * -4
    t3new.bbbbbb += np.transpose(tmp954, (0, 2, 1, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp955, (0, 2, 1, 4, 5, 3)) * 4
    t3new.bbbbbb += np.transpose(tmp880, (1, 2, 0, 4, 5, 3)) * 3
    t3new.bbbbbb += np.transpose(tmp880, (1, 2, 0, 4, 5, 3)) * 3
    del tmp880
    t3new.bbbbbb += einsum(t2.bbbb, (0, 1, 2, 3), tmp740, (4, 1, 5, 6), (0, 5, 4, 2, 3, 6)) * 2
    del tmp740
    t3new.bbbbbb += np.transpose(tmp954, (2, 1, 0, 5, 4, 3)) * -1
    del tmp954
    t3new.bbbbbb += np.transpose(tmp955, (2, 1, 0, 4, 5, 3)) * 4
    del tmp955
    tmp956 = einsum(tmp224, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 1, 6, 7, 3), (4, 5, 0, 6, 7, 2)) * 6
    t3new.bbbbbb += np.transpose(tmp956, (0, 1, 2, 5, 3, 4)) * -1
    tmp957 = einsum(tmp168, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 2, 7), (1, 4, 5, 3, 6, 7))
    t3new.bbbbbb += np.transpose(tmp957, (2, 1, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp957, (2, 1, 0, 3, 5, 4))
    tmp958 = einsum(tmp167, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 1, 6, 7, 2), (4, 5, 0, 6, 7, 3)) * 6
    t3new.bbbbbb += np.transpose(tmp958, (0, 2, 1, 5, 3, 4)) * -1
    tmp959 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp226, (1, 6, 4, 7), (6, 0, 2, 7, 3, 5))
    t3new.bbbbbb += np.transpose(tmp959, (2, 0, 1, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp959, (2, 0, 1, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp956, (0, 1, 2, 3, 5, 4))
    del tmp956
    t3new.bbbbbb += np.transpose(tmp957, (2, 1, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp957, (2, 1, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp958, (0, 2, 1, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp959, (2, 0, 1, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp959, (2, 0, 1, 5, 3, 4)) * -1
    del tmp959
    t3new.bbbbbb += np.transpose(tmp958, (2, 0, 1, 5, 3, 4))
    t3new.bbbbbb += np.transpose(tmp957, (0, 2, 1, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp957, (0, 2, 1, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp958, (2, 0, 1, 3, 5, 4)) * -1
    del tmp958
    t3new.bbbbbb += np.transpose(tmp957, (0, 2, 1, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp957, (0, 2, 1, 5, 3, 4)) * -1
    del tmp957
    tmp960 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 1, 3), (4, 5, 6, 0, 7, 2))
    tmp961 = einsum(tmp960, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (0, 1, 2, 6, 4, 5))
    del tmp960
    t3new.bbbbbb += np.transpose(tmp961, (0, 1, 2, 3, 5, 4)) * -6
    tmp962 = einsum(tmp125, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 2, 7), (1, 4, 5, 6, 7, 3))
    t3new.bbbbbb += np.transpose(tmp962, (1, 2, 0, 4, 3, 5)) * -1
    tmp963 = einsum(tmp164, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 2), (4, 5, 1, 6, 7, 3)) * -6
    t3new.bbbbbb += tmp963
    t3new.bbbbbb += np.transpose(tmp962, (1, 2, 0, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp962, (1, 0, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp963, (0, 2, 1, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp962, (1, 0, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp962, (0, 2, 1, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp963, (2, 0, 1, 3, 4, 5))
    del tmp963
    t3new.bbbbbb += np.transpose(tmp962, (0, 2, 1, 4, 3, 5))
    del tmp962
    t3new.bbbbbb += tmp961 * 6
    t3new.bbbbbb += np.transpose(tmp961, (0, 1, 2, 4, 3, 5)) * -6
    del tmp961
    tmp964 = einsum(tmp219, (0, 1, 2, 3), t3.bbbbbb, (4, 3, 2, 5, 6, 7), (1, 0, 4, 5, 6, 7))
    t3new.bbbbbb += np.transpose(tmp964, (2, 1, 0, 4, 5, 3)) * -3
    tmp965 = np.copy(t3.bbbbbb) * -1
    tmp965 += einsum(t1.bb, (0, 1), t2.bbbb, (2, 3, 4, 5), (2, 3, 0, 1, 4, 5)) * -1.3333333333333333
    tmp966 = einsum(tmp219, (0, 1, 2, 3), tmp965, (2, 4, 3, 5, 6, 7), (0, 1, 4, 5, 6, 7)) * 3
    del tmp965
    t3new.bbbbbb += np.transpose(tmp966, (2, 1, 0, 4, 5, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp964, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp966, (1, 2, 0, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp964, (0, 1, 2, 4, 5, 3)) * 3
    del tmp964
    t3new.bbbbbb += np.transpose(tmp966, (1, 0, 2, 4, 5, 3)) * -1
    del tmp966
    tmp967 = einsum(t2.bbbb, (0, 1, 2, 3), tmp690, (4, 5, 6, 3), (0, 1, 4, 2, 6, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp967, (2, 1, 0, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp967, (0, 2, 1, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp967, (2, 1, 0, 5, 3, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp967, (0, 2, 1, 5, 3, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp967, (0, 1, 2, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp967, (0, 1, 2, 5, 3, 4)) * 2
    del tmp967
    tmp797 = np.copy(tmp491) * 0.5
    tmp797 += np.transpose(tmp206, (1, 0, 3, 2)) * -1
    del tmp206
    tmp968 = einsum(tmp797, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 1, 6, 7, 3), (4, 5, 0, 6, 7, 2)) * 12
    t3new.bbbbbb += tmp968
    tmp793 = np.copy(tmp204)
    tmp719 = einsum(tmp70, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 4, 2, 5)) * 0.5
    del tmp70
    tmp793 += tmp719
    tmp969 = einsum(tmp793, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 2, 7), (1, 4, 5, 3, 6, 7)) * 2
    t3new.bbbbbb += np.transpose(tmp969, (2, 1, 0, 5, 4, 3))
    tmp800 = np.copy(np.transpose(tmp686, (0, 2, 1, 3))) * 0.5
    tmp800 += np.transpose(tmp799, (0, 2, 1, 3))
    del tmp799
    tmp970 = einsum(tmp800, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 6), (4, 0, 2, 5, 6, 3)) * -4
    t3new.bbbbbb += np.transpose(tmp970, (2, 0, 1, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp969, (2, 1, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp968, (0, 2, 1, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp969, (2, 0, 1, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp970, (2, 1, 0, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp969, (2, 0, 1, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp968, (2, 0, 1, 3, 4, 5))
    del tmp968
    t3new.bbbbbb += np.transpose(tmp969, (0, 2, 1, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp970, (1, 2, 0, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp969, (0, 2, 1, 5, 4, 3))
    del tmp969
    t3new.bbbbbb += np.transpose(tmp970, (0, 1, 2, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp970, (1, 0, 2, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp970, (0, 1, 2, 4, 5, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp970, (1, 0, 2, 4, 5, 3))
    tmp971 = np.copy(np.transpose(tmp686, (0, 2, 1, 3)))
    tmp971 += np.transpose(tmp901, (0, 2, 1, 3))
    del tmp901
    tmp972 = einsum(tmp971, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 6), (4, 0, 2, 5, 6, 3)) * -2
    del tmp971
    t3new.bbbbbb += np.transpose(tmp972, (0, 1, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp972, (1, 0, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp970, (1, 2, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp970, (1, 2, 0, 4, 5, 3)) * -1
    del tmp970
    t3new.bbbbbb += np.transpose(tmp972, (0, 2, 1, 4, 3, 5)) * -1
    del tmp972
    tmp809 = np.copy(v.bbbb.ovvv)
    tmp809 += np.transpose(tmp155, (0, 2, 3, 1)) * -1
    tmp810 = einsum(tmp809, (0, 1, 2, 3), t2.bbbb, (4, 5, 1, 2), (4, 5, 0, 3))
    del tmp809
    tmp973 = einsum(t2.bbbb, (0, 1, 2, 3), tmp810, (4, 5, 1, 6), (0, 5, 4, 2, 3, 6)) * -4
    t3new.bbbbbb += np.transpose(tmp973, (0, 1, 2, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp973, (1, 0, 2, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp973, (0, 1, 2, 4, 5, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp973, (1, 0, 2, 4, 5, 3))
    t3new.bbbbbb += np.transpose(tmp973, (1, 2, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp973, (1, 2, 0, 4, 5, 3)) * -1
    del tmp973
    tmp821 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))) * -1
    tmp821 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1))
    tmp821 += tmp155
    tmp821 += np.transpose(tmp155, (0, 1, 3, 2)) * -1
    tmp974 = einsum(tmp821, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 3), (4, 5, 1, 2)) * 2
    tmp976 = np.copy(np.transpose(tmp974, (0, 2, 1, 3))) * -1
    tmp975 = einsum(tmp119, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5))
    tmp976 += np.transpose(tmp975, (0, 2, 3, 1)) * -1
    del tmp975
    tmp977 = einsum(t2.bbbb, (0, 1, 2, 3), tmp976, (4, 5, 6, 3), (0, 1, 4, 2, 5, 6)) * -2
    del tmp976
    t3new.bbbbbb += np.transpose(tmp977, (1, 0, 2, 4, 5, 3)) * -1
    tmp979 = np.copy(np.transpose(tmp974, (0, 1, 3, 2))) * -1
    del tmp974
    tmp604 = np.copy(v.aabb.ovvv)
    tmp604 += tmp118 * -1
    tmp978 = einsum(tmp604, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5))
    tmp979 += np.transpose(tmp978, (0, 3, 2, 1)) * -1
    del tmp978
    tmp980 = einsum(t2.bbbb, (0, 1, 2, 3), tmp979, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6)) * -2
    del tmp979
    t3new.bbbbbb += np.transpose(tmp980, (1, 2, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp977, (1, 0, 2, 5, 4, 3))
    del tmp977
    t3new.bbbbbb += np.transpose(tmp980, (1, 2, 0, 4, 5, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp980, (2, 1, 0, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp980, (2, 1, 0, 4, 5, 3))
    del tmp980
    tmp822 = einsum(tmp821, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 3), (4, 5, 1, 2))
    del tmp821
    tmp823 = np.copy(np.transpose(tmp822, (0, 1, 3, 2))) * -1
    tmp815 = einsum(tmp604, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5)) * 0.5
    tmp823 += np.transpose(tmp815, (0, 3, 2, 1)) * -1
    tmp981 = einsum(tmp823, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (4, 5, 0, 6, 1, 3)) * -4
    t3new.bbbbbb += np.transpose(tmp981, (2, 1, 0, 5, 3, 4))
    t3new.bbbbbb += np.transpose(tmp981, (1, 2, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp981, (2, 1, 0, 3, 5, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp981, (1, 2, 0, 3, 5, 4))
    del tmp981
    tmp983 = np.copy(np.transpose(tmp822, (0, 2, 1, 3))) * -1
    del tmp822
    tmp982 = einsum(tmp119, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5)) * 0.5
    tmp983 += np.transpose(tmp982, (0, 2, 3, 1)) * -1
    del tmp982
    tmp984 = einsum(tmp983, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 6, 1, 2)) * -4
    del tmp983
    t3new.bbbbbb += np.transpose(tmp984, (1, 0, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp984, (1, 0, 2, 3, 4, 5)) * -1
    del tmp984
    tmp985 = einsum(tmp229, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (0, 1, 4, 5, 6, 3))
    t3new.bbbbbb += np.transpose(tmp985, (2, 1, 0, 4, 3, 5)) * -4
    t3new.bbbbbb += np.transpose(tmp985, (0, 2, 1, 4, 3, 5)) * -4
    t3new.bbbbbb += np.transpose(tmp985, (0, 1, 2, 4, 3, 5)) * 4
    del tmp985
    tmp825 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 2, 4, 5), (1, 3, 4, 5))
    tmp987 = np.copy(np.transpose(tmp825, (0, 1, 3, 2))) * 0.5
    tmp986 = einsum(tmp121, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 2), (4, 5, 1, 3))
    tmp987 += tmp986 * -1
    del tmp986
    tmp988 = einsum(tmp987, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (4, 5, 0, 6, 1, 3)) * -4
    del tmp987
    t3new.bbbbbb += np.transpose(tmp988, (1, 0, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp988, (1, 2, 0, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp988, (2, 1, 0, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp988, (2, 1, 0, 3, 4, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp988, (1, 2, 0, 3, 4, 5))
    t3new.bbbbbb += np.transpose(tmp988, (1, 0, 2, 3, 4, 5)) * -1
    del tmp988
    tmp989 = einsum(t2.bbbb, (0, 1, 2, 3), tmp832, (4, 5, 6, 3), (4, 0, 1, 5, 6, 2)) * -1
    t3new.bbbbbb += np.transpose(tmp989, (1, 2, 0, 4, 5, 3)) * -4
    tmp990 = einsum(tmp882, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (0, 1, 2, 6, 5, 4)) * -1
    del tmp882
    t3new.bbbbbb += np.transpose(tmp990, (1, 2, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp989, (1, 0, 2, 4, 5, 3)) * 4
    t3new.bbbbbb += np.transpose(tmp990, (1, 0, 2, 5, 4, 3)) * -1
    tmp839 = np.copy(tmp737) * 0.5
    del tmp737
    tmp838 = einsum(t2.bbbb, (0, 1, 2, 3), tmp222, (4, 1, 5, 3), (0, 4, 5, 2))
    tmp839 += np.transpose(tmp838, (1, 0, 2, 3))
    del tmp838
    tmp991 = einsum(t2.bbbb, (0, 1, 2, 3), tmp839, (4, 5, 1, 6), (0, 4, 5, 2, 3, 6)) * -4
    t3new.bbbbbb += np.transpose(tmp991, (0, 2, 1, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp991, (2, 0, 1, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp991, (0, 1, 2, 4, 3, 5)) * -1
    t3new.bbbbbb += np.transpose(tmp991, (2, 1, 0, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp989, (0, 2, 1, 4, 5, 3)) * 4
    del tmp989
    t3new.bbbbbb += np.transpose(tmp990, (0, 2, 1, 5, 4, 3)) * -1
    del tmp990
    t3new.bbbbbb += np.transpose(tmp991, (1, 0, 2, 4, 3, 5))
    t3new.bbbbbb += np.transpose(tmp991, (1, 2, 0, 4, 3, 5)) * -1
    del tmp991
    tmp992 = einsum(tmp236, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (0, 1, 4, 5, 6, 3))
    t3new.bbbbbb += np.transpose(tmp992, (2, 0, 1, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (2, 1, 0, 5, 4, 3)) * -2
    tmp993 = einsum(t2.bbbb, (0, 1, 2, 3), tmp233, (4, 5, 1, 6), (5, 4, 0, 6, 2, 3))
    t3new.bbbbbb += np.transpose(tmp993, (2, 0, 1, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (2, 1, 0, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (0, 2, 1, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (1, 2, 0, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (0, 2, 1, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp993, (1, 2, 0, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (2, 0, 1, 4, 5, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (2, 1, 0, 4, 5, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (2, 0, 1, 5, 3, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp993, (2, 1, 0, 5, 3, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (0, 2, 1, 4, 5, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (1, 2, 0, 4, 5, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp993, (0, 2, 1, 5, 3, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (1, 2, 0, 5, 3, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (0, 1, 2, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (1, 0, 2, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp993, (0, 1, 2, 3, 5, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (1, 0, 2, 3, 5, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (0, 1, 2, 4, 5, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (1, 0, 2, 4, 5, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (0, 1, 2, 5, 3, 4)) * -2
    t3new.bbbbbb += np.transpose(tmp993, (1, 0, 2, 5, 3, 4)) * 2
    t3new.bbbbbb += np.transpose(tmp952, (1, 2, 0, 5, 4, 3))
    t3new.bbbbbb += np.transpose(tmp952, (1, 0, 2, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp952, (0, 2, 1, 5, 4, 3)) * -1
    t3new.bbbbbb += np.transpose(tmp992, (2, 0, 1, 4, 3, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (2, 1, 0, 4, 3, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (0, 2, 1, 4, 3, 5)) * -2
    t3new.bbbbbb += np.transpose(tmp992, (1, 2, 0, 4, 3, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp952, (1, 2, 0, 5, 3, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp952, (1, 0, 2, 5, 3, 4))
    t3new.bbbbbb += np.transpose(tmp952, (1, 2, 0, 3, 5, 4))
    t3new.bbbbbb += np.transpose(tmp952, (1, 0, 2, 3, 5, 4)) * -1
    t3new.bbbbbb += np.transpose(tmp992, (0, 1, 2, 4, 3, 5)) * 2
    t3new.bbbbbb += np.transpose(tmp992, (1, 0, 2, 4, 3, 5)) * -2
    del tmp992
    t3new.bbbbbb += np.transpose(tmp952, (0, 2, 1, 5, 3, 4))
    t3new.bbbbbb += np.transpose(tmp952, (0, 2, 1, 3, 5, 4)) * -1
    del tmp952
    tmp994 = einsum(tmp230, (0, 1, 2, 3), t3.bbbbbb, (4, 2, 3, 5, 6, 7), (1, 0, 4, 5, 7, 6))
    t3new.bbbbbb += np.transpose(tmp994, (2, 1, 0, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp994, (2, 1, 0, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp993, (2, 0, 1, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (2, 1, 0, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp994, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp994, (0, 2, 1, 4, 5, 3)) * -3
    t3new.bbbbbb += np.transpose(tmp993, (0, 2, 1, 5, 4, 3)) * -2
    t3new.bbbbbb += np.transpose(tmp993, (1, 2, 0, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp994, (0, 1, 2, 4, 5, 3)) * 3
    t3new.bbbbbb += np.transpose(tmp994, (0, 1, 2, 4, 5, 3)) * 3
    del tmp994
    t3new.bbbbbb += np.transpose(tmp993, (0, 1, 2, 5, 4, 3)) * 2
    t3new.bbbbbb += np.transpose(tmp993, (1, 0, 2, 5, 4, 3)) * -2
    del tmp993
    tmp404 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp12, (2, 6), (6, 0, 1, 5, 3, 4))
    t3new.abaaba = np.copy(np.transpose(tmp404, (1, 2, 0, 4, 5, 3))) * -1
    tmp405 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 6, 3), (0, 4, 5, 1, 6, 2))
    tmp406 = einsum(tmp405, (0, 1, 2, 3, 4, 5), t1.bb, (4, 6), (0, 2, 1, 3, 5, 6))
    del tmp405
    tmp407 = np.copy(np.transpose(tmp406, (0, 2, 1, 3, 4, 5)))
    tmp407 += einsum(tmp72, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 3), (4, 2, 1, 5, 6, 7))
    t3new.abaaba += einsum(tmp407, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (0, 3, 2, 4, 5, 6))
    del tmp407
    t3new.abaaba += np.transpose(tmp404, (1, 2, 0, 4, 5, 3)) * -1
    tmp408 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp26, (1, 6), (0, 2, 6, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp408, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp408, (1, 2, 0, 4, 5, 3)) * -1
    del tmp408
    tmp409 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp409 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5)) * 2
    tmp410 = einsum(v.aabb.ovoo, (0, 1, 2, 3), tmp409, (4, 5, 3, 1, 6, 7), (5, 4, 0, 2, 6, 7)) * 0.5
    t3new.abaaba += einsum(tmp410, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (0, 3, 1, 4, 5, 6)) * 2
    del tmp410
    tmp411 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aaaa.oooo, (6, 2, 7, 0), (6, 7, 1, 5, 3, 4))
    t3new.abaaba += np.transpose(tmp411, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp404, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp411, (0, 2, 1, 4, 5, 3)) * -1
    del tmp411
    tmp412 = einsum(t2.abab, (0, 1, 2, 3), tmp39, (4, 0, 5, 6), (5, 4, 1, 6, 2, 3))
    t3new.abaaba += np.transpose(tmp412, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp412, (1, 2, 0, 4, 5, 3))
    del tmp412
    t3new.abaaba += np.transpose(tmp404, (0, 2, 1, 4, 5, 3))
    del tmp404
    tmp413 = np.copy(np.transpose(tmp406, (0, 2, 1, 3, 4, 5)))
    del tmp406
    tmp413 += einsum(tmp290, (0, 1, 2, 3), t3.abaaba, (4, 5, 2, 6, 7, 3), (4, 1, 0, 5, 6, 7))
    t3new.abaaba += einsum(tmp413, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (1, 3, 0, 4, 5, 6)) * -1
    del tmp413
    tmp414 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp55, (3, 6), (0, 2, 1, 6, 5, 4))
    t3new.abaaba += np.transpose(tmp414, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp414, (1, 2, 0, 3, 5, 4))
    del tmp414
    tmp415 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp190, (4, 6), (0, 2, 1, 3, 5, 6))
    t3new.abaaba += np.transpose(tmp415, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp415, (1, 2, 0, 4, 5, 3)) * -1
    del tmp415
    tmp416 = einsum(tmp258, (0, 1), t3.abaaba, (2, 3, 4, 0, 5, 6), (2, 4, 3, 1, 6, 5))
    del tmp258
    t3new.abaaba += np.transpose(tmp416, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp416, (1, 2, 0, 4, 5, 3))
    del tmp416
    tmp417 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp59, (6, 7, 0, 2), (6, 7, 1, 5, 3, 4)) * -1
    t3new.abaaba += np.transpose(tmp417, (1, 2, 0, 4, 5, 3)) * -1
    tmp419 = np.copy(tmp17)
    del tmp17
    tmp419 += tmp18 * 0.5
    del tmp18
    tmp418 = einsum(t1.aa, (0, 1), tmp7, (2, 1), (2, 0)) * 0.5
    tmp419 += np.transpose(tmp418, (1, 0))
    del tmp418
    tmp420 = einsum(tmp419, (0, 1), t3.abaaba, (2, 3, 1, 4, 5, 6), (0, 2, 3, 6, 4, 5)) * 2
    del tmp419
    t3new.abaaba += np.transpose(tmp420, (1, 2, 0, 4, 5, 3)) * -1
    tmp421 = einsum(tmp14, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (0, 4, 1, 5, 2, 6))
    tmp422 = einsum(t1.bb, (0, 1), tmp421, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    del tmp421
    tmp426 = np.copy(tmp422)
    tmp423 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp89, (6, 7, 2, 5), (6, 7, 0, 1, 3, 4))
    tmp426 += np.transpose(tmp423, (0, 2, 1, 3, 4, 5))
    tmp424 = np.copy(np.transpose(tmp59, (0, 2, 1, 3)))
    tmp424 += np.transpose(tmp59, (0, 3, 2, 1)) * -1
    del tmp59
    tmp425 = einsum(tmp424, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 3, 4, 5, 6))
    del tmp424
    tmp426 += tmp425
    t3new.abaaba += einsum(tmp426, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (1, 3, 0, 4, 5, 6))
    del tmp426
    t3new.abaaba += np.transpose(tmp417, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp420, (1, 2, 0, 4, 5, 3)) * -1
    tmp427 = einsum(tmp129, (0, 1, 2, 3), t3.abaaba, (4, 3, 1, 5, 6, 7), (4, 0, 2, 5, 7, 6))
    t3new.abaaba += np.transpose(tmp427, (1, 2, 0, 4, 5, 3))
    tmp428 = einsum(tmp33, (0, 1), t3.abaaba, (2, 0, 3, 4, 5, 6), (2, 3, 1, 4, 6, 5)) * 2
    del tmp33
    t3new.abaaba += np.transpose(tmp428, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp427, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp428, (1, 2, 0, 4, 5, 3)) * -1
    del tmp428
    tmp429 = einsum(tmp129, (0, 1, 2, 3), t2.abab, (4, 3, 5, 6), (4, 0, 1, 2, 5, 6)) * -0.5
    tmp429 += einsum(tmp27, (0, 1, 2, 3), tmp409, (4, 5, 2, 3, 6, 7), (5, 4, 0, 1, 6, 7)) * -0.5
    del tmp409
    t3new.abaaba += einsum(tmp429, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (1, 3, 0, 4, 5, 6)) * 2
    del tmp429
    t3new.abaaba += np.transpose(tmp417, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp420, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp417, (0, 2, 1, 4, 5, 3))
    del tmp417
    t3new.abaaba += np.transpose(tmp420, (0, 2, 1, 4, 5, 3))
    del tmp420
    tmp430 = np.copy(np.transpose(tmp422, (0, 2, 1, 3, 4, 5)))
    del tmp422
    tmp430 += tmp423
    del tmp423
    tmp430 += np.transpose(tmp425, (0, 2, 1, 3, 4, 5))
    del tmp425
    t3new.abaaba += einsum(tmp430, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (0, 3, 2, 4, 5, 6)) * -1
    del tmp430
    tmp431 = einsum(v.aabb.oooo, (0, 1, 2, 3), t3.abaaba, (4, 3, 1, 5, 6, 7), (4, 0, 2, 5, 7, 6))
    t3new.abaaba += np.transpose(tmp431, (1, 2, 0, 4, 5, 3))
    tmp432 = np.copy(tmp42)
    del tmp42
    tmp432 += tmp43 * 0.5
    del tmp43
    tmp432 += einsum(t1.aa, (0, 1), tmp7, (0, 2), (1, 2)) * 0.5
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp432, (6, 5), (0, 1, 2, 3, 4, 6)) * -2
    del tmp432
    tmp435 = einsum(v.aabb.oooo, (0, 1, 2, 3), t2.abab, (4, 3, 5, 6), (4, 0, 1, 2, 5, 6)) * -1
    tmp433 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 1, 4, 7, 6))
    tmp435 += np.transpose(tmp433, (0, 2, 1, 3, 4, 5))
    tmp434 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 7, 3, 1), (4, 6, 0, 5, 2, 7))
    tmp435 += einsum(t1.bb, (0, 1), tmp434, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1)) * -2
    t3new.abaaba += einsum(tmp435, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (1, 3, 0, 4, 5, 6))
    del tmp435
    tmp436 = einsum(t1.aa, (0, 1), tmp433, (2, 0, 3, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp433
    t3new.abaaba += np.transpose(tmp436, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp251, (6, 5), (0, 1, 2, 3, 4, 6)) * -1
    del tmp251
    tmp437 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 5, 1, 6), (0, 3, 4, 6))
    tmp440 = np.copy(tmp437)
    tmp438 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 1, 5, 6), (4, 5, 6, 3))
    tmp440 += tmp438
    tmp439 = einsum(t2.abab, (0, 1, 2, 3), tmp4, (1, 4), (0, 2, 3, 4))
    tmp440 += tmp439
    tmp441 = einsum(tmp440, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (0, 4, 5, 1, 6, 2))
    del tmp440
    t3new.abaaba += np.transpose(tmp441, (0, 2, 1, 4, 5, 3))
    tmp442 = einsum(t1.aa, (0, 1), v.aabb.oooo, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp445 = np.copy(np.transpose(tmp442, (0, 2, 1, 3))) * 0.5
    tmp443 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.abab, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp445 += np.transpose(tmp443, (0, 2, 1, 3)) * 0.5
    tmp444 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 5, 6, 4), (0, 1, 6, 3))
    tmp445 += np.transpose(tmp444, (0, 2, 1, 3)) * -1
    tmp446 = einsum(tmp445, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (0, 4, 2, 3, 5, 6)) * 2
    del tmp445
    t3new.abaaba += np.transpose(tmp446, (1, 2, 0, 3, 5, 4)) * -1
    tmp447 = np.copy(v.aaaa.ooov) * -0.5
    tmp447 += np.transpose(tmp282, (2, 1, 0, 3)) * -0.5
    del tmp282
    tmp447 += np.transpose(tmp283, (2, 1, 0, 3)) * -3
    del tmp283
    tmp447 += np.transpose(tmp284, (2, 1, 0, 3)) * -1
    del tmp284
    tmp447 += np.transpose(tmp39, (1, 0, 2, 3)) * 0.5
    tmp447 += np.transpose(tmp39, (1, 2, 0, 3)) * -0.5
    del tmp39
    tmp447 += einsum(tmp72, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (2, 1, 4, 5))
    tmp447 += einsum(tmp7, (0, 1), t2.aaaa, (2, 3, 4, 1), (0, 2, 3, 4))
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp447, (0, 4, 5, 6), (4, 1, 5, 6, 3, 2)) * -2
    del tmp447
    tmp448 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 1, 5, 6), (4, 6, 3, 5))
    tmp450 = np.copy(tmp448)
    tmp449 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 6, 3), (4, 6, 1, 5))
    tmp450 += tmp449
    t3new.abaaba += einsum(tmp450, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 0, 5, 6, 3, 1)) * -2
    tmp455 = np.copy(v.aabb.ooov)
    tmp451 = einsum(t1.bb, (0, 1), v.aabb.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp455 += np.transpose(tmp451, (1, 0, 2, 3)) * -1
    tmp452 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp455 += np.transpose(tmp452, (1, 0, 2, 3)) * 2
    tmp453 = einsum(t2.abab, (0, 1, 2, 3), tmp135, (4, 5, 0, 2), (4, 5, 1, 3))
    tmp455 += np.transpose(tmp453, (1, 0, 2, 3))
    tmp454 = einsum(tmp7, (0, 1), t2.abab, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp455 += tmp454
    del tmp454
    tmp456 = einsum(t2.aaaa, (0, 1, 2, 3), tmp455, (1, 4, 5, 6), (4, 0, 5, 2, 3, 6)) * -2
    del tmp455
    t3new.abaaba += np.transpose(tmp456, (1, 2, 0, 4, 5, 3)) * -1
    tmp457 = np.copy(np.transpose(tmp274, (0, 2, 1, 3))) * -1
    del tmp274
    tmp457 += np.transpose(tmp275, (0, 2, 1, 3)) * -0.16666666666666666
    tmp458 = einsum(tmp457, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (0, 4, 5, 1, 2, 6)) * 6
    del tmp457
    t3new.abaaba += np.transpose(tmp458, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp441, (1, 2, 0, 4, 5, 3)) * -1
    del tmp441
    t3new.abaaba += np.transpose(tmp446, (0, 2, 1, 3, 5, 4))
    del tmp446
    t3new.abaaba += np.transpose(tmp456, (0, 2, 1, 4, 5, 3))
    del tmp456
    t3new.abaaba += np.transpose(tmp458, (1, 2, 0, 4, 5, 3)) * -1
    del tmp458
    tmp459 = einsum(t2.abab, (0, 1, 2, 3), tmp444, (4, 5, 1, 6), (0, 4, 5, 2, 6, 3))
    t3new.abaaba += np.transpose(tmp459, (0, 2, 1, 3, 5, 4)) * -2
    tmp461 = np.copy(v.aabb.ovvv) * -1
    tmp461 += np.transpose(tmp118, (0, 1, 3, 2))
    tmp461 += np.transpose(tmp437, (0, 1, 3, 2))
    tmp461 += np.transpose(tmp438, (0, 1, 3, 2))
    tmp461 += np.transpose(tmp439, (0, 1, 3, 2))
    tmp460 = einsum(tmp16, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp461 += np.transpose(tmp460, (0, 1, 3, 2)) * -1
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp461, (4, 5, 3, 6), (4, 1, 0, 5, 6, 2)) * -1
    del tmp461
    tmp464 = np.copy(tmp448)
    tmp464 += tmp449
    tmp462 = einsum(tmp7, (0, 1), t2.abab, (0, 2, 3, 4), (2, 1, 3, 4))
    del tmp7
    tmp464 += np.transpose(tmp462, (0, 2, 1, 3))
    tmp463 = einsum(tmp16, (0, 1, 2, 3), v.aabb.ovoo, (0, 4, 5, 1), (5, 2, 4, 3))
    tmp464 += tmp463 * -1
    t3new.abaaba += einsum(t2.aaaa, (0, 1, 2, 3), tmp464, (4, 5, 3, 6), (0, 4, 1, 5, 6, 2)) * 2
    del tmp464
    t3new.abaaba += einsum(tmp299, (0, 1, 2, 3), t2.abab, (2, 4, 5, 6), (0, 4, 1, 5, 6, 3)) * 2
    del tmp299
    t3new.abaaba += np.transpose(tmp459, (1, 2, 0, 3, 5, 4)) * 2
    del tmp459
    tmp465 = np.copy(v.aabb.ovvv) * -1
    tmp465 += tmp118
    tmp465 += tmp437
    tmp465 += tmp438
    tmp465 += tmp439
    tmp465 += tmp460 * -1
    t3new.abaaba += einsum(tmp465, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6))
    del tmp465
    tmp466 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (4, 5, 6, 1), (0, 4, 6, 2, 5, 3))
    t3new.abaaba += np.transpose(tmp466, (0, 2, 1, 4, 5, 3))
    tmp467 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp139, (6, 2, 7, 5), (6, 1, 0, 7, 4, 3))
    t3new.abaaba += np.transpose(tmp467, (1, 2, 0, 3, 5, 4)) * -1
    tmp468 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 5, 3, 6))
    t3new.abaaba += np.transpose(tmp468, (1, 2, 0, 4, 5, 3)) * -1
    tmp469 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp469 += v.aaaa.oovv * -1
    tmp469 += tmp68
    tmp469 += np.transpose(tmp71, (1, 0, 3, 2)) * -1
    del tmp71
    tmp469 += np.transpose(tmp73, (0, 1, 3, 2)) * -1
    del tmp73
    tmp470 = einsum(tmp469, (0, 1, 2, 3), t3.abaaba, (4, 5, 1, 6, 7, 3), (0, 4, 5, 2, 6, 7))
    del tmp469
    t3new.abaaba += np.transpose(tmp470, (0, 2, 1, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp466, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp467, (0, 2, 1, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp466, (0, 2, 1, 3, 5, 4)) * -1
    tmp471 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 4, 7, 1, 6))
    t3new.abaaba += np.transpose(tmp471, (0, 2, 1, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp468, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp468, (1, 2, 0, 3, 5, 4))
    del tmp468
    tmp472 = einsum(tmp8, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (1, 4, 5, 3, 6, 7))
    t3new.abaaba += np.transpose(tmp472, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp466, (1, 2, 0, 3, 5, 4))
    del tmp466
    t3new.abaaba += np.transpose(tmp471, (1, 2, 0, 3, 5, 4)) * -1
    tmp477 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3))) * -1
    tmp473 = einsum(t1.bb, (0, 1), v.aabb.vvoo, (2, 3, 4, 0), (4, 2, 3, 1))
    tmp477 += np.transpose(tmp473, (0, 2, 1, 3))
    tmp474 = np.copy(v.aaaa.ovvv) * -1
    tmp474 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp474 += np.transpose(tmp45, (0, 2, 1, 3))
    tmp474 += np.transpose(tmp45, (0, 3, 1, 2)) * -1
    tmp475 = einsum(tmp474, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5))
    del tmp474
    tmp477 += np.transpose(tmp475, (0, 2, 1, 3))
    del tmp475
    tmp476 = einsum(t2.bbbb, (0, 1, 2, 3), tmp153, (1, 4, 5, 3), (0, 4, 5, 2)) * 2
    tmp477 += np.transpose(tmp476, (0, 2, 1, 3)) * -1
    t3new.abaaba += einsum(t2.aaaa, (0, 1, 2, 3), tmp477, (4, 3, 5, 6), (0, 4, 1, 5, 6, 2)) * 2
    t3new.abaaba += einsum(tmp321, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (4, 5, 0, 1, 6, 2))
    del tmp321
    tmp478 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 2, 3, 6, 1), (4, 0, 5, 6)) * -1
    tmp479 = einsum(t2.aaaa, (0, 1, 2, 3), tmp478, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6))
    t3new.abaaba += np.transpose(tmp479, (1, 2, 0, 4, 5, 3)) * -4
    t3new.abaaba += einsum(tmp323, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (4, 5, 0, 2, 6, 1)) * -1
    del tmp323
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp313, (4, 5, 2, 6), (4, 1, 0, 6, 3, 5)) * -1
    del tmp313
    t3new.abaaba += np.transpose(tmp479, (0, 2, 1, 4, 5, 3)) * 4
    del tmp479
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp317, (4, 5, 2, 6), (4, 1, 0, 5, 3, 6))
    del tmp317
    tmp480 = einsum(t2.abab, (0, 1, 2, 3), tmp119, (4, 5, 3, 6), (4, 0, 1, 5, 2, 6))
    t3new.abaaba += np.transpose(tmp480, (1, 2, 0, 4, 5, 3))
    tmp481 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3)))
    tmp481 += np.transpose(tmp473, (0, 2, 1, 3)) * -1
    t3new.abaaba += einsum(tmp481, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 0, 5, 6, 3, 2)) * 2
    t3new.abaaba += np.transpose(tmp480, (0, 2, 1, 4, 5, 3)) * -1
    del tmp480
    t3new.abaaba += np.transpose(tmp436, (0, 2, 1, 4, 5, 3)) * -1
    tmp482 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp482 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    t3new.abaaba += einsum(v.aabb.oooo, (0, 1, 2, 3), tmp482, (1, 4, 3, 5, 6, 7), (4, 2, 0, 6, 7, 5))
    t3new.abaaba += np.transpose(tmp431, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp431, (1, 2, 0, 4, 5, 3))
    del tmp431
    tmp484 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3))) * 0.5
    tmp484 += v.aaaa.oovv * -0.5
    tmp484 += tmp68 * 0.5
    tmp484 += np.transpose(tmp277, (1, 0, 3, 2)) * -1
    del tmp277
    tmp483 = einsum(tmp72, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4)) * 0.5
    tmp484 += np.transpose(tmp483, (0, 1, 3, 2)) * -1
    del tmp483
    tmp485 = einsum(tmp484, (0, 1, 2, 3), t3.abaaba, (4, 5, 1, 6, 7, 3), (0, 4, 5, 2, 6, 7)) * 2
    del tmp484
    t3new.abaaba += np.transpose(tmp485, (1, 2, 0, 3, 5, 4)) * -1
    tmp486 = einsum(t2.abab, (0, 1, 2, 3), tmp306, (4, 5, 2, 6), (4, 0, 1, 6, 5, 3))
    del tmp306
    t3new.abaaba += np.transpose(tmp486, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp470, (1, 2, 0, 3, 5, 4)) * -1
    del tmp470
    t3new.abaaba += np.transpose(tmp467, (1, 2, 0, 3, 5, 4)) * -1
    tmp487 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.vvoo, (6, 5, 7, 1), (0, 2, 7, 3, 6, 4))
    t3new.abaaba += np.transpose(tmp487, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp487, (0, 2, 1, 4, 5, 3))
    tmp489 = np.copy(v.aabb.oovv) * -1
    tmp489 += np.transpose(tmp150, (1, 0, 3, 2))
    del tmp150
    tmp488 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 5), (0, 4, 3, 5))
    tmp489 += np.transpose(tmp488, (1, 0, 3, 2))
    tmp490 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp489, (2, 6, 4, 7), (6, 0, 1, 5, 3, 7))
    t3new.abaaba += np.transpose(tmp490, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp490, (1, 2, 0, 4, 5, 3))
    tmp494 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp493, (1, 6, 4, 7), (0, 2, 6, 3, 5, 7))
    del tmp493
    t3new.abaaba += np.transpose(tmp494, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += einsum(tmp495, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 2), (4, 1, 5, 6, 3, 7)) * 6
    del tmp495
    t3new.abaaba += np.transpose(tmp494, (1, 2, 0, 4, 5, 3))
    del tmp494
    t3new.abaaba += np.transpose(tmp485, (0, 2, 1, 3, 5, 4))
    del tmp485
    t3new.abaaba += np.transpose(tmp486, (0, 2, 1, 4, 5, 3)) * -1
    del tmp486
    t3new.abaaba += np.transpose(tmp467, (0, 2, 1, 3, 5, 4))
    del tmp467
    t3new.abaaba += np.transpose(tmp490, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp490, (0, 2, 1, 4, 5, 3)) * -1
    del tmp490
    t3new.abaaba += np.transpose(tmp472, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp472, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp471, (0, 2, 1, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp487, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp487, (0, 2, 1, 3, 5, 4)) * -1
    del tmp487
    t3new.abaaba += np.transpose(tmp472, (0, 2, 1, 4, 5, 3)) * -1
    del tmp472
    t3new.abaaba += np.transpose(tmp471, (1, 2, 0, 3, 5, 4)) * -1
    del tmp471
    tmp497 = np.copy(v.aabb.vvvv)
    tmp496 = einsum(v.aabb.vvov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp497 += np.transpose(tmp496, (1, 0, 3, 2)) * -1
    tmp497 += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp16, (0, 2, 4, 5), (1, 4, 3, 5))
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp497, (5, 6, 4, 7), (0, 1, 2, 6, 7, 3)) * -2
    del tmp497
    tmp499 = np.copy(v.aaaa.vvvv)
    tmp499 += np.transpose(tmp332, (1, 3, 2, 0))
    del tmp332
    tmp498 = np.copy(t2.aaaa)
    tmp498 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3))
    tmp499 += einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp498, (0, 2, 4, 5), (3, 5, 1, 4))
    del tmp498
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp499, (5, 6, 3, 7), (0, 1, 2, 6, 4, 7)) * -2
    del tmp499
    tmp500 = np.copy(v.aabb.vvvv)
    tmp500 += np.transpose(tmp496, (1, 0, 3, 2)) * -1
    t3new.abaaba += einsum(tmp500, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 7, 2, 0), (4, 5, 6, 7, 3, 1)) * 2
    tmp504 = np.copy(tmp27)
    tmp501 = einsum(t1.aa, (0, 1), tmp129, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp504 += tmp501 * -1
    tmp502 = einsum(tmp27, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (4, 1, 2, 5))
    tmp504 += tmp502 * 2
    tmp503 = einsum(tmp165, (0, 1, 2, 3), t2.abab, (4, 2, 5, 3), (4, 0, 1, 5))
    tmp504 += tmp503
    del tmp503
    tmp505 = einsum(tmp504, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 4, 1, 3, 5, 6))
    del tmp504
    t3new.abaaba += np.transpose(tmp505, (1, 2, 0, 3, 5, 4))
    tmp508 = np.copy(tmp334) * 0.5
    tmp508 += np.transpose(tmp398, (0, 2, 1, 3))
    del tmp398
    tmp506 = einsum(tmp8, (0, 1, 2, 3), t1.aa, (4, 2), (0, 1, 4, 3)) * 0.5
    del tmp8
    tmp508 += np.transpose(tmp506, (2, 1, 0, 3))
    del tmp506
    tmp507 = einsum(t1.aa, (0, 1), tmp263, (2, 0, 3, 4), (2, 3, 4, 1)) * 0.5
    del tmp263
    tmp508 += tmp507
    del tmp507
    tmp509 = einsum(t2.abab, (0, 1, 2, 3), tmp508, (4, 5, 0, 6), (4, 5, 1, 6, 2, 3)) * 2
    del tmp508
    t3new.abaaba += np.transpose(tmp509, (0, 2, 1, 3, 5, 4))
    tmp512 = np.copy(np.transpose(tmp173, (1, 0, 2, 3))) * -1
    tmp510 = einsum(t1.bb, (0, 1), tmp129, (2, 3, 4, 0), (3, 2, 4, 1))
    tmp512 += tmp510
    tmp511 = einsum(tmp27, (0, 1, 2, 3), t2.abab, (4, 2, 3, 5), (4, 0, 1, 5))
    tmp512 += np.transpose(tmp511, (1, 0, 2, 3))
    tmp513 = einsum(t2.aaaa, (0, 1, 2, 3), tmp512, (1, 4, 5, 6), (4, 0, 5, 2, 3, 6)) * -2
    t3new.abaaba += np.transpose(tmp513, (1, 2, 0, 4, 5, 3))
    tmp514 = einsum(tmp140, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 4, 1, 5, 3, 6))
    t3new.abaaba += np.transpose(tmp514, (1, 2, 0, 4, 5, 3))
    tmp515 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp95, (6, 2, 7, 5), (6, 1, 0, 7, 4, 3))
    del tmp95
    t3new.abaaba += np.transpose(tmp515, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp514, (0, 2, 1, 4, 5, 3)) * -1
    tmp516 = einsum(tmp97, (0, 1, 2, 3), t3.babbab, (4, 5, 1, 6, 7, 3), (0, 5, 4, 2, 7, 6))
    t3new.abaaba += np.transpose(tmp516, (0, 2, 1, 3, 5, 4))
    tmp520 = np.copy(tmp14)
    tmp517 = einsum(t1.bb, (0, 1), tmp132, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp520 += tmp517 * -1
    tmp518 = einsum(tmp14, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp520 += tmp518 * 2
    tmp519 = einsum(tmp143, (0, 1, 2, 3), t2.abab, (2, 4, 3, 5), (0, 1, 4, 5))
    tmp520 += tmp519
    del tmp519
    tmp521 = einsum(t2.aaaa, (0, 1, 2, 3), tmp520, (4, 1, 5, 6), (4, 0, 5, 2, 3, 6)) * -2
    t3new.abaaba += np.transpose(tmp521, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp521, (0, 2, 1, 4, 5, 3))
    del tmp521
    t3new.abaaba += np.transpose(tmp509, (1, 2, 0, 3, 5, 4)) * -1
    del tmp509
    t3new.abaaba += np.transpose(tmp505, (0, 2, 1, 3, 5, 4)) * -1
    del tmp505
    t3new.abaaba += np.transpose(tmp513, (0, 2, 1, 4, 5, 3)) * -1
    del tmp513
    tmp522 = einsum(v.aabb.oovv, (0, 1, 2, 3), t1.aa, (1, 4), (0, 4, 2, 3))
    tmp523 = np.copy(np.transpose(tmp522, (0, 1, 3, 2)))
    del tmp522
    tmp523 += np.transpose(tmp437, (0, 1, 3, 2))
    tmp523 += np.transpose(tmp438, (0, 1, 3, 2))
    tmp524 = einsum(t2.abab, (0, 1, 2, 3), tmp523, (4, 5, 3, 6), (4, 0, 1, 5, 2, 6))
    del tmp523
    t3new.abaaba += np.transpose(tmp524, (1, 2, 0, 3, 5, 4))
    tmp525 = np.copy(tmp48)
    del tmp48
    tmp525 += tmp448
    tmp525 += tmp449
    t3new.abaaba += einsum(tmp525, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 0, 5, 1, 3, 6)) * 2
    del tmp525
    tmp526 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oovv, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6))
    tmp527 = einsum(t1.aa, (0, 1), tmp526, (2, 0, 3, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp526
    t3new.abaaba += np.transpose(tmp527, (0, 2, 1, 4, 5, 3)) * -1
    tmp528 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 2, 6, 3))
    t3new.abaaba += einsum(tmp528, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (0, 3, 1, 4, 5, 6)) * -2
    del tmp528
    t3new.abaaba += np.transpose(tmp524, (0, 2, 1, 3, 5, 4)) * -1
    del tmp524
    t3new.abaaba += np.transpose(tmp527, (1, 2, 0, 4, 5, 3))
    del tmp527
    tmp529 = einsum(tmp27, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 0, 1, 5, 3, 6))
    t3new.abaaba += np.transpose(tmp529, (0, 2, 1, 3, 5, 4)) * -1
    tmp530 = einsum(t2.abab, (0, 1, 2, 3), tmp66, (0, 4, 5, 6), (5, 4, 1, 6, 2, 3))
    del tmp66
    t3new.abaaba += np.transpose(tmp530, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp514, (1, 2, 0, 3, 5, 4)) * -1
    tmp531 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp93, (6, 2, 7, 5), (6, 1, 0, 4, 7, 3))
    t3new.abaaba += np.transpose(tmp531, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp514, (0, 2, 1, 3, 5, 4))
    del tmp514
    t3new.abaaba += np.transpose(tmp531, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp530, (1, 2, 0, 4, 5, 3))
    del tmp530
    t3new.abaaba += np.transpose(tmp529, (1, 2, 0, 3, 5, 4))
    del tmp529
    tmp532 = einsum(v.aabb.vvvv, (0, 1, 2, 3), t1.aa, (4, 1), (4, 0, 2, 3))
    tmp535 = np.copy(np.transpose(tmp532, (0, 1, 3, 2)))
    tmp533 = einsum(t1.bb, (0, 1), tmp93, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp93
    tmp535 += tmp533 * -1
    tmp534 = einsum(tmp16, (0, 1, 2, 3), tmp14, (4, 0, 1, 5), (4, 2, 5, 3))
    tmp535 += np.transpose(tmp534, (0, 1, 3, 2))
    t3new.abaaba += einsum(tmp535, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6)) * -1
    del tmp535
    tmp538 = np.copy(np.transpose(tmp174, (0, 2, 1, 3)))
    tmp536 = einsum(t1.bb, (0, 1), tmp160, (2, 0, 3, 4), (2, 4, 3, 1))
    tmp538 += np.transpose(tmp536, (0, 2, 1, 3)) * -1
    tmp537 = einsum(tmp16, (0, 1, 2, 3), tmp27, (0, 4, 1, 5), (4, 2, 5, 3))
    tmp538 += np.transpose(tmp537, (0, 2, 1, 3))
    t3new.abaaba += einsum(tmp538, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 0, 5, 2, 3, 6)) * -2
    del tmp538
    tmp539 = np.copy(np.transpose(tmp103, (0, 2, 1, 3)))
    tmp539 += np.transpose(tmp269, (0, 3, 1, 2))
    tmp540 = einsum(t2.abab, (0, 1, 2, 3), tmp539, (4, 2, 5, 6), (4, 0, 1, 5, 6, 3))
    del tmp539
    t3new.abaaba += np.transpose(tmp540, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp540, (1, 2, 0, 3, 5, 4))
    del tmp540
    tmp541 = einsum(t2.abab, (0, 1, 2, 3), tmp142, (4, 5, 2, 6), (5, 4, 0, 1, 6, 3)) * -1
    tmp542 = einsum(tmp541, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (0, 2, 3, 4, 6, 5)) * -1
    del tmp541
    t3new.abaaba += np.transpose(tmp542, (1, 2, 0, 3, 5, 4)) * -1
    tmp543 = np.copy(np.transpose(tmp532, (0, 1, 3, 2)))
    tmp543 += np.transpose(tmp533, (0, 1, 3, 2)) * -1
    tmp543 += tmp534
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp543, (4, 5, 3, 6), (4, 1, 0, 5, 6, 2))
    del tmp543
    tmp544 = np.copy(np.transpose(tmp103, (0, 2, 1, 3)))
    del tmp103
    tmp544 += np.transpose(tmp269, (0, 3, 1, 2))
    del tmp269
    tmp545 = einsum(t2.abab, (0, 1, 2, 3), tmp544, (4, 2, 5, 6), (4, 0, 1, 5, 6, 3))
    del tmp544
    t3new.abaaba += np.transpose(tmp545, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp545, (0, 2, 1, 3, 5, 4)) * -1
    del tmp545
    t3new.abaaba += np.transpose(tmp542, (0, 2, 1, 3, 5, 4))
    tmp546 = np.copy(np.transpose(tmp532, (0, 1, 3, 2)))
    tmp546 += np.transpose(tmp533, (0, 1, 3, 2)) * -1
    tmp547 = einsum(t2.abab, (0, 1, 2, 3), tmp546, (4, 5, 3, 6), (4, 0, 1, 5, 2, 6))
    t3new.abaaba += np.transpose(tmp547, (1, 2, 0, 4, 5, 3))
    tmp548 = np.copy(np.transpose(tmp174, (0, 2, 1, 3)))
    tmp548 += np.transpose(tmp536, (0, 2, 1, 3)) * -1
    t3new.abaaba += einsum(tmp548, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 0, 5, 6, 3, 2)) * 2
    t3new.abaaba += np.transpose(tmp547, (0, 2, 1, 4, 5, 3)) * -1
    del tmp547
    t3new.abaaba += einsum(tmp129, (0, 1, 2, 3), tmp482, (0, 4, 3, 5, 6, 7), (4, 2, 1, 6, 7, 5))
    t3new.abaaba += np.transpose(tmp427, (0, 2, 1, 4, 5, 3)) * -1
    del tmp427
    tmp549 = np.copy(np.transpose(tmp157, (1, 0, 2, 3)))
    del tmp157
    tmp549 += np.transpose(tmp158, (1, 0, 2, 3))
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp549, (1, 6, 7, 5), (0, 6, 2, 7, 4, 3)) * -1
    t3new.abaaba += einsum(tmp159, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 7, 3), (4, 1, 5, 2, 7, 6)) * -1
    tmp550 = einsum(tmp355, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (4, 0, 5, 1, 2, 6))
    del tmp355
    t3new.abaaba += np.transpose(tmp550, (0, 2, 1, 4, 5, 3)) * 2
    tmp551 = einsum(tmp290, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 3), (4, 2, 1, 5, 6, 7))
    del tmp290
    t3new.abaaba += einsum(tmp551, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (0, 3, 2, 4, 5, 6)) * -1
    del tmp551
    t3new.abaaba += np.transpose(tmp436, (0, 2, 1, 4, 5, 3)) * -1
    del tmp436
    tmp552 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.abaaba, (4, 3, 5, 6, 7, 1), (4, 5, 0, 2, 6, 7))
    t3new.abaaba += einsum(tmp552, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (0, 3, 1, 4, 5, 6))
    del tmp552
    tmp553 = einsum(tmp132, (0, 1, 2, 3), t3.abaaba, (4, 3, 1, 5, 6, 7), (0, 4, 2, 5, 7, 6))
    t3new.abaaba += np.transpose(tmp553, (1, 2, 0, 4, 5, 3)) * -1
    tmp554 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp14, (6, 7, 2, 5), (6, 1, 7, 0, 4, 3))
    tmp555 = einsum(t1.aa, (0, 1), tmp554, (2, 3, 0, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp554
    t3new.abaaba += np.transpose(tmp555, (1, 2, 0, 4, 5, 3)) * -1
    tmp556 = einsum(tmp482, (0, 1, 2, 3, 4, 5), tmp132, (6, 0, 2, 7), (6, 1, 7, 3, 4, 5))
    t3new.abaaba += np.transpose(tmp556, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp553, (0, 2, 1, 4, 5, 3))
    del tmp553
    t3new.abaaba += np.transpose(tmp555, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp556, (0, 2, 1, 4, 5, 3)) * -1
    del tmp556
    t3new.abaaba += np.transpose(tmp550, (1, 2, 0, 4, 5, 3)) * -2
    del tmp550
    tmp557 = einsum(tmp72, (0, 1, 2, 3), t3.abaaba, (4, 5, 2, 6, 7, 3), (4, 1, 0, 5, 6, 7))
    del tmp72
    t3new.abaaba += einsum(tmp557, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (1, 3, 0, 4, 5, 6))
    del tmp557
    tmp558 = einsum(tmp91, (0, 1, 2, 3), t3.abaaba, (4, 5, 1, 6, 7, 3), (0, 4, 5, 2, 6, 7))
    del tmp91
    t3new.abaaba += np.transpose(tmp558, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp558, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp515, (1, 2, 0, 3, 5, 4))
    del tmp515
    tmp559 = einsum(tmp162, (0, 1, 2, 3), t3.abaaba, (4, 1, 5, 2, 6, 7), (4, 5, 0, 3, 7, 6))
    t3new.abaaba += np.transpose(tmp559, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp559, (1, 2, 0, 3, 5, 4))
    del tmp559
    tmp560 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp171, (6, 2, 4, 7), (6, 0, 1, 5, 3, 7))
    t3new.abaaba += np.transpose(tmp560, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp560, (1, 2, 0, 4, 5, 3)) * -1
    tmp561 = einsum(tmp167, (0, 1, 2, 3), t3.abaaba, (4, 1, 5, 6, 2, 7), (4, 5, 0, 6, 7, 3))
    del tmp167
    t3new.abaaba += np.transpose(tmp561, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp168, (2, 6, 5, 7), (0, 6, 1, 3, 7, 4)) * 6
    t3new.abaaba += np.transpose(tmp561, (1, 2, 0, 4, 5, 3))
    del tmp561
    t3new.abaaba += np.transpose(tmp558, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp558, (0, 2, 1, 3, 5, 4)) * -1
    del tmp558
    t3new.abaaba += np.transpose(tmp516, (0, 2, 1, 3, 5, 4))
    del tmp516
    t3new.abaaba += np.transpose(tmp560, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp560, (0, 2, 1, 4, 5, 3))
    del tmp560
    tmp562 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 7, 3, 1), (4, 6, 0, 5, 7, 2))
    tmp563 = einsum(t1.aa, (0, 1), tmp562, (2, 3, 0, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp562
    t3new.abaaba += np.transpose(tmp563, (0, 2, 1, 3, 5, 4)) * 2
    t3new.abaaba += np.transpose(tmp563, (0, 2, 1, 4, 5, 3)) * -2
    del tmp563
    tmp564 = einsum(tmp142, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (1, 4, 5, 3, 6, 7)) * -1
    del tmp142
    t3new.abaaba += np.transpose(tmp564, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp564, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp531, (1, 2, 0, 3, 5, 4))
    tmp565 = einsum(tmp160, (0, 1, 2, 3), t3.abaaba, (4, 1, 5, 6, 7, 3), (4, 5, 0, 6, 2, 7))
    del tmp160
    t3new.abaaba += np.transpose(tmp565, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp565, (0, 2, 1, 3, 5, 4)) * -1
    del tmp565
    t3new.abaaba += np.transpose(tmp564, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp564, (0, 2, 1, 4, 5, 3)) * -1
    del tmp564
    t3new.abaaba += np.transpose(tmp531, (0, 2, 1, 3, 5, 4)) * -1
    del tmp531
    tmp566 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aaaa.ovvv, (6, 3, 7, 5), (0, 2, 6, 1, 7, 4))
    t3new.abaaba += einsum(tmp566, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (0, 3, 1, 6, 5, 4)) * -2
    del tmp566
    tmp567 = einsum(tmp16, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 3), (0, 4, 1, 5))
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp567, (6, 2, 7, 1), (0, 7, 6, 3, 4, 5))
    t3new.abaaba += einsum(tmp482, (0, 1, 2, 3, 4, 5), tmp567, (6, 0, 7, 2), (1, 7, 6, 4, 5, 3))
    tmp568 = einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 1, 4, 5)) * 2
    tmp568 += np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += einsum(tmp568, (0, 1, 2, 3, 4, 5), tmp85, (6, 7, 0, 1), (7, 2, 6, 4, 5, 3)) * -1
    del tmp568
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp85, (6, 7, 2, 0), (7, 1, 6, 3, 4, 5))
    del tmp85
    t3new.abaaba += einsum(tmp152, (0, 1, 2, 3), t3.abaaba, (4, 3, 1, 5, 6, 7), (0, 2, 4, 7, 6, 5))
    t3new.abaaba += einsum(tmp152, (0, 1, 2, 3), tmp482, (1, 4, 3, 5, 6, 7), (0, 2, 4, 6, 7, 5)) * -1
    tmp571 = np.copy(tmp438)
    tmp569 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp569 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 4, 1, 5)) * -1
    tmp570 = einsum(tmp569, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (0, 3, 2, 6), (1, 4, 6, 5))
    del tmp569
    tmp571 += np.transpose(tmp570, (0, 1, 3, 2))
    del tmp570
    tmp572 = einsum(t2.abab, (0, 1, 2, 3), tmp571, (4, 5, 6, 3), (4, 0, 1, 5, 2, 6))
    del tmp571
    t3new.abaaba += np.transpose(tmp572, (0, 2, 1, 4, 5, 3))
    tmp574 = np.copy(tmp448)
    tmp574 += tmp449
    tmp573 = np.copy(tmp204) * 2
    tmp573 += tmp208
    del tmp208
    tmp574 += einsum(t1.aa, (0, 1), tmp573, (0, 2, 3, 4), (2, 1, 3, 4))
    del tmp573
    t3new.abaaba += einsum(tmp574, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 0, 5, 6, 3, 1)) * -2
    del tmp574
    tmp575 = einsum(tmp275, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (4, 0, 5, 2, 1, 6)) * -1
    del tmp275
    t3new.abaaba += np.transpose(tmp575, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp572, (1, 2, 0, 4, 5, 3)) * -1
    del tmp572
    t3new.abaaba += np.transpose(tmp575, (0, 2, 1, 4, 5, 3)) * -1
    del tmp575
    tmp576 = einsum(tmp371, (0, 1, 2, 3), t3.abaaba, (4, 5, 1, 6, 7, 3), (0, 4, 5, 2, 6, 7))
    del tmp371
    t3new.abaaba += np.transpose(tmp576, (1, 2, 0, 4, 5, 3))
    tmp577 = einsum(t2.abab, (0, 1, 2, 3), tmp373, (4, 0, 5, 6), (4, 5, 1, 6, 2, 3))
    del tmp373
    t3new.abaaba += np.transpose(tmp577, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp576, (1, 2, 0, 4, 5, 3))
    tmp578 = np.copy(tmp138)
    del tmp138
    tmp578 += tmp303 * -1
    del tmp303
    tmp579 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp578, (6, 2, 7, 5), (6, 1, 0, 7, 4, 3)) * 2
    t3new.abaaba += np.transpose(tmp579, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp579, (1, 2, 0, 4, 5, 3))
    tmp580 = einsum(t2.aaaa, (0, 1, 2, 3), v.aabb.ovoo, (1, 3, 4, 5), (0, 4, 5, 2))
    tmp582 = np.copy(np.transpose(tmp580, (0, 2, 1, 3))) * 2
    tmp581 = einsum(tmp146, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 1, 2, 5))
    del tmp146
    tmp582 += np.transpose(tmp581, (0, 2, 1, 3))
    tmp583 = einsum(tmp582, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (0, 4, 2, 3, 5, 6))
    t3new.abaaba += np.transpose(tmp583, (1, 2, 0, 4, 5, 3)) * -1
    tmp584 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp158, (6, 1, 7, 5), (0, 2, 6, 7, 3, 4))
    del tmp158
    t3new.abaaba += np.transpose(tmp584, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp584, (0, 2, 1, 4, 5, 3))
    del tmp584
    tmp585 = einsum(tmp443, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 0, 1, 5, 3, 6))
    t3new.abaaba += np.transpose(tmp585, (1, 2, 0, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp576, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp576, (0, 2, 1, 4, 5, 3)) * -1
    del tmp576
    t3new.abaaba += np.transpose(tmp577, (0, 2, 1, 4, 5, 3))
    del tmp577
    t3new.abaaba += np.transpose(tmp579, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp583, (0, 2, 1, 4, 5, 3))
    del tmp583
    t3new.abaaba += np.transpose(tmp579, (0, 2, 1, 4, 5, 3)) * -1
    del tmp579
    tmp586 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 3, 6, 1), (5, 4, 0, 6)) * -1
    tmp587 = einsum(tmp586, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 0, 1, 5, 3, 6))
    t3new.abaaba += np.transpose(tmp587, (1, 2, 0, 3, 5, 4)) * 2
    tmp588 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 3), (5, 0, 4, 6))
    tmp589 = einsum(t2.aaaa, (0, 1, 2, 3), tmp588, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6))
    t3new.abaaba += np.transpose(tmp589, (1, 2, 0, 4, 5, 3)) * -4
    t3new.abaaba += np.transpose(tmp587, (0, 2, 1, 3, 5, 4)) * -2
    del tmp587
    t3new.abaaba += np.transpose(tmp589, (0, 2, 1, 4, 5, 3)) * 4
    del tmp589
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp434, (4, 5, 0, 6, 1, 7), (4, 6, 5, 7, 3, 2)) * 2
    del tmp434
    tmp590 = np.copy(np.transpose(tmp580, (0, 2, 1, 3))) * 2
    del tmp580
    tmp590 += np.transpose(tmp586, (0, 2, 1, 3)) * 2
    tmp590 += np.transpose(tmp581, (0, 2, 1, 3))
    del tmp581
    tmp591 = einsum(tmp590, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (0, 4, 2, 3, 5, 6))
    del tmp590
    t3new.abaaba += np.transpose(tmp591, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp591, (1, 2, 0, 3, 5, 4))
    del tmp591
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp376, (4, 0, 5, 6), (4, 1, 5, 6, 3, 2)) * -2
    del tmp376
    tmp592 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.abab, (1, 2, 4, 5), (0, 4, 5, 3))
    tmp593 = einsum(t2.abab, (0, 1, 2, 3), tmp592, (4, 5, 6, 3), (0, 4, 1, 2, 5, 6))
    t3new.abaaba += np.transpose(tmp593, (0, 2, 1, 3, 5, 4))
    tmp594 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.abab, (0, 3, 4, 5), (2, 4, 1, 5))
    t3new.abaaba += einsum(tmp594, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 0, 5, 6, 3, 1)) * 2
    t3new.abaaba += np.transpose(tmp585, (0, 2, 1, 3, 5, 4))
    del tmp585
    tmp595 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.abab, (4, 3, 1, 5), (4, 0, 2, 5))
    tmp596 = einsum(t2.aaaa, (0, 1, 2, 3), tmp595, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6))
    t3new.abaaba += np.transpose(tmp596, (0, 2, 1, 4, 5, 3)) * -2
    t3new.abaaba += np.transpose(tmp596, (1, 2, 0, 4, 5, 3)) * 2
    del tmp596
    t3new.abaaba += np.transpose(tmp593, (1, 2, 0, 3, 5, 4)) * -1
    del tmp593
    tmp597 = einsum(tmp16, (0, 1, 2, 3), tmp49, (4, 2, 5, 3), (0, 1, 4, 5))
    t3new.abaaba += einsum(tmp597, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 1, 0, 3, 6, 5))
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp379, (0, 4, 5, 6), (4, 1, 5, 6, 3, 2)) * 2
    del tmp379
    tmp598 = einsum(tmp16, (0, 1, 2, 3), tmp119, (4, 2, 3, 5), (0, 4, 1, 5))
    t3new.abaaba += einsum(t2.aaaa, (0, 1, 2, 3), tmp598, (4, 1, 5, 6), (0, 5, 4, 2, 6, 3)) * -2
    tmp599 = einsum(tmp49, (0, 1, 2, 3), t2.abab, (4, 5, 1, 3), (4, 0, 5, 2))
    t3new.abaaba += einsum(tmp599, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (0, 2, 4, 3, 6, 5)) * -1
    tmp600 = einsum(tmp119, (0, 1, 2, 3), t2.abab, (4, 5, 1, 2), (0, 4, 5, 3))
    t3new.abaaba += einsum(tmp600, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 6), (1, 2, 4, 5, 3, 6)) * 2
    tmp601 = einsum(tmp49, (0, 1, 2, 3), t2.abab, (4, 0, 1, 5), (4, 2, 3, 5))
    del tmp49
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp601, (4, 5, 3, 6), (0, 1, 4, 5, 6, 2))
    tmp602 = np.copy(v.bbbb.ovvv)
    tmp602 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)) * -1
    tmp602 += np.transpose(tmp155, (0, 2, 3, 1)) * -1
    tmp602 += np.transpose(tmp155, (0, 3, 2, 1))
    tmp603 = einsum(tmp602, (0, 1, 2, 3), t2.abab, (4, 0, 5, 2), (4, 5, 1, 3)) * 0.5
    del tmp602
    tmp606 = np.copy(tmp603) * -1
    del tmp603
    tmp605 = einsum(t2.aaaa, (0, 1, 2, 3), tmp604, (1, 3, 4, 5), (0, 2, 4, 5))
    del tmp604
    tmp606 += np.transpose(tmp605, (0, 1, 3, 2))
    tmp607 = einsum(t2.abab, (0, 1, 2, 3), tmp606, (4, 5, 3, 6), (4, 0, 1, 5, 2, 6)) * 2
    del tmp606
    t3new.abaaba += np.transpose(tmp607, (1, 2, 0, 3, 5, 4)) * -1
    tmp608 = einsum(tmp119, (0, 1, 2, 3), t2.abab, (0, 4, 5, 2), (4, 1, 5, 3))
    tmp609 = einsum(t2.aaaa, (0, 1, 2, 3), tmp608, (4, 3, 5, 6), (0, 1, 4, 5, 2, 6)) * -2
    t3new.abaaba += np.transpose(tmp609, (1, 2, 0, 3, 5, 4))
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp601, (4, 5, 3, 6), (4, 1, 0, 5, 6, 2)) * -1
    t3new.abaaba += np.transpose(tmp607, (0, 2, 1, 3, 5, 4))
    tmp610 = einsum(t2.aaaa, (0, 1, 2, 3), tmp386, (1, 4, 3, 5), (0, 4, 5, 2)) * 2
    del tmp386
    tmp612 = np.copy(np.transpose(tmp610, (0, 3, 2, 1))) * -1
    del tmp610
    tmp611 = einsum(tmp153, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 1, 2, 5))
    tmp612 += np.transpose(tmp611, (0, 3, 2, 1)) * -1
    del tmp611
    tmp613 = einsum(t2.abab, (0, 1, 2, 3), tmp612, (4, 5, 2, 6), (4, 0, 1, 5, 6, 3))
    del tmp612
    t3new.abaaba += np.transpose(tmp613, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp607, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp609, (1, 2, 0, 4, 5, 3)) * -1
    del tmp609
    t3new.abaaba += np.transpose(tmp613, (1, 2, 0, 4, 5, 3)) * -1
    del tmp613
    t3new.abaaba += np.transpose(tmp607, (1, 2, 0, 4, 5, 3))
    del tmp607
    tmp614 = einsum(tmp16, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 5, 3), (0, 1, 5, 4))
    t3new.abaaba += einsum(tmp614, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 1, 0, 5, 6, 3)) * -1
    del tmp614
    t3new.abaaba += einsum(t2.abab, (0, 1, 2, 3), tmp99, (4, 5, 0, 6), (4, 1, 5, 2, 3, 6)) * -2
    del tmp99
    tmp615 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.abab, (4, 5, 1, 3), (4, 5, 2, 0))
    t3new.abaaba += einsum(tmp615, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 1, 4, 5, 6, 3))
    del tmp615
    tmp617 = np.copy(np.transpose(tmp392, (0, 1, 3, 2)))
    del tmp392
    tmp616 = einsum(t2.aaaa, (0, 1, 2, 3), tmp256, (1, 3, 4, 5), (0, 4, 5, 2)) * 2
    del tmp256
    tmp617 += np.transpose(tmp616, (0, 3, 2, 1)) * -1
    del tmp616
    tmp618 = einsum(t2.abab, (0, 1, 2, 3), tmp617, (4, 5, 2, 6), (4, 0, 1, 5, 6, 3))
    del tmp617
    t3new.abaaba += np.transpose(tmp618, (1, 2, 0, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp618, (0, 2, 1, 3, 5, 4))
    del tmp618
    tmp619 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.abab, (4, 2, 1, 5), (4, 0, 5, 3))
    tmp620 = einsum(t2.abab, (0, 1, 2, 3), tmp619, (4, 5, 6, 3), (0, 4, 1, 2, 5, 6))
    del tmp619
    t3new.abaaba += np.transpose(tmp620, (1, 2, 0, 3, 5, 4))
    tmp621 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (4, 0, 1, 5))
    tmp621 += einsum(tmp52, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 3, 2, 5)) * 0.5
    del tmp52
    t3new.abaaba += einsum(tmp621, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 0, 5, 6, 3, 2)) * 4
    del tmp621
    t3new.abaaba += np.transpose(tmp620, (0, 2, 1, 3, 5, 4)) * -1
    del tmp620
    tmp622 = einsum(t1.aa, (0, 1), tmp132, (2, 0, 3, 4), (2, 4, 3, 1))
    tmp624 = np.copy(np.transpose(tmp622, (0, 2, 1, 3)))
    tmp623 = einsum(tmp14, (0, 1, 2, 3), t2.abab, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp624 += tmp623
    t3new.abaaba += einsum(tmp624, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 1, 0, 3, 6, 5)) * -1
    tmp625 = einsum(tmp14, (0, 1, 2, 3), t2.abab, (1, 2, 4, 5), (0, 4, 5, 3))
    tmp626 = einsum(t2.abab, (0, 1, 2, 3), tmp625, (4, 5, 6, 3), (4, 0, 1, 2, 5, 6))
    t3new.abaaba += np.transpose(tmp626, (1, 2, 0, 3, 5, 4))
    tmp627 = einsum(tmp27, (0, 1, 2, 3), t2.abab, (0, 2, 4, 5), (1, 4, 3, 5))
    t3new.abaaba += einsum(tmp627, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 0, 5, 6, 3, 1)) * 2
    tmp628 = einsum(tmp267, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (0, 4, 5, 1, 2, 6)) * -1
    del tmp267
    t3new.abaaba += np.transpose(tmp628, (1, 2, 0, 4, 5, 3)) * 2
    tmp629 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp89, (6, 2, 7, 5), (6, 7, 0, 1, 3, 4))
    del tmp89
    tmp630 = einsum(tmp629, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (0, 2, 3, 4, 6, 5))
    del tmp629
    t3new.abaaba += np.transpose(tmp630, (1, 2, 0, 3, 5, 4)) * -1
    tmp631 = einsum(tmp623, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 4, 1, 5, 3, 6))
    t3new.abaaba += np.transpose(tmp631, (1, 2, 0, 3, 5, 4))
    tmp632 = np.copy(tmp334)
    del tmp334
    tmp632 += np.transpose(tmp335, (0, 2, 1, 3))
    del tmp335
    tmp633 = einsum(t2.abab, (0, 1, 2, 3), tmp632, (4, 5, 0, 6), (4, 5, 1, 6, 2, 3))
    del tmp632
    t3new.abaaba += np.transpose(tmp633, (1, 2, 0, 4, 5, 3))
    tmp635 = np.copy(tmp502)
    tmp634 = einsum(tmp165, (0, 1, 2, 3), t2.abab, (4, 2, 5, 3), (4, 0, 1, 5)) * 0.5
    tmp635 += tmp634
    tmp636 = einsum(tmp635, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 4, 1, 3, 5, 6)) * 2
    del tmp635
    t3new.abaaba += np.transpose(tmp636, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp636, (0, 2, 1, 4, 5, 3))
    del tmp636
    tmp637 = np.copy(np.transpose(tmp622, (0, 2, 1, 3)))
    tmp637 += np.transpose(tmp623, (0, 2, 1, 3))
    t3new.abaaba += einsum(tmp637, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (0, 2, 4, 3, 6, 5))
    del tmp637
    t3new.abaaba += np.transpose(tmp626, (0, 2, 1, 3, 5, 4)) * -1
    del tmp626
    t3new.abaaba += np.transpose(tmp628, (0, 2, 1, 4, 5, 3)) * -2
    del tmp628
    t3new.abaaba += np.transpose(tmp630, (0, 2, 1, 3, 5, 4))
    del tmp630
    t3new.abaaba += np.transpose(tmp633, (0, 2, 1, 4, 5, 3)) * -1
    del tmp633
    t3new.abaaba += np.transpose(tmp631, (0, 2, 1, 3, 5, 4)) * -1
    del tmp631
    tmp638 = einsum(tmp101, (0, 1, 2, 3), t2.abab, (2, 4, 5, 6), (0, 1, 4, 5, 3, 6))
    del tmp101
    t3new.abaaba += np.transpose(tmp638, (0, 2, 1, 4, 5, 3))
    t3new.abaaba += np.transpose(tmp638, (1, 2, 0, 4, 5, 3)) * -1
    tmp639 = einsum(t2.abab, (0, 1, 2, 3), tmp105, (4, 5, 0, 6), (5, 4, 1, 6, 2, 3))
    del tmp105
    t3new.abaaba += np.transpose(tmp639, (0, 2, 1, 3, 5, 4))
    t3new.abaaba += np.transpose(tmp639, (1, 2, 0, 3, 5, 4)) * -1
    tmp641 = np.copy(tmp175)
    tmp640 = einsum(tmp176, (0, 1, 2, 3), t1.aa, (1, 4), (0, 2, 3, 4))
    tmp641 += tmp640 * -1
    del tmp640
    t3new.abaaba += einsum(tmp641, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 1, 4, 3, 6, 5)) * -1
    tmp643 = np.copy(tmp177)
    tmp642 = einsum(tmp176, (0, 1, 2, 3), t1.bb, (3, 4), (0, 1, 2, 4))
    tmp643 += tmp642 * -1
    t3new.abaaba += einsum(tmp643, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (0, 2, 4, 5, 3, 6)) * 2
    del tmp643
    tmp644 = einsum(tmp169, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (0, 4, 1, 5, 6, 2))
    tmp645 = einsum(t1.aa, (0, 1), tmp644, (2, 3, 0, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp644
    t3new.abaaba += np.transpose(tmp645, (1, 2, 0, 3, 5, 4))
    tmp646 = einsum(t2.aaaa, (0, 1, 2, 3), tmp125, (4, 5, 3, 6), (0, 1, 4, 5, 2, 6))
    tmp647 = einsum(t1.aa, (0, 1), tmp646, (2, 3, 0, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp646
    t3new.abaaba += np.transpose(tmp647, (0, 2, 1, 3, 5, 4)) * 2
    t3new.abaaba += np.transpose(tmp645, (1, 2, 0, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp647, (0, 2, 1, 4, 5, 3)) * -2
    del tmp647
    t3new.abaaba += np.transpose(tmp645, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp645, (0, 2, 1, 4, 5, 3))
    del tmp645
    t3new.abaaba += np.transpose(tmp638, (0, 2, 1, 3, 5, 4)) * -1
    t3new.abaaba += np.transpose(tmp638, (1, 2, 0, 3, 5, 4))
    del tmp638
    t3new.abaaba += np.transpose(tmp542, (1, 2, 0, 4, 5, 3))
    t3new.abaaba += einsum(tmp175, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 1, 4, 5, 6, 3))
    del tmp175
    t3new.abaaba += np.transpose(tmp542, (0, 2, 1, 4, 5, 3)) * -1
    del tmp542
    tmp648 = einsum(tmp100, (0, 1, 2, 3), t3.abaaba, (3, 4, 2, 5, 6, 7), (1, 0, 4, 5, 7, 6))
    del tmp100
    t3new.abaaba += np.transpose(tmp648, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp639, (0, 2, 1, 4, 5, 3)) * -1
    t3new.abaaba += np.transpose(tmp639, (1, 2, 0, 4, 5, 3))
    del tmp639
    t3new.abaaba += np.transpose(tmp648, (0, 2, 1, 4, 5, 3)) * -1
    del tmp648
    t3new.abaaba += np.transpose(tmp555, (1, 2, 0, 4, 5, 3)) * -1
    tmp649 = einsum(tmp27, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 7, 3), (4, 5, 0, 1, 6, 7))
    t3new.abaaba += einsum(tmp649, (0, 1, 2, 3, 4, 5), t1.aa, (2, 6), (0, 3, 1, 4, 5, 6))
    del tmp649
    t3new.abaaba += einsum(tmp482, (0, 1, 2, 3, 4, 5), tmp176, (6, 0, 7, 2), (6, 7, 1, 4, 5, 3)) * -1
    del tmp482
    t3new.abaaba += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp176, (6, 2, 7, 1), (6, 7, 0, 3, 4, 5)) * -1
    t3new.abaaba += np.transpose(tmp555, (0, 2, 1, 4, 5, 3))
    del tmp555
    tmp650 = einsum(tmp26, (0, 1), t3.babbab, (2, 3, 0, 4, 5, 6), (3, 1, 2, 5, 6, 4))
    del tmp26
    t3new.babbab = np.copy(np.transpose(tmp650, (2, 0, 1, 5, 3, 4))) * -1
    tmp652 = einsum(tmp651, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 1, 4, 7, 6))
    del tmp651
    tmp653 = einsum(tmp652, (0, 1, 2, 3, 4, 5), t1.bb, (2, 6), (0, 3, 1, 4, 5, 6))
    del tmp652
    t3new.babbab += np.transpose(tmp653, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp650, (2, 0, 1, 5, 3, 4)) * -1
    tmp654 = einsum(v.aabb.oooo, (0, 1, 2, 3), t3.babbab, (4, 1, 3, 5, 6, 7), (0, 4, 2, 6, 5, 7))
    t3new.babbab += np.transpose(tmp654, (2, 0, 1, 5, 3, 4))
    tmp655 = einsum(tmp12, (0, 1), t3.babbab, (2, 0, 3, 4, 5, 6), (1, 2, 3, 5, 4, 6))
    del tmp12
    t3new.babbab += np.transpose(tmp655, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp654, (2, 0, 1, 5, 3, 4))
    tmp656 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ooov, (6, 1, 7, 5), (6, 0, 2, 7, 4, 3))
    t3new.babbab += einsum(t1.bb, (0, 1), tmp656, (2, 3, 4, 0, 5, 6), (3, 2, 4, 6, 5, 1))
    t3new.babbab += np.transpose(tmp655, (2, 0, 1, 5, 3, 4)) * -1
    del tmp655
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp460, (4, 5, 6, 3), (0, 4, 1, 2, 5, 6)) * 2
    del tmp460
    tmp657 = einsum(v.bbbb.oooo, (0, 1, 2, 3), t3.babbab, (1, 4, 3, 5, 6, 7), (4, 0, 2, 6, 7, 5)) * -1
    t3new.babbab += np.transpose(tmp657, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp650, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp657, (1, 0, 2, 5, 3, 4)) * -1
    del tmp657
    t3new.babbab += np.transpose(tmp650, (1, 0, 2, 5, 3, 4))
    del tmp650
    tmp658 = einsum(tmp24, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 1, 4, 7, 6))
    del tmp24
    tmp659 = einsum(tmp658, (0, 1, 2, 3, 4, 5), t1.bb, (1, 6), (0, 3, 2, 4, 5, 6))
    del tmp658
    t3new.babbab += np.transpose(tmp659, (2, 0, 1, 4, 3, 5))
    tmp660 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp190, (3, 6), (1, 0, 2, 4, 6, 5))
    del tmp190
    t3new.babbab += np.transpose(tmp660, (2, 0, 1, 4, 3, 5))
    t3new.babbab += np.transpose(tmp660, (2, 0, 1, 4, 3, 5))
    del tmp660
    tmp661 = einsum(tmp55, (0, 1), t3.babbab, (2, 3, 4, 5, 0, 6), (3, 2, 4, 1, 5, 6))
    del tmp55
    t3new.babbab += np.transpose(tmp661, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp661, (2, 0, 1, 5, 3, 4)) * -1
    del tmp661
    tmp663 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp662, (3, 6), (1, 0, 2, 4, 6, 5))
    del tmp662
    t3new.babbab += np.transpose(tmp663, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp663, (2, 0, 1, 5, 3, 4))
    del tmp663
    tmp664 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp195, (6, 7, 0, 2), (1, 6, 7, 4, 5, 3)) * -1
    del tmp195
    t3new.babbab += np.transpose(tmp664, (2, 0, 1, 5, 3, 4)) * -1
    tmp665 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp200, (6, 2), (1, 6, 0, 4, 5, 3))
    del tmp200
    t3new.babbab += np.transpose(tmp665, (2, 0, 1, 5, 3, 4)) * -1
    tmp666 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp222, (6, 2, 7, 5), (1, 6, 7, 0, 4, 3))
    del tmp222
    tmp667 = einsum(t1.bb, (0, 1), tmp666, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 6, 1))
    t3new.babbab += np.transpose(tmp667, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp664, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp665, (2, 0, 1, 5, 3, 4)) * -1
    tmp668 = einsum(tmp132, (0, 1, 2, 3), t3.babbab, (4, 1, 3, 5, 6, 7), (0, 4, 2, 6, 5, 7))
    t3new.babbab += np.transpose(tmp668, (2, 0, 1, 5, 3, 4))
    tmp669 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp20, (1, 6), (6, 0, 2, 4, 3, 5))
    del tmp20
    t3new.babbab += np.transpose(tmp669, (2, 0, 1, 5, 3, 4)) * -1
    tmp670 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp14, (6, 1, 7, 5), (6, 0, 2, 7, 4, 3))
    t3new.babbab += einsum(tmp670, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (1, 0, 2, 5, 4, 6))
    t3new.babbab += np.transpose(tmp668, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp669, (2, 0, 1, 5, 3, 4)) * -1
    del tmp669
    t3new.babbab += einsum(tmp534, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (4, 0, 5, 6, 1, 3)) * 2
    del tmp534
    t3new.babbab += np.transpose(tmp664, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp665, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp664, (1, 0, 2, 5, 3, 4))
    del tmp664
    t3new.babbab += np.transpose(tmp665, (1, 0, 2, 5, 3, 4))
    del tmp665
    t3new.babbab += np.transpose(tmp667, (1, 0, 2, 4, 3, 5))
    del tmp667
    tmp671 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovoo, (2, 5, 6, 7), (0, 1, 6, 7, 3, 4))
    tmp672 = einsum(t1.bb, (0, 1), tmp671, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp671
    t3new.babbab += np.transpose(tmp672, (2, 0, 1, 5, 3, 4))
    t3new.babbab += einsum(tmp674, (0, 1), t3.babbab, (2, 3, 4, 5, 6, 1), (2, 3, 4, 5, 6, 0)) * -2
    del tmp674
    tmp675 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (4, 2, 5, 6), (0, 4, 1, 5, 6, 3)) * -1
    tmp675 += einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 3, 1, 7), (5, 0, 4, 6, 2, 7)) * 2
    t3new.babbab += einsum(tmp675, (0, 1, 2, 3, 4, 5), tmp16, (1, 4, 6, 7), (3, 0, 2, 5, 6, 7))
    del tmp675
    t3new.babbab += np.transpose(tmp672, (2, 0, 1, 5, 3, 4))
    tmp677 = einsum(tmp676, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (4, 5, 0, 6, 1, 2))
    del tmp676
    t3new.babbab += np.transpose(tmp677, (2, 0, 1, 5, 3, 4)) * -2
    tmp678 = np.copy(tmp114)
    del tmp114
    tmp678 += tmp115 * 2
    del tmp115
    tmp678 += tmp123
    del tmp123
    t3new.babbab += einsum(tmp678, (0, 1), t3.babbab, (2, 3, 4, 5, 6, 1), (2, 3, 4, 5, 6, 0)) * -1
    del tmp678
    tmp681 = np.copy(tmp448)
    tmp681 += np.transpose(tmp462, (0, 2, 1, 3))
    tmp679 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp679 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * -1
    tmp680 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp679, (0, 2, 4, 5, 3, 6), (4, 1, 5, 6))
    del tmp679
    tmp681 += np.transpose(tmp680, (0, 2, 1, 3))
    del tmp680
    tmp682 = einsum(t2.abab, (0, 1, 2, 3), tmp681, (4, 5, 2, 6), (0, 4, 1, 5, 6, 3))
    del tmp681
    t3new.babbab += np.transpose(tmp682, (1, 0, 2, 5, 3, 4))
    tmp683 = np.copy(v.aabb.ooov)
    tmp683 += np.transpose(tmp451, (1, 0, 2, 3)) * -1
    tmp683 += np.transpose(tmp452, (1, 0, 2, 3)) * 2
    tmp683 += np.transpose(tmp478, (1, 0, 2, 3)) * 2
    tmp683 += np.transpose(tmp453, (1, 0, 2, 3))
    tmp684 = einsum(t2.abab, (0, 1, 2, 3), tmp683, (0, 4, 5, 6), (4, 5, 1, 2, 6, 3))
    del tmp683
    t3new.babbab += np.transpose(tmp684, (2, 0, 1, 4, 3, 5))
    tmp685 = np.copy(tmp437)
    tmp685 += tmp438
    tmp685 += tmp439
    tmp685 += einsum(tmp578, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 4, 3)) * 2
    del tmp578
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp685, (4, 5, 6, 3), (0, 4, 1, 2, 5, 6)) * -2
    del tmp685
    tmp689 = np.copy(v.bbbb.ooov) * -0.5
    tmp689 += np.transpose(tmp686, (2, 1, 0, 3)) * -0.5
    del tmp686
    tmp689 += np.transpose(tmp687, (2, 1, 0, 3)) * -1
    del tmp687
    tmp689 += np.transpose(tmp688, (2, 1, 0, 3)) * -3
    del tmp688
    tmp689 += np.transpose(tmp182, (1, 0, 2, 3)) * 0.5
    tmp689 += np.transpose(tmp182, (1, 2, 0, 3)) * -0.5
    tmp689 += einsum(t2.bbbb, (0, 1, 2, 3), tmp210, (4, 5, 1, 3), (5, 4, 0, 2))
    del tmp210
    t3new.babbab += einsum(tmp689, (0, 1, 2, 3), t2.abab, (4, 0, 5, 6), (1, 4, 2, 3, 5, 6)) * -2
    del tmp689
    tmp693 = np.copy(np.transpose(tmp690, (0, 3, 2, 1))) * -0.5
    tmp693 += np.transpose(tmp691, (0, 3, 2, 1)) * -3
    del tmp691
    tmp692 = einsum(tmp4, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 3, 4, 1)) * -1
    del tmp4
    tmp693 += np.transpose(tmp692, (0, 3, 2, 1))
    del tmp692
    tmp694 = einsum(t2.abab, (0, 1, 2, 3), tmp693, (4, 3, 5, 6), (0, 4, 1, 2, 5, 6)) * 2
    del tmp693
    t3new.babbab += np.transpose(tmp694, (1, 0, 2, 5, 3, 4))
    tmp695 = np.copy(np.transpose(tmp442, (0, 2, 1, 3)))
    del tmp442
    tmp695 += np.transpose(tmp443, (0, 2, 1, 3))
    del tmp443
    tmp696 = einsum(t2.bbbb, (0, 1, 2, 3), tmp695, (4, 1, 5, 6), (4, 0, 5, 6, 2, 3)) * -2
    del tmp695
    t3new.babbab += np.transpose(tmp696, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp682, (2, 0, 1, 5, 3, 4)) * -1
    del tmp682
    t3new.babbab += np.transpose(tmp684, (1, 0, 2, 4, 3, 5)) * -1
    del tmp684
    t3new.babbab += np.transpose(tmp694, (2, 0, 1, 5, 3, 4)) * -1
    del tmp694
    t3new.babbab += np.transpose(tmp696, (2, 0, 1, 5, 3, 4)) * -1
    del tmp696
    tmp697 = einsum(tmp478, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 4, 2, 5, 6, 3))
    del tmp478
    t3new.babbab += np.transpose(tmp697, (1, 0, 2, 4, 3, 5)) * -2
    tmp698 = np.copy(np.transpose(tmp594, (0, 2, 1, 3))) * -1
    tmp698 += np.transpose(tmp448, (0, 2, 1, 3))
    tmp698 += np.transpose(tmp449, (0, 2, 1, 3))
    tmp698 += tmp462
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp698, (4, 2, 5, 6), (4, 0, 1, 6, 5, 3)) * -1
    del tmp698
    tmp699 = np.copy(v.aabb.ovvv) * -1
    tmp699 += tmp118
    del tmp118
    tmp699 += tmp592 * -1
    del tmp592
    tmp699 += tmp437
    tmp699 += tmp438
    tmp699 += tmp439
    del tmp439
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp699, (4, 5, 6, 3), (0, 4, 1, 6, 5, 2)) * 2
    del tmp699
    t3new.babbab += einsum(tmp700, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 4, 1, 6, 5, 3)) * 6
    del tmp700
    t3new.babbab += np.transpose(tmp697, (2, 0, 1, 4, 3, 5)) * 2
    del tmp697
    tmp701 = np.copy(tmp594) * -1
    del tmp594
    tmp701 += tmp448
    tmp701 += tmp449
    tmp701 += np.transpose(tmp462, (0, 2, 1, 3))
    del tmp462
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp701, (4, 5, 2, 6), (1, 0, 4, 6, 5, 3))
    del tmp701
    tmp702 = einsum(t2.abab, (0, 1, 2, 3), v.bbbb.ooov, (4, 1, 5, 6), (0, 4, 5, 2, 3, 6))
    t3new.babbab += np.transpose(tmp702, (2, 0, 1, 5, 3, 4)) * -1
    tmp703 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp703 += v.bbbb.oovv * -1
    tmp703 += tmp491
    del tmp491
    tmp703 += np.transpose(tmp214, (1, 0, 3, 2)) * -1
    del tmp214
    tmp703 += np.transpose(tmp215, (1, 0, 3, 2)) * -1
    del tmp215
    tmp704 = einsum(tmp703, (0, 1, 2, 3), t3.babbab, (4, 5, 1, 6, 7, 3), (5, 0, 4, 7, 2, 6))
    del tmp703
    t3new.babbab += np.transpose(tmp704, (1, 0, 2, 4, 3, 5))
    tmp705 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (0, 4, 2, 1, 5, 6))
    t3new.babbab += np.transpose(tmp705, (1, 0, 2, 5, 3, 4)) * 2
    t3new.babbab += np.transpose(tmp705, (2, 0, 1, 5, 3, 4)) * -2
    del tmp705
    t3new.babbab += einsum(tmp137, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 2, 7), (4, 1, 5, 6, 3, 7))
    del tmp137
    t3new.babbab += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp139, (6, 2, 7, 5), (0, 6, 1, 3, 7, 4)) * 6
    del tmp139
    tmp706 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 4, 2, 5, 6, 3))
    t3new.babbab += np.transpose(tmp706, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp702, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp702, (2, 0, 1, 4, 3, 5))
    del tmp702
    tmp707 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp22, (2, 6, 5, 7), (1, 6, 0, 4, 7, 3))
    del tmp22
    t3new.babbab += np.transpose(tmp707, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp706, (2, 0, 1, 4, 3, 5))
    del tmp706
    t3new.babbab += einsum(tmp477, (0, 1, 2, 3), t2.abab, (4, 5, 1, 6), (5, 4, 0, 3, 2, 6))
    del tmp477
    t3new.babbab += einsum(tmp709, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (5, 4, 0, 1, 6, 2))
    del tmp709
    tmp710 = einsum(t2.bbbb, (0, 1, 2, 3), tmp444, (4, 5, 1, 6), (4, 0, 5, 6, 2, 3))
    del tmp444
    t3new.babbab += np.transpose(tmp710, (2, 0, 1, 5, 3, 4)) * -4
    t3new.babbab += einsum(tmp713, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (5, 4, 0, 2, 6, 1)) * -1
    del tmp713
    tmp715 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3)))
    tmp715 += np.transpose(tmp473, (0, 2, 1, 3)) * -1
    tmp714 = np.copy(v.aaaa.ovvv)
    tmp714 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)) * -1
    tmp714 += np.transpose(tmp45, (0, 2, 1, 3)) * -1
    tmp714 += np.transpose(tmp45, (0, 3, 1, 2))
    del tmp45
    tmp715 += einsum(tmp714, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 3, 2, 5))
    tmp715 += np.transpose(tmp476, (0, 2, 1, 3))
    del tmp476
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp715, (4, 2, 5, 6), (4, 0, 1, 6, 5, 3))
    del tmp715
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp716, (4, 5, 3, 6), (4, 0, 1, 6, 2, 5)) * -1
    del tmp716
    t3new.babbab += np.transpose(tmp710, (1, 0, 2, 5, 3, 4)) * 4
    del tmp710
    t3new.babbab += einsum(tmp717, (0, 1, 2, 3), t2.abab, (4, 5, 6, 2), (0, 4, 5, 1, 6, 3))
    del tmp717
    tmp718 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3))) * -1
    tmp718 += np.transpose(tmp473, (0, 2, 1, 3))
    del tmp473
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp718, (4, 2, 5, 6), (1, 0, 4, 3, 5, 6)) * -1
    del tmp718
    t3new.babbab += einsum(tmp119, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (4, 0, 5, 6, 1, 3)) * 2
    t3new.babbab += einsum(tmp481, (0, 1, 2, 3), t2.abab, (4, 5, 1, 6), (0, 4, 5, 6, 2, 3)) * -1
    del tmp481
    t3new.babbab += np.transpose(tmp654, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp654, (1, 0, 2, 5, 3, 4)) * -1
    del tmp654
    t3new.babbab += np.transpose(tmp704, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp704, (2, 0, 1, 4, 3, 5)) * -1
    tmp720 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * 0.5
    tmp720 += tmp133 * -0.5
    del tmp133
    tmp720 += tmp204
    del tmp204
    tmp720 += tmp719
    del tmp719
    tmp721 = einsum(tmp720, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (4, 1, 5, 6, 3, 7)) * 2
    del tmp720
    t3new.babbab += np.transpose(tmp721, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp721, (2, 0, 1, 4, 3, 5)) * -1
    tmp724 = einsum(tmp723, (0, 1, 2, 3), t2.abab, (4, 5, 6, 2), (4, 0, 5, 6, 3, 1)) * 2
    del tmp723
    t3new.babbab += np.transpose(tmp724, (2, 0, 1, 5, 3, 4))
    tmp725 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp489, (1, 6, 3, 7), (6, 0, 2, 4, 7, 5))
    del tmp489
    t3new.babbab += np.transpose(tmp725, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp725, (2, 0, 1, 4, 3, 5)) * -1
    del tmp725
    tmp726 = einsum(v.aabb.vvoo, (0, 1, 2, 3), t3.babbab, (4, 5, 3, 6, 1, 7), (5, 4, 2, 0, 6, 7))
    t3new.babbab += np.transpose(tmp726, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp726, (1, 0, 2, 5, 3, 4))
    tmp727 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3))) * 0.5
    tmp727 += v.aaaa.oovv * -0.5
    tmp727 += np.transpose(tmp68, (1, 0, 3, 2)) * 0.5
    del tmp68
    tmp727 += einsum(t2.aaaa, (0, 1, 2, 3), tmp5, (1, 4, 3, 5), (4, 0, 5, 2))
    del tmp5
    tmp727 += einsum(tmp135, (0, 1, 2, 3), t1.aa, (2, 4), (1, 0, 3, 4)) * 0.5
    del tmp135
    t3new.babbab += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp727, (1, 6, 4, 7), (0, 6, 2, 3, 7, 5)) * 2
    del tmp727
    t3new.babbab += np.transpose(tmp704, (1, 0, 2, 4, 3, 5))
    del tmp704
    t3new.babbab += np.transpose(tmp721, (1, 0, 2, 4, 3, 5))
    t3new.babbab += np.transpose(tmp724, (1, 0, 2, 5, 3, 4)) * -1
    del tmp724
    t3new.babbab += np.transpose(tmp721, (1, 0, 2, 4, 3, 5))
    del tmp721
    t3new.babbab += np.transpose(tmp726, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp726, (2, 0, 1, 5, 3, 4)) * -1
    del tmp726
    t3new.babbab += np.transpose(tmp707, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp707, (2, 0, 1, 5, 3, 4))
    tmp728 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 5, 6, 7), (0, 1, 6, 3, 4, 7))
    t3new.babbab += np.transpose(tmp728, (1, 0, 2, 4, 3, 5))
    t3new.babbab += np.transpose(tmp728, (1, 0, 2, 4, 3, 5))
    tmp729 = einsum(v.aabb.oovv, (0, 1, 2, 3), t3.babbab, (4, 1, 5, 6, 7, 3), (0, 4, 5, 7, 6, 2))
    t3new.babbab += np.transpose(tmp729, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp729, (1, 0, 2, 4, 3, 5)) * -1
    del tmp729
    t3new.babbab += np.transpose(tmp707, (1, 0, 2, 5, 3, 4)) * -1
    del tmp707
    t3new.babbab += np.transpose(tmp728, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp728, (2, 0, 1, 4, 3, 5)) * -1
    del tmp728
    tmp730 = np.copy(v.aabb.vvvv)
    tmp730 += np.transpose(tmp496, (1, 0, 3, 2)) * -1
    del tmp496
    tmp730 += einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 5), (4, 2, 5, 3))
    t3new.babbab += einsum(tmp730, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 7, 0, 2), (4, 5, 6, 3, 1, 7)) * -2
    del tmp730
    tmp733 = np.copy(v.bbbb.vvvv)
    tmp733 += np.transpose(tmp731, (1, 3, 2, 0))
    del tmp731
    tmp732 = np.copy(t2.bbbb)
    tmp732 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    tmp733 += einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp732, (0, 2, 4, 5), (3, 5, 1, 4))
    del tmp732
    t3new.babbab += einsum(tmp733, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 2, 7, 0), (4, 5, 6, 1, 7, 3)) * -2
    del tmp733
    t3new.babbab += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp500, (4, 6, 5, 7), (0, 1, 2, 3, 6, 7)) * 2
    del tmp500
    t3new.babbab += einsum(tmp451, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (4, 0, 2, 6, 5, 3))
    del tmp451
    tmp734 = einsum(tmp182, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (4, 2, 0, 5, 3, 6))
    del tmp182
    t3new.babbab += np.transpose(tmp734, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp734, (2, 0, 1, 5, 3, 4))
    del tmp734
    t3new.babbab += np.transpose(tmp659, (2, 0, 1, 4, 3, 5))
    del tmp659
    tmp735 = einsum(v.aabb.oooo, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 4, 2, 3, 5, 6))
    tmp735 += np.transpose(tmp656, (0, 2, 1, 3, 4, 5)) * -1
    del tmp656
    t3new.babbab += einsum(tmp735, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (2, 0, 1, 5, 4, 6)) * -1
    del tmp735
    tmp736 = einsum(tmp520, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 5, 3, 6))
    del tmp520
    t3new.babbab += np.transpose(tmp736, (2, 0, 1, 4, 3, 5))
    tmp742 = einsum(tmp741, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 0, 1, 5, 3, 6))
    del tmp741
    t3new.babbab += np.transpose(tmp742, (1, 0, 2, 4, 3, 5))
    tmp743 = einsum(t2.bbbb, (0, 1, 2, 3), tmp140, (4, 5, 1, 6), (4, 0, 5, 6, 2, 3))
    del tmp140
    t3new.babbab += np.transpose(tmp743, (1, 0, 2, 5, 3, 4)) * 2
    tmp745 = np.copy(tmp448)
    del tmp448
    tmp745 += tmp449
    del tmp449
    tmp744 = einsum(t1.aa, (0, 1), tmp149, (0, 2, 3, 4), (2, 3, 1, 4))
    del tmp149
    tmp745 += np.transpose(tmp744, (0, 2, 1, 3))
    del tmp744
    tmp746 = einsum(t2.abab, (0, 1, 2, 3), tmp745, (4, 5, 2, 6), (0, 4, 1, 5, 6, 3))
    del tmp745
    t3new.babbab += np.transpose(tmp746, (2, 0, 1, 4, 3, 5))
    tmp747 = np.copy(tmp437)
    tmp747 += tmp438
    tmp747 += einsum(t1.aa, (0, 1), tmp151, (0, 2, 3, 4), (2, 1, 4, 3))
    del tmp151
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp747, (4, 5, 6, 3), (0, 4, 1, 6, 5, 2)) * 2
    del tmp747
    tmp748 = np.copy(np.transpose(tmp173, (1, 0, 2, 3))) * -1
    tmp748 += tmp510
    del tmp510
    tmp748 += tmp511
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp748, (4, 0, 5, 6), (1, 4, 5, 6, 2, 3)) * -1
    del tmp748
    t3new.babbab += einsum(tmp512, (0, 1, 2, 3), t2.abab, (0, 4, 5, 6), (2, 1, 4, 3, 5, 6))
    del tmp512
    tmp749 = np.copy(tmp27) * 0.5
    tmp749 += tmp501 * -0.5
    del tmp501
    tmp749 += tmp502
    del tmp502
    tmp749 += tmp634
    del tmp634
    tmp750 = einsum(t2.bbbb, (0, 1, 2, 3), tmp749, (4, 5, 1, 6), (4, 0, 5, 6, 2, 3)) * -4
    del tmp749
    t3new.babbab += np.transpose(tmp750, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp750, (2, 0, 1, 5, 3, 4))
    del tmp750
    t3new.babbab += np.transpose(tmp742, (2, 0, 1, 4, 3, 5)) * -1
    del tmp742
    t3new.babbab += np.transpose(tmp736, (1, 0, 2, 4, 3, 5)) * -1
    del tmp736
    t3new.babbab += np.transpose(tmp743, (2, 0, 1, 5, 3, 4)) * -2
    del tmp743
    tmp751 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp145, (6, 1, 4, 7), (6, 0, 2, 7, 3, 5))
    del tmp145
    t3new.babbab += np.transpose(tmp751, (2, 0, 1, 5, 3, 4))
    t3new.babbab += einsum(tmp97, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 1, 6, 7, 3), (4, 0, 5, 6, 2, 7)) * 6
    del tmp97
    t3new.babbab += np.transpose(tmp746, (1, 0, 2, 4, 3, 5)) * -1
    del tmp746
    tmp752 = einsum(tmp14, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 4, 2, 5, 6, 3))
    del tmp14
    t3new.babbab += np.transpose(tmp752, (1, 0, 2, 4, 3, 5)) * -1
    tmp753 = einsum(tmp202, (0, 1, 2, 3), t2.abab, (4, 0, 5, 6), (4, 2, 1, 5, 3, 6))
    del tmp202
    t3new.babbab += np.transpose(tmp753, (1, 0, 2, 5, 3, 4)) * -1
    tmp754 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 6), (0, 4, 1, 5, 3, 6))
    tmp755 = einsum(t1.aa, (0, 1), tmp754, (2, 0, 3, 4, 5, 6), (2, 3, 4, 1, 5, 6))
    del tmp754
    t3new.babbab += np.transpose(tmp755, (1, 0, 2, 4, 3, 5)) * -1
    tmp756 = einsum(t2.bbbb, (0, 1, 2, 3), v.aabb.oovv, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6))
    t3new.babbab += einsum(tmp756, (0, 1, 2, 3, 4, 5), t1.aa, (0, 6), (2, 1, 3, 4, 6, 5)) * -2
    del tmp756
    tmp757 = einsum(tmp173, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 5, 6, 3))
    del tmp173
    t3new.babbab += np.transpose(tmp757, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp757, (1, 0, 2, 4, 3, 5))
    del tmp757
    t3new.babbab += np.transpose(tmp753, (2, 0, 1, 5, 3, 4))
    del tmp753
    t3new.babbab += np.transpose(tmp752, (2, 0, 1, 4, 3, 5))
    del tmp752
    t3new.babbab += np.transpose(tmp755, (2, 0, 1, 4, 3, 5))
    del tmp755
    tmp758 = np.copy(np.transpose(tmp174, (0, 2, 1, 3)))
    tmp758 += np.transpose(tmp536, (0, 2, 1, 3)) * -1
    tmp758 += np.transpose(tmp627, (0, 2, 1, 3))
    del tmp627
    tmp759 = einsum(t2.abab, (0, 1, 2, 3), tmp758, (4, 2, 5, 6), (0, 4, 1, 5, 6, 3))
    del tmp758
    t3new.babbab += np.transpose(tmp759, (2, 0, 1, 4, 3, 5)) * -1
    tmp760 = np.copy(np.transpose(tmp532, (0, 1, 3, 2)))
    del tmp532
    tmp760 += np.transpose(tmp533, (0, 1, 3, 2)) * -1
    del tmp533
    tmp760 += np.transpose(tmp625, (0, 1, 3, 2))
    del tmp625
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp760, (4, 5, 3, 6), (0, 4, 1, 6, 5, 2)) * -2
    del tmp760
    tmp763 = np.copy(np.transpose(tmp231, (0, 2, 1, 3)))
    tmp763 += np.transpose(tmp762, (0, 3, 1, 2))
    tmp764 = einsum(tmp763, (0, 1, 2, 3), t2.abab, (4, 5, 6, 1), (4, 0, 5, 6, 2, 3))
    del tmp763
    t3new.babbab += np.transpose(tmp764, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp764, (2, 0, 1, 4, 3, 5))
    del tmp764
    tmp765 = einsum(tmp164, (0, 1, 2, 3), t2.abab, (4, 5, 6, 2), (4, 1, 0, 5, 6, 3)) * -1
    tmp766 = einsum(t1.bb, (0, 1), tmp765, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 6, 1)) * -1
    del tmp765
    t3new.babbab += np.transpose(tmp766, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp759, (1, 0, 2, 4, 3, 5))
    del tmp759
    tmp767 = np.copy(np.transpose(tmp231, (0, 2, 1, 3)))
    del tmp231
    tmp767 += np.transpose(tmp762, (0, 3, 1, 2))
    del tmp762
    tmp768 = einsum(t2.abab, (0, 1, 2, 3), tmp767, (4, 3, 5, 6), (0, 4, 1, 2, 5, 6))
    del tmp767
    t3new.babbab += np.transpose(tmp768, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp768, (1, 0, 2, 4, 3, 5)) * -1
    del tmp768
    t3new.babbab += np.transpose(tmp766, (1, 0, 2, 4, 3, 5))
    tmp769 = np.copy(np.transpose(tmp174, (0, 2, 1, 3))) * -1
    del tmp174
    tmp769 += np.transpose(tmp536, (0, 2, 1, 3))
    del tmp536
    t3new.babbab += einsum(tmp769, (0, 1, 2, 3), t2.abab, (4, 5, 1, 6), (5, 4, 0, 6, 2, 3)) * -1
    del tmp769
    t3new.babbab += einsum(tmp546, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (4, 0, 5, 6, 1, 3)) * 2
    del tmp546
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp548, (4, 2, 5, 6), (4, 0, 1, 3, 5, 6)) * -1
    del tmp548
    t3new.babbab += np.transpose(tmp668, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp668, (1, 0, 2, 5, 3, 4)) * -1
    del tmp668
    tmp770 = einsum(tmp549, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 6, 3, 7), (5, 1, 4, 2, 7, 6))
    del tmp549
    t3new.babbab += np.transpose(tmp770, (2, 0, 1, 5, 3, 4))
    tmp771 = einsum(tmp159, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 6, 3, 7), (5, 1, 4, 2, 7, 6))
    del tmp159
    t3new.babbab += np.transpose(tmp771, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp653, (1, 0, 2, 4, 3, 5)) * -1
    del tmp653
    t3new.babbab += np.transpose(tmp677, (1, 0, 2, 5, 3, 4)) * 2
    del tmp677
    t3new.babbab += np.transpose(tmp672, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp672, (1, 0, 2, 5, 3, 4)) * -1
    del tmp672
    t3new.babbab += einsum(tmp463, (0, 1, 2, 3), t2.abab, (4, 5, 2, 6), (5, 4, 0, 6, 1, 3))
    del tmp463
    tmp772 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp129, (6, 1, 7, 2), (6, 7, 0, 4, 3, 5))
    t3new.babbab += np.transpose(tmp772, (2, 0, 1, 5, 3, 4)) * -1
    tmp773 = einsum(tmp27, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 3), (4, 1, 5, 2, 6, 7))
    del tmp27
    tmp774 = einsum(t1.bb, (0, 1), tmp773, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 1, 6))
    t3new.babbab += np.transpose(tmp774, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp772, (2, 0, 1, 5, 3, 4)) * -1
    tmp775 = einsum(t2.abab, (0, 1, 2, 3), tmp537, (4, 5, 2, 6), (0, 4, 1, 5, 6, 3))
    del tmp537
    t3new.babbab += np.transpose(tmp775, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp772, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp774, (1, 0, 2, 5, 3, 4))
    del tmp774
    t3new.babbab += np.transpose(tmp772, (1, 0, 2, 5, 3, 4))
    del tmp772
    t3new.babbab += np.transpose(tmp775, (1, 0, 2, 5, 3, 4)) * -1
    del tmp775
    t3new.babbab += np.transpose(tmp770, (1, 0, 2, 5, 3, 4)) * -1
    del tmp770
    t3new.babbab += np.transpose(tmp771, (1, 0, 2, 5, 3, 4)) * -1
    del tmp771
    tmp776 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp224, (6, 2, 7, 5), (1, 6, 0, 4, 7, 3))
    del tmp224
    t3new.babbab += np.transpose(tmp776, (2, 0, 1, 4, 3, 5))
    t3new.babbab += np.transpose(tmp776, (2, 0, 1, 4, 3, 5))
    tmp777 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp226, (2, 6, 5, 7), (0, 6, 1, 3, 7, 4))
    del tmp226
    t3new.babbab += np.transpose(tmp777, (2, 0, 1, 4, 3, 5))
    t3new.babbab += np.transpose(tmp777, (2, 0, 1, 4, 3, 5))
    del tmp777
    tmp778 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp171, (6, 1, 3, 7), (6, 0, 2, 4, 7, 5))
    t3new.babbab += np.transpose(tmp778, (2, 0, 1, 4, 3, 5))
    t3new.babbab += np.transpose(tmp778, (2, 0, 1, 4, 3, 5))
    del tmp778
    tmp779 = einsum(tmp162, (0, 1, 2, 3), t3.babbab, (4, 5, 1, 6, 2, 7), (5, 0, 4, 3, 7, 6))
    del tmp162
    t3new.babbab += np.transpose(tmp779, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp779, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp751, (2, 0, 1, 5, 3, 4))
    del tmp751
    t3new.babbab += np.transpose(tmp776, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp776, (1, 0, 2, 4, 3, 5)) * -1
    del tmp776
    tmp780 = einsum(tmp168, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (4, 1, 5, 6, 3, 7))
    t3new.babbab += np.transpose(tmp780, (1, 0, 2, 4, 3, 5))
    t3new.babbab += np.transpose(tmp780, (1, 0, 2, 4, 3, 5))
    del tmp780
    t3new.babbab += np.transpose(tmp779, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp779, (1, 0, 2, 5, 3, 4))
    del tmp779
    tmp781 = einsum(tmp119, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 7, 1, 2), (5, 0, 4, 6, 7, 3))
    del tmp119
    t3new.babbab += einsum(tmp781, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (2, 0, 3, 5, 6, 4)) * 2
    del tmp781
    tmp782 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp164, (2, 6, 5, 7), (1, 6, 0, 4, 7, 3)) * -1
    del tmp164
    t3new.babbab += np.transpose(tmp782, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp782, (2, 0, 1, 5, 3, 4))
    tmp783 = einsum(tmp125, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (4, 1, 5, 6, 7, 3))
    t3new.babbab += np.transpose(tmp783, (2, 0, 1, 4, 3, 5))
    t3new.babbab += np.transpose(tmp783, (2, 0, 1, 4, 3, 5))
    tmp784 = einsum(tmp169, (0, 1, 2, 3), t3.babbab, (4, 1, 5, 6, 7, 3), (0, 4, 5, 7, 6, 2))
    t3new.babbab += np.transpose(tmp784, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp784, (1, 0, 2, 4, 3, 5)) * -1
    del tmp784
    t3new.babbab += np.transpose(tmp782, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp782, (1, 0, 2, 5, 3, 4)) * -1
    del tmp782
    t3new.babbab += np.transpose(tmp783, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp783, (1, 0, 2, 4, 3, 5)) * -1
    del tmp783
    tmp785 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 1, 7, 3), (5, 4, 6, 0, 7, 2))
    t3new.babbab += einsum(t1.bb, (0, 1), tmp785, (2, 3, 4, 0, 5, 6), (3, 2, 4, 1, 5, 6)) * -2
    del tmp785
    tmp786 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ovvv, (6, 4, 7, 5), (1, 6, 0, 2, 3, 7))
    t3new.babbab += einsum(tmp786, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (2, 0, 3, 4, 6, 5)) * -2
    del tmp786
    tmp787 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp152, (6, 1, 7, 2), (6, 7, 0, 4, 3, 5))
    t3new.babbab += np.transpose(tmp787, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp787, (2, 0, 1, 5, 3, 4)) * -1
    del tmp787
    tmp788 = einsum(tmp219, (0, 1, 2, 3), t3.babbab, (3, 4, 2, 5, 6, 7), (4, 1, 0, 6, 7, 5)) * -1
    t3new.babbab += np.transpose(tmp788, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp788, (1, 0, 2, 5, 3, 4)) * -1
    del tmp788
    tmp789 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp567, (6, 1, 7, 2), (6, 7, 0, 4, 5, 3))
    t3new.babbab += np.transpose(tmp789, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp789, (1, 0, 2, 5, 3, 4)) * -1
    del tmp789
    tmp790 = einsum(t2.abab, (0, 1, 2, 3), tmp450, (4, 5, 2, 6), (0, 4, 1, 5, 6, 3))
    del tmp450
    t3new.babbab += np.transpose(tmp790, (1, 0, 2, 5, 3, 4))
    tmp791 = np.copy(tmp437)
    del tmp437
    tmp791 += tmp438
    del tmp438
    t3new.babbab += einsum(tmp791, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 0, 5, 6, 1, 2)) * -2
    del tmp791
    tmp792 = einsum(tmp690, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (4, 5, 0, 6, 2, 1)) * -1
    del tmp690
    t3new.babbab += np.transpose(tmp792, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp790, (2, 0, 1, 5, 3, 4)) * -1
    del tmp790
    t3new.babbab += np.transpose(tmp792, (1, 0, 2, 5, 3, 4)) * -1
    del tmp792
    tmp794 = einsum(tmp793, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (4, 1, 5, 6, 3, 7)) * 2
    del tmp793
    t3new.babbab += np.transpose(tmp794, (2, 0, 1, 5, 3, 4))
    tmp795 = np.copy(np.transpose(tmp452, (1, 0, 2, 3))) * 2
    del tmp452
    tmp795 += np.transpose(tmp453, (1, 0, 2, 3))
    del tmp453
    tmp796 = einsum(tmp795, (0, 1, 2, 3), t2.abab, (0, 4, 5, 6), (1, 2, 4, 5, 3, 6))
    del tmp795
    t3new.babbab += np.transpose(tmp796, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp794, (2, 0, 1, 5, 3, 4))
    tmp798 = einsum(tmp797, (0, 1, 2, 3), t3.babbab, (4, 5, 1, 6, 7, 3), (5, 0, 4, 7, 2, 6)) * 2
    del tmp797
    t3new.babbab += np.transpose(tmp798, (2, 0, 1, 5, 3, 4))
    t3new.babbab += np.transpose(tmp798, (2, 0, 1, 5, 3, 4))
    tmp801 = einsum(tmp800, (0, 1, 2, 3), t2.abab, (4, 1, 5, 6), (4, 0, 2, 5, 3, 6)) * 2
    del tmp800
    t3new.babbab += np.transpose(tmp801, (2, 0, 1, 5, 3, 4)) * -1
    tmp802 = einsum(tmp488, (0, 1, 2, 3), t3.babbab, (4, 1, 5, 6, 7, 3), (0, 4, 5, 7, 2, 6))
    del tmp488
    t3new.babbab += np.transpose(tmp802, (1, 0, 2, 5, 3, 4))
    tmp803 = einsum(t2.abab, (0, 1, 2, 3), tmp595, (4, 0, 5, 6), (4, 1, 5, 2, 6, 3))
    t3new.babbab += np.transpose(tmp803, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp802, (1, 0, 2, 5, 3, 4))
    del tmp802
    t3new.babbab += np.transpose(tmp794, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp794, (1, 0, 2, 5, 3, 4)) * -1
    del tmp794
    t3new.babbab += np.transpose(tmp796, (1, 0, 2, 5, 3, 4))
    del tmp796
    t3new.babbab += np.transpose(tmp798, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp801, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp798, (1, 0, 2, 5, 3, 4)) * -1
    del tmp798
    tmp804 = einsum(t2.abab, (0, 1, 2, 3), tmp588, (4, 0, 5, 6), (4, 1, 5, 2, 3, 6))
    t3new.babbab += np.transpose(tmp804, (2, 0, 1, 4, 3, 5)) * 2
    tmp805 = einsum(t2.bbbb, (0, 1, 2, 3), tmp586, (4, 5, 1, 6), (4, 0, 5, 6, 2, 3))
    del tmp586
    t3new.babbab += np.transpose(tmp805, (2, 0, 1, 5, 3, 4)) * -4
    t3new.babbab += np.transpose(tmp804, (1, 0, 2, 4, 3, 5)) * -2
    del tmp804
    t3new.babbab += np.transpose(tmp805, (1, 0, 2, 5, 3, 4)) * 4
    del tmp805
    tmp806 = np.copy(tmp595) * -1
    del tmp595
    tmp806 += tmp588 * 2
    del tmp588
    tmp807 = einsum(tmp806, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 5, 3, 6))
    del tmp806
    t3new.babbab += np.transpose(tmp807, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp807, (2, 0, 1, 4, 3, 5))
    del tmp807
    t3new.babbab += np.transpose(tmp801, (1, 0, 2, 4, 3, 5)) * -1
    del tmp801
    tmp808 = einsum(t2.bbbb, (0, 1, 2, 3), tmp582, (4, 1, 5, 6), (4, 0, 5, 6, 2, 3)) * -2
    del tmp582
    t3new.babbab += np.transpose(tmp808, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp803, (1, 0, 2, 5, 3, 4))
    del tmp803
    t3new.babbab += np.transpose(tmp808, (2, 0, 1, 5, 3, 4))
    del tmp808
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp600, (0, 4, 5, 6), (1, 4, 5, 6, 2, 3))
    del tmp600
    t3new.babbab += einsum(tmp810, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (0, 4, 1, 3, 5, 6)) * 2
    del tmp810
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp599, (4, 1, 5, 6), (0, 4, 5, 2, 6, 3)) * -2
    del tmp599
    t3new.babbab += einsum(tmp598, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (2, 0, 4, 3, 5, 6)) * -1
    del tmp598
    t3new.babbab += einsum(tmp597, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (1, 0, 4, 5, 3, 6)) * 2
    del tmp597
    t3new.babbab += einsum(tmp608, (0, 1, 2, 3), t2.abab, (4, 5, 1, 6), (5, 4, 0, 3, 2, 6))
    tmp811 = np.copy(v.bbbb.ovvv) * -1
    tmp811 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))
    tmp811 += np.transpose(tmp155, (0, 2, 3, 1))
    tmp811 += np.transpose(tmp155, (0, 3, 2, 1)) * -1
    tmp812 = einsum(tmp811, (0, 1, 2, 3), t2.abab, (4, 0, 5, 2), (4, 5, 1, 3)) * -0.5
    del tmp811
    tmp812 += np.transpose(tmp605, (0, 1, 3, 2)) * -1
    del tmp605
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp812, (4, 5, 3, 6), (0, 4, 1, 6, 5, 2)) * 4
    del tmp812
    tmp813 = einsum(t2.bbbb, (0, 1, 2, 3), tmp601, (4, 5, 3, 6), (4, 0, 1, 5, 2, 6)) * -2
    del tmp601
    t3new.babbab += np.transpose(tmp813, (2, 0, 1, 5, 3, 4))
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp608, (4, 2, 5, 6), (4, 0, 1, 6, 5, 3)) * -1
    del tmp608
    tmp814 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)))
    tmp814 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)) * -1
    tmp814 += tmp155 * -1
    tmp814 += np.transpose(tmp155, (0, 1, 3, 2))
    del tmp155
    tmp816 = einsum(tmp814, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 3), (4, 5, 2, 1)) * -1
    del tmp814
    tmp816 += np.transpose(tmp815, (0, 3, 2, 1))
    del tmp815
    t3new.babbab += einsum(tmp816, (0, 1, 2, 3), t2.abab, (4, 5, 6, 2), (0, 4, 5, 3, 6, 1)) * -2
    del tmp816
    tmp817 = einsum(tmp714, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5)) * 0.5
    del tmp714
    tmp819 = np.copy(np.transpose(tmp817, (0, 2, 1, 3)))
    del tmp817
    tmp818 = einsum(t2.bbbb, (0, 1, 2, 3), tmp153, (1, 4, 5, 3), (0, 4, 5, 2))
    del tmp153
    tmp819 += np.transpose(tmp818, (0, 2, 1, 3))
    del tmp818
    tmp820 = einsum(t2.abab, (0, 1, 2, 3), tmp819, (4, 2, 5, 6), (0, 4, 1, 5, 6, 3)) * 2
    del tmp819
    t3new.babbab += np.transpose(tmp820, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp813, (2, 0, 1, 4, 3, 5)) * -1
    del tmp813
    t3new.babbab += einsum(tmp823, (0, 1, 2, 3), t2.abab, (4, 5, 6, 2), (5, 4, 0, 3, 6, 1)) * -2
    del tmp823
    t3new.babbab += np.transpose(tmp820, (2, 0, 1, 5, 3, 4))
    del tmp820
    t3new.babbab += einsum(tmp172, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (4, 0, 2, 6, 5, 3)) * -1
    del tmp172
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp229, (4, 5, 1, 6), (4, 0, 5, 3, 2, 6)) * -2
    del tmp229
    tmp824 = einsum(tmp16, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 3), (0, 4, 1, 5))
    del tmp16
    t3new.babbab += einsum(tmp824, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (2, 0, 4, 6, 5, 3))
    del tmp824
    tmp827 = np.copy(np.transpose(tmp825, (0, 1, 3, 2)))
    del tmp825
    tmp826 = einsum(tmp121, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 2), (4, 5, 1, 3)) * 2
    tmp827 += tmp826 * -1
    del tmp826
    tmp828 = einsum(tmp827, (0, 1, 2, 3), t2.abab, (4, 5, 6, 2), (4, 0, 5, 6, 1, 3))
    del tmp827
    t3new.babbab += np.transpose(tmp828, (2, 0, 1, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp828, (1, 0, 2, 4, 3, 5))
    del tmp828
    tmp829 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.abab, (0, 4, 5, 3), (4, 5, 1, 2))
    tmp830 = einsum(tmp829, (0, 1, 2, 3), t2.abab, (4, 5, 2, 6), (4, 5, 0, 1, 6, 3))
    del tmp829
    t3new.babbab += np.transpose(tmp830, (2, 0, 1, 4, 3, 5))
    tmp831 = einsum(t2.aaaa, (0, 1, 2, 3), v.aabb.ovvv, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp831 += einsum(tmp121, (0, 1, 2, 3), t2.abab, (4, 0, 5, 2), (4, 5, 1, 3)) * -0.5
    del tmp121
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp831, (4, 5, 3, 6), (0, 4, 1, 2, 5, 6)) * 4
    del tmp831
    t3new.babbab += np.transpose(tmp830, (1, 0, 2, 4, 3, 5)) * -1
    del tmp830
    tmp833 = einsum(tmp832, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (4, 0, 5, 6, 1, 2)) * -1
    del tmp832
    t3new.babbab += np.transpose(tmp833, (2, 0, 1, 5, 3, 4)) * 2
    tmp834 = einsum(tmp129, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 3, 5, 6))
    del tmp129
    tmp835 = np.copy(tmp834)
    del tmp834
    tmp835 += tmp773 * -1
    del tmp773
    tmp836 = einsum(tmp835, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (0, 1, 2, 4, 5, 6))
    del tmp835
    t3new.babbab += np.transpose(tmp836, (2, 0, 1, 4, 3, 5))
    tmp837 = einsum(tmp511, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 5, 3, 6))
    del tmp511
    t3new.babbab += np.transpose(tmp837, (2, 0, 1, 5, 3, 4))
    tmp840 = einsum(tmp839, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 0, 1, 5, 3, 6)) * 2
    del tmp839
    t3new.babbab += np.transpose(tmp840, (2, 0, 1, 5, 3, 4))
    tmp841 = np.copy(np.transpose(tmp622, (0, 2, 1, 3)))
    del tmp622
    tmp841 += np.transpose(tmp623, (0, 2, 1, 3))
    del tmp623
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp841, (4, 1, 5, 6), (0, 4, 5, 2, 6, 3)) * 2
    del tmp841
    t3new.babbab += einsum(tmp624, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (1, 0, 4, 5, 3, 6)) * -2
    del tmp624
    tmp843 = np.copy(tmp518)
    del tmp518
    tmp842 = einsum(tmp143, (0, 1, 2, 3), t2.abab, (2, 4, 3, 5), (0, 1, 4, 5)) * 0.5
    del tmp143
    tmp843 += tmp842
    del tmp842
    tmp844 = einsum(tmp843, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 2, 4, 5, 3, 6)) * 2
    del tmp843
    t3new.babbab += np.transpose(tmp844, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp844, (1, 0, 2, 5, 3, 4))
    del tmp844
    t3new.babbab += np.transpose(tmp833, (1, 0, 2, 5, 3, 4)) * -2
    del tmp833
    t3new.babbab += np.transpose(tmp836, (1, 0, 2, 4, 3, 5)) * -1
    del tmp836
    t3new.babbab += np.transpose(tmp840, (1, 0, 2, 5, 3, 4)) * -1
    del tmp840
    t3new.babbab += np.transpose(tmp837, (1, 0, 2, 5, 3, 4)) * -1
    del tmp837
    tmp845 = einsum(t1.bb, (0, 1), tmp152, (2, 3, 4, 0), (2, 3, 4, 1))
    del tmp152
    t3new.babbab += einsum(tmp845, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (4, 0, 2, 6, 5, 3))
    del tmp845
    tmp846 = einsum(tmp219, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 3, 4)) * -1
    del tmp219
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp846, (4, 5, 1, 6), (4, 0, 5, 3, 2, 6)) * 2
    del tmp846
    tmp847 = einsum(t1.bb, (0, 1), tmp567, (2, 3, 4, 0), (2, 3, 4, 1))
    del tmp567
    t3new.babbab += einsum(tmp847, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (2, 0, 4, 6, 5, 3)) * -1
    del tmp847
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp517, (4, 0, 5, 6), (1, 4, 5, 3, 2, 6))
    del tmp517
    tmp849 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp165, (6, 7, 2, 5), (1, 6, 7, 0, 4, 3))
    del tmp165
    tmp849 += einsum(t2.abab, (0, 1, 2, 3), tmp848, (4, 1, 5, 6), (0, 4, 6, 5, 2, 3))
    del tmp848
    t3new.babbab += einsum(tmp849, (0, 1, 2, 3, 4, 5), t1.bb, (2, 6), (1, 0, 3, 5, 4, 6))
    del tmp849
    tmp850 = np.copy(np.transpose(tmp666, (0, 1, 3, 2, 4, 5)))
    del tmp666
    tmp850 += einsum(t2.abab, (0, 1, 2, 3), tmp739, (4, 5, 6, 1), (0, 4, 6, 5, 2, 3))
    del tmp739
    t3new.babbab += einsum(tmp850, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (2, 0, 1, 5, 4, 6)) * -1
    del tmp850
    tmp851 = einsum(tmp132, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (0, 4, 2, 3, 5, 6))
    del tmp132
    tmp851 += np.transpose(tmp670, (0, 2, 1, 3, 4, 5)) * -1
    del tmp670
    t3new.babbab += einsum(tmp851, (0, 1, 2, 3, 4, 5), t1.bb, (3, 6), (2, 0, 1, 5, 4, 6)) * -1
    del tmp851
    tmp852 = np.copy(tmp177) * -1
    tmp852 += tmp642
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp852, (4, 0, 5, 6), (1, 4, 5, 6, 2, 3)) * -1
    del tmp852
    tmp853 = einsum(tmp233, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (4, 1, 0, 5, 3, 6))
    del tmp233
    t3new.babbab += np.transpose(tmp853, (1, 0, 2, 4, 3, 5))
    t3new.babbab += np.transpose(tmp853, (2, 0, 1, 4, 3, 5)) * -1
    tmp854 = einsum(t2.abab, (0, 1, 2, 3), tmp236, (4, 5, 1, 6), (0, 4, 5, 2, 3, 6))
    del tmp236
    t3new.babbab += np.transpose(tmp854, (1, 0, 2, 5, 3, 4))
    t3new.babbab += np.transpose(tmp854, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += einsum(t2.bbbb, (0, 1, 2, 3), tmp641, (4, 5, 1, 6), (0, 4, 5, 2, 6, 3)) * -2
    del tmp641
    tmp855 = einsum(tmp168, (0, 1, 2, 3), t2.abab, (4, 5, 2, 6), (0, 4, 1, 5, 3, 6))
    del tmp168
    tmp856 = einsum(t1.aa, (0, 1), tmp855, (0, 2, 3, 4, 5, 6), (2, 3, 4, 1, 6, 5))
    del tmp855
    t3new.babbab += np.transpose(tmp856, (2, 0, 1, 5, 3, 4))
    tmp857 = einsum(tmp171, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (0, 1, 4, 5, 6, 3))
    del tmp171
    t3new.babbab += einsum(tmp857, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (2, 0, 3, 5, 6, 4)) * 2
    del tmp857
    t3new.babbab += np.transpose(tmp856, (1, 0, 2, 5, 3, 4)) * -1
    del tmp856
    t3new.babbab += einsum(tmp177, (0, 1, 2, 3), t2.abab, (1, 4, 5, 6), (4, 0, 2, 6, 5, 3)) * -1
    del tmp177
    t3new.babbab += np.transpose(tmp854, (1, 0, 2, 4, 3, 5)) * -1
    t3new.babbab += np.transpose(tmp854, (2, 0, 1, 4, 3, 5))
    del tmp854
    t3new.babbab += np.transpose(tmp766, (2, 0, 1, 5, 3, 4))
    tmp858 = einsum(tmp125, (0, 1, 2, 3), t2.abab, (4, 5, 2, 6), (4, 0, 1, 5, 6, 3))
    del tmp125
    tmp859 = einsum(tmp858, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (0, 2, 3, 6, 4, 5))
    del tmp858
    t3new.babbab += np.transpose(tmp859, (2, 0, 1, 4, 3, 5)) * -1
    tmp860 = einsum(t2.bbbb, (0, 1, 2, 3), tmp169, (4, 5, 6, 3), (4, 5, 0, 1, 2, 6))
    del tmp169
    t3new.babbab += einsum(tmp860, (0, 1, 2, 3, 4, 5), t1.aa, (1, 6), (2, 0, 3, 4, 6, 5)) * -2
    del tmp860
    t3new.babbab += np.transpose(tmp766, (1, 0, 2, 5, 3, 4)) * -1
    del tmp766
    t3new.babbab += np.transpose(tmp859, (1, 0, 2, 4, 3, 5))
    del tmp859
    tmp861 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp176, (6, 1, 7, 2), (6, 7, 0, 4, 5, 3)) * -1
    del tmp176
    t3new.babbab += np.transpose(tmp861, (2, 0, 1, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp861, (2, 0, 1, 5, 3, 4)) * -1
    del tmp861
    tmp862 = einsum(tmp230, (0, 1, 2, 3), t3.babbab, (3, 4, 2, 5, 6, 7), (4, 1, 0, 6, 5, 7))
    del tmp230
    t3new.babbab += np.transpose(tmp862, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp862, (1, 0, 2, 5, 3, 4)) * -1
    del tmp862
    t3new.babbab += einsum(t2.abab, (0, 1, 2, 3), tmp642, (4, 0, 5, 6), (1, 4, 5, 3, 2, 6))
    del tmp642
    t3new.babbab += np.transpose(tmp853, (1, 0, 2, 5, 3, 4)) * -1
    t3new.babbab += np.transpose(tmp853, (2, 0, 1, 5, 3, 4))
    del tmp853

    return {"t1new": t1new, "t2new": t2new, "t3new": t3new}

def update_lams(f=None, l1=None, l2=None, l3=None, t1=None, t2=None, t3=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        l1: 
        l2: 
        l3: 
        t1: 
        t2: 
        t3: 
        v: 

    Returns:
        l1new: 
        l2new: 
        l3new: 
    """

    tmp623 = einsum(l2.aaaa, (0, 1, 2, 3), v.aaaa.ovvv, (4, 5, 6, 1), (2, 3, 4, 0, 5, 6))
    l3new = Namespace()
    l3new.aaaaaa = np.copy(np.transpose(tmp623, (4, 5, 3, 1, 0, 2))) * 2
    tmp625 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp625 += v.aaaa.oovv * -1
    tmp13 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 1, 3), (0, 4, 2, 5))
    tmp625 += tmp13
    tmp14 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1)))
    tmp14 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3)) * -1
    tmp307 = np.copy(t2.aaaa) * 2
    tmp307 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (2, 0, 1, 3)) * -1
    tmp624 = einsum(tmp307, (0, 1, 2, 3), tmp14, (0, 4, 2, 5), (4, 1, 5, 3))
    tmp625 += np.transpose(tmp624, (1, 0, 3, 2)) * -1
    del tmp624
    tmp15 = np.copy(v.aaaa.ovvv) * -1
    tmp15 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))
    tmp41 = einsum(tmp15, (0, 1, 2, 3), t1.aa, (4, 2), (4, 0, 1, 3))
    tmp625 += np.transpose(tmp41, (0, 1, 3, 2)) * -1
    tmp372 = np.copy(v.aaaa.ooov)
    tmp372 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)) * -1
    tmp373 = einsum(t1.aa, (0, 1), tmp372, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp625 += tmp373 * -1
    tmp626 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp625, (5, 6, 2, 7), (3, 4, 6, 0, 1, 7)) * 6
    l3new.aaaaaa += np.transpose(tmp626, (5, 3, 4, 0, 1, 2))
    tmp628 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp18 = einsum(t1.bb, (0, 1), v.aabb.ovoo, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp628 += tmp18 * -1
    tmp57 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t1.bb, (4, 3), (0, 4, 1, 2))
    tmp628 += tmp57
    tmp20 = einsum(t2.abab, (0, 1, 2, 3), tmp14, (0, 4, 5, 2), (4, 1, 5, 3))
    tmp628 += tmp20
    tmp165 = np.copy(t2.bbbb)
    tmp165 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (2, 0, 1, 3)) * -0.5
    tmp627 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp165, (2, 4, 3, 5), (0, 4, 1, 5)) * 2
    tmp628 += tmp627
    del tmp627
    tmp629 = einsum(tmp628, (0, 1, 2, 3), l3.abaaba, (4, 3, 5, 6, 1, 7), (6, 7, 0, 4, 5, 2))
    l3new.aaaaaa += np.transpose(tmp629, (5, 4, 3, 1, 0, 2))
    tmp157 = np.copy(f.aa.oo)
    tmp151 = einsum(v.aabb.ooov, (0, 1, 2, 3), t1.bb, (2, 3), (0, 1))
    tmp157 += np.transpose(tmp151, (1, 0))
    tmp152 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 2, 1, 3), (0, 4))
    tmp157 += tmp152 * 2
    tmp153 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 3), (0, 4))
    tmp157 += tmp153
    tmp154 = np.copy(v.aaaa.ooov) * -1
    tmp154 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1))
    tmp155 = einsum(tmp154, (0, 1, 2, 3), t1.aa, (2, 3), (0, 1))
    tmp157 += np.transpose(tmp155, (1, 0)) * -1
    del tmp155
    tmp25 = np.copy(f.aa.ov)
    tmp22 = einsum(v.aabb.ovov, (0, 1, 2, 3), t1.bb, (2, 3), (0, 1))
    tmp25 += tmp22
    del tmp22
    tmp23 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1))) * -1
    tmp23 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp24 = einsum(tmp23, (0, 1, 2, 3), t1.aa, (0, 3), (1, 2))
    tmp25 += tmp24 * -1
    del tmp24
    tmp156 = einsum(t1.aa, (0, 1), tmp25, (2, 1), (0, 2))
    tmp157 += tmp156
    del tmp156
    l3new.aaaaaa += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp157, (5, 6), (0, 1, 2, 3, 4, 6)) * -6
    tmp87 = einsum(l2.aaaa, (0, 1, 2, 3), t1.aa, (4, 1), (2, 3, 4, 0))
    tmp435 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -2
    tmp88 = einsum(t2.aaaa, (0, 1, 2, 3), l3.aaaaaa, (4, 2, 3, 5, 6, 1), (5, 6, 0, 4))
    tmp435 += tmp88 * 6
    tmp89 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 3, 2, 5, 1, 6), (5, 6, 0, 4))
    tmp435 += tmp89
    tmp630 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp435, (4, 5, 2, 6), (4, 5, 0, 6, 3, 1))
    l3new.aaaaaa += np.transpose(tmp630, (5, 4, 3, 1, 0, 2)) * -1
    l3new.aaaaaa += einsum(tmp25, (0, 1), l2.aaaa, (2, 3, 4, 5), (1, 2, 3, 4, 5, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp623, (4, 5, 3, 1, 2, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp626, (5, 3, 4, 0, 2, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (5, 4, 3, 1, 2, 0)) * -1
    tmp633 = np.copy(f.aa.oo) * 0.5
    tmp633 += np.transpose(tmp151, (1, 0)) * 0.5
    del tmp151
    tmp633 += tmp152
    del tmp152
    tmp633 += tmp153 * 0.5
    del tmp153
    tmp631 = einsum(tmp154, (0, 1, 2, 3), t1.aa, (2, 3), (0, 1)) * 0.5
    tmp633 += np.transpose(tmp631, (1, 0)) * -1
    del tmp631
    tmp632 = einsum(t1.aa, (0, 1), tmp25, (2, 1), (0, 2)) * 0.5
    tmp633 += tmp632
    del tmp632
    tmp634 = einsum(tmp633, (0, 1), l3.aaaaaa, (2, 3, 4, 5, 6, 0), (5, 6, 1, 2, 3, 4)) * 12
    del tmp633
    l3new.aaaaaa += np.transpose(tmp634, (4, 5, 3, 0, 2, 1))
    tmp423 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -1
    tmp423 += tmp88 * 3
    tmp423 += tmp89 * 0.5
    tmp635 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp423, (4, 5, 2, 6), (4, 5, 0, 6, 3, 1)) * 2
    l3new.aaaaaa += np.transpose(tmp635, (5, 4, 3, 1, 2, 0))
    l3new.aaaaaa += einsum(l2.aaaa, (0, 1, 2, 3), tmp25, (4, 5), (5, 0, 1, 2, 4, 3)) * -2
    l3new.aaaaaa += np.transpose(tmp623, (5, 4, 3, 1, 0, 2)) * -2
    l3new.aaaaaa += np.transpose(tmp626, (3, 5, 4, 0, 1, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (4, 5, 3, 1, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp630, (4, 5, 3, 1, 0, 2))
    l3new.aaaaaa += einsum(tmp25, (0, 1), l2.aaaa, (2, 3, 4, 5), (2, 1, 3, 4, 5, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp623, (5, 4, 3, 1, 2, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp626, (3, 5, 4, 0, 2, 1))
    l3new.aaaaaa += np.transpose(tmp629, (4, 5, 3, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp635, (4, 5, 3, 1, 2, 0)) * -1
    l3new.aaaaaa += einsum(tmp25, (0, 1), l2.aaaa, (2, 3, 4, 5), (2, 1, 3, 4, 0, 5)) * 2
    l3new.aaaaaa += np.transpose(tmp623, (4, 5, 3, 2, 1, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp626, (5, 3, 4, 2, 0, 1))
    l3new.aaaaaa += np.transpose(tmp629, (5, 4, 3, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp634, (4, 5, 3, 2, 0, 1)) * -1
    del tmp634
    l3new.aaaaaa += np.transpose(tmp635, (5, 4, 3, 2, 1, 0)) * -1
    l3new.aaaaaa += einsum(l2.aaaa, (0, 1, 2, 3), tmp25, (4, 5), (5, 0, 1, 4, 2, 3)) * 2
    l3new.aaaaaa += np.transpose(tmp623, (5, 4, 3, 2, 1, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp626, (3, 5, 4, 2, 0, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (4, 5, 3, 2, 1, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp635, (4, 5, 3, 2, 1, 0))
    l3new.aaaaaa += einsum(tmp25, (0, 1), l2.aaaa, (2, 3, 4, 5), (2, 1, 3, 0, 4, 5)) * -2
    l3new.aaaaaa += np.transpose(tmp623, (5, 3, 4, 1, 0, 2)) * 2
    l3new.aaaaaa += np.transpose(tmp626, (3, 4, 5, 0, 1, 2))
    del tmp626
    l3new.aaaaaa += np.transpose(tmp629, (4, 3, 5, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp630, (4, 3, 5, 1, 0, 2)) * -1
    del tmp630
    l3new.aaaaaa += einsum(tmp25, (0, 1), l2.aaaa, (2, 3, 4, 5), (2, 3, 1, 4, 5, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp623, (5, 3, 4, 1, 2, 0)) * -2
    tmp638 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1)))
    tmp638 += v.aaaa.oovv * -1
    tmp638 += np.transpose(tmp13, (0, 1, 3, 2))
    tmp261 = np.copy(t2.aaaa)
    tmp261 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (2, 0, 1, 3)) * -0.5
    tmp636 = einsum(tmp23, (0, 1, 2, 3), tmp261, (0, 4, 2, 5), (1, 4, 3, 5)) * 2
    tmp638 += np.transpose(tmp636, (1, 0, 2, 3))
    del tmp636
    tmp638 += tmp41 * -1
    tmp637 = einsum(tmp154, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3))
    del tmp154
    tmp638 += np.transpose(tmp637, (0, 1, 3, 2))
    del tmp637
    tmp639 = einsum(tmp638, (0, 1, 2, 3), l3.aaaaaa, (4, 5, 3, 6, 7, 0), (6, 7, 1, 4, 5, 2)) * 6
    del tmp638
    l3new.aaaaaa += np.transpose(tmp639, (3, 4, 5, 0, 2, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (4, 3, 5, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp635, (4, 3, 5, 1, 2, 0))
    l3new.aaaaaa += einsum(l2.aaaa, (0, 1, 2, 3), tmp25, (4, 5), (0, 1, 5, 2, 4, 3)) * -2
    l3new.aaaaaa += np.transpose(tmp623, (5, 3, 4, 2, 1, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp639, (3, 4, 5, 2, 0, 1))
    del tmp639
    l3new.aaaaaa += np.transpose(tmp629, (4, 3, 5, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp635, (4, 3, 5, 2, 1, 0)) * -1
    l3new.aaaaaa += einsum(l2.aaaa, (0, 1, 2, 3), tmp25, (4, 5), (0, 1, 5, 4, 2, 3)) * 2
    tmp642 = np.copy(v.aaaa.vvvv)
    tmp640 = einsum(t1.aa, (0, 1), v.aaaa.ovvv, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp642 += np.transpose(tmp640, (3, 2, 1, 0)) * -1
    tmp448 = np.copy(t2.aaaa)
    tmp448 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3))
    tmp641 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp448, (0, 2, 4, 5), (4, 5, 1, 3)) * 0.5
    tmp642 += np.transpose(tmp641, (1, 3, 2, 0))
    del tmp641
    tmp643 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp642, (1, 6, 7, 2), (3, 5, 4, 0, 6, 7)) * 3
    del tmp642
    l3new.aaaaaa += np.transpose(tmp643, (5, 4, 3, 1, 2, 0))
    tmp494 = np.copy(f.aa.vv) * -1
    tmp428 = einsum(v.aabb.vvov, (0, 1, 2, 3), t1.bb, (2, 3), (0, 1))
    tmp494 += np.transpose(tmp428, (1, 0)) * -1
    tmp429 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t2.aaaa, (0, 2, 4, 1), (4, 3)) * -1
    tmp494 += tmp429 * 2
    tmp430 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 3), (2, 4))
    tmp494 += tmp430
    tmp168 = np.copy(v.aaaa.ovvv)
    tmp168 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)) * -1
    tmp493 = einsum(tmp168, (0, 1, 2, 3), t1.aa, (0, 1), (2, 3))
    tmp494 += np.transpose(tmp493, (1, 0)) * -1
    del tmp493
    tmp432 = einsum(t1.aa, (0, 1), tmp25, (0, 2), (1, 2))
    tmp494 += tmp432
    tmp644 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp494, (2, 6), (3, 4, 5, 0, 1, 6)) * 3
    l3new.aaaaaa += np.transpose(tmp644, (5, 3, 4, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp643, (5, 4, 3, 1, 2, 0))
    del tmp643
    l3new.aaaaaa += np.transpose(tmp644, (5, 3, 4, 1, 2, 0)) * -1
    tmp645 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 7, 1, 2), (3, 4, 5, 6, 7, 0))
    tmp646 = einsum(tmp645, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (3, 6, 4, 7), (0, 1, 2, 5, 7, 6)) * -1
    del tmp645
    l3new.aaaaaa += np.transpose(tmp646, (5, 4, 3, 1, 2, 0)) * -1.5
    tmp647 = np.copy(v.aaaa.ovvv) * 2
    tmp9 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t1.aa, (2, 4), (0, 4, 1, 3))
    tmp647 += np.transpose(tmp9, (0, 2, 1, 3)) * -1
    tmp81 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t1.aa, (6, 2), (3, 5, 4, 6, 0, 1)) * -1
    tmp648 = einsum(tmp647, (0, 1, 2, 3), tmp81, (4, 5, 6, 0, 7, 2), (4, 5, 6, 7, 1, 3)) * 1.5
    del tmp647
    l3new.aaaaaa += np.transpose(tmp648, (5, 4, 3, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp644, (3, 5, 4, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp646, (5, 4, 3, 1, 2, 0)) * -1.5
    l3new.aaaaaa += np.transpose(tmp648, (5, 4, 3, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp644, (3, 5, 4, 1, 2, 0))
    del tmp644
    l3new.aaaaaa += np.transpose(tmp646, (5, 3, 4, 1, 2, 0)) * 1.5
    l3new.aaaaaa += np.transpose(tmp648, (5, 3, 4, 1, 2, 0))
    tmp433 = np.copy(f.aa.vv) * -1
    tmp433 += np.transpose(tmp428, (1, 0)) * -1
    del tmp428
    tmp433 += np.transpose(tmp429, (1, 0)) * 2
    del tmp429
    tmp433 += np.transpose(tmp430, (1, 0))
    del tmp430
    tmp109 = np.copy(v.aaaa.ovvv)
    tmp109 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)) * -1
    tmp431 = einsum(tmp109, (0, 1, 2, 3), t1.aa, (0, 1), (2, 3))
    tmp433 += np.transpose(tmp431, (1, 0)) * -1
    del tmp431
    tmp433 += np.transpose(tmp432, (1, 0))
    del tmp432
    tmp649 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp433, (6, 2), (3, 4, 5, 0, 1, 6)) * 3
    l3new.aaaaaa += np.transpose(tmp649, (3, 4, 5, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp646, (5, 3, 4, 1, 2, 0)) * 1.5
    l3new.aaaaaa += np.transpose(tmp648, (5, 3, 4, 1, 2, 0))
    del tmp648
    l3new.aaaaaa += np.transpose(tmp649, (3, 4, 5, 1, 2, 0)) * -1
    del tmp649
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 3, 4, 5, 0, 2))
    tmp650 = einsum(v.aaaa.ooov, (0, 1, 2, 3), l2.aaaa, (4, 5, 6, 1), (6, 0, 2, 4, 5, 3))
    l3new.aaaaaa += np.transpose(tmp650, (5, 4, 3, 0, 2, 1)) * -2
    tmp190 = einsum(t1.aa, (0, 1), l2.aaaa, (2, 3, 4, 0), (4, 2, 3, 1))
    tmp192 = np.copy(np.transpose(tmp190, (0, 2, 1, 3))) * -1
    tmp158 = einsum(t2.aaaa, (0, 1, 2, 3), l3.aaaaaa, (4, 5, 3, 6, 0, 1), (6, 4, 5, 2))
    tmp192 += np.transpose(tmp158, (0, 2, 1, 3)) * -3
    tmp191 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 3, 5, 0, 1, 6), (6, 4, 5, 2)) * -1
    tmp192 += np.transpose(tmp191, (0, 2, 1, 3)) * -1
    tmp651 = einsum(tmp192, (0, 1, 2, 3), v.aaaa.ovov, (4, 3, 5, 6), (0, 4, 5, 1, 2, 6)) * 2
    l3new.aaaaaa += np.transpose(tmp651, (5, 3, 4, 0, 2, 1))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (3, 1, 4, 5, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (3, 5, 4, 0, 2, 1)) * -2
    l3new.aaaaaa += np.transpose(tmp651, (3, 5, 4, 0, 2, 1)) * -1
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 3, 4, 0, 5, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (5, 4, 3, 2, 0, 1)) * 2
    l3new.aaaaaa += np.transpose(tmp651, (5, 3, 4, 2, 0, 1)) * -1
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (3, 1, 4, 0, 5, 2))
    l3new.aaaaaa += np.transpose(tmp650, (3, 5, 4, 2, 0, 1)) * 2
    l3new.aaaaaa += np.transpose(tmp651, (3, 5, 4, 2, 0, 1))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 4, 3, 5, 0, 2)) * -1
    l3new.aaaaaa += einsum(l1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 5), (5, 0, 3, 1, 2, 4))
    l3new.aaaaaa += np.transpose(tmp650, (3, 4, 5, 0, 2, 1)) * 2
    l3new.aaaaaa += np.transpose(tmp651, (3, 4, 5, 0, 2, 1))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 4, 3, 0, 5, 2))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (3, 4, 1, 0, 5, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (3, 4, 5, 2, 0, 1)) * -2
    l3new.aaaaaa += np.transpose(tmp651, (3, 4, 5, 2, 0, 1)) * -1
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 3, 4, 0, 2, 5))
    l3new.aaaaaa += np.transpose(tmp650, (5, 4, 3, 2, 1, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp651, (5, 3, 4, 2, 1, 0))
    l3new.aaaaaa += einsum(l1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 5), (5, 3, 0, 2, 4, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (3, 5, 4, 2, 1, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp651, (3, 5, 4, 2, 1, 0)) * -1
    l3new.aaaaaa += einsum(l1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 5), (3, 0, 5, 2, 4, 1)) * -1
    l3new.aaaaaa += einsum(l1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 5), (5, 0, 3, 2, 4, 1))
    l3new.aaaaaa += np.transpose(tmp650, (3, 4, 5, 2, 1, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp651, (3, 4, 5, 2, 1, 0))
    del tmp651
    l3new.aaaaaa += einsum(l1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 5), (0, 3, 5, 1, 2, 4))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (4, 3, 1, 5, 0, 2)) * -1
    l3new.aaaaaa += einsum(l1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 5), (0, 3, 5, 2, 1, 4)) * -1
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (4, 3, 1, 0, 5, 2))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (4, 1, 3, 0, 2, 5))
    l3new.aaaaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (4, 3, 1, 0, 2, 5)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (5, 4, 3, 0, 1, 2)) * 2
    tmp652 = np.copy(v.aaaa.oooo)
    tmp29 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp652 += np.transpose(tmp29, (2, 1, 3, 0))
    tmp652 += np.transpose(tmp29, (2, 3, 1, 0)) * -1
    tmp449 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp448, (4, 5, 1, 3), (4, 5, 0, 2))
    tmp652 += np.transpose(tmp449, (1, 3, 2, 0))
    tmp653 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp652, (5, 6, 7, 4), (3, 6, 7, 0, 1, 2)) * 6
    del tmp652
    l3new.aaaaaa += np.transpose(tmp653, (4, 5, 3, 0, 2, 1))
    tmp654 = einsum(tmp192, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 6, 3), (0, 4, 6, 1, 2, 5)) * 2
    l3new.aaaaaa += np.transpose(tmp654, (5, 3, 4, 0, 2, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (5, 4, 3, 1, 0, 2)) * -2
    l3new.aaaaaa += np.transpose(tmp653, (4, 5, 3, 2, 0, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp654, (5, 3, 4, 2, 0, 1))
    l3new.aaaaaa += np.transpose(tmp650, (3, 5, 4, 0, 1, 2)) * 2
    l3new.aaaaaa += np.transpose(tmp654, (3, 5, 4, 0, 2, 1))
    l3new.aaaaaa += np.transpose(tmp650, (3, 5, 4, 1, 0, 2)) * -2
    l3new.aaaaaa += np.transpose(tmp654, (3, 5, 4, 2, 0, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (5, 4, 3, 1, 2, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp653, (4, 5, 3, 2, 1, 0))
    del tmp653
    l3new.aaaaaa += np.transpose(tmp654, (5, 3, 4, 2, 1, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (3, 5, 4, 1, 2, 0)) * 2
    tmp655 = np.copy(np.transpose(tmp190, (0, 2, 1, 3))) * -0.3333333333333333
    tmp655 += np.transpose(tmp158, (0, 2, 1, 3)) * -1
    tmp655 += np.transpose(tmp191, (0, 2, 1, 3)) * -0.3333333333333333
    tmp656 = einsum(tmp655, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 6, 3), (0, 4, 6, 1, 2, 5)) * 6
    del tmp655
    l3new.aaaaaa += np.transpose(tmp656, (3, 5, 4, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp650, (3, 4, 5, 0, 1, 2)) * -2
    l3new.aaaaaa += np.transpose(tmp654, (3, 4, 5, 0, 2, 1)) * -1
    l3new.aaaaaa += np.transpose(tmp650, (3, 4, 5, 1, 0, 2)) * 2
    l3new.aaaaaa += np.transpose(tmp654, (3, 4, 5, 2, 0, 1))
    del tmp654
    l3new.aaaaaa += np.transpose(tmp650, (3, 4, 5, 1, 2, 0)) * -2
    del tmp650
    l3new.aaaaaa += np.transpose(tmp656, (3, 4, 5, 2, 1, 0)) * -1
    del tmp656
    l3new.aaaaaa += np.transpose(tmp623, (4, 3, 5, 1, 0, 2)) * -2
    l3new.aaaaaa += np.transpose(tmp635, (5, 3, 4, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp623, (4, 3, 5, 1, 2, 0)) * 2
    tmp657 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -0.3333333333333333
    tmp657 += tmp88
    tmp657 += tmp89 * 0.16666666666666666
    tmp658 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp657, (4, 5, 2, 6), (4, 5, 0, 6, 3, 1)) * 6
    del tmp657
    l3new.aaaaaa += np.transpose(tmp658, (5, 3, 4, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp623, (4, 3, 5, 2, 1, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp658, (5, 3, 4, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp623, (3, 4, 5, 1, 0, 2)) * 2
    l3new.aaaaaa += np.transpose(tmp635, (3, 5, 4, 1, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp623, (3, 5, 4, 1, 0, 2)) * -2
    l3new.aaaaaa += np.transpose(tmp635, (3, 4, 5, 1, 0, 2))
    del tmp635
    l3new.aaaaaa += np.transpose(tmp623, (3, 4, 5, 1, 2, 0)) * -2
    l3new.aaaaaa += np.transpose(tmp658, (3, 5, 4, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp623, (3, 5, 4, 1, 2, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp658, (3, 4, 5, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp623, (3, 4, 5, 2, 1, 0)) * 2
    l3new.aaaaaa += np.transpose(tmp658, (3, 5, 4, 2, 1, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp623, (3, 5, 4, 2, 1, 0)) * -2
    del tmp623
    l3new.aaaaaa += np.transpose(tmp658, (3, 4, 5, 2, 1, 0))
    del tmp658
    tmp659 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp89, (4, 5, 2, 6), (4, 5, 0, 6, 1, 3))
    l3new.aaaaaa += np.transpose(tmp659, (4, 5, 3, 1, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (5, 4, 3, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp659, (4, 5, 3, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp629, (5, 4, 3, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (5, 4, 3, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp629, (4, 5, 3, 1, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (5, 4, 3, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (4, 5, 3, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp659, (4, 5, 3, 2, 1, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (5, 4, 3, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp659, (5, 4, 3, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp629, (4, 5, 3, 2, 1, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (5, 3, 4, 1, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (4, 3, 5, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp659, (5, 3, 4, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp629, (4, 3, 5, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (5, 3, 4, 2, 1, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp629, (4, 3, 5, 2, 1, 0))
    del tmp629
    tmp661 = np.copy(v.aaaa.vvvv) * 2
    tmp661 += np.transpose(tmp640, (3, 2, 1, 0)) * -2
    del tmp640
    tmp660 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp448, (0, 2, 4, 5), (4, 5, 1, 3))
    del tmp448
    tmp661 += np.transpose(tmp660, (1, 3, 2, 0))
    del tmp660
    tmp662 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp661, (1, 6, 7, 2), (3, 5, 4, 0, 6, 7)) * 1.5
    del tmp661
    l3new.aaaaaa += np.transpose(tmp662, (5, 3, 4, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp662, (5, 3, 4, 1, 2, 0)) * -1
    del tmp662
    tmp666 = np.copy(v.aaaa.vvvv) * 2
    tmp663 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (0, 4, 1, 5), (2, 3, 5, 4)) * -1
    tmp666 += np.transpose(tmp663, (1, 3, 0, 2))
    del tmp663
    tmp664 = np.copy(v.aaaa.ovvv)
    tmp664 += np.transpose(tmp9, (0, 2, 3, 1)) * -0.5
    tmp665 = einsum(t1.aa, (0, 1), tmp664, (0, 2, 3, 4), (1, 2, 3, 4)) * 2
    del tmp664
    tmp666 += np.transpose(tmp665, (3, 1, 0, 2))
    del tmp665
    tmp667 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp666, (1, 6, 2, 7), (3, 5, 4, 0, 6, 7)) * 1.5
    l3new.aaaaaa += np.transpose(tmp667, (3, 4, 5, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp667, (3, 4, 5, 1, 2, 0)) * -1
    del tmp667
    l3new.aaaaaa += np.transpose(tmp646, (3, 5, 4, 1, 2, 0)) * -1.5
    tmp668 = np.copy(v.aaaa.ovvv) * 2
    tmp668 += np.transpose(tmp9, (0, 3, 1, 2))
    tmp669 = einsum(tmp668, (0, 1, 2, 3), tmp81, (4, 5, 6, 0, 7, 2), (4, 5, 6, 7, 1, 3)) * 1.5
    l3new.aaaaaa += np.transpose(tmp669, (3, 5, 4, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp646, (3, 5, 4, 1, 2, 0)) * -1.5
    del tmp646
    l3new.aaaaaa += np.transpose(tmp669, (3, 5, 4, 1, 2, 0)) * -1
    del tmp669
    l3new.aaaaaa += np.transpose(tmp659, (4, 3, 5, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp659, (4, 3, 5, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (4, 3, 5, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp659, (3, 5, 4, 1, 0, 2))
    l3new.aaaaaa += np.transpose(tmp659, (3, 4, 5, 1, 0, 2)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (3, 5, 4, 1, 2, 0)) * -1
    l3new.aaaaaa += np.transpose(tmp659, (3, 4, 5, 1, 2, 0))
    l3new.aaaaaa += np.transpose(tmp659, (3, 5, 4, 2, 1, 0))
    l3new.aaaaaa += np.transpose(tmp659, (3, 4, 5, 2, 1, 0)) * -1
    del tmp659
    tmp770 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), l2.bbbb, (4, 3, 5, 6), (5, 6, 0, 4, 1, 2))
    l3new.bbbbbb = np.copy(np.transpose(tmp770, (4, 5, 3, 1, 0, 2))) * 2
    tmp677 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp677 += v.bbbb.oovv * -1
    tmp227 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 5), (1, 4, 3, 5))
    tmp677 += tmp227
    tmp456 = np.copy(t2.bbbb) * 2
    tmp456 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (2, 0, 1, 3)) * -1
    tmp228 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1))) * -1
    tmp228 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp676 = einsum(tmp456, (0, 1, 2, 3), tmp228, (0, 4, 5, 2), (4, 1, 5, 3))
    tmp677 += np.transpose(tmp676, (1, 0, 3, 2)) * -1
    del tmp676
    tmp230 = np.copy(v.bbbb.ovvv) * -1
    tmp230 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))
    tmp231 = einsum(tmp230, (0, 1, 2, 3), t1.bb, (4, 2), (4, 0, 1, 3))
    tmp677 += np.transpose(tmp231, (0, 1, 3, 2)) * -1
    tmp288 = np.copy(v.bbbb.ooov) * -1
    tmp288 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))
    tmp465 = einsum(t1.bb, (0, 1), tmp288, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp677 += np.transpose(tmp465, (1, 0, 2, 3)) * -1
    tmp771 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp677, (5, 6, 2, 7), (3, 4, 6, 0, 1, 7)) * 6
    l3new.bbbbbb += np.transpose(tmp771, (5, 3, 4, 0, 1, 2))
    tmp680 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp233 = einsum(t1.aa, (0, 1), v.aabb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp680 += tmp233 * -1
    tmp507 = einsum(t1.aa, (0, 1), v.aabb.vvov, (2, 1, 3, 4), (0, 3, 2, 4))
    tmp680 += tmp507
    tmp235 = einsum(t2.abab, (0, 1, 2, 3), tmp228, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp680 += tmp235 * -1
    tmp679 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp307, (0, 4, 1, 5), (4, 2, 5, 3))
    tmp680 += tmp679
    del tmp679
    tmp772 = einsum(tmp680, (0, 1, 2, 3), l3.babbab, (4, 2, 5, 6, 0, 7), (6, 7, 1, 4, 5, 3))
    l3new.bbbbbb += np.transpose(tmp772, (5, 4, 3, 1, 0, 2))
    tmp773 = np.copy(f.bb.oo) * 0.5
    tmp293 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (0, 1, 2, 3), (2, 3))
    tmp773 += np.transpose(tmp293, (1, 0)) * 0.5
    tmp294 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 3), (1, 4))
    tmp773 += tmp294 * 0.5
    tmp295 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 2, 1, 3), (0, 4))
    tmp773 += tmp295
    tmp296 = np.copy(v.bbbb.ooov)
    tmp296 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)) * -1
    tmp773 += einsum(t1.bb, (0, 1), tmp296, (0, 2, 3, 1), (2, 3)) * -0.5
    tmp239 = np.copy(f.bb.ov)
    tmp237 = einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 1, 2, 3), (2, 3))
    tmp239 += tmp237
    del tmp237
    tmp238 = einsum(tmp228, (0, 1, 2, 3), t1.bb, (0, 3), (1, 2))
    tmp239 += tmp238 * -1
    del tmp238
    tmp773 += einsum(t1.bb, (0, 1), tmp239, (2, 1), (0, 2)) * 0.5
    l3new.bbbbbb += einsum(tmp773, (0, 1), l3.bbbbbb, (2, 3, 4, 5, 6, 0), (2, 3, 4, 5, 6, 1)) * -12
    del tmp773
    tmp125 = einsum(l2.bbbb, (0, 1, 2, 3), t1.bb, (4, 1), (2, 3, 4, 0))
    tmp599 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * -2
    tmp126 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (4, 6, 1, 2), (5, 3, 6, 0)) * -1
    tmp599 += tmp126
    tmp127 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t2.bbbb, (6, 4, 1, 2), (3, 5, 6, 0)) * -1
    tmp599 += tmp127 * 6
    tmp774 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp599, (4, 5, 2, 6), (0, 4, 5, 3, 1, 6))
    l3new.bbbbbb += np.transpose(tmp774, (4, 3, 5, 2, 1, 0)) * -1
    l3new.bbbbbb += einsum(tmp239, (0, 1), l2.bbbb, (2, 3, 4, 5), (1, 2, 3, 4, 5, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp770, (4, 5, 3, 1, 2, 0)) * -2
    l3new.bbbbbb += np.transpose(tmp771, (5, 3, 4, 0, 2, 1)) * -1
    tmp725 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3))) * 0.5
    tmp725 += tmp233 * -0.5
    tmp725 += tmp507 * 0.5
    tmp723 = einsum(t2.abab, (0, 1, 2, 3), tmp228, (1, 4, 5, 3), (0, 4, 2, 5)) * 0.5
    tmp725 += tmp723 * -1
    del tmp723
    tmp724 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp307, (0, 4, 1, 5), (4, 2, 5, 3)) * 0.5
    tmp725 += tmp724
    del tmp724
    tmp775 = einsum(tmp725, (0, 1, 2, 3), l3.babbab, (4, 2, 5, 6, 0, 7), (6, 7, 1, 4, 5, 3)) * 2
    l3new.bbbbbb += np.transpose(tmp775, (5, 4, 3, 1, 2, 0)) * -1
    tmp299 = np.copy(f.bb.oo)
    tmp299 += np.transpose(tmp293, (1, 0))
    del tmp293
    tmp299 += tmp294
    del tmp294
    tmp299 += tmp295 * 2
    del tmp295
    tmp297 = einsum(t1.bb, (0, 1), tmp296, (0, 2, 3, 1), (2, 3))
    del tmp296
    tmp299 += tmp297 * -1
    del tmp297
    tmp298 = einsum(t1.bb, (0, 1), tmp239, (2, 1), (0, 2))
    tmp299 += tmp298
    del tmp298
    tmp776 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp299, (5, 6), (3, 4, 6, 0, 1, 2)) * 6
    l3new.bbbbbb += np.transpose(tmp776, (4, 5, 3, 0, 2, 1))
    tmp764 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * -0.3333333333333333
    tmp764 += tmp126 * 0.16666666666666666
    tmp764 += tmp127
    tmp777 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp764, (4, 5, 2, 6), (0, 4, 5, 3, 1, 6)) * 6
    l3new.bbbbbb += np.transpose(tmp777, (4, 3, 5, 2, 0, 1))
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (5, 0, 1, 2, 4, 3)) * -2
    l3new.bbbbbb += np.transpose(tmp770, (5, 4, 3, 1, 0, 2)) * -2
    l3new.bbbbbb += np.transpose(tmp771, (3, 5, 4, 0, 1, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp772, (4, 5, 3, 1, 0, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp774, (3, 4, 5, 2, 1, 0))
    l3new.bbbbbb += einsum(tmp239, (0, 1), l2.bbbb, (2, 3, 4, 5), (2, 1, 3, 4, 5, 0)) * -2
    l3new.bbbbbb += np.transpose(tmp770, (5, 4, 3, 1, 2, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp771, (3, 5, 4, 0, 2, 1))
    l3new.bbbbbb += np.transpose(tmp775, (4, 5, 3, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp777, (3, 4, 5, 2, 0, 1)) * -1
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (0, 5, 1, 2, 4, 3)) * 2
    l3new.bbbbbb += np.transpose(tmp770, (4, 5, 3, 2, 1, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp771, (5, 3, 4, 2, 0, 1))
    l3new.bbbbbb += np.transpose(tmp775, (5, 4, 3, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp776, (4, 5, 3, 2, 0, 1)) * -1
    del tmp776
    l3new.bbbbbb += np.transpose(tmp777, (4, 3, 5, 0, 2, 1)) * -1
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (5, 0, 1, 4, 2, 3)) * 2
    l3new.bbbbbb += np.transpose(tmp770, (5, 4, 3, 2, 1, 0)) * -2
    l3new.bbbbbb += np.transpose(tmp771, (3, 5, 4, 2, 0, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp775, (4, 5, 3, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp777, (3, 4, 5, 0, 2, 1))
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (0, 5, 1, 4, 2, 3)) * -2
    l3new.bbbbbb += np.transpose(tmp770, (5, 3, 4, 1, 0, 2)) * 2
    l3new.bbbbbb += np.transpose(tmp771, (3, 4, 5, 0, 1, 2))
    del tmp771
    l3new.bbbbbb += np.transpose(tmp772, (4, 3, 5, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp774, (3, 5, 4, 2, 1, 0)) * -1
    del tmp774
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (0, 1, 5, 2, 3, 4)) * 2
    l3new.bbbbbb += np.transpose(tmp770, (5, 3, 4, 1, 2, 0)) * -2
    tmp780 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1)))
    tmp780 += v.bbbb.oovv * -1
    tmp780 += np.transpose(tmp227, (0, 1, 3, 2))
    tmp778 = einsum(tmp165, (0, 1, 2, 3), tmp228, (0, 4, 2, 5), (1, 4, 3, 5)) * 2
    tmp780 += np.transpose(tmp778, (0, 1, 3, 2))
    del tmp778
    tmp780 += tmp231 * -1
    tmp779 = einsum(t1.bb, (0, 1), tmp288, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp780 += np.transpose(tmp779, (0, 1, 3, 2))
    del tmp779
    tmp781 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp780, (5, 6, 7, 2), (3, 4, 6, 0, 1, 7)) * 6
    del tmp780
    l3new.bbbbbb += np.transpose(tmp781, (3, 4, 5, 0, 2, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp775, (4, 3, 5, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp777, (3, 5, 4, 2, 0, 1))
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (0, 1, 5, 2, 4, 3)) * -2
    l3new.bbbbbb += np.transpose(tmp770, (5, 3, 4, 2, 1, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp781, (3, 4, 5, 2, 0, 1))
    del tmp781
    l3new.bbbbbb += np.transpose(tmp775, (4, 3, 5, 2, 1, 0))
    del tmp775
    l3new.bbbbbb += np.transpose(tmp777, (3, 5, 4, 0, 2, 1)) * -1
    l3new.bbbbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp239, (4, 5), (0, 1, 5, 4, 2, 3)) * 2
    tmp784 = np.copy(v.bbbb.vvvv) * 2
    tmp782 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t1.bb, (0, 4), (4, 1, 2, 3))
    tmp784 += np.transpose(tmp782, (3, 2, 1, 0)) * -2
    tmp604 = np.copy(t2.bbbb)
    tmp604 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    tmp783 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp604, (0, 2, 4, 5), (1, 3, 4, 5))
    tmp784 += np.transpose(tmp783, (3, 1, 0, 2))
    del tmp783
    tmp785 = einsum(tmp784, (0, 1, 2, 3), l3.bbbbbb, (4, 0, 3, 5, 6, 7), (5, 7, 6, 4, 1, 2)) * 1.5
    del tmp784
    l3new.bbbbbb += np.transpose(tmp785, (5, 4, 3, 1, 2, 0))
    tmp531 = np.copy(f.bb.vv) * -1
    tmp526 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (0, 1, 2, 3), (2, 3))
    tmp531 += np.transpose(tmp526, (1, 0)) * -1
    tmp527 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 1, 4), (3, 4))
    tmp531 += tmp527
    tmp528 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t2.bbbb, (0, 2, 4, 1), (4, 3)) * -1
    tmp531 += tmp528 * 2
    tmp310 = np.copy(v.bbbb.ovvv)
    tmp310 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)) * -1
    tmp529 = einsum(tmp310, (0, 1, 2, 3), t1.bb, (0, 1), (2, 3))
    tmp531 += np.transpose(tmp529, (1, 0)) * -1
    del tmp529
    tmp530 = einsum(tmp239, (0, 1), t1.bb, (0, 2), (2, 1))
    tmp531 += tmp530
    tmp786 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp531, (2, 6), (3, 4, 5, 0, 1, 6)) * 3
    l3new.bbbbbb += np.transpose(tmp786, (5, 3, 4, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp785, (5, 4, 3, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp786, (5, 3, 4, 1, 2, 0)) * -1
    tmp787 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t2.bbbb, (6, 7, 1, 2), (3, 4, 5, 6, 7, 0))
    tmp788 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp787, (4, 5, 6, 0, 2, 7), (4, 5, 6, 7, 3, 1)) * -1
    del tmp787
    l3new.bbbbbb += np.transpose(tmp788, (5, 4, 3, 1, 2, 0)) * -1.5
    tmp789 = np.copy(v.bbbb.ovvv) * 2
    tmp225 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 4, 1, 3))
    tmp789 += np.transpose(tmp225, (0, 2, 1, 3)) * -1
    tmp119 = einsum(t1.bb, (0, 1), l3.bbbbbb, (2, 3, 1, 4, 5, 6), (4, 6, 5, 0, 2, 3)) * -1
    tmp790 = einsum(tmp119, (0, 1, 2, 3, 4, 5), tmp789, (3, 6, 5, 7), (0, 1, 2, 4, 6, 7)) * 1.5
    del tmp789
    l3new.bbbbbb += np.transpose(tmp790, (5, 4, 3, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp786, (3, 5, 4, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp788, (5, 4, 3, 1, 2, 0)) * -1.5
    tmp743 = np.copy(v.bbbb.ovvv) * 2
    tmp743 += np.transpose(tmp225, (0, 3, 1, 2))
    tmp791 = einsum(tmp119, (0, 1, 2, 3, 4, 5), tmp743, (3, 6, 5, 7), (0, 1, 2, 4, 6, 7)) * 1.5
    l3new.bbbbbb += np.transpose(tmp791, (5, 4, 3, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp786, (3, 5, 4, 1, 2, 0))
    del tmp786
    l3new.bbbbbb += np.transpose(tmp788, (5, 3, 4, 1, 2, 0)) * 1.5
    l3new.bbbbbb += np.transpose(tmp791, (5, 3, 4, 1, 2, 0))
    tmp608 = np.copy(f.bb.vv) * -1
    tmp608 += np.transpose(tmp526, (1, 0)) * -1
    del tmp526
    tmp608 += np.transpose(tmp527, (1, 0))
    del tmp527
    tmp608 += np.transpose(tmp528, (1, 0)) * 2
    del tmp528
    tmp607 = einsum(tmp230, (0, 1, 2, 3), t1.bb, (0, 2), (1, 3))
    del tmp230
    tmp608 += tmp607 * -1
    del tmp607
    tmp608 += np.transpose(tmp530, (1, 0))
    del tmp530
    tmp792 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp608, (6, 2), (3, 4, 5, 0, 1, 6)) * 3
    l3new.bbbbbb += np.transpose(tmp792, (3, 4, 5, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp788, (5, 3, 4, 1, 2, 0)) * 1.5
    l3new.bbbbbb += np.transpose(tmp790, (5, 3, 4, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp792, (3, 4, 5, 1, 2, 0)) * -1
    del tmp792
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (1, 3, 4, 5, 0, 2))
    tmp793 = einsum(l2.bbbb, (0, 1, 2, 3), v.bbbb.ooov, (4, 3, 5, 6), (2, 4, 5, 0, 1, 6))
    l3new.bbbbbb += np.transpose(tmp793, (5, 4, 3, 0, 2, 1)) * -2
    tmp330 = einsum(t1.bb, (0, 1), l2.bbbb, (2, 3, 4, 0), (4, 2, 3, 1))
    tmp561 = np.copy(np.transpose(tmp330, (0, 2, 1, 3))) * -1
    tmp331 = einsum(t2.abab, (0, 1, 2, 3), l3.babbab, (4, 2, 5, 6, 0, 1), (6, 4, 5, 3))
    tmp561 += np.transpose(tmp331, (0, 2, 1, 3)) * -1
    tmp300 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t2.bbbb, (5, 4, 6, 2), (3, 0, 1, 6)) * -1
    tmp561 += np.transpose(tmp300, (0, 2, 1, 3)) * -3
    tmp794 = einsum(tmp561, (0, 1, 2, 3), v.bbbb.ovov, (4, 3, 5, 6), (4, 5, 0, 6, 1, 2)) * 2
    l3new.bbbbbb += np.transpose(tmp794, (3, 4, 5, 2, 1, 0))
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (5, 3, 0, 1, 2, 4)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (3, 5, 4, 0, 2, 1)) * -2
    l3new.bbbbbb += np.transpose(tmp794, (4, 3, 5, 2, 1, 0)) * -1
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (1, 3, 4, 0, 5, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (5, 4, 3, 2, 0, 1)) * 2
    l3new.bbbbbb += np.transpose(tmp794, (3, 4, 5, 1, 2, 0)) * -1
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (3, 1, 4, 0, 5, 2))
    l3new.bbbbbb += np.transpose(tmp793, (3, 5, 4, 2, 0, 1)) * 2
    l3new.bbbbbb += np.transpose(tmp794, (4, 3, 5, 1, 2, 0))
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (1, 4, 3, 5, 0, 2)) * -1
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (3, 4, 1, 5, 0, 2))
    l3new.bbbbbb += np.transpose(tmp793, (3, 4, 5, 0, 2, 1)) * 2
    l3new.bbbbbb += np.transpose(tmp794, (4, 5, 3, 2, 1, 0))
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (3, 0, 5, 2, 1, 4))
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (5, 0, 3, 2, 1, 4)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (3, 4, 5, 2, 0, 1)) * -2
    l3new.bbbbbb += np.transpose(tmp794, (4, 5, 3, 1, 2, 0)) * -1
    del tmp794
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (1, 3, 4, 0, 2, 5))
    l3new.bbbbbb += np.transpose(tmp793, (5, 4, 3, 2, 1, 0)) * -2
    tmp795 = np.copy(np.transpose(tmp330, (0, 2, 1, 3))) * -0.3333333333333333
    tmp795 += np.transpose(tmp331, (0, 2, 1, 3)) * -0.3333333333333333
    tmp795 += np.transpose(tmp300, (0, 2, 1, 3)) * -1
    tmp796 = einsum(tmp795, (0, 1, 2, 3), v.bbbb.ovov, (4, 3, 5, 6), (4, 5, 0, 6, 1, 2)) * 6
    l3new.bbbbbb += np.transpose(tmp796, (3, 4, 5, 1, 0, 2))
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (5, 3, 0, 2, 4, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (3, 5, 4, 2, 1, 0)) * -2
    l3new.bbbbbb += np.transpose(tmp796, (4, 3, 5, 1, 0, 2)) * -1
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (3, 0, 5, 2, 4, 1)) * -1
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (3, 4, 1, 0, 2, 5))
    l3new.bbbbbb += np.transpose(tmp793, (3, 4, 5, 2, 1, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp796, (4, 5, 3, 1, 0, 2))
    del tmp796
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (4, 1, 3, 5, 0, 2))
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (4, 3, 1, 5, 0, 2)) * -1
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (4, 1, 3, 0, 5, 2)) * -1
    l3new.bbbbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (4, 3, 1, 0, 5, 2))
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (0, 3, 5, 2, 4, 1))
    l3new.bbbbbb += einsum(l1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (0, 5, 3, 2, 4, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (5, 4, 3, 0, 1, 2)) * 2
    tmp797 = np.copy(v.bbbb.oooo)
    tmp243 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 5, 1, 3), (4, 5, 0, 2))
    tmp797 += np.transpose(tmp243, (1, 3, 2, 0))
    tmp218 = einsum(t1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    tmp244 = einsum(tmp218, (0, 1, 2, 3), t1.bb, (4, 3), (4, 0, 1, 2))
    tmp797 += np.transpose(tmp244, (0, 2, 3, 1))
    tmp245 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t1.bb, (4, 3), (4, 0, 1, 2))
    tmp797 += np.transpose(tmp245, (2, 1, 3, 0))
    tmp797 += np.transpose(tmp245, (2, 3, 1, 0)) * -1
    tmp798 = einsum(tmp797, (0, 1, 2, 3), l3.bbbbbb, (4, 5, 6, 7, 3, 0), (7, 1, 2, 4, 5, 6)) * 6
    del tmp797
    l3new.bbbbbb += np.transpose(tmp798, (4, 5, 3, 0, 2, 1))
    tmp799 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp561, (4, 5, 6, 3), (0, 2, 4, 1, 5, 6)) * 2
    l3new.bbbbbb += np.transpose(tmp799, (3, 4, 5, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (5, 4, 3, 1, 0, 2)) * -2
    l3new.bbbbbb += np.transpose(tmp798, (4, 5, 3, 2, 0, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp799, (3, 4, 5, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp793, (3, 5, 4, 0, 1, 2)) * 2
    l3new.bbbbbb += np.transpose(tmp799, (4, 3, 5, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp793, (3, 5, 4, 1, 0, 2)) * -2
    l3new.bbbbbb += np.transpose(tmp799, (4, 3, 5, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (5, 4, 3, 1, 2, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp798, (4, 5, 3, 2, 1, 0))
    del tmp798
    tmp800 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp795, (4, 5, 6, 3), (0, 2, 4, 1, 5, 6)) * 6
    del tmp795
    l3new.bbbbbb += np.transpose(tmp800, (3, 4, 5, 1, 0, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (3, 5, 4, 1, 2, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp800, (4, 3, 5, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp793, (3, 4, 5, 0, 1, 2)) * -2
    l3new.bbbbbb += np.transpose(tmp799, (4, 5, 3, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp793, (3, 4, 5, 1, 0, 2)) * 2
    l3new.bbbbbb += np.transpose(tmp799, (4, 5, 3, 1, 2, 0))
    del tmp799
    l3new.bbbbbb += np.transpose(tmp793, (3, 4, 5, 1, 2, 0)) * -2
    del tmp793
    l3new.bbbbbb += np.transpose(tmp800, (4, 5, 3, 1, 0, 2)) * -1
    del tmp800
    l3new.bbbbbb += np.transpose(tmp770, (4, 3, 5, 1, 0, 2)) * -2
    tmp730 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * -1
    tmp730 += tmp126 * 0.5
    tmp730 += tmp127 * 3
    tmp801 = einsum(tmp730, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 2, 6), (4, 0, 1, 6, 5, 3)) * 2
    l3new.bbbbbb += np.transpose(tmp801, (4, 5, 3, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp770, (4, 3, 5, 1, 2, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp777, (4, 5, 3, 2, 0, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp770, (4, 3, 5, 2, 1, 0)) * -2
    l3new.bbbbbb += np.transpose(tmp777, (4, 5, 3, 0, 2, 1))
    l3new.bbbbbb += np.transpose(tmp770, (3, 4, 5, 1, 0, 2)) * 2
    l3new.bbbbbb += np.transpose(tmp801, (5, 4, 3, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp770, (3, 5, 4, 1, 0, 2)) * -2
    l3new.bbbbbb += np.transpose(tmp801, (5, 3, 4, 2, 1, 0))
    del tmp801
    l3new.bbbbbb += np.transpose(tmp770, (3, 4, 5, 1, 2, 0)) * -2
    l3new.bbbbbb += np.transpose(tmp777, (5, 4, 3, 2, 0, 1))
    l3new.bbbbbb += np.transpose(tmp770, (3, 5, 4, 1, 2, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp777, (5, 3, 4, 2, 0, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp770, (3, 4, 5, 2, 1, 0)) * 2
    l3new.bbbbbb += np.transpose(tmp777, (5, 4, 3, 0, 2, 1)) * -1
    l3new.bbbbbb += np.transpose(tmp770, (3, 5, 4, 2, 1, 0)) * -2
    del tmp770
    l3new.bbbbbb += np.transpose(tmp777, (5, 3, 4, 0, 2, 1))
    del tmp777
    tmp802 = einsum(tmp126, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 2, 6), (0, 1, 4, 3, 5, 6))
    l3new.bbbbbb += np.transpose(tmp802, (4, 5, 3, 1, 0, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp772, (5, 4, 3, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp802, (4, 5, 3, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp772, (5, 4, 3, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (5, 4, 3, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp772, (4, 5, 3, 1, 0, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (5, 4, 3, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp772, (4, 5, 3, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp802, (4, 5, 3, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp772, (5, 4, 3, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp802, (5, 4, 3, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp772, (4, 5, 3, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (5, 3, 4, 1, 0, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp772, (4, 3, 5, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp802, (5, 3, 4, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp772, (4, 3, 5, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (5, 3, 4, 2, 1, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp772, (4, 3, 5, 2, 1, 0))
    del tmp772
    l3new.bbbbbb += np.transpose(tmp785, (5, 3, 4, 1, 2, 0)) * -1
    del tmp785
    tmp803 = np.copy(v.bbbb.vvvv)
    tmp803 += np.transpose(tmp782, (3, 2, 1, 0)) * -1
    del tmp782
    tmp803 += einsum(tmp604, (0, 1, 2, 3), v.bbbb.ovov, (0, 4, 1, 5), (3, 5, 4, 2)) * 0.5
    l3new.bbbbbb += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp803, (1, 6, 7, 2), (7, 0, 6, 3, 5, 4)) * -3
    del tmp803
    tmp804 = np.copy(v.bbbb.vvvv)
    tmp733 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t2.bbbb, (0, 2, 4, 5), (4, 5, 3, 1)) * -1
    tmp804 += np.transpose(tmp733, (1, 3, 0, 2)) * 0.5
    tmp734 = np.copy(v.bbbb.ovvv)
    tmp734 += np.transpose(tmp225, (0, 2, 3, 1)) * -0.5
    tmp804 += einsum(tmp734, (0, 1, 2, 3), t1.bb, (0, 4), (3, 1, 4, 2))
    l3new.bbbbbb += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp804, (1, 6, 2, 7), (0, 6, 7, 3, 5, 4)) * -3
    del tmp804
    tmp736 = np.copy(v.bbbb.vvvv) * 2
    tmp736 += np.transpose(tmp733, (1, 3, 0, 2))
    del tmp733
    tmp735 = einsum(tmp734, (0, 1, 2, 3), t1.bb, (0, 4), (4, 1, 2, 3)) * 2
    del tmp734
    tmp736 += np.transpose(tmp735, (3, 1, 0, 2))
    del tmp735
    l3new.bbbbbb += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp736, (1, 6, 2, 7), (0, 6, 7, 3, 5, 4)) * -1.5
    l3new.bbbbbb += np.transpose(tmp788, (3, 5, 4, 1, 2, 0)) * -1.5
    l3new.bbbbbb += np.transpose(tmp790, (3, 5, 4, 1, 2, 0)) * -1
    del tmp790
    l3new.bbbbbb += np.transpose(tmp788, (3, 5, 4, 1, 2, 0)) * -1.5
    del tmp788
    l3new.bbbbbb += np.transpose(tmp791, (3, 5, 4, 1, 2, 0)) * -1
    del tmp791
    l3new.bbbbbb += np.transpose(tmp802, (4, 3, 5, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp802, (4, 3, 5, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (4, 3, 5, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp802, (3, 5, 4, 1, 0, 2))
    l3new.bbbbbb += np.transpose(tmp802, (3, 4, 5, 1, 0, 2)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (3, 5, 4, 1, 2, 0)) * -1
    l3new.bbbbbb += np.transpose(tmp802, (3, 4, 5, 1, 2, 0))
    l3new.bbbbbb += np.transpose(tmp802, (3, 5, 4, 2, 1, 0))
    l3new.bbbbbb += np.transpose(tmp802, (3, 4, 5, 2, 1, 0)) * -1
    del tmp802
    tmp726 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp725, (5, 6, 2, 7), (3, 4, 6, 0, 1, 7)) * 2
    del tmp725
    l3new.babbab = np.copy(np.transpose(tmp726, (5, 3, 4, 1, 0, 2))) * -1
    tmp727 = einsum(tmp299, (0, 1), l3.babbab, (2, 3, 4, 0, 5, 6), (5, 6, 1, 3, 2, 4))
    l3new.babbab += np.transpose(tmp727, (5, 3, 4, 1, 0, 2)) * -1
    l3new.babbab += einsum(l2.abab, (0, 1, 2, 3), tmp239, (4, 5), (5, 0, 1, 3, 2, 4)) * -1
    tmp728 = einsum(l2.bbbb, (0, 1, 2, 3), v.aabb.ovvv, (4, 5, 6, 1), (4, 2, 3, 5, 0, 6))
    l3new.babbab += np.transpose(tmp728, (5, 3, 4, 2, 0, 1)) * 2
    tmp729 = einsum(tmp625, (0, 1, 2, 3), l3.babbab, (4, 2, 5, 6, 0, 7), (1, 6, 7, 3, 4, 5))
    l3new.babbab += np.transpose(tmp729, (5, 3, 4, 2, 0, 1))
    l3new.babbab += einsum(tmp628, (0, 1, 2, 3), l3.bbbbbb, (4, 5, 3, 6, 7, 1), (4, 2, 5, 6, 0, 7)) * 6
    l3new.babbab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp730, (4, 5, 2, 6), (3, 1, 6, 5, 0, 4)) * -2
    del tmp730
    l3new.babbab += einsum(l2.bbbb, (0, 1, 2, 3), tmp25, (4, 5), (0, 5, 1, 2, 4, 3)) * 2
    tmp731 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp680, (5, 6, 2, 7), (3, 4, 6, 0, 1, 7))
    l3new.babbab += np.transpose(tmp731, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp727, (5, 3, 4, 2, 0, 1))
    l3new.babbab += einsum(l2.abab, (0, 1, 2, 3), tmp239, (4, 5), (5, 0, 1, 4, 2, 3))
    l3new.babbab += np.transpose(tmp726, (4, 3, 5, 1, 0, 2))
    l3new.babbab += einsum(tmp239, (0, 1), l2.abab, (2, 3, 4, 5), (3, 2, 1, 5, 4, 0))
    l3new.babbab += np.transpose(tmp731, (4, 3, 5, 2, 0, 1)) * -1
    l3new.babbab += einsum(tmp239, (0, 1), l2.abab, (2, 3, 4, 5), (3, 2, 1, 0, 4, 5)) * -1
    l3new.babbab += np.transpose(tmp726, (5, 3, 4, 1, 0, 2)) * -1
    l3new.babbab += np.transpose(tmp727, (5, 3, 4, 1, 0, 2)) * -1
    tmp732 = einsum(tmp157, (0, 1), l3.babbab, (2, 3, 4, 5, 0, 6), (1, 5, 6, 3, 2, 4))
    l3new.babbab += np.transpose(tmp732, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp732, (5, 3, 4, 2, 0, 1)) * -1
    del tmp732
    l3new.babbab += np.transpose(tmp731, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp727, (5, 3, 4, 2, 0, 1))
    del tmp727
    tmp737 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp736, (0, 6, 2, 7), (4, 3, 5, 1, 6, 7)) * 0.5
    del tmp736
    l3new.babbab += np.transpose(tmp737, (4, 3, 5, 2, 0, 1)) * -1
    tmp738 = einsum(tmp608, (0, 1), l3.babbab, (2, 3, 1, 4, 5, 6), (5, 6, 4, 3, 2, 0))
    l3new.babbab += np.transpose(tmp738, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp737, (4, 3, 5, 2, 0, 1)) * -1
    del tmp737
    l3new.babbab += np.transpose(tmp738, (5, 3, 4, 2, 0, 1))
    tmp720 = np.copy(v.aabb.vvvv)
    tmp717 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp720 += np.transpose(tmp717, (0, 1, 3, 2)) * -1
    del tmp717
    tmp718 = einsum(v.aabb.vvov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp720 += np.transpose(tmp718, (1, 0, 2, 3)) * -1
    del tmp718
    tmp51 = np.copy(t2.abab)
    tmp51 += einsum(t1.aa, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    tmp719 = einsum(tmp51, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 5), (4, 2, 5, 3))
    tmp720 += np.transpose(tmp719, (1, 0, 3, 2))
    del tmp719
    tmp739 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp720, (1, 6, 2, 7), (4, 5, 3, 6, 0, 7))
    l3new.babbab += np.transpose(tmp739, (5, 3, 4, 2, 0, 1)) * -1
    tmp740 = einsum(tmp494, (0, 1), l3.babbab, (2, 0, 3, 4, 5, 6), (5, 4, 6, 1, 2, 3))
    l3new.babbab += np.transpose(tmp740, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp739, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp740, (5, 3, 4, 2, 0, 1)) * -1
    del tmp740
    tmp741 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.bbbb, (6, 7, 0, 2), (4, 5, 3, 6, 7, 1)) * -1
    tmp742 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp741, (4, 5, 6, 0, 2, 7), (4, 5, 6, 7, 3, 1)) * -1
    del tmp741
    l3new.babbab += np.transpose(tmp742, (5, 3, 4, 2, 0, 1)) * 0.5
    tmp117 = einsum(t1.bb, (0, 1), l3.babbab, (2, 3, 1, 4, 5, 6), (5, 4, 6, 0, 3, 2))
    tmp744 = einsum(tmp743, (0, 1, 2, 3), tmp117, (4, 5, 6, 0, 7, 2), (4, 5, 6, 7, 1, 3)) * 0.5
    del tmp743
    l3new.babbab += np.transpose(tmp744, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp738, (4, 3, 5, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp742, (5, 3, 4, 2, 0, 1)) * 0.5
    del tmp742
    l3new.babbab += np.transpose(tmp744, (5, 3, 4, 2, 0, 1))
    del tmp744
    l3new.babbab += np.transpose(tmp738, (4, 3, 5, 2, 0, 1)) * -1
    del tmp738
    tmp745 = einsum(v.aabb.ovoo, (0, 1, 2, 3), l2.bbbb, (4, 5, 6, 3), (0, 6, 2, 1, 4, 5))
    l3new.babbab += np.transpose(tmp745, (4, 3, 5, 1, 0, 2)) * -2
    l3new.babbab += einsum(l1.bb, (0, 1), v.aabb.ovov, (2, 3, 4, 5), (5, 3, 0, 1, 2, 4)) * -1
    tmp746 = np.copy(np.transpose(tmp330, (0, 2, 1, 3))) * 0.3333333333333333
    tmp746 += np.transpose(tmp331, (0, 2, 1, 3)) * 0.3333333333333333
    tmp746 += np.transpose(tmp300, (0, 2, 1, 3))
    l3new.babbab += einsum(tmp746, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 6, 3), (2, 5, 1, 0, 4, 6)) * -6
    del tmp746
    tmp176 = einsum(t2.bbbb, (0, 1, 2, 3), l3.babbab, (4, 5, 3, 0, 6, 1), (6, 5, 4, 2))
    tmp747 = einsum(tmp176, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 6, 3), (0, 4, 6, 1, 2, 5)) * -1
    l3new.babbab += np.transpose(tmp747, (5, 3, 4, 1, 0, 2)) * 2
    l3new.babbab += einsum(v.bbbb.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 4, 3, 0, 5, 2))
    l3new.babbab += np.transpose(tmp747, (4, 3, 5, 1, 0, 2)) * -2
    l3new.babbab += einsum(l1.aa, (0, 1), v.bbbb.ovov, (2, 3, 4, 5), (5, 0, 3, 2, 1, 4)) * -1
    l3new.babbab += np.transpose(tmp745, (4, 3, 5, 2, 0, 1)) * 2
    del tmp745
    l3new.babbab += einsum(v.aabb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (3, 1, 4, 2, 0, 5))
    tmp459 = np.copy(np.transpose(tmp330, (0, 2, 1, 3)))
    tmp459 += np.transpose(tmp331, (0, 2, 1, 3))
    tmp459 += np.transpose(tmp300, (0, 2, 1, 3)) * 3
    l3new.babbab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp459, (4, 5, 6, 3), (6, 1, 5, 2, 0, 4)) * 2
    l3new.babbab += einsum(v.aabb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (4, 1, 3, 5, 0, 2))
    l3new.babbab += einsum(v.aabb.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (4, 1, 3, 2, 0, 5)) * -1
    tmp318 = einsum(t2.aaaa, (0, 1, 2, 3), l3.abaaba, (4, 5, 3, 1, 6, 0), (6, 4, 2, 5)) * -1
    tmp748 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp318, (4, 5, 1, 6), (0, 4, 2, 5, 6, 3)) * -1
    l3new.babbab += np.transpose(tmp748, (5, 3, 4, 1, 0, 2)) * -2
    tmp544 = np.copy(v.aabb.oooo)
    tmp542 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp544 += np.transpose(tmp542, (0, 1, 3, 2))
    del tmp542
    tmp32 = einsum(v.aabb.ooov, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 4, 2))
    tmp544 += np.transpose(tmp32, (1, 0, 2, 3))
    tmp543 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp51, (4, 5, 1, 3), (0, 4, 2, 5))
    tmp544 += np.transpose(tmp543, (1, 0, 3, 2))
    del tmp543
    tmp749 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp544, (4, 6, 3, 7), (6, 5, 7, 1, 0, 2)) * 2
    l3new.babbab += np.transpose(tmp749, (5, 3, 4, 1, 0, 2))
    tmp750 = np.copy(v.aabb.ooov)
    tmp11 = einsum(t1.aa, (0, 1), v.aabb.ovov, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp750 += tmp11
    tmp751 = einsum(l2.abab, (0, 1, 2, 3), tmp750, (2, 4, 5, 6), (4, 3, 5, 0, 1, 6))
    del tmp750
    l3new.babbab += np.transpose(tmp751, (5, 3, 4, 1, 0, 2))
    tmp175 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 5, 2, 0, 1, 6), (6, 4, 5, 3)) * -1
    tmp752 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp175, (4, 5, 6, 3), (4, 0, 2, 5, 6, 1))
    l3new.babbab += np.transpose(tmp752, (5, 3, 4, 1, 0, 2)) * -2
    tmp617 = np.copy(v.bbbb.ooov)
    tmp617 += np.transpose(tmp218, (0, 2, 1, 3))
    l3new.babbab += einsum(tmp617, (0, 1, 2, 3), l2.abab, (4, 5, 6, 0), (3, 4, 5, 2, 6, 1)) * -1
    l3new.babbab += np.transpose(tmp752, (5, 3, 4, 2, 0, 1)) * 2
    tmp753 = np.copy(v.bbbb.oooo) * -1
    tmp753 += np.transpose(tmp245, (2, 1, 0, 3)) * -1
    tmp753 += np.transpose(tmp245, (2, 3, 0, 1))
    tmp753 += einsum(tmp604, (0, 1, 2, 3), v.bbbb.ovov, (4, 2, 5, 3), (1, 4, 0, 5))
    l3new.babbab += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp753, (5, 6, 3, 7), (0, 1, 2, 6, 4, 7)) * 2
    del tmp753
    tmp754 = np.copy(v.bbbb.ooov)
    tmp754 += np.transpose(tmp218, (0, 2, 1, 3))
    l3new.babbab += einsum(tmp754, (0, 1, 2, 3), l2.abab, (4, 5, 6, 0), (3, 4, 5, 1, 6, 2))
    del tmp754
    l3new.babbab += np.transpose(tmp748, (5, 3, 4, 2, 0, 1)) * 2
    l3new.babbab += np.transpose(tmp749, (5, 3, 4, 2, 0, 1)) * -1
    del tmp749
    tmp12 = np.copy(v.aabb.ooov)
    tmp12 += tmp11
    tmp755 = einsum(tmp12, (0, 1, 2, 3), l2.abab, (4, 5, 0, 6), (1, 6, 2, 4, 5, 3))
    l3new.babbab += np.transpose(tmp755, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp748, (4, 3, 5, 1, 0, 2)) * 2
    l3new.babbab += np.transpose(tmp755, (4, 3, 5, 1, 0, 2)) * -1
    del tmp755
    l3new.babbab += np.transpose(tmp752, (4, 3, 5, 1, 0, 2)) * 2
    tmp756 = np.copy(np.transpose(v.bbbb.ooov, (0, 2, 1, 3)))
    tmp756 += tmp218
    l3new.babbab += einsum(tmp756, (0, 1, 2, 3), l2.abab, (4, 5, 6, 0), (5, 4, 3, 1, 6, 2))
    del tmp756
    l3new.babbab += np.transpose(tmp752, (4, 3, 5, 2, 0, 1)) * -2
    del tmp752
    tmp757 = np.copy(np.transpose(v.bbbb.ooov, (0, 2, 1, 3)))
    tmp757 += tmp218
    l3new.babbab += einsum(tmp757, (0, 1, 2, 3), l2.abab, (4, 5, 6, 0), (5, 4, 3, 2, 6, 1)) * -1
    del tmp757
    l3new.babbab += np.transpose(tmp748, (4, 3, 5, 2, 0, 1)) * -2
    del tmp748
    l3new.babbab += np.transpose(tmp751, (4, 3, 5, 2, 0, 1))
    del tmp751
    tmp758 = einsum(v.aabb.vvov, (0, 1, 2, 3), l2.abab, (1, 4, 5, 6), (5, 6, 2, 0, 4, 3))
    l3new.babbab += np.transpose(tmp758, (5, 3, 4, 1, 0, 2)) * -1
    tmp712 = np.copy(np.transpose(v.aabb.vvoo, (2, 3, 0, 1))) * -1
    tmp240 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (0, 2, 3, 4), (3, 4, 1, 2))
    tmp712 += np.transpose(tmp240, (1, 0, 2, 3))
    tmp262 = einsum(v.aabb.vvov, (0, 1, 2, 3), t1.bb, (4, 3), (4, 2, 0, 1))
    tmp712 += np.transpose(tmp262, (0, 1, 3, 2)) * -1
    tmp711 = einsum(tmp51, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 5, 3), (5, 1, 4, 2))
    tmp712 += np.transpose(tmp711, (1, 0, 3, 2))
    del tmp711
    tmp759 = einsum(tmp712, (0, 1, 2, 3), l3.babbab, (4, 2, 5, 0, 6, 7), (6, 7, 1, 3, 4, 5))
    l3new.babbab += np.transpose(tmp759, (5, 3, 4, 1, 0, 2))
    tmp91 = einsum(t1.aa, (0, 1), l2.abab, (1, 2, 3, 4), (3, 0, 4, 2))
    tmp489 = np.copy(tmp91)
    tmp92 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 5, 0, 2), (3, 6, 4, 1))
    tmp489 += tmp92
    tmp93 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (6, 5, 1, 2), (4, 6, 3, 0))
    tmp489 += tmp93
    tmp760 = einsum(tmp489, (0, 1, 2, 3), v.aabb.ovov, (1, 4, 5, 6), (0, 5, 2, 4, 6, 3))
    l3new.babbab += np.transpose(tmp760, (4, 3, 5, 2, 0, 1))
    tmp761 = einsum(l2.abab, (0, 1, 2, 3), v.bbbb.ovvv, (4, 5, 6, 1), (2, 3, 4, 0, 5, 6))
    l3new.babbab += np.transpose(tmp761, (4, 3, 5, 1, 0, 2)) * -1
    tmp762 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp677, (5, 6, 2, 7), (4, 3, 6, 1, 0, 7))
    l3new.babbab += np.transpose(tmp762, (5, 3, 4, 1, 0, 2)) * -1
    tmp121 = einsum(t1.bb, (0, 1), l2.abab, (2, 1, 3, 4), (3, 4, 0, 2))
    tmp488 = np.copy(tmp121)
    tmp122 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.abab, (3, 6, 2, 1), (5, 4, 6, 0)) * -1
    tmp488 += tmp122
    tmp123 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.bbbb, (6, 5, 0, 2), (4, 3, 6, 1))
    tmp488 += tmp123
    tmp763 = einsum(tmp488, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 2, 6), (0, 4, 1, 3, 6, 5))
    l3new.babbab += np.transpose(tmp763, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp761, (5, 3, 4, 1, 0, 2))
    l3new.babbab += np.transpose(tmp762, (4, 3, 5, 1, 0, 2))
    l3new.babbab += np.transpose(tmp763, (4, 3, 5, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp758, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp759, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp760, (4, 3, 5, 1, 0, 2)) * -1
    l3new.babbab += np.transpose(tmp761, (4, 3, 5, 2, 0, 1))
    l3new.babbab += np.transpose(tmp762, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp763, (5, 3, 4, 1, 0, 2)) * -1
    l3new.babbab += np.transpose(tmp761, (5, 3, 4, 2, 0, 1)) * -1
    del tmp761
    l3new.babbab += np.transpose(tmp762, (4, 3, 5, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp763, (4, 3, 5, 1, 0, 2))
    del tmp763
    l3new.babbab += np.transpose(tmp758, (4, 3, 5, 1, 0, 2))
    l3new.babbab += np.transpose(tmp760, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp728, (4, 3, 5, 2, 0, 1)) * -2
    del tmp728
    l3new.babbab += einsum(tmp764, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 2, 6), (3, 5, 6, 1, 4, 0)) * 6
    del tmp764
    l3new.babbab += np.transpose(tmp758, (4, 3, 5, 2, 0, 1)) * -1
    del tmp758
    l3new.babbab += np.transpose(tmp760, (5, 3, 4, 1, 0, 2))
    del tmp760
    l3new.babbab += np.transpose(tmp762, (5, 3, 4, 1, 0, 2)) * -1
    tmp467 = np.copy(tmp122)
    tmp467 += tmp123
    tmp765 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp467, (4, 5, 2, 6), (4, 0, 5, 6, 3, 1))
    l3new.babbab += np.transpose(tmp765, (5, 3, 4, 2, 0, 1))
    tmp715 = np.copy(v.aabb.oovv) * -1
    tmp26 = einsum(v.aabb.ooov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp715 += np.transpose(tmp26, (1, 0, 2, 3))
    tmp504 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp715 += np.transpose(tmp504, (0, 1, 3, 2)) * -1
    tmp714 = einsum(tmp51, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 5), (4, 0, 5, 3))
    tmp715 += np.transpose(tmp714, (1, 0, 3, 2))
    del tmp714
    tmp766 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp715, (4, 6, 2, 7), (6, 5, 3, 1, 0, 7))
    l3new.babbab += np.transpose(tmp766, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp766, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp759, (5, 3, 4, 1, 0, 2))
    tmp209 = np.copy(tmp92)
    tmp209 += tmp93
    tmp767 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp209, (4, 0, 5, 6), (4, 2, 5, 1, 3, 6))
    l3new.babbab += np.transpose(tmp767, (4, 3, 5, 2, 0, 1))
    tmp768 = einsum(tmp126, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 2, 6), (4, 0, 1, 5, 3, 6))
    l3new.babbab += np.transpose(tmp768, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp729, (5, 3, 4, 2, 0, 1))
    del tmp729
    l3new.babbab += np.transpose(tmp762, (5, 3, 4, 2, 0, 1))
    l3new.babbab += np.transpose(tmp765, (5, 3, 4, 1, 0, 2)) * -1
    l3new.babbab += np.transpose(tmp759, (5, 3, 4, 2, 0, 1)) * -1
    del tmp759
    l3new.babbab += np.transpose(tmp767, (4, 3, 5, 1, 0, 2)) * -1
    l3new.babbab += np.transpose(tmp762, (4, 3, 5, 1, 0, 2))
    l3new.babbab += np.transpose(tmp765, (4, 3, 5, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp726, (4, 3, 5, 1, 0, 2))
    del tmp726
    l3new.babbab += np.transpose(tmp766, (4, 3, 5, 2, 0, 1))
    l3new.babbab += np.transpose(tmp766, (4, 3, 5, 2, 0, 1))
    del tmp766
    l3new.babbab += np.transpose(tmp762, (4, 3, 5, 2, 0, 1)) * -1
    del tmp762
    l3new.babbab += np.transpose(tmp765, (4, 3, 5, 1, 0, 2))
    del tmp765
    l3new.babbab += np.transpose(tmp731, (4, 3, 5, 2, 0, 1)) * -1
    del tmp731
    l3new.babbab += np.transpose(tmp739, (4, 3, 5, 2, 0, 1))
    l3new.babbab += np.transpose(tmp739, (4, 3, 5, 2, 0, 1))
    del tmp739
    tmp319 = einsum(t2.abab, (0, 1, 2, 3), l3.babbab, (4, 5, 3, 6, 0, 1), (6, 5, 2, 4))
    tmp769 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp319, (4, 5, 1, 6), (0, 4, 2, 5, 6, 3))
    l3new.babbab += np.transpose(tmp769, (5, 3, 4, 1, 0, 2)) * 2
    l3new.babbab += np.transpose(tmp747, (5, 3, 4, 2, 0, 1)) * -2
    l3new.babbab += np.transpose(tmp769, (5, 3, 4, 2, 0, 1)) * -2
    l3new.babbab += np.transpose(tmp767, (5, 3, 4, 2, 0, 1)) * -1
    l3new.babbab += np.transpose(tmp768, (4, 3, 5, 2, 0, 1))
    del tmp768
    l3new.babbab += np.transpose(tmp767, (5, 3, 4, 1, 0, 2))
    del tmp767
    l3new.babbab += np.transpose(tmp769, (4, 3, 5, 1, 0, 2)) * -2
    l3new.babbab += np.transpose(tmp747, (4, 3, 5, 2, 0, 1)) * 2
    del tmp747
    l3new.babbab += np.transpose(tmp769, (4, 3, 5, 2, 0, 1)) * 2
    del tmp769
    tmp670 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), l2.abab, (3, 4, 5, 6), (5, 0, 6, 1, 2, 4))
    l3new.abaaba = np.copy(np.transpose(tmp670, (3, 5, 4, 0, 2, 1))) * -1
    tmp673 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3))) * 0.5
    tmp673 += v.aaaa.oovv * -0.5
    tmp673 += tmp13 * 0.5
    tmp671 = einsum(tmp307, (0, 1, 2, 3), tmp14, (0, 4, 2, 5), (4, 1, 5, 3)) * 0.5
    tmp673 += np.transpose(tmp671, (1, 0, 3, 2)) * -1
    del tmp671
    tmp16 = einsum(tmp15, (0, 1, 2, 3), t1.aa, (4, 2), (4, 0, 1, 3)) * 0.5
    del tmp15
    tmp673 += np.transpose(tmp16, (0, 1, 3, 2)) * -1
    tmp672 = einsum(t1.aa, (0, 1), tmp372, (0, 2, 3, 4), (2, 3, 1, 4)) * 0.5
    del tmp372
    tmp673 += tmp672 * -1
    del tmp672
    tmp674 = einsum(tmp673, (0, 1, 2, 3), l3.abaaba, (4, 5, 2, 6, 7, 0), (6, 1, 7, 4, 3, 5)) * 2
    del tmp673
    l3new.abaaba += np.transpose(tmp674, (4, 5, 3, 0, 2, 1)) * -1
    tmp675 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp489, (4, 2, 5, 6), (4, 0, 5, 3, 1, 6))
    l3new.abaaba += np.transpose(tmp675, (4, 5, 3, 0, 2, 1))
    l3new.abaaba += einsum(l2.abab, (0, 1, 2, 3), tmp25, (4, 5), (5, 1, 0, 2, 3, 4)) * -1
    tmp678 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp677, (4, 6, 1, 7), (3, 5, 6, 0, 2, 7))
    del tmp677
    l3new.abaaba += np.transpose(tmp678, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp680, (5, 6, 2, 7), (0, 7, 1, 3, 6, 4)) * 6
    del tmp680
    l3new.abaaba += einsum(l2.aaaa, (0, 1, 2, 3), tmp239, (4, 5), (0, 5, 1, 2, 4, 3)) * 2
    l3new.abaaba += np.transpose(tmp670, (3, 5, 4, 1, 2, 0))
    tmp681 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp625, (5, 6, 2, 7), (3, 6, 4, 0, 7, 1))
    del tmp625
    l3new.abaaba += np.transpose(tmp681, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp675, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += einsum(l2.abab, (0, 1, 2, 3), tmp25, (4, 5), (5, 1, 0, 4, 3, 2))
    l3new.abaaba += np.transpose(tmp670, (4, 5, 3, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp674, (3, 5, 4, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp675, (3, 5, 4, 0, 2, 1)) * -1
    l3new.abaaba += einsum(tmp25, (0, 1), l2.abab, (2, 3, 4, 5), (2, 3, 1, 4, 5, 0))
    l3new.abaaba += np.transpose(tmp670, (4, 5, 3, 1, 2, 0)) * -1
    del tmp670
    l3new.abaaba += np.transpose(tmp681, (3, 5, 4, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp675, (3, 5, 4, 1, 2, 0))
    del tmp675
    l3new.abaaba += einsum(tmp25, (0, 1), l2.abab, (2, 3, 4, 5), (2, 3, 1, 0, 5, 4)) * -1
    tmp682 = einsum(v.aabb.ovvv, (0, 1, 2, 3), l2.abab, (4, 3, 5, 6), (5, 0, 6, 4, 1, 2))
    l3new.abaaba += np.transpose(tmp682, (4, 5, 3, 0, 2, 1)) * -1
    tmp683 = einsum(tmp628, (0, 1, 2, 3), l3.babbab, (4, 5, 3, 6, 7, 1), (7, 0, 6, 5, 2, 4))
    del tmp628
    l3new.abaaba += np.transpose(tmp683, (4, 5, 3, 0, 2, 1)) * -1
    tmp684 = einsum(tmp157, (0, 1), l3.abaaba, (2, 3, 4, 0, 5, 6), (6, 1, 5, 2, 4, 3))
    l3new.abaaba += np.transpose(tmp684, (4, 5, 3, 0, 2, 1)) * -1
    tmp685 = einsum(tmp488, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 2, 6), (4, 0, 1, 5, 3, 6))
    l3new.abaaba += np.transpose(tmp685, (3, 5, 4, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp683, (4, 5, 3, 0, 2, 1)) * -1
    l3new.abaaba += np.transpose(tmp684, (4, 5, 3, 0, 2, 1)) * -1
    tmp686 = einsum(tmp467, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 2, 6), (4, 0, 1, 5, 3, 6))
    l3new.abaaba += np.transpose(tmp686, (3, 5, 4, 1, 2, 0))
    tmp687 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp299, (4, 6), (3, 5, 6, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp687, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp687, (4, 5, 3, 1, 2, 0)) * -1
    del tmp687
    l3new.abaaba += np.transpose(tmp683, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp684, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp686, (3, 5, 4, 0, 2, 1)) * -1
    l3new.abaaba += np.transpose(tmp682, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp683, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp684, (4, 5, 3, 1, 2, 0))
    del tmp684
    l3new.abaaba += np.transpose(tmp685, (3, 5, 4, 0, 2, 1)) * -1
    tmp688 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp666, (0, 6, 2, 7), (3, 5, 4, 6, 7, 1)) * 0.5
    del tmp666
    l3new.abaaba += np.transpose(tmp688, (3, 5, 4, 1, 2, 0)) * -1
    tmp689 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp433, (6, 2), (5, 3, 4, 0, 6, 1))
    l3new.abaaba += np.transpose(tmp689, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp688, (3, 5, 4, 1, 2, 0)) * -1
    del tmp688
    l3new.abaaba += np.transpose(tmp689, (4, 5, 3, 1, 2, 0))
    tmp690 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp531, (1, 6), (3, 5, 4, 0, 2, 6))
    l3new.abaaba += np.transpose(tmp690, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp690, (4, 5, 3, 1, 2, 0)) * -1
    del tmp690
    tmp691 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 7, 0, 2), (5, 3, 6, 7, 4, 1)) * -1
    tmp692 = einsum(tmp691, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (2, 6, 3, 7), (0, 1, 4, 7, 6, 5)) * -1
    del tmp691
    l3new.abaaba += np.transpose(tmp692, (4, 5, 3, 1, 2, 0)) * 0.5
    tmp83 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t1.aa, (6, 2), (3, 5, 6, 4, 0, 1))
    tmp693 = einsum(tmp668, (0, 1, 2, 3), tmp83, (4, 5, 0, 6, 2, 7), (4, 5, 6, 1, 3, 7)) * 0.5
    del tmp668
    l3new.abaaba += np.transpose(tmp693, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp689, (3, 5, 4, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp692, (4, 5, 3, 1, 2, 0)) * 0.5
    del tmp692
    l3new.abaaba += np.transpose(tmp693, (4, 5, 3, 1, 2, 0))
    del tmp693
    l3new.abaaba += np.transpose(tmp689, (3, 5, 4, 1, 2, 0)) * -1
    del tmp689
    l3new.abaaba += einsum(v.aabb.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 3, 4, 5, 2, 0)) * -1
    tmp694 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp176, (4, 5, 6, 3), (4, 0, 2, 5, 1, 6)) * -1
    l3new.abaaba += np.transpose(tmp694, (4, 5, 3, 0, 2, 1)) * -2
    tmp695 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp318, (4, 5, 3, 6), (0, 2, 4, 5, 1, 6)) * -1
    l3new.abaaba += np.transpose(tmp695, (4, 5, 3, 0, 2, 1)) * 2
    l3new.abaaba += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (1, 4, 3, 0, 5, 2))
    tmp444 = np.copy(v.aaaa.ooov)
    tmp0 = einsum(t1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    tmp444 += np.transpose(tmp0, (0, 2, 1, 3))
    l3new.abaaba += einsum(l2.abab, (0, 1, 2, 3), tmp444, (2, 4, 5, 6), (6, 1, 0, 5, 3, 4)) * -1
    l3new.abaaba += np.transpose(tmp695, (3, 5, 4, 0, 2, 1)) * -2
    l3new.abaaba += einsum(v.aaaa.ovov, (0, 1, 2, 3), l1.bb, (4, 5), (3, 4, 1, 0, 5, 2)) * -1
    tmp696 = np.copy(np.transpose(v.aaaa.ooov, (0, 2, 1, 3)))
    tmp696 += tmp0
    l3new.abaaba += einsum(tmp696, (0, 1, 2, 3), l2.abab, (4, 5, 0, 6), (4, 5, 3, 1, 6, 2))
    del tmp696
    l3new.abaaba += einsum(v.aabb.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (1, 3, 4, 0, 2, 5))
    l3new.abaaba += np.transpose(tmp694, (4, 5, 3, 1, 2, 0)) * 2
    l3new.abaaba += einsum(l1.aa, (0, 1), v.aabb.ovov, (2, 3, 4, 5), (0, 5, 3, 1, 4, 2))
    l3new.abaaba += np.transpose(tmp694, (3, 5, 4, 0, 2, 1)) * 2
    l3new.abaaba += einsum(v.aabb.ovov, (0, 1, 2, 3), l1.aa, (4, 5), (4, 3, 1, 0, 2, 5)) * -1
    l3new.abaaba += np.transpose(tmp694, (3, 5, 4, 1, 2, 0)) * -2
    del tmp694
    tmp697 = einsum(tmp175, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 6, 3), (0, 4, 6, 1, 5, 2))
    l3new.abaaba += np.transpose(tmp697, (4, 5, 3, 0, 2, 1)) * 2
    tmp698 = np.copy(np.transpose(v.aabb.ovoo, (0, 2, 3, 1)))
    tmp6 = einsum(t1.bb, (0, 1), v.aabb.ovov, (2, 3, 4, 1), (2, 0, 4, 3))
    tmp698 += tmp6
    tmp699 = einsum(tmp698, (0, 1, 2, 3), l2.abab, (4, 5, 6, 1), (6, 0, 2, 4, 3, 5))
    del tmp698
    l3new.abaaba += np.transpose(tmp699, (4, 5, 3, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp695, (4, 5, 3, 1, 2, 0)) * -2
    tmp700 = np.copy(v.aaaa.ooov)
    tmp700 += np.transpose(tmp0, (0, 2, 1, 3))
    l3new.abaaba += einsum(tmp700, (0, 1, 2, 3), l2.abab, (4, 5, 0, 6), (3, 5, 4, 1, 6, 2))
    del tmp700
    tmp701 = einsum(v.aabb.ooov, (0, 1, 2, 3), l2.aaaa, (4, 5, 6, 1), (6, 0, 2, 4, 5, 3))
    l3new.abaaba += np.transpose(tmp701, (3, 5, 4, 0, 2, 1)) * -2
    tmp464 = np.copy(np.transpose(tmp190, (0, 2, 1, 3))) * 0.3333333333333333
    tmp464 += np.transpose(tmp158, (0, 2, 1, 3))
    tmp464 += np.transpose(tmp191, (0, 2, 1, 3)) * 0.3333333333333333
    tmp702 = einsum(tmp464, (0, 1, 2, 3), v.aabb.ovov, (4, 3, 5, 6), (4, 0, 5, 1, 2, 6)) * 6
    l3new.abaaba += np.transpose(tmp702, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp697, (4, 5, 3, 1, 2, 0)) * -2
    tmp224 = np.copy(np.transpose(v.aabb.ovoo, (0, 2, 3, 1)))
    tmp224 += tmp6
    tmp703 = einsum(tmp224, (0, 1, 2, 3), l2.abab, (4, 5, 6, 1), (6, 0, 2, 4, 3, 5))
    l3new.abaaba += np.transpose(tmp703, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp701, (3, 5, 4, 1, 2, 0)) * 2
    del tmp701
    l3new.abaaba += np.transpose(tmp702, (4, 5, 3, 0, 2, 1))
    del tmp702
    l3new.abaaba += np.transpose(tmp697, (3, 5, 4, 0, 2, 1)) * -2
    l3new.abaaba += np.transpose(tmp703, (3, 5, 4, 0, 2, 1)) * -1
    del tmp703
    l3new.abaaba += np.transpose(tmp695, (3, 5, 4, 1, 2, 0)) * 2
    del tmp695
    tmp704 = np.copy(np.transpose(v.aaaa.ooov, (0, 2, 1, 3)))
    tmp704 += tmp0
    l3new.abaaba += einsum(tmp704, (0, 1, 2, 3), l2.abab, (4, 5, 0, 6), (4, 5, 3, 2, 6, 1)) * -1
    del tmp704
    l3new.abaaba += np.transpose(tmp697, (3, 5, 4, 1, 2, 0)) * 2
    del tmp697
    l3new.abaaba += np.transpose(tmp699, (3, 5, 4, 1, 2, 0))
    del tmp699
    tmp705 = einsum(v.aabb.vvov, (0, 1, 2, 3), l2.aaaa, (4, 1, 5, 6), (5, 6, 2, 4, 0, 3))
    l3new.abaaba += np.transpose(tmp705, (4, 5, 3, 1, 2, 0)) * 2
    tmp706 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp435, (4, 5, 0, 6), (4, 5, 2, 1, 6, 3))
    l3new.abaaba += np.transpose(tmp706, (3, 5, 4, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp682, (3, 5, 4, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp683, (3, 5, 4, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp685, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp705, (3, 5, 4, 1, 2, 0)) * -2
    del tmp705
    l3new.abaaba += np.transpose(tmp706, (4, 5, 3, 1, 2, 0))
    del tmp706
    l3new.abaaba += np.transpose(tmp682, (3, 5, 4, 1, 2, 0)) * -1
    del tmp682
    l3new.abaaba += np.transpose(tmp683, (3, 5, 4, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp685, (4, 5, 3, 0, 2, 1))
    del tmp685
    tmp707 = einsum(tmp544, (0, 1, 2, 3), l3.abaaba, (4, 5, 6, 0, 2, 7), (7, 1, 3, 4, 6, 5)) * 2
    l3new.abaaba += np.transpose(tmp707, (4, 5, 3, 0, 2, 1))
    tmp708 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp319, (4, 5, 3, 6), (0, 2, 4, 5, 1, 6))
    l3new.abaaba += np.transpose(tmp708, (4, 5, 3, 1, 2, 0)) * 2
    tmp709 = np.copy(v.aaaa.oooo)
    tmp709 += np.transpose(tmp29, (2, 1, 0, 3))
    tmp709 += np.transpose(tmp29, (2, 3, 0, 1)) * -1
    tmp709 += np.transpose(tmp449, (1, 3, 0, 2))
    l3new.abaaba += einsum(tmp709, (0, 1, 2, 3), l3.abaaba, (4, 5, 6, 2, 7, 0), (4, 5, 6, 1, 7, 3)) * -2
    del tmp709
    l3new.abaaba += np.transpose(tmp707, (4, 5, 3, 1, 2, 0)) * -1
    del tmp707
    l3new.abaaba += np.transpose(tmp681, (4, 5, 3, 0, 2, 1)) * -1
    tmp710 = einsum(tmp209, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 1, 6), (0, 4, 2, 6, 5, 3))
    l3new.abaaba += np.transpose(tmp710, (4, 5, 3, 0, 2, 1))
    tmp713 = einsum(tmp712, (0, 1, 2, 3), l3.abaaba, (4, 5, 2, 6, 0, 7), (7, 6, 1, 4, 3, 5))
    del tmp712
    l3new.abaaba += np.transpose(tmp713, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp713, (4, 5, 3, 1, 2, 0)) * -1
    tmp716 = einsum(tmp715, (0, 1, 2, 3), l3.abaaba, (4, 2, 5, 0, 6, 7), (7, 1, 6, 4, 5, 3))
    del tmp715
    l3new.abaaba += np.transpose(tmp716, (4, 5, 3, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp716, (4, 5, 3, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp678, (4, 5, 3, 1, 2, 0))
    del tmp678
    l3new.abaaba += np.transpose(tmp674, (4, 5, 3, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp710, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp716, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp716, (4, 5, 3, 1, 2, 0)) * -1
    del tmp716
    l3new.abaaba += np.transpose(tmp681, (3, 5, 4, 0, 2, 1))
    del tmp681
    l3new.abaaba += np.transpose(tmp710, (3, 5, 4, 0, 2, 1)) * -1
    l3new.abaaba += np.transpose(tmp683, (3, 5, 4, 0, 2, 1))
    l3new.abaaba += np.transpose(tmp686, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp713, (3, 5, 4, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp713, (3, 5, 4, 1, 2, 0))
    del tmp713
    l3new.abaaba += np.transpose(tmp674, (3, 5, 4, 1, 2, 0)) * -1
    del tmp674
    l3new.abaaba += np.transpose(tmp710, (3, 5, 4, 1, 2, 0))
    del tmp710
    l3new.abaaba += np.transpose(tmp683, (3, 5, 4, 1, 2, 0)) * -1
    del tmp683
    l3new.abaaba += np.transpose(tmp686, (4, 5, 3, 0, 2, 1))
    del tmp686
    tmp721 = einsum(tmp720, (0, 1, 2, 3), l3.abaaba, (4, 2, 0, 5, 6, 7), (7, 5, 6, 4, 1, 3))
    del tmp720
    l3new.abaaba += np.transpose(tmp721, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp721, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp721, (3, 5, 4, 1, 2, 0))
    l3new.abaaba += np.transpose(tmp721, (3, 5, 4, 1, 2, 0))
    del tmp721
    tmp722 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp89, (4, 5, 0, 6), (4, 5, 2, 6, 1, 3))
    l3new.abaaba += np.transpose(tmp722, (4, 5, 3, 1, 2, 0)) * -1
    l3new.abaaba += np.transpose(tmp708, (4, 5, 3, 0, 2, 1)) * -2
    l3new.abaaba += np.transpose(tmp722, (3, 5, 4, 1, 2, 0))
    del tmp722
    l3new.abaaba += np.transpose(tmp708, (3, 5, 4, 0, 2, 1)) * 2
    l3new.abaaba += np.transpose(tmp708, (3, 5, 4, 1, 2, 0)) * -2
    del tmp708
    tmp545 = einsum(l1.bb, (0, 1), v.bbbb.ooov, (2, 1, 3, 4), (2, 3, 0, 4))
    l2new = Namespace()
    l2new.bbbb = np.copy(np.transpose(tmp545, (3, 2, 1, 0))) * -1
    l2new.bbbb += np.transpose(v.bbbb.ovov, (1, 3, 0, 2))
    tmp137 = einsum(t1.bb, (0, 1), l1.bb, (2, 0), (2, 1))
    tmp546 = np.copy(tmp137) * 1.0000004000001599
    tmp138 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 0, 1), (4, 3))
    tmp546 += tmp138 * 1.0000004000001599
    tmp139 = einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (4, 3, 0, 1), (4, 2))
    tmp546 += tmp139 * 2.0000008000003198
    tmp140 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 0, 6, 2), (1, 6))
    tmp546 += tmp140
    tmp141 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 6, 1, 2), (0, 6))
    tmp546 += tmp141 * 2
    tmp142 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (3, 4, 5, 6, 1, 2), (0, 6))
    tmp546 += tmp142 * 3
    tmp547 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp546, (4, 1), (0, 2, 3, 4)) * 0.9999996000000002
    l2new.bbbb += np.transpose(tmp547, (2, 3, 1, 0)) * -1
    l2new.bbbb += np.transpose(tmp545, (2, 3, 1, 0))
    l2new.bbbb += np.transpose(v.bbbb.ovov, (3, 1, 0, 2)) * -1
    l2new.bbbb += np.transpose(tmp547, (3, 2, 1, 0))
    del tmp547
    tmp548 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), l1.bb, (3, 4), (4, 0, 1, 2))
    l2new.bbbb += np.transpose(tmp548, (2, 3, 0, 1)) * -1
    tmp476 = np.copy(np.transpose(v.aabb.ovoo, (0, 2, 3, 1)))
    tmp476 += tmp6
    tmp258 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 5, 6, 4), (0, 1, 6, 3))
    tmp476 += tmp258 * 2
    tmp259 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.bbbb.ovov, (6, 3, 2, 5), (1, 0, 6, 4))
    tmp476 += tmp259 * 2
    tmp260 = np.copy(v.bbbb.ooov) * -1
    tmp260 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))
    tmp260 += np.transpose(tmp218, (1, 0, 2, 3))
    tmp260 += np.transpose(tmp218, (2, 0, 1, 3)) * -1
    tmp469 = einsum(t2.abab, (0, 1, 2, 3), tmp260, (1, 4, 5, 3), (0, 4, 5, 2))
    tmp476 += tmp469
    del tmp469
    tmp7 = np.copy(np.transpose(v.aabb.ovoo, (0, 2, 3, 1)))
    tmp7 += np.transpose(tmp6, (0, 2, 1, 3))
    tmp470 = einsum(tmp261, (0, 1, 2, 3), tmp7, (0, 4, 5, 2), (1, 4, 5, 3)) * 2
    tmp476 += np.transpose(tmp470, (0, 2, 1, 3))
    del tmp470
    tmp53 = np.copy(v.aabb.ooov)
    tmp53 += np.transpose(tmp11, (1, 0, 2, 3))
    del tmp11
    tmp471 = einsum(t2.abab, (0, 1, 2, 3), tmp53, (0, 4, 5, 3), (4, 1, 5, 2))
    tmp476 += tmp471 * -1
    del tmp471
    tmp222 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3)))
    tmp221 = einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 2, 3, 4), (3, 1, 2, 4))
    tmp222 += np.transpose(tmp221, (0, 2, 1, 3)) * -1
    tmp472 = einsum(t2.abab, (0, 1, 2, 3), tmp222, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp476 += tmp472
    del tmp472
    tmp473 = einsum(t2.abab, (0, 1, 2, 3), tmp239, (4, 3), (0, 1, 4, 2))
    tmp476 += tmp473
    del tmp473
    tmp263 = np.copy(np.transpose(v.aabb.vvoo, (2, 3, 0, 1)))
    tmp263 += np.transpose(tmp262, (1, 0, 3, 2))
    del tmp262
    tmp474 = einsum(t1.aa, (0, 1), tmp263, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp476 += np.transpose(tmp474, (0, 2, 1, 3))
    del tmp474
    tmp60 = np.copy(v.aabb.oooo)
    tmp60 += np.transpose(tmp32, (1, 0, 3, 2))
    tmp475 = einsum(t1.aa, (0, 1), tmp60, (0, 2, 3, 4), (2, 3, 4, 1))
    tmp476 += np.transpose(tmp475, (0, 2, 1, 3)) * -1
    del tmp475
    tmp549 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp476, (4, 3, 6, 1), (5, 6, 0, 2)) * 2
    l2new.bbbb += np.transpose(tmp549, (3, 2, 0, 1)) * -1
    tmp555 = np.copy(np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)))
    tmp265 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (1, 4, 6, 3), (0, 2, 6, 5)) * -1
    tmp555 += tmp265
    tmp266 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), v.bbbb.ovov, (6, 4, 2, 5), (0, 1, 6, 3))
    tmp555 += tmp266 * 3
    tmp253 = np.copy(v.bbbb.ooov) * -1
    tmp253 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3))
    tmp253 += tmp218
    tmp253 += np.transpose(tmp218, (0, 2, 1, 3)) * -1
    tmp267 = einsum(t2.bbbb, (0, 1, 2, 3), tmp253, (4, 1, 5, 3), (0, 4, 5, 2)) * 2
    tmp555 += tmp267
    tmp550 = einsum(t2.abab, (0, 1, 2, 3), tmp7, (0, 4, 5, 2), (1, 4, 5, 3))
    tmp555 += np.transpose(tmp550, (0, 2, 1, 3))
    del tmp550
    tmp226 = np.copy(v.bbbb.ovvv)
    tmp226 += np.transpose(tmp225, (0, 2, 3, 1)) * -1
    tmp269 = einsum(tmp226, (0, 1, 2, 3), t2.bbbb, (4, 5, 1, 2), (4, 5, 0, 3))
    tmp555 += np.transpose(tmp269, (1, 0, 2, 3))
    tmp270 = einsum(tmp239, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 0, 4)) * -1
    tmp555 += np.transpose(tmp270, (1, 0, 2, 3))
    tmp551 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp551 += v.bbbb.oovv * -1
    tmp271 = einsum(t1.bb, (0, 1), v.bbbb.ovvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp551 += np.transpose(tmp271, (1, 0, 2, 3))
    tmp552 = einsum(t1.bb, (0, 1), tmp551, (2, 3, 1, 4), (0, 2, 3, 4))
    del tmp551
    tmp555 += np.transpose(tmp552, (2, 0, 1, 3))
    del tmp552
    tmp553 = np.copy(v.bbbb.oooo)
    tmp553 += np.transpose(tmp244, (3, 1, 2, 0))
    tmp553 += np.transpose(tmp245, (2, 1, 3, 0))
    tmp553 += np.transpose(tmp245, (3, 2, 1, 0)) * -1
    tmp554 = einsum(tmp553, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4))
    del tmp553
    tmp555 += np.transpose(tmp554, (0, 2, 1, 3)) * -1
    del tmp554
    tmp556 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp555, (5, 4, 6, 2), (3, 6, 0, 1)) * 6
    del tmp555
    l2new.bbbb += np.transpose(tmp556, (2, 3, 0, 1)) * -1
    tmp311 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 0, 5), (5, 1, 4, 3))
    tmp560 = np.copy(tmp311) * -1
    tmp312 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 6, 5, 0, 7, 2), (4, 6, 1, 7))
    tmp560 += tmp312 * -1
    tmp161 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5))) * -1
    tmp161 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * 0.5
    tmp161 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 3, 0, 4, 1, 5)) * 0.5
    tmp557 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp161, (4, 5, 6, 1, 2, 7), (3, 6, 0, 7)) * 4
    tmp560 += tmp557
    del tmp557
    tmp163 = np.copy(t3.bbbbbb) * -1
    tmp163 += einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 4, 1, 2, 3, 5)) * 0.6666666666666666
    tmp163 += einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 5, 3)) * 0.6666666666666666
    tmp558 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp163, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7)) * 9
    tmp560 += tmp558
    del tmp558
    tmp559 = einsum(l2.bbbb, (0, 1, 2, 3), tmp165, (3, 4, 1, 5), (2, 4, 0, 5)) * 4
    tmp560 += tmp559 * -1
    del tmp559
    l2new.bbbb += einsum(tmp228, (0, 1, 2, 3), tmp560, (4, 0, 5, 2), (3, 5, 4, 1))
    tmp462 = np.copy(v.bbbb.ovvv) * -1
    tmp462 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1))
    l2new.bbbb += einsum(tmp561, (0, 1, 2, 3), tmp462, (4, 3, 2, 5), (5, 1, 0, 4)) * -2
    tmp565 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1))) * 0.5
    tmp301 = einsum(t2.abab, (0, 1, 2, 3), l2.bbbb, (4, 3, 5, 1), (0, 5, 2, 4))
    tmp565 += tmp301
    tmp302 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.babbab, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0))
    tmp565 += tmp302 * 1.5
    tmp303 = np.copy(t3.aaaaaa) * -1.5
    tmp303 += einsum(t1.aa, (0, 1), t2.aaaa, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1))
    tmp303 += einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (0, 1, 4, 2, 5, 3))
    tmp562 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp303, (3, 6, 5, 0, 7, 2), (6, 4, 7, 1))
    tmp565 += tmp562 * -1
    del tmp562
    tmp305 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4))) * -2
    tmp305 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 4, 1, 5))
    tmp305 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 1, 4, 5))
    tmp563 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp305, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0))
    tmp565 += tmp563 * -1
    del tmp563
    tmp564 = einsum(tmp307, (0, 1, 2, 3), l2.abab, (2, 4, 0, 5), (1, 5, 3, 4)) * 0.5
    tmp565 += tmp564
    del tmp564
    tmp566 = einsum(tmp565, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 5), (4, 1, 5, 3)) * 2
    del tmp565
    l2new.bbbb += np.transpose(tmp566, (2, 3, 1, 0)) * -1
    tmp317 = einsum(t1.aa, (0, 1), l2.abab, (2, 3, 0, 4), (4, 2, 1, 3))
    tmp320 = np.copy(tmp317) * 0.5
    tmp320 += tmp318
    tmp320 += tmp319
    tmp567 = einsum(v.aabb.vvov, (0, 1, 2, 3), tmp320, (4, 0, 1, 5), (2, 4, 3, 5)) * 2
    l2new.bbbb += np.transpose(tmp567, (2, 3, 1, 0)) * -1
    tmp466 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp466 += v.bbbb.oovv * -1
    tmp466 += np.transpose(tmp465, (1, 0, 2, 3)) * -1
    del tmp465
    tmp568 = einsum(l2.bbbb, (0, 1, 2, 3), tmp466, (3, 4, 1, 5), (2, 4, 0, 5)) * 2
    l2new.bbbb += np.transpose(tmp568, (3, 2, 0, 1)) * -1
    tmp291 = np.copy(v.bbbb.ooov) * -1
    tmp291 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3))
    tmp343 = np.copy(tmp126)
    tmp343 += tmp127 * 3
    l2new.bbbb += einsum(tmp343, (0, 1, 2, 3), tmp291, (0, 2, 4, 5), (5, 3, 1, 4)) * 2
    tmp185 = np.copy(tmp91)
    tmp185 += tmp92 * 2
    tmp185 += tmp93 * 2
    tmp569 = einsum(v.aabb.ooov, (0, 1, 2, 3), tmp185, (0, 1, 4, 5), (2, 4, 3, 5))
    l2new.bbbb += np.transpose(tmp569, (2, 3, 1, 0))
    tmp570 = einsum(tmp299, (0, 1), l2.bbbb, (2, 3, 4, 0), (4, 1, 2, 3)) * -2
    l2new.bbbb += np.transpose(tmp570, (3, 2, 0, 1)) * -1
    tmp129 = einsum(t1.bb, (0, 1), l1.bb, (1, 2), (2, 0))
    tmp571 = np.copy(tmp129)
    tmp130 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 0, 4), (4, 1))
    tmp571 += tmp130
    tmp131 = einsum(l2.bbbb, (0, 1, 2, 3), t2.bbbb, (4, 3, 0, 1), (2, 4))
    tmp571 += tmp131 * 2
    tmp132 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 6, 5, 0, 1, 2), (4, 6))
    tmp571 += tmp132 * 0.9999996000000002
    tmp133 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 4, 5, 6, 1, 2), (6, 0))
    tmp571 += tmp133 * 1.9999992000000009
    tmp134 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (6, 4, 5, 0, 1, 2), (3, 6))
    tmp571 += tmp134 * 2.9999988
    tmp572 = einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp571, (4, 2), (0, 4, 3, 1))
    del tmp571
    l2new.bbbb += np.transpose(tmp572, (3, 2, 1, 0))
    l2new.bbbb += einsum(l1.bb, (0, 1), tmp239, (2, 3), (3, 0, 1, 2)) * -1
    l2new.bbbb += np.transpose(tmp548, (2, 3, 1, 0))
    l2new.bbbb += np.transpose(tmp549, (3, 2, 1, 0))
    del tmp549
    l2new.bbbb += np.transpose(tmp556, (2, 3, 1, 0))
    del tmp556
    tmp576 = np.copy(tmp311) * -0.25
    tmp576 += tmp312 * -0.25
    tmp573 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp161, (4, 5, 6, 1, 2, 7), (3, 6, 0, 7))
    tmp576 += tmp573
    del tmp573
    tmp574 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp163, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7)) * 2.25
    tmp576 += tmp574
    del tmp574
    tmp575 = einsum(l2.bbbb, (0, 1, 2, 3), tmp165, (3, 4, 1, 5), (2, 4, 0, 5))
    tmp576 += tmp575 * -1
    del tmp575
    l2new.bbbb += einsum(tmp576, (0, 1, 2, 3), tmp228, (1, 4, 5, 3), (5, 2, 4, 0)) * 4
    tmp314 = np.copy(v.bbbb.ovvv)
    tmp314 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)) * -1
    l2new.bbbb += einsum(tmp314, (0, 1, 2, 3), tmp561, (4, 5, 2, 3), (1, 5, 0, 4)) * 2
    tmp580 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1))) * 0.3333333333333333
    tmp580 += tmp301 * 0.6666666666666666
    tmp580 += tmp302
    tmp577 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp303, (3, 6, 5, 0, 7, 2), (6, 4, 7, 1)) * 0.6666666666666666
    tmp580 += tmp577 * -1
    del tmp577
    tmp578 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp305, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0)) * 0.6666666666666666
    tmp580 += tmp578 * -1
    del tmp578
    tmp579 = einsum(tmp307, (0, 1, 2, 3), l2.abab, (2, 4, 0, 5), (1, 5, 3, 4)) * 0.3333333333333333
    tmp580 += tmp579
    del tmp579
    tmp581 = einsum(tmp580, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 5), (4, 1, 5, 3)) * 3
    del tmp580
    l2new.bbbb += np.transpose(tmp581, (2, 3, 0, 1))
    l2new.bbbb += np.transpose(tmp567, (2, 3, 0, 1))
    l2new.bbbb += np.transpose(tmp568, (3, 2, 1, 0))
    tmp582 = np.copy(v.bbbb.ooov)
    tmp582 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3)) * -1
    tmp583 = np.copy(tmp126) * 0.3333333333333333
    tmp583 += tmp127
    l2new.bbbb += einsum(tmp583, (0, 1, 2, 3), tmp582, (0, 2, 4, 5), (5, 3, 4, 1)) * 6
    l2new.bbbb += np.transpose(tmp569, (2, 3, 0, 1)) * -1
    l2new.bbbb += np.transpose(tmp570, (3, 2, 1, 0))
    del tmp570
    tmp584 = np.copy(tmp129) * 0.5000002000000798
    tmp584 += tmp130 * 0.5000002000000798
    tmp584 += tmp131 * 1.0000004000001597
    tmp584 += tmp132 * 0.4999999999999999
    tmp584 += tmp133
    tmp584 += tmp134 * 1.4999999999999993
    tmp585 = einsum(tmp584, (0, 1), v.bbbb.ovov, (2, 3, 1, 4), (2, 0, 4, 3)) * 1.9999992000000009
    del tmp584
    l2new.bbbb += np.transpose(tmp585, (3, 2, 0, 1)) * -1
    l2new.bbbb += einsum(l1.bb, (0, 1), tmp239, (2, 3), (3, 0, 2, 1))
    l2new.bbbb += np.transpose(tmp548, (3, 2, 0, 1))
    l2new.bbbb += einsum(tmp228, (0, 1, 2, 3), tmp560, (4, 0, 5, 3), (5, 2, 4, 1))
    del tmp560
    l2new.bbbb += einsum(tmp462, (0, 1, 2, 3), tmp561, (4, 5, 2, 3), (5, 1, 4, 0)) * -2
    l2new.bbbb += np.transpose(tmp566, (3, 2, 1, 0))
    del tmp566
    l2new.bbbb += np.transpose(tmp567, (3, 2, 1, 0))
    l2new.bbbb += np.transpose(tmp568, (2, 3, 0, 1))
    l2new.bbbb += einsum(tmp582, (0, 1, 2, 3), tmp343, (0, 4, 1, 5), (5, 3, 4, 2)) * 2
    l2new.bbbb += np.transpose(tmp569, (3, 2, 1, 0)) * -1
    l2new.bbbb += np.transpose(tmp572, (2, 3, 1, 0)) * -1
    del tmp572
    l2new.bbbb += einsum(tmp239, (0, 1), l1.bb, (2, 3), (2, 1, 3, 0))
    l2new.bbbb += np.transpose(tmp548, (3, 2, 1, 0)) * -1
    del tmp548
    tmp586 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1)))
    tmp586 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3)) * -1
    l2new.bbbb += einsum(tmp576, (0, 1, 2, 3), tmp586, (1, 4, 5, 3), (2, 5, 4, 0)) * 4
    del tmp576, tmp586
    l2new.bbbb += einsum(tmp314, (0, 1, 2, 3), tmp561, (4, 5, 2, 1), (5, 3, 0, 4)) * 2
    del tmp561
    l2new.bbbb += np.transpose(tmp581, (3, 2, 0, 1)) * -1
    del tmp581
    l2new.bbbb += np.transpose(tmp567, (3, 2, 0, 1)) * -1
    del tmp567
    l2new.bbbb += np.transpose(tmp568, (2, 3, 1, 0)) * -1
    del tmp568
    l2new.bbbb += einsum(tmp582, (0, 1, 2, 3), tmp583, (0, 4, 2, 5), (5, 3, 1, 4)) * 6
    del tmp582, tmp583
    l2new.bbbb += np.transpose(tmp569, (3, 2, 0, 1))
    del tmp569
    l2new.bbbb += np.transpose(tmp585, (2, 3, 0, 1))
    del tmp585
    l2new.bbbb += einsum(tmp239, (0, 1), l1.bb, (2, 3), (2, 1, 0, 3)) * -1
    l2new.bbbb += einsum(v.bbbb.vvvv, (0, 1, 2, 3), l2.bbbb, (3, 1, 4, 5), (0, 2, 4, 5)) * -2
    tmp590 = np.copy(v.aabb.ovvv) * -1
    tmp495 = einsum(v.aabb.vvvv, (0, 1, 2, 3), t1.aa, (4, 1), (4, 0, 2, 3))
    tmp590 += np.transpose(tmp495, (0, 1, 3, 2)) * -1
    tmp496 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 5, 1, 6), (0, 3, 4, 6))
    tmp590 += np.transpose(tmp496, (0, 1, 3, 2)) * 2
    tmp497 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 1, 5, 6), (4, 5, 6, 3))
    tmp590 += np.transpose(tmp497, (0, 1, 3, 2)) * 2
    tmp587 = np.copy(v.bbbb.ovvv) * -1
    tmp587 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))
    tmp587 += np.transpose(tmp225, (0, 2, 3, 1))
    tmp587 += np.transpose(tmp225, (0, 3, 2, 1)) * -1
    tmp588 = einsum(tmp587, (0, 1, 2, 3), t2.abab, (4, 0, 5, 2), (4, 5, 1, 3))
    del tmp587
    tmp590 += tmp588 * -1
    del tmp588
    tmp500 = einsum(tmp51, (0, 1, 2, 3), tmp53, (0, 4, 1, 5), (4, 2, 3, 5))
    tmp590 += np.transpose(tmp500, (0, 1, 3, 2)) * -1
    tmp519 = np.copy(v.aabb.ovvv)
    tmp3 = einsum(v.aabb.ovov, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    tmp519 += tmp3 * -1
    tmp589 = einsum(t2.aaaa, (0, 1, 2, 3), tmp519, (1, 3, 4, 5), (0, 2, 4, 5)) * 2
    tmp590 += np.transpose(tmp589, (0, 1, 3, 2)) * -1
    del tmp589
    tmp502 = einsum(tmp222, (0, 1, 2, 3), t2.abab, (4, 0, 1, 5), (4, 2, 5, 3))
    tmp590 += np.transpose(tmp502, (0, 1, 3, 2))
    tmp503 = einsum(t2.abab, (0, 1, 2, 3), tmp239, (1, 4), (0, 2, 3, 4))
    tmp590 += np.transpose(tmp503, (0, 1, 3, 2))
    tmp505 = np.copy(v.aabb.oovv)
    tmp505 += np.transpose(tmp504, (1, 0, 3, 2))
    del tmp504
    tmp506 = einsum(t1.aa, (0, 1), tmp505, (0, 2, 3, 4), (2, 1, 3, 4))
    del tmp505
    tmp590 += np.transpose(tmp506, (0, 1, 3, 2))
    tmp508 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp508 += tmp507
    del tmp507
    tmp509 = einsum(tmp508, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 4, 3))
    del tmp508
    tmp590 += np.transpose(tmp509, (0, 1, 3, 2))
    tmp591 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp590, (4, 1, 6, 2), (5, 3, 0, 6))
    del tmp590
    l2new.bbbb += np.transpose(tmp591, (3, 2, 1, 0))
    tmp597 = np.copy(v.bbbb.ovvv) * -1
    tmp512 = einsum(t1.bb, (0, 1), v.bbbb.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp597 += np.transpose(tmp512, (0, 2, 3, 1))
    tmp513 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (1, 4, 2, 6), (0, 5, 3, 6)) * -1
    tmp597 += np.transpose(tmp513, (0, 2, 1, 3)) * -1
    tmp514 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 6, 3), (4, 5, 6, 1))
    tmp597 += np.transpose(tmp514, (0, 2, 1, 3)) * -3
    tmp592 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))) * -1
    tmp592 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1))
    tmp592 += tmp225
    tmp592 += np.transpose(tmp225, (0, 1, 3, 2)) * -1
    tmp593 = einsum(t2.bbbb, (0, 1, 2, 3), tmp592, (1, 4, 5, 3), (0, 2, 4, 5)) * 2
    del tmp592
    tmp597 += tmp593 * -1
    del tmp593
    tmp255 = np.copy(t2.bbbb)
    tmp255 += einsum(t1.bb, (0, 1), t1.bb, (2, 3), (2, 0, 1, 3)) * -1
    tmp517 = np.copy(v.bbbb.ooov)
    tmp517 += np.transpose(tmp218, (1, 0, 2, 3)) * -1
    tmp518 = einsum(tmp517, (0, 1, 2, 3), tmp255, (2, 0, 4, 5), (1, 4, 5, 3))
    del tmp517
    tmp597 += np.transpose(tmp518, (0, 2, 1, 3)) * -1
    tmp4 = np.copy(v.aabb.ovvv)
    tmp4 += np.transpose(tmp3, (0, 1, 3, 2)) * -1
    del tmp3
    tmp594 = einsum(t2.abab, (0, 1, 2, 3), tmp4, (0, 2, 4, 5), (1, 3, 4, 5))
    tmp597 += np.transpose(tmp594, (0, 1, 3, 2)) * -1
    del tmp594
    tmp521 = einsum(t2.bbbb, (0, 1, 2, 3), tmp239, (1, 4), (0, 2, 3, 4)) * -1
    tmp597 += np.transpose(tmp521, (0, 2, 1, 3))
    tmp595 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 3, 1)))
    tmp595 += v.bbbb.oovv * -1
    tmp595 += tmp231 * -1
    tmp596 = einsum(t1.bb, (0, 1), tmp595, (2, 0, 3, 4), (2, 1, 3, 4))
    del tmp595
    tmp597 += np.transpose(tmp596, (0, 3, 1, 2))
    del tmp596
    tmp598 = einsum(tmp597, (0, 1, 2, 3), l3.bbbbbb, (4, 1, 2, 5, 0, 6), (5, 6, 4, 3)) * 6
    del tmp597
    l2new.bbbb += np.transpose(tmp598, (3, 2, 0, 1))
    tmp600 = einsum(tmp599, (0, 1, 2, 3), v.bbbb.ovvv, (2, 4, 5, 3), (0, 1, 4, 5))
    del tmp599
    l2new.bbbb += np.transpose(tmp600, (2, 3, 0, 1))
    tmp601 = einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * 2.00000080000032
    tmp601 += np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)) * -1
    tmp602 = einsum(tmp601, (0, 1, 2, 3, 4, 5), l3.babbab, (4, 3, 5, 6, 0, 7), (6, 7, 1, 2))
    del tmp601
    tmp606 = np.copy(np.transpose(tmp602, (1, 0, 3, 2))) * -1
    tmp603 = einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 5, 3)) * 2.0000008000003198
    tmp603 += t3.bbbbbb * -1
    tmp606 += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp603, (5, 6, 7, 0, 1, 2), (3, 4, 6, 7)) * -6
    del tmp603
    tmp605 = einsum(tmp604, (0, 1, 2, 3), l2.bbbb, (2, 3, 4, 5), (4, 5, 0, 1)) * 2.00000080000032
    del tmp604
    tmp606 += np.transpose(tmp605, (1, 0, 3, 2))
    l2new.bbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp606, (4, 5, 0, 2), (3, 1, 5, 4)) * 0.4999998
    del tmp606
    tmp609 = einsum(l2.bbbb, (0, 1, 2, 3), tmp608, (4, 1), (2, 3, 0, 4)) * -2
    del tmp608
    l2new.bbbb += np.transpose(tmp609, (3, 2, 1, 0))
    l2new.bbbb += np.transpose(tmp591, (2, 3, 1, 0)) * -1
    l2new.bbbb += np.transpose(tmp598, (2, 3, 0, 1)) * -1
    del tmp598
    l2new.bbbb += np.transpose(tmp600, (3, 2, 0, 1)) * -1
    del tmp600
    tmp345 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (5, 4, 3, 6, 1, 7), (6, 7, 0, 2)) * -1
    tmp610 = np.copy(np.transpose(tmp345, (0, 1, 3, 2)))
    tmp341 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (3, 5, 4, 6, 2, 7), (6, 7, 0, 1))
    tmp610 += np.transpose(tmp341, (0, 1, 3, 2)) * 6
    tmp610 += np.transpose(tmp605, (1, 0, 3, 2)) * -1
    del tmp605
    l2new.bbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp610, (4, 5, 0, 2), (3, 1, 5, 4)) * -0.4999998
    del tmp610
    tmp611 = np.copy(tmp126)
    tmp611 += tmp127 * 6
    tmp612 = einsum(t1.bb, (0, 1), tmp611, (2, 3, 4, 1), (2, 3, 0, 4))
    del tmp611
    l2new.bbbb += einsum(tmp612, (0, 1, 2, 3), v.bbbb.ovov, (3, 4, 2, 5), (4, 5, 0, 1)) * -1
    del tmp612
    l2new.bbbb += np.transpose(tmp609, (2, 3, 1, 0)) * -1
    del tmp609
    l2new.bbbb += einsum(tmp126, (0, 1, 2, 3), v.bbbb.ovvv, (2, 4, 5, 3), (4, 5, 1, 0)) * -1
    l2new.bbbb += np.transpose(tmp591, (3, 2, 1, 0))
    l2new.bbbb += einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp602, (4, 5, 2, 0), (3, 1, 5, 4)) * 0.4999998
    del tmp602
    l2new.bbbb += einsum(tmp345, (0, 1, 2, 3), v.bbbb.ovov, (3, 4, 2, 5), (4, 5, 0, 1)) * -0.4999998
    l2new.bbbb += np.transpose(tmp591, (2, 3, 1, 0)) * -1
    del tmp591
    tmp613 = np.copy(v.bbbb.ovvv)
    tmp613 += np.transpose(tmp225, (0, 3, 1, 2))
    l2new.bbbb += einsum(tmp126, (0, 1, 2, 3), tmp613, (2, 4, 3, 5), (5, 4, 0, 1)) * -1
    del tmp613
    l2new.bbbb += np.transpose(tmp545, (3, 2, 0, 1))
    tmp614 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), v.bbbb.ovov, (6, 5, 7, 3), (1, 0, 2, 6, 7, 4)) * -1
    l2new.bbbb += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp614, (4, 3, 5, 6, 7, 1), (0, 2, 6, 7)) * 1.9999992000000009
    del tmp614
    tmp615 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 3, 1), (4, 5, 6, 0, 2, 7)) * -1
    l2new.bbbb += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp615, (5, 3, 4, 6, 7, 2), (0, 1, 6, 7)) * 5.9999976
    del tmp615
    tmp616 = einsum(tmp245, (0, 1, 2, 3), l2.bbbb, (4, 5, 0, 1), (2, 3, 4, 5))
    tmp620 = np.copy(np.transpose(tmp616, (0, 1, 3, 2))) * -2
    del tmp616
    tmp618 = np.copy(np.transpose(tmp331, (0, 2, 1, 3))) * -1
    tmp618 += np.transpose(tmp300, (0, 2, 1, 3)) * -3
    tmp619 = einsum(tmp618, (0, 1, 2, 3), tmp617, (0, 4, 5, 3), (4, 5, 1, 2)) * 2
    del tmp617, tmp618
    tmp620 += tmp619 * -1
    del tmp619
    l2new.bbbb += np.transpose(tmp620, (3, 2, 0, 1))
    l2new.bbbb += np.transpose(tmp620, (3, 2, 1, 0)) * -1
    del tmp620
    tmp621 = np.copy(v.bbbb.oooo)
    tmp621 += np.transpose(tmp243, (1, 3, 2, 0))
    tmp621 += np.transpose(tmp244, (0, 2, 3, 1))
    l2new.bbbb += einsum(l2.bbbb, (0, 1, 2, 3), tmp621, (2, 4, 5, 3), (0, 1, 5, 4)) * -2
    del tmp621
    tmp622 = einsum(tmp546, (0, 1), v.bbbb.ovov, (2, 3, 4, 1), (2, 4, 3, 0)) * 0.9999996000000002
    del tmp546
    l2new.bbbb += np.transpose(tmp622, (2, 3, 1, 0))
    l2new.bbbb += np.transpose(tmp545, (2, 3, 0, 1)) * -1
    del tmp545
    l2new.bbbb += np.transpose(tmp622, (3, 2, 1, 0)) * -1
    del tmp622
    tmp347 = einsum(v.aaaa.ooov, (0, 1, 2, 3), l1.aa, (4, 1), (0, 2, 4, 3))
    l2new.aaaa = np.copy(np.transpose(tmp347, (3, 2, 1, 0))) * -1
    l2new.aaaa += np.transpose(v.aaaa.ovov, (1, 3, 0, 2))
    tmp103 = einsum(t1.aa, (0, 1), l1.aa, (2, 0), (2, 1))
    tmp348 = np.copy(tmp103) * 0.5000002000000798
    tmp104 = einsum(t2.aaaa, (0, 1, 2, 3), l2.aaaa, (4, 3, 0, 1), (4, 2))
    tmp348 += tmp104 * 1.0000004000001597
    tmp105 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 0, 1), (4, 2))
    tmp348 += tmp105 * 0.5000002000000798
    tmp106 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (3, 4, 5, 6, 1, 2), (0, 6))
    tmp348 += tmp106 * 1.4999999999999993
    tmp146 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 4, 5, 0, 1, 2), (6, 3))
    tmp348 += tmp146
    tmp107 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 0, 6, 2), (1, 6))
    tmp348 += tmp107 * 0.4999999999999999
    tmp349 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp348, (4, 1), (0, 2, 4, 3)) * 1.9999992000000009
    l2new.aaaa += np.transpose(tmp349, (3, 2, 1, 0)) * -1
    l2new.aaaa += np.transpose(tmp347, (2, 3, 1, 0))
    l2new.aaaa += np.transpose(v.aaaa.ovov, (3, 1, 0, 2)) * -1
    l2new.aaaa += np.transpose(tmp349, (2, 3, 1, 0))
    del tmp349
    tmp350 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), l1.aa, (3, 4), (4, 0, 1, 2))
    l2new.aaaa += np.transpose(tmp350, (2, 3, 0, 1)) * -1
    tmp62 = np.copy(v.aabb.ooov)
    tmp46 = einsum(v.aabb.oovv, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 4, 2))
    tmp62 += np.transpose(tmp46, (1, 0, 2, 3))
    del tmp46
    tmp47 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (6, 3, 2, 5), (0, 6, 1, 4))
    tmp62 += tmp47 * 2
    del tmp47
    tmp48 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 3), (5, 0, 4, 6))
    tmp62 += tmp48 * 2
    del tmp48
    tmp49 = np.copy(v.aaaa.ooov) * -1
    tmp49 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1))
    tmp49 += np.transpose(tmp0, (1, 0, 2, 3))
    tmp49 += np.transpose(tmp0, (2, 0, 1, 3)) * -1
    tmp50 = einsum(tmp49, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 2, 4, 5))
    del tmp49
    tmp62 += tmp50
    del tmp50
    tmp52 = einsum(tmp7, (0, 1, 2, 3), tmp51, (4, 1, 3, 5), (0, 4, 2, 5))
    tmp62 += np.transpose(tmp52, (1, 0, 2, 3)) * -1
    del tmp52
    tmp54 = einsum(t2.bbbb, (0, 1, 2, 3), tmp53, (4, 5, 1, 3), (4, 5, 0, 2)) * 2
    tmp62 += np.transpose(tmp54, (1, 0, 2, 3))
    del tmp54
    tmp55 = einsum(t2.abab, (0, 1, 2, 3), tmp4, (4, 2, 3, 5), (0, 4, 1, 5))
    tmp62 += tmp55
    del tmp55
    tmp56 = einsum(t2.abab, (0, 1, 2, 3), tmp25, (4, 2), (0, 4, 1, 3))
    tmp62 += tmp56
    del tmp56
    tmp58 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp58 += tmp57
    del tmp57
    tmp59 = einsum(t1.aa, (0, 1), tmp58, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp62 += tmp59
    del tmp59
    tmp61 = einsum(t1.bb, (0, 1), tmp60, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp62 += np.transpose(tmp61, (1, 0, 2, 3)) * -1
    del tmp61
    tmp351 = einsum(tmp62, (0, 1, 2, 3), l3.abaaba, (4, 3, 5, 0, 2, 6), (6, 1, 4, 5)) * 2
    l2new.aaaa += np.transpose(tmp351, (3, 2, 0, 1)) * -1
    tmp358 = np.copy(np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)))
    tmp63 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (6, 5, 2, 4), (0, 1, 6, 3)) * -1
    tmp358 += tmp63 * 3
    tmp64 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 1), (4, 5, 0, 6))
    tmp358 += tmp64
    tmp1 = np.copy(v.aaaa.ooov) * -1
    tmp1 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3))
    tmp1 += tmp0
    tmp1 += np.transpose(tmp0, (0, 2, 1, 3)) * -1
    tmp352 = einsum(tmp1, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (4, 0, 2, 5)) * 2
    tmp358 += tmp352
    del tmp352
    tmp353 = einsum(t2.abab, (0, 1, 2, 3), tmp53, (4, 5, 1, 3), (0, 4, 5, 2))
    tmp358 += np.transpose(tmp353, (0, 2, 1, 3))
    del tmp353
    tmp10 = np.copy(v.aaaa.ovvv)
    tmp10 += np.transpose(tmp9, (0, 2, 3, 1)) * -1
    tmp68 = einsum(t2.aaaa, (0, 1, 2, 3), tmp10, (4, 2, 3, 5), (0, 1, 4, 5))
    tmp358 += np.transpose(tmp68, (1, 0, 2, 3))
    tmp69 = einsum(t2.aaaa, (0, 1, 2, 3), tmp25, (4, 3), (0, 1, 4, 2)) * -1
    tmp358 += np.transpose(tmp69, (1, 0, 2, 3))
    tmp354 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp354 += v.aaaa.oovv * -1
    tmp70 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t1.aa, (4, 3), (4, 0, 1, 2))
    tmp354 += np.transpose(tmp70, (1, 0, 2, 3))
    tmp355 = einsum(tmp354, (0, 1, 2, 3), t1.aa, (4, 2), (4, 0, 1, 3))
    del tmp354
    tmp358 += np.transpose(tmp355, (2, 0, 1, 3))
    del tmp355
    tmp356 = np.copy(v.aaaa.oooo)
    tmp43 = einsum(t1.aa, (0, 1), tmp0, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp356 += np.transpose(tmp43, (3, 1, 2, 0))
    tmp356 += np.transpose(tmp29, (2, 1, 3, 0))
    tmp356 += np.transpose(tmp29, (3, 2, 1, 0)) * -1
    tmp357 = einsum(tmp356, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4))
    del tmp356
    tmp358 += np.transpose(tmp357, (0, 2, 1, 3)) * -1
    del tmp357
    tmp359 = einsum(tmp358, (0, 1, 2, 3), l3.aaaaaa, (4, 5, 3, 6, 1, 0), (6, 2, 4, 5)) * 6
    del tmp358
    l2new.aaaa += np.transpose(tmp359, (2, 3, 0, 1)) * -1
    tmp169 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 5, 1), (5, 0, 4, 2))
    tmp365 = np.copy(tmp169) * -1
    tmp170 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 6, 5, 0, 7, 2), (7, 1, 6, 4))
    tmp365 += tmp170 * -1
    tmp360 = np.copy(t3.aaaaaa) * -1
    tmp360 += einsum(t1.aa, (0, 1), t2.aaaa, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * 0.6666666666666666
    tmp360 += einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (0, 1, 4, 2, 5, 3)) * 0.6666666666666666
    tmp361 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp360, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7)) * 9
    tmp365 += tmp361
    del tmp361
    tmp362 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4))) * -1
    tmp362 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 4, 1, 5)) * 0.5
    tmp362 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 1, 4, 5)) * 0.5
    tmp363 = einsum(tmp362, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 5, 3, 7, 2, 0), (7, 1, 6, 4)) * 4
    tmp365 += tmp363
    del tmp363
    tmp364 = einsum(l2.aaaa, (0, 1, 2, 3), tmp261, (3, 4, 1, 5), (2, 4, 0, 5)) * 4
    tmp365 += tmp364 * -1
    del tmp364
    l2new.aaaa += einsum(tmp23, (0, 1, 2, 3), tmp365, (4, 0, 5, 2), (3, 5, 4, 1))
    tmp147 = np.copy(v.aaaa.ovvv) * -1
    tmp147 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    l2new.aaaa += einsum(tmp147, (0, 1, 2, 3), tmp192, (4, 5, 2, 1), (3, 5, 4, 0)) * -2
    tmp369 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1))) * 0.3333333333333333
    tmp159 = einsum(l2.aaaa, (0, 1, 2, 3), t2.abab, (3, 4, 1, 5), (2, 4, 0, 5))
    tmp369 += tmp159 * 0.6666666666666666
    tmp160 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.abaaba, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7))
    tmp369 += tmp160
    tmp366 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp161, (5, 4, 6, 2, 1, 7), (3, 6, 0, 7)) * 1.3333333333333333
    tmp369 += tmp366 * -1
    del tmp366
    tmp367 = einsum(tmp163, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 6, 5, 0, 7, 2), (7, 1, 6, 4))
    tmp369 += tmp367 * -1
    del tmp367
    tmp368 = einsum(l2.abab, (0, 1, 2, 3), tmp165, (3, 4, 1, 5), (2, 4, 0, 5)) * 0.6666666666666666
    tmp369 += tmp368
    del tmp368
    tmp370 = einsum(v.aabb.ovov, (0, 1, 2, 3), tmp369, (4, 2, 5, 3), (0, 4, 1, 5)) * 3
    del tmp369
    l2new.aaaa += np.transpose(tmp370, (2, 3, 1, 0)) * -1
    tmp174 = einsum(t1.bb, (0, 1), l2.abab, (2, 3, 4, 0), (4, 2, 3, 1))
    tmp177 = np.copy(tmp174)
    tmp177 += tmp175 * 2
    tmp177 += tmp176 * 2
    tmp371 = einsum(v.aabb.ovvv, (0, 1, 2, 3), tmp177, (4, 5, 2, 3), (0, 4, 1, 5))
    l2new.aaaa += np.transpose(tmp371, (2, 3, 1, 0)) * -1
    tmp374 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp374 += v.aaaa.oovv * -1
    tmp374 += tmp373 * -1
    del tmp373
    tmp375 = einsum(tmp374, (0, 1, 2, 3), l2.aaaa, (4, 2, 5, 0), (5, 1, 4, 3)) * 2
    del tmp374
    l2new.aaaa += np.transpose(tmp375, (3, 2, 0, 1)) * -1
    tmp150 = np.copy(v.aaaa.ooov)
    tmp150 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3)) * -1
    tmp376 = np.copy(tmp88) * 3
    tmp376 += tmp89
    l2new.aaaa += einsum(tmp376, (0, 1, 2, 3), tmp150, (0, 4, 2, 5), (5, 3, 1, 4)) * 2
    tmp124 = np.copy(tmp121) * 0.5
    tmp124 += tmp122
    tmp124 += tmp123
    tmp377 = einsum(tmp124, (0, 1, 2, 3), v.aabb.ovoo, (4, 5, 1, 2), (4, 0, 5, 3)) * 2
    l2new.aaaa += np.transpose(tmp377, (2, 3, 1, 0))
    tmp378 = einsum(l2.aaaa, (0, 1, 2, 3), tmp157, (3, 4), (2, 4, 0, 1)) * -2
    l2new.aaaa += np.transpose(tmp378, (3, 2, 0, 1)) * -1
    tmp95 = einsum(t1.aa, (0, 1), l1.aa, (1, 2), (2, 0))
    tmp217 = np.copy(tmp95)
    tmp96 = einsum(t2.aaaa, (0, 1, 2, 3), l2.aaaa, (2, 3, 4, 1), (4, 0))
    tmp217 += tmp96 * 2
    tmp97 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 4, 1), (4, 0))
    tmp217 += tmp97
    tmp98 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (6, 4, 5, 0, 1, 2), (3, 6))
    tmp217 += tmp98 * 2.9999988
    tmp99 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 4, 5, 0, 1, 2), (3, 6))
    tmp217 += tmp99 * 1.9999992000000009
    tmp100 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 4, 5, 0, 6, 2), (6, 1))
    tmp217 += tmp100 * 0.9999996000000002
    tmp379 = einsum(tmp217, (0, 1), v.aaaa.ovov, (2, 3, 1, 4), (0, 2, 4, 3))
    l2new.aaaa += np.transpose(tmp379, (3, 2, 0, 1))
    l2new.aaaa += einsum(l1.aa, (0, 1), tmp25, (2, 3), (3, 0, 1, 2)) * -1
    l2new.aaaa += np.transpose(tmp350, (2, 3, 1, 0))
    tmp380 = einsum(l2.aaaa, (0, 1, 2, 3), v.aaaa.oovv, (4, 3, 5, 1), (2, 4, 0, 5))
    l2new.aaaa += np.transpose(tmp380, (3, 2, 1, 0)) * -2
    l2new.aaaa += np.transpose(tmp351, (3, 2, 1, 0))
    del tmp351
    l2new.aaaa += np.transpose(tmp359, (2, 3, 1, 0))
    del tmp359
    tmp381 = einsum(tmp192, (0, 1, 2, 3), tmp109, (4, 5, 2, 3), (4, 0, 5, 1)) * 2
    l2new.aaaa += np.transpose(tmp381, (2, 3, 0, 1))
    tmp382 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1)))
    tmp382 += tmp159 * 2
    tmp382 += tmp160 * 3
    tmp162 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp161, (5, 4, 6, 2, 1, 7), (3, 6, 0, 7)) * 4
    tmp382 += tmp162 * -1
    tmp164 = einsum(tmp163, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 6, 5, 0, 7, 2), (7, 1, 6, 4)) * 3
    tmp382 += tmp164 * -1
    tmp166 = einsum(l2.abab, (0, 1, 2, 3), tmp165, (3, 4, 1, 5), (2, 4, 0, 5)) * 2
    tmp382 += tmp166
    tmp383 = einsum(tmp382, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 1, 3), (4, 0, 5, 2))
    del tmp382
    l2new.aaaa += np.transpose(tmp383, (2, 3, 0, 1))
    tmp387 = np.copy(np.transpose(l2.aaaa, (2, 3, 0, 1)))
    tmp387 += tmp169 * 0.5
    tmp387 += tmp170 * 0.5
    tmp384 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp360, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7)) * 4.5
    tmp387 += tmp384 * -1
    del tmp384
    tmp385 = einsum(tmp362, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 5, 3, 7, 2, 0), (7, 1, 6, 4)) * 2
    tmp387 += tmp385 * -1
    del tmp385
    tmp386 = einsum(l2.aaaa, (0, 1, 2, 3), tmp261, (3, 4, 1, 5), (2, 4, 0, 5)) * 2
    tmp387 += tmp386
    del tmp386
    tmp388 = einsum(tmp387, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 1, 3), (0, 4, 2, 5)) * 2
    del tmp387
    l2new.aaaa += np.transpose(tmp388, (3, 2, 1, 0))
    tmp392 = np.copy(tmp169) * -0.25
    tmp392 += tmp170 * -0.25
    tmp389 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp360, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7)) * 2.25
    del tmp360
    tmp392 += tmp389
    del tmp389
    tmp390 = einsum(tmp362, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 5, 3, 7, 2, 0), (7, 1, 6, 4))
    del tmp362
    tmp392 += tmp390
    del tmp390
    tmp391 = einsum(l2.aaaa, (0, 1, 2, 3), tmp261, (3, 4, 1, 5), (2, 4, 0, 5))
    tmp392 += tmp391 * -1
    del tmp391
    tmp393 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp392, (4, 2, 5, 1), (4, 0, 5, 3)) * 4
    del tmp392
    l2new.aaaa += np.transpose(tmp393, (3, 2, 1, 0))
    l2new.aaaa += np.transpose(tmp371, (2, 3, 0, 1))
    tmp90 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -0.3333333333333333
    tmp90 += tmp88
    tmp90 += tmp89 * 0.3333333333333333
    l2new.aaaa += einsum(tmp150, (0, 1, 2, 3), tmp90, (0, 4, 1, 5), (3, 5, 2, 4)) * 6
    l2new.aaaa += np.transpose(tmp377, (2, 3, 0, 1)) * -1
    l2new.aaaa += np.transpose(tmp378, (3, 2, 1, 0))
    del tmp378
    tmp394 = np.copy(tmp95) * 0.5
    tmp394 += tmp96
    tmp394 += tmp97 * 0.5
    tmp394 += tmp98 * 1.4999994
    tmp394 += tmp99 * 0.9999996000000004
    tmp394 += tmp100 * 0.4999998000000001
    tmp395 = einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp394, (4, 2), (4, 0, 3, 1)) * 2
    l2new.aaaa += np.transpose(tmp395, (3, 2, 1, 0)) * -1
    l2new.aaaa += einsum(tmp25, (0, 1), l1.aa, (2, 3), (1, 2, 0, 3))
    l2new.aaaa += np.transpose(tmp350, (3, 2, 0, 1))
    l2new.aaaa += einsum(tmp365, (0, 1, 2, 3), tmp14, (1, 4, 3, 5), (2, 5, 0, 4))
    del tmp365
    l2new.aaaa += einsum(tmp109, (0, 1, 2, 3), tmp192, (4, 5, 2, 1), (5, 3, 4, 0)) * -2
    l2new.aaaa += np.transpose(tmp370, (3, 2, 1, 0))
    del tmp370
    l2new.aaaa += np.transpose(tmp371, (3, 2, 1, 0))
    l2new.aaaa += np.transpose(tmp375, (2, 3, 0, 1))
    del tmp375
    l2new.aaaa += einsum(tmp376, (0, 1, 2, 3), tmp150, (0, 2, 4, 5), (3, 5, 1, 4)) * 2
    del tmp376
    l2new.aaaa += np.transpose(tmp377, (3, 2, 1, 0)) * -1
    l2new.aaaa += np.transpose(tmp379, (2, 3, 0, 1)) * -1
    del tmp379
    l2new.aaaa += einsum(tmp25, (0, 1), l1.aa, (2, 3), (2, 1, 3, 0))
    l2new.aaaa += np.transpose(tmp350, (3, 2, 1, 0)) * -1
    del tmp350
    l2new.aaaa += np.transpose(tmp380, (2, 3, 1, 0)) * 2
    del tmp380
    l2new.aaaa += np.transpose(tmp381, (3, 2, 0, 1)) * -1
    del tmp381
    l2new.aaaa += np.transpose(tmp383, (3, 2, 0, 1)) * -1
    del tmp383
    l2new.aaaa += np.transpose(tmp388, (2, 3, 1, 0)) * -1
    del tmp388
    l2new.aaaa += np.transpose(tmp393, (2, 3, 1, 0)) * -1
    del tmp393
    l2new.aaaa += np.transpose(tmp371, (3, 2, 0, 1)) * -1
    del tmp371
    tmp145 = np.copy(v.aaaa.ooov) * -1
    tmp145 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3))
    l2new.aaaa += einsum(tmp145, (0, 1, 2, 3), tmp90, (0, 4, 1, 5), (5, 3, 2, 4)) * 6
    l2new.aaaa += np.transpose(tmp377, (3, 2, 0, 1))
    del tmp377
    l2new.aaaa += np.transpose(tmp395, (2, 3, 1, 0))
    del tmp395
    l2new.aaaa += einsum(tmp25, (0, 1), l1.aa, (2, 3), (2, 1, 0, 3)) * -1
    l2new.aaaa += einsum(l2.aaaa, (0, 1, 2, 3), v.aaaa.vvvv, (4, 1, 5, 0), (4, 5, 2, 3)) * -2
    tmp408 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3))) * -1
    tmp396 = einsum(v.aabb.vvvv, (0, 1, 2, 3), t1.bb, (4, 3), (4, 0, 1, 2))
    tmp408 += np.transpose(tmp396, (0, 2, 1, 3)) * -1
    tmp397 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 1, 5, 6), (4, 6, 3, 5))
    tmp408 += np.transpose(tmp397, (0, 2, 1, 3)) * 2
    tmp398 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 6, 3), (4, 6, 1, 5))
    tmp408 += np.transpose(tmp398, (0, 2, 1, 3)) * 2
    tmp399 = np.copy(v.aaaa.ovvv) * -1
    tmp399 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp399 += np.transpose(tmp9, (0, 2, 1, 3))
    tmp399 += np.transpose(tmp9, (0, 3, 1, 2)) * -1
    tmp400 = einsum(tmp399, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5))
    del tmp399
    tmp408 += np.transpose(tmp400, (0, 2, 1, 3))
    del tmp400
    tmp401 = einsum(tmp51, (0, 1, 2, 3), tmp7, (0, 1, 4, 5), (4, 5, 2, 3))
    tmp408 += tmp401 * -1
    tmp402 = einsum(t2.abab, (0, 1, 2, 3), tmp4, (0, 4, 3, 5), (1, 2, 4, 5))
    tmp408 += np.transpose(tmp402, (0, 2, 1, 3))
    tmp403 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3)))
    tmp403 += tmp221 * -1
    del tmp221
    tmp404 = einsum(t2.bbbb, (0, 1, 2, 3), tmp403, (1, 4, 5, 3), (0, 4, 5, 2)) * 2
    tmp408 += np.transpose(tmp404, (0, 2, 1, 3)) * -1
    del tmp404
    tmp405 = einsum(tmp25, (0, 1), t2.abab, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp408 += np.transpose(tmp405, (0, 2, 1, 3))
    tmp406 = einsum(t1.aa, (0, 1), tmp58, (0, 2, 3, 4), (2, 1, 3, 4))
    del tmp58
    tmp408 += np.transpose(tmp406, (0, 2, 1, 3))
    tmp407 = einsum(tmp263, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4))
    tmp408 += np.transpose(tmp407, (0, 2, 1, 3))
    tmp409 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp408, (4, 6, 2, 1), (5, 3, 0, 6))
    del tmp408
    l2new.aaaa += np.transpose(tmp409, (3, 2, 1, 0))
    tmp421 = np.copy(v.aaaa.ovvv) * -1
    tmp410 = einsum(v.aaaa.vvvv, (0, 1, 2, 3), t1.aa, (4, 3), (4, 0, 1, 2))
    tmp421 += np.transpose(tmp410, (0, 2, 3, 1))
    tmp411 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (1, 6, 2, 5), (0, 3, 4, 6))
    tmp421 += np.transpose(tmp411, (0, 2, 1, 3)) * -3
    tmp412 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aabb.ovov, (2, 6, 1, 4), (0, 5, 3, 6)) * -1
    tmp421 += np.transpose(tmp412, (0, 2, 1, 3)) * -1
    tmp413 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))) * -1
    tmp413 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp413 += tmp9
    tmp413 += np.transpose(tmp9, (0, 1, 3, 2)) * -1
    tmp414 = einsum(t2.aaaa, (0, 1, 2, 3), tmp413, (1, 4, 5, 3), (0, 2, 4, 5)) * 2
    del tmp413
    tmp421 += tmp414 * -1
    tmp30 = np.copy(t2.aaaa)
    tmp30 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (2, 0, 1, 3)) * -1
    tmp415 = np.copy(v.aaaa.ooov)
    tmp415 += np.transpose(tmp0, (1, 0, 2, 3)) * -1
    tmp416 = einsum(tmp415, (0, 1, 2, 3), tmp30, (2, 0, 4, 5), (1, 4, 5, 3))
    del tmp415
    tmp421 += np.transpose(tmp416, (0, 2, 1, 3)) * -1
    tmp417 = einsum(t2.abab, (0, 1, 2, 3), tmp222, (1, 4, 5, 3), (0, 2, 4, 5))
    tmp421 += np.transpose(tmp417, (0, 1, 3, 2)) * -1
    del tmp417
    tmp418 = einsum(t2.aaaa, (0, 1, 2, 3), tmp25, (1, 4), (0, 2, 3, 4)) * -1
    tmp421 += np.transpose(tmp418, (0, 2, 1, 3))
    tmp419 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 3, 1)))
    tmp419 += v.aaaa.oovv * -1
    tmp419 += tmp41 * -1
    tmp420 = einsum(t1.aa, (0, 1), tmp419, (2, 0, 3, 4), (2, 1, 3, 4))
    del tmp419
    tmp421 += np.transpose(tmp420, (0, 3, 1, 2))
    del tmp420
    tmp422 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp421, (4, 1, 2, 6), (3, 5, 0, 6)) * 6
    del tmp421
    l2new.aaaa += np.transpose(tmp422, (3, 2, 0, 1))
    l2new.aaaa += einsum(tmp423, (0, 1, 2, 3), v.aaaa.ovvv, (2, 4, 5, 3), (4, 5, 0, 1)) * 2
    del tmp423
    tmp424 = einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (0, 1, 4, 2, 5, 3)) * 2.0000008000003198
    tmp424 += t3.aaaaaa * -1
    tmp427 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp424, (5, 6, 7, 0, 1, 2), (3, 4, 6, 7)) * -2.9999988
    del tmp424
    tmp425 = einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 4, 1, 5)) * 2.00000080000032
    tmp425 += np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)) * -1
    tmp427 += einsum(tmp425, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 5, 4, 6, 2, 7), (7, 6, 1, 0)) * -0.4999998
    tmp426 = einsum(tmp30, (0, 1, 2, 3), l2.aaaa, (2, 3, 4, 5), (4, 5, 0, 1))
    tmp427 += np.transpose(tmp426, (1, 0, 3, 2))
    l2new.aaaa += einsum(tmp427, (0, 1, 2, 3), v.aaaa.ovov, (2, 4, 3, 5), (5, 4, 1, 0))
    del tmp427
    tmp434 = einsum(tmp433, (0, 1), l2.aaaa, (2, 1, 3, 4), (3, 4, 2, 0)) * -2
    del tmp433
    l2new.aaaa += np.transpose(tmp434, (3, 2, 1, 0))
    l2new.aaaa += np.transpose(tmp409, (2, 3, 1, 0)) * -1
    l2new.aaaa += np.transpose(tmp422, (2, 3, 0, 1)) * -1
    del tmp422
    l2new.aaaa += einsum(tmp435, (0, 1, 2, 3), v.aaaa.ovvv, (2, 4, 5, 3), (5, 4, 0, 1)) * -1
    del tmp435
    tmp213 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (6, 7, 4, 0, 2, 1), (3, 5, 6, 7))
    tmp436 = np.copy(np.transpose(tmp213, (0, 1, 3, 2))) * 2.9999988
    tmp214 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 4, 7, 2, 1, 0), (3, 5, 6, 7)) * -1
    tmp436 += np.transpose(tmp214, (0, 1, 3, 2)) * 0.4999998
    tmp436 += np.transpose(tmp426, (1, 0, 3, 2)) * -1
    del tmp426
    l2new.aaaa += einsum(tmp436, (0, 1, 2, 3), v.aaaa.ovov, (2, 4, 3, 5), (5, 4, 1, 0)) * -1
    del tmp436
    tmp437 = np.copy(tmp88)
    tmp437 += tmp89 * 0.16666666666666666
    tmp438 = einsum(t1.aa, (0, 1), tmp437, (2, 3, 4, 1), (2, 3, 0, 4))
    del tmp437
    l2new.aaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp438, (4, 5, 0, 2), (3, 1, 4, 5)) * -6
    del tmp438
    l2new.aaaa += np.transpose(tmp434, (2, 3, 1, 0)) * -1
    del tmp434
    l2new.aaaa += einsum(v.aaaa.ovvv, (0, 1, 2, 3), tmp89, (4, 5, 0, 3), (1, 2, 5, 4)) * -1
    l2new.aaaa += np.transpose(tmp409, (3, 2, 1, 0))
    tmp439 = einsum(tmp425, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 5, 4, 6, 2, 7), (7, 6, 1, 0))
    del tmp425
    l2new.aaaa += einsum(tmp439, (0, 1, 2, 3), v.aaaa.ovov, (2, 4, 3, 5), (5, 4, 0, 1)) * 0.4999998
    del tmp439
    l2new.aaaa += einsum(tmp214, (0, 1, 2, 3), v.aaaa.ovov, (3, 4, 2, 5), (4, 5, 0, 1)) * -0.4999998
    l2new.aaaa += np.transpose(tmp409, (2, 3, 1, 0)) * -1
    del tmp409
    tmp440 = np.copy(v.aaaa.ovvv)
    tmp440 += np.transpose(tmp9, (0, 3, 1, 2))
    l2new.aaaa += einsum(tmp89, (0, 1, 2, 3), tmp440, (2, 4, 3, 5), (5, 4, 0, 1)) * -1
    del tmp440
    l2new.aaaa += np.transpose(tmp347, (3, 2, 0, 1))
    tmp441 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (6, 5, 7, 4), (0, 1, 2, 6, 7, 3)) * -1
    l2new.aaaa += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp441, (5, 3, 4, 6, 7, 2), (0, 1, 6, 7)) * 5.9999976
    del tmp441
    tmp442 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), v.aaaa.ovov, (6, 5, 7, 3), (0, 2, 6, 7, 1, 4)) * -1
    l2new.aaaa += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp442, (3, 5, 6, 7, 4, 1), (0, 2, 6, 7)) * 1.9999992000000009
    del tmp442
    tmp443 = einsum(l2.aaaa, (0, 1, 2, 3), tmp29, (2, 3, 4, 5), (4, 5, 0, 1))
    tmp447 = np.copy(np.transpose(tmp443, (0, 1, 3, 2))) * -2
    del tmp443
    tmp445 = np.copy(np.transpose(tmp158, (0, 2, 1, 3))) * -1
    tmp445 += np.transpose(tmp191, (0, 2, 1, 3)) * -0.3333333333333333
    tmp446 = einsum(tmp445, (0, 1, 2, 3), tmp444, (0, 4, 5, 3), (4, 5, 1, 2)) * 6
    del tmp444, tmp445
    tmp447 += tmp446 * -1
    del tmp446
    l2new.aaaa += np.transpose(tmp447, (3, 2, 0, 1))
    l2new.aaaa += np.transpose(tmp447, (3, 2, 1, 0)) * -1
    del tmp447
    tmp450 = np.copy(v.aaaa.oooo)
    tmp450 += np.transpose(tmp449, (1, 3, 2, 0))
    del tmp449
    l2new.aaaa += einsum(tmp450, (0, 1, 2, 3), l2.aaaa, (4, 5, 0, 3), (4, 5, 2, 1)) * -2
    del tmp450
    tmp451 = np.copy(tmp103) * 0.33333346666672
    tmp451 += tmp104 * 0.66666693333344
    tmp451 += tmp105 * 0.33333346666672
    tmp451 += tmp106
    tmp451 += tmp146 * 0.666666666666667
    tmp451 += tmp107 * 0.33333333333333337
    l2new.aaaa += einsum(tmp451, (0, 1), v.aaaa.ovov, (2, 1, 3, 4), (4, 0, 2, 3)) * 2.9999988
    del tmp451
    l2new.aaaa += np.transpose(tmp347, (2, 3, 0, 1)) * -1
    del tmp347
    l2new.aaaa += einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp348, (4, 1), (4, 3, 0, 2)) * -1.9999992000000009
    del tmp348
    l1new = Namespace()
    l1new.bb = np.copy(np.transpose(f.bb.ov, (1, 0)))
    tmp220 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp220 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * -0.5
    tmp219 = np.copy(v.bbbb.ooov)
    tmp219 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3)) * -1
    tmp219 += tmp218 * -1
    tmp219 += np.transpose(tmp218, (0, 2, 1, 3))
    tmp248 = einsum(tmp219, (0, 1, 2, 3), tmp220, (4, 1, 5, 6, 3, 7), (4, 2, 5, 0, 6, 7)) * 2
    del tmp219, tmp220
    tmp223 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp223 += einsum(t1.aa, (0, 1), t2.bbbb, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5)) * 1.0000004000001597
    tmp223 += einsum(t2.abab, (0, 1, 2, 3), t1.bb, (4, 5), (0, 4, 1, 2, 5, 3)) * 1.0000004000001597
    tmp248 += einsum(tmp223, (0, 1, 2, 3, 4, 5), tmp222, (6, 3, 7, 4), (0, 6, 2, 1, 7, 5)) * -0.9999996000000004
    tmp189 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp189 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 1, 4, 5)) * -0.5
    tmp248 += einsum(tmp224, (0, 1, 2, 3), tmp189, (0, 4, 5, 3, 6, 7), (4, 2, 5, 1, 6, 7)) * -2
    tmp248 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp226, (6, 5, 3, 7), (1, 6, 0, 2, 4, 7)) * -0.9999996000000004
    tmp248 += einsum(tmp53, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 7, 3), (1, 2, 4, 5, 7, 6))
    tmp232 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp232 += v.bbbb.oovv * -1
    tmp232 += tmp227
    del tmp227
    tmp229 = einsum(t2.bbbb, (0, 1, 2, 3), tmp228, (1, 4, 5, 3), (0, 4, 2, 5)) * 2
    tmp232 += tmp229 * -1
    del tmp229
    tmp232 += np.transpose(tmp231, (0, 1, 3, 2)) * -1
    tmp248 += einsum(t2.abab, (0, 1, 2, 3), tmp232, (4, 5, 6, 3), (0, 5, 1, 4, 2, 6))
    tmp236 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp236 += tmp233 * -1
    del tmp233
    tmp234 = einsum(t2.aaaa, (0, 1, 2, 3), v.aabb.ovov, (1, 3, 4, 5), (0, 4, 2, 5))
    tmp236 += tmp234 * 2
    del tmp234
    tmp236 += tmp235 * -1
    del tmp235
    tmp248 += einsum(tmp236, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * -1
    tmp248 += einsum(tmp239, (0, 1), t3.babbab, (2, 3, 4, 5, 6, 1), (3, 0, 2, 4, 6, 5)) * -0.9999996000000004
    tmp242 = np.copy(np.transpose(v.aabb.vvoo, (2, 3, 0, 1))) * -1
    tmp242 += np.transpose(tmp240, (1, 0, 3, 2))
    del tmp240
    tmp241 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 5, 3), (1, 5, 2, 4))
    tmp242 += np.transpose(tmp241, (0, 1, 3, 2))
    del tmp241
    tmp248 += einsum(t2.abab, (0, 1, 2, 3), tmp242, (4, 5, 2, 6), (0, 5, 1, 4, 6, 3))
    tmp246 = np.copy(v.bbbb.oooo)
    tmp246 += np.transpose(tmp243, (3, 1, 2, 0))
    del tmp243
    tmp246 += np.transpose(tmp244, (2, 1, 3, 0)) * -1
    tmp246 += np.transpose(tmp245, (2, 0, 3, 1)) * -1
    tmp246 += np.transpose(tmp245, (3, 0, 2, 1))
    tmp248 += einsum(t2.abab, (0, 1, 2, 3), tmp246, (1, 4, 5, 6), (0, 5, 6, 4, 2, 3)) * -1
    del tmp246
    tmp247 = np.copy(v.aabb.oooo)
    tmp247 += np.transpose(tmp32, (1, 0, 2, 3))
    tmp33 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp247 += np.transpose(tmp33, (1, 0, 2, 3))
    tmp248 += einsum(tmp247, (0, 1, 2, 3), t2.abab, (0, 4, 5, 6), (1, 3, 4, 2, 5, 6))
    l1new.bb += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp248, (4, 6, 5, 3, 1, 2), (0, 6)) * 2
    del tmp248
    tmp249 = np.copy(v.bbbb.ooov)
    tmp249 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)) * -1
    tmp249 += np.transpose(tmp218, (1, 0, 2, 3)) * -1
    tmp249 += np.transpose(tmp218, (2, 0, 1, 3))
    del tmp218
    tmp252 = einsum(tmp249, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 3, 7), (4, 5, 2, 1, 6, 7)) * 0.5
    del tmp249
    tmp250 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4))) * 0.9999996000000004
    tmp250 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    tmp250 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5))
    tmp252 += einsum(tmp222, (0, 1, 2, 3), tmp250, (4, 5, 6, 1, 7, 3), (5, 4, 0, 6, 7, 2)) * -1
    del tmp250
    tmp251 = np.copy(t3.aaaaaa)
    tmp251 += einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (0, 1, 4, 5, 2, 3)) * 0.6666666666666666
    tmp252 += einsum(tmp251, (0, 1, 2, 3, 4, 5), tmp224, (0, 6, 7, 3), (1, 2, 7, 6, 4, 5)) * -1.5
    del tmp251
    tmp252 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp53, (2, 6, 7, 4), (0, 6, 7, 1, 3, 5))
    tmp252 += einsum(tmp236, (0, 1, 2, 3), t2.abab, (4, 5, 6, 3), (4, 0, 1, 5, 6, 2)) * -1
    del tmp236
    tmp252 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp239, (6, 4), (0, 2, 6, 1, 3, 5)) * -0.4999998000000001
    tmp252 += einsum(tmp242, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 5, 1, 0, 6, 3))
    del tmp242
    tmp252 += einsum(t2.aaaa, (0, 1, 2, 3), tmp247, (1, 4, 5, 6), (0, 4, 6, 5, 2, 3))
    del tmp247
    l1new.bb += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp252, (3, 5, 6, 4, 0, 2), (1, 6)) * 2
    del tmp252
    tmp254 = np.copy(t3.bbbbbb)
    tmp254 += einsum(t1.bb, (0, 1), t2.bbbb, (2, 3, 4, 5), (0, 2, 3, 4, 5, 1)) * 0.6666666666666666
    tmp257 = einsum(tmp254, (0, 1, 2, 3, 4, 5), tmp253, (6, 7, 0, 3), (7, 1, 6, 2, 4, 5)) * 0.75
    del tmp253, tmp254
    tmp257 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp226, (6, 4, 5, 7), (6, 0, 1, 2, 3, 7)) * -0.49999980000000005
    del tmp226
    tmp257 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp224, (1, 6, 7, 4), (7, 0, 6, 2, 3, 5)) * -0.25
    tmp257 += einsum(tmp232, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (1, 4, 0, 5, 6, 2)) * 0.5
    del tmp232
    tmp257 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp239, (6, 5), (6, 0, 1, 2, 3, 4)) * 0.24999990000000002
    tmp256 = np.copy(v.bbbb.oooo)
    tmp256 += np.transpose(tmp245, (2, 1, 3, 0))
    tmp256 += np.transpose(tmp245, (3, 2, 1, 0)) * -1
    tmp256 += einsum(tmp255, (0, 1, 2, 3), v.bbbb.ovov, (4, 2, 5, 3), (4, 1, 5, 0)) * -1
    del tmp255
    tmp257 += einsum(tmp256, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 6), (2, 4, 3, 1, 5, 6)) * 0.5
    del tmp256
    l1new.bb += einsum(tmp257, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (6, 4, 5, 1, 3, 2), (6, 0)) * 12
    del tmp257
    tmp264 = np.copy(np.transpose(v.aabb.ovoo, (0, 2, 3, 1))) * 0.5
    tmp264 += tmp6 * 0.5
    del tmp6
    tmp264 += tmp258
    del tmp258
    tmp264 += tmp259
    del tmp259
    tmp264 += einsum(t2.abab, (0, 1, 2, 3), tmp260, (1, 4, 5, 3), (0, 4, 5, 2)) * 0.5
    del tmp260
    tmp264 += einsum(tmp261, (0, 1, 2, 3), tmp7, (0, 4, 5, 2), (1, 5, 4, 3))
    tmp264 += einsum(t2.abab, (0, 1, 2, 3), tmp53, (0, 4, 5, 3), (4, 1, 5, 2)) * -0.5
    del tmp53
    tmp264 += einsum(t2.abab, (0, 1, 2, 3), tmp222, (4, 2, 5, 3), (0, 1, 4, 5)) * 0.5
    tmp264 += einsum(t2.abab, (0, 1, 2, 3), tmp239, (4, 3), (0, 1, 4, 2)) * 0.5
    tmp264 += einsum(tmp263, (0, 1, 2, 3), t1.aa, (4, 2), (4, 1, 0, 3)) * 0.5
    del tmp263
    tmp264 += einsum(t1.aa, (0, 1), tmp60, (0, 2, 3, 4), (2, 4, 3, 1)) * -0.5
    del tmp60
    l1new.bb += einsum(tmp264, (0, 1, 2, 3), l2.abab, (3, 4, 0, 1), (4, 2)) * -2
    del tmp264
    tmp276 = np.copy(v.bbbb.ooov) * -1
    tmp276 += np.transpose(tmp265, (2, 1, 0, 3)) * -1
    del tmp265
    tmp276 += np.transpose(tmp266, (2, 1, 0, 3)) * -3
    del tmp266
    tmp276 += np.transpose(tmp267, (2, 0, 1, 3))
    del tmp267
    tmp268 = einsum(t2.abab, (0, 1, 2, 3), tmp224, (0, 4, 5, 2), (1, 4, 5, 3))
    del tmp224
    tmp276 += np.transpose(tmp268, (2, 0, 1, 3))
    del tmp268
    tmp276 += np.transpose(tmp269, (2, 1, 0, 3))
    del tmp269
    tmp276 += np.transpose(tmp270, (2, 1, 0, 3))
    del tmp270
    tmp272 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp272 += v.bbbb.oovv * -1
    tmp272 += np.transpose(tmp271, (0, 1, 3, 2))
    del tmp271
    tmp273 = einsum(tmp272, (0, 1, 2, 3), t1.bb, (4, 3), (4, 0, 1, 2))
    del tmp272
    tmp276 += np.transpose(tmp273, (2, 1, 0, 3))
    del tmp273
    tmp274 = np.copy(v.bbbb.oooo)
    tmp274 += np.transpose(tmp244, (2, 1, 3, 0)) * -1
    del tmp244
    tmp274 += np.transpose(tmp245, (2, 0, 3, 1)) * -1
    tmp274 += np.transpose(tmp245, (3, 0, 2, 1))
    del tmp245
    tmp275 = einsum(tmp274, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4))
    del tmp274
    tmp276 += np.transpose(tmp275, (1, 2, 0, 3))
    del tmp275
    l1new.bb += einsum(l2.bbbb, (0, 1, 2, 3), tmp276, (4, 2, 3, 1), (0, 4)) * 2
    tmp279 = np.copy(t1.bb) * -0.5
    tmp110 = einsum(t2.abab, (0, 1, 2, 3), l1.aa, (2, 0), (1, 3))
    tmp279 += tmp110 * -0.5
    tmp111 = einsum(l1.bb, (0, 1), t2.bbbb, (2, 1, 3, 0), (2, 3))
    tmp279 += tmp111 * -1
    tmp112 = einsum(l2.aaaa, (0, 1, 2, 3), t3.abaaba, (2, 4, 3, 0, 5, 1), (4, 5))
    tmp279 += tmp112 * -0.5
    tmp113 = einsum(l2.abab, (0, 1, 2, 3), t3.babbab, (4, 2, 3, 5, 0, 1), (4, 5))
    tmp279 += tmp113 * -1
    tmp114 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l2.bbbb, (4, 5, 1, 2), (0, 3))
    tmp279 += tmp114 * -1.5
    tmp115 = einsum(t1.bb, (0, 1), l3.abaaba, (2, 1, 3, 4, 5, 6), (4, 6, 5, 0, 2, 3))
    tmp116 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp115, (2, 0, 1, 6, 5, 3), (6, 4))
    tmp279 += tmp116 * 0.4999998000000001
    tmp118 = einsum(tmp117, (0, 1, 2, 3, 4, 5), t3.babbab, (2, 0, 1, 6, 4, 5), (3, 6))
    tmp279 += tmp118 * 0.9999996000000004
    tmp120 = einsum(tmp119, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (1, 2, 0, 6, 5, 4), (3, 6)) * -1
    tmp279 += tmp120 * 1.4999994
    tmp279 += einsum(tmp124, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4))
    tmp277 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * -1
    tmp277 += tmp126
    tmp277 += tmp127 * 3
    tmp279 += einsum(t2.bbbb, (0, 1, 2, 3), tmp277, (0, 1, 4, 3), (4, 2)) * -1
    tmp278 = np.copy(tmp129) * 1.0000004000001599
    tmp278 += tmp130 * 1.0000004000001599
    tmp278 += tmp131 * 2.0000008000003198
    tmp278 += tmp132
    tmp278 += tmp133 * 2
    tmp278 += tmp134 * 3
    tmp279 += einsum(t1.bb, (0, 1), tmp278, (0, 2), (2, 1)) * 0.4999998000000001
    l1new.bb += einsum(tmp279, (0, 1), tmp228, (0, 2, 3, 1), (3, 2)) * 2
    del tmp279
    tmp282 = np.copy(np.transpose(l1.aa, (1, 0))) * -0.5000002000000798
    tmp282 += t1.aa * -0.5000002000000798
    tmp76 = einsum(t2.aaaa, (0, 1, 2, 3), l1.aa, (3, 1), (0, 2))
    tmp282 += tmp76 * -1.0000004000001597
    tmp77 = einsum(t2.abab, (0, 1, 2, 3), l1.bb, (3, 1), (0, 2))
    tmp282 += tmp77 * -0.5000002000000798
    tmp78 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l2.aaaa, (4, 5, 1, 2), (0, 3))
    tmp282 += tmp78 * -1.5000006000002393
    tmp79 = einsum(l2.abab, (0, 1, 2, 3), t3.abaaba, (4, 3, 2, 5, 1, 0), (4, 5))
    tmp282 += tmp79 * -1.0000004000001597
    tmp80 = einsum(l2.bbbb, (0, 1, 2, 3), t3.babbab, (2, 4, 3, 0, 5, 1), (4, 5))
    tmp282 += tmp80 * -0.5000002000000798
    tmp82 = einsum(tmp81, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (1, 2, 0, 6, 5, 4), (3, 6)) * -1
    tmp282 += tmp82 * 1.4999999999999993
    tmp84 = einsum(tmp83, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 3, 0, 6, 5, 4), (2, 6))
    tmp282 += tmp84
    tmp85 = einsum(t1.aa, (0, 1), l3.babbab, (2, 1, 3, 4, 5, 6), (5, 0, 4, 6, 2, 3))
    tmp86 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp85, (1, 6, 2, 0, 5, 3), (6, 4))
    tmp282 += tmp86 * 0.4999999999999999
    tmp280 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -0.33333333333333337
    tmp280 += tmp88
    tmp280 += tmp89 * 0.33333333333333337
    tmp282 += einsum(tmp280, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * -3.0000012000004785
    del tmp280
    tmp94 = np.copy(tmp91) * 0.5
    tmp94 += tmp92
    tmp94 += tmp93
    tmp282 += einsum(tmp94, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4)) * 1.0000004000001597
    tmp281 = np.copy(tmp95) * 0.33333346666672004
    tmp281 += tmp96 * 0.6666669333334401
    tmp281 += tmp97 * 0.33333346666672004
    tmp281 += tmp98
    tmp281 += tmp99 * 0.666666666666667
    tmp281 += tmp100 * 0.3333333333333334
    tmp282 += einsum(tmp281, (0, 1), t1.aa, (0, 2), (1, 2)) * 1.4999999999999993
    del tmp281
    l1new.bb += einsum(tmp282, (0, 1), v.aabb.ovov, (0, 1, 2, 3), (3, 2)) * -1.9999992000000009
    del tmp282
    tmp283 = np.copy(tmp103) * 1.0000004000001599
    tmp283 += tmp104 * 2.0000008000003198
    tmp283 += tmp105 * 1.0000004000001599
    tmp283 += np.transpose(tmp106, (1, 0)) * 3
    tmp283 += tmp146 * 2
    tmp283 += np.transpose(tmp107, (1, 0))
    l1new.bb += einsum(v.aabb.vvov, (0, 1, 2, 3), tmp283, (1, 0), (3, 2)) * 0.9999996000000002
    del tmp283
    tmp284 = np.copy(tmp137) * 0.33333346666672
    tmp284 += tmp138 * 0.33333346666672
    tmp284 += tmp139 * 0.66666693333344
    tmp284 += tmp140 * 0.33333333333333337
    tmp284 += np.transpose(tmp141, (1, 0)) * 0.666666666666667
    tmp284 += tmp142
    l1new.bb += einsum(tmp284, (0, 1), v.bbbb.ovvv, (2, 3, 1, 0), (3, 2)) * 2.9999988
    del tmp284
    tmp285 = np.copy(tmp137)
    tmp285 += tmp138
    tmp285 += tmp139 * 2
    l1new.bb += einsum(v.bbbb.ovvv, (0, 1, 2, 3), tmp285, (3, 1), (2, 0)) * -1
    del tmp285
    tmp286 = np.copy(tmp140) * 0.33333333333333337
    tmp286 += tmp141 * 0.666666666666667
    tmp286 += tmp142
    l1new.bb += einsum(v.bbbb.ovvv, (0, 1, 2, 3), tmp286, (3, 1), (2, 0)) * -2.9999988
    del tmp286
    tmp287 = np.copy(tmp129) * 0.5000002000000798
    tmp287 += tmp130 * 0.5000002000000798
    tmp287 += tmp131 * 1.0000004000001597
    tmp287 += tmp133
    l1new.bb += einsum(tmp288, (0, 1, 2, 3), tmp287, (1, 0), (3, 2)) * 1.9999992000000009
    del tmp287, tmp288
    tmp289 = np.copy(tmp95)
    tmp289 += tmp96 * 2
    tmp289 += tmp97
    tmp289 += tmp98 * 2.9999988
    tmp289 += np.transpose(tmp99, (1, 0)) * 1.9999992000000009
    tmp289 += np.transpose(tmp100, (1, 0)) * 0.9999996000000002
    l1new.bb += einsum(tmp289, (0, 1), v.aabb.ooov, (1, 0, 2, 3), (3, 2)) * -1
    del tmp289
    tmp290 = np.copy(tmp132) * 0.33333333333333337
    tmp290 += tmp134
    l1new.bb += einsum(tmp290, (0, 1), tmp291, (0, 2, 1, 3), (3, 2)) * -2.9999988
    del tmp290
    tmp292 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp292 += v.bbbb.oovv * -1
    l1new.bb += einsum(tmp292, (0, 1, 2, 3), l1.bb, (2, 0), (3, 1))
    del tmp292
    l1new.bb += einsum(tmp299, (0, 1), l1.bb, (2, 0), (2, 1)) * -1
    l1new.bb += einsum(l1.bb, (0, 1), f.bb.vv, (2, 0), (2, 1))
    l1new.bb += einsum(v.bbbb.ovvv, (0, 1, 2, 3), l2.bbbb, (1, 3, 4, 0), (2, 4)) * -2
    l1new.bb += einsum(tmp300, (0, 1, 2, 3), v.bbbb.vvvv, (4, 1, 3, 2), (4, 0)) * 6
    tmp309 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1)))
    tmp309 += einsum(t1.aa, (0, 1), l1.bb, (2, 3), (0, 3, 1, 2))
    tmp309 += tmp301 * 2
    tmp309 += tmp302 * 3
    tmp304 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp303, (3, 6, 5, 0, 7, 2), (6, 4, 7, 1)) * 2
    tmp309 += tmp304 * -1
    tmp306 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp305, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0)) * 2
    tmp309 += tmp306 * -1
    tmp308 = einsum(tmp307, (0, 1, 2, 3), l2.abab, (2, 4, 0, 5), (1, 5, 3, 4))
    tmp309 += tmp308
    l1new.bb += einsum(v.aabb.ovvv, (0, 1, 2, 3), tmp309, (0, 4, 1, 3), (2, 4))
    del tmp309
    tmp313 = einsum(t1.bb, (0, 1), l1.bb, (2, 3), (3, 0, 2, 1))
    tmp313 += tmp311
    tmp313 += einsum(l2.bbbb, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 1), (2, 4, 0, 5)) * 4
    tmp313 += tmp312
    tmp313 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 4, 3, 7, 1, 2), (5, 6, 0, 7)) * -4
    tmp313 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (6, 4, 5, 7, 1, 2), (7, 0, 6, 3)) * 9
    l1new.bb += einsum(tmp310, (0, 1, 2, 3), tmp313, (4, 0, 3, 2), (1, 4)) * -1
    del tmp310, tmp313
    tmp316 = einsum(tmp117, (0, 1, 2, 3, 4, 5), t2.abab, (0, 1, 4, 6), (2, 3, 5, 6)) * -0.3333333333333333
    tmp316 += einsum(tmp119, (0, 1, 2, 3, 4, 5), t2.bbbb, (1, 2, 6, 5), (0, 3, 4, 6)) * -1
    tmp315 = np.copy(np.transpose(tmp125, (1, 0, 2, 3)))
    tmp315 += tmp126 * -1
    tmp315 += tmp127 * -3
    tmp316 += einsum(tmp315, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * 0.3333333333333333
    l1new.bb += einsum(tmp316, (0, 1, 2, 3), tmp314, (1, 3, 2, 4), (4, 0)) * -6
    del tmp314, tmp316
    l1new.bb += einsum(tmp320, (0, 1, 2, 3), v.aabb.vvvv, (1, 2, 4, 3), (4, 0)) * 2
    tmp325 = einsum(t2.abab, (0, 1, 2, 3), l1.bb, (3, 4), (0, 4, 1, 2)) * 0.5
    tmp325 += tmp121 * 0.5
    tmp325 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (5, 4, 2, 6), (0, 6, 1, 3))
    tmp325 += tmp122
    tmp325 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.bbbb, (3, 5, 6, 2), (1, 6, 0, 4))
    tmp325 += tmp123
    tmp325 += einsum(tmp83, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 6, 0, 7, 5, 4), (2, 3, 6, 7)) * -1
    tmp325 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp85, (1, 6, 7, 2, 5, 3), (6, 7, 0, 4))
    tmp325 += einsum(tmp119, (0, 1, 2, 3, 4, 5), t3.babbab, (1, 6, 2, 5, 7, 4), (6, 0, 3, 7)) * -1.5
    tmp188 = np.copy(t3.aaaaaa)
    tmp188 += einsum(t1.aa, (0, 1), t2.aaaa, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * -0.6666666666666666
    tmp325 += einsum(tmp115, (0, 1, 2, 3, 4, 5), tmp188, (0, 6, 1, 4, 7, 5), (6, 2, 3, 7)) * 1.5
    tmp325 += einsum(tmp117, (0, 1, 2, 3, 4, 5), tmp189, (0, 6, 2, 4, 7, 5), (6, 1, 3, 7)) * -2
    tmp321 = np.copy(tmp317)
    del tmp317
    tmp321 += tmp318 * 2
    del tmp318
    tmp321 += tmp319 * 2
    del tmp319
    tmp325 += einsum(t2.abab, (0, 1, 2, 3), tmp321, (4, 2, 5, 3), (0, 4, 1, 5)) * -0.5
    del tmp321
    tmp325 += einsum(tmp261, (0, 1, 2, 3), tmp124, (0, 4, 5, 2), (1, 4, 5, 3)) * 2
    del tmp261
    tmp325 += einsum(tmp94, (0, 1, 2, 3), t2.abab, (0, 4, 5, 3), (1, 2, 4, 5)) * -1
    tmp325 += einsum(tmp315, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 1, 2, 5)) * -1
    tmp322 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp322 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5)) * 1.0000004000001597
    tmp324 = einsum(tmp322, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 5, 4, 0, 6, 7), (7, 1, 6, 2)) * 0.9999996000000004
    del tmp322
    tmp323 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp323 += einsum(t2.abab, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5)) * 1.0000004000001597
    tmp324 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp323, (6, 3, 7, 1, 0, 2), (4, 6, 5, 7)) * 0.9999996000000004
    del tmp323
    tmp325 += einsum(t1.aa, (0, 1), tmp324, (0, 2, 3, 4), (2, 3, 4, 1)) * -1
    del tmp324
    tmp325 += einsum(t1.aa, (0, 1), tmp278, (2, 3), (0, 2, 3, 1)) * 0.4999998000000001
    l1new.bb += einsum(tmp325, (0, 1, 2, 3), v.aabb.ovov, (0, 3, 2, 4), (4, 1)) * -2
    del tmp325
    tmp326 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 0, 5), (5, 1, 4, 2))
    tmp326 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 4, 5, 2, 7, 0), (7, 1, 6, 3)) * -2
    tmp326 += einsum(tmp115, (0, 1, 2, 3, 4, 5), t2.aaaa, (1, 0, 6, 5), (2, 3, 6, 4)) * -2
    tmp326 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 4, 5, 0, 7, 2), (3, 6, 1, 7)) * 2
    tmp326 += einsum(tmp117, (0, 1, 2, 3, 4, 5), t2.abab, (0, 2, 6, 5), (1, 3, 6, 4)) * -2
    tmp203 = np.copy(tmp121)
    del tmp121
    tmp203 += tmp122 * 2
    del tmp122
    tmp203 += tmp123 * 2
    del tmp123
    tmp326 += einsum(t1.aa, (0, 1), tmp203, (0, 2, 3, 4), (2, 3, 1, 4))
    l1new.bb += einsum(v.aabb.vvov, (0, 1, 2, 3), tmp326, (4, 2, 1, 0), (3, 4)) * -1
    del tmp326
    tmp336 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * -1
    tmp336 += tmp126
    tmp336 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l2.bbbb, (5, 4, 6, 2), (0, 6, 1, 3)) * -3
    tmp336 += tmp127 * 3
    tmp327 = einsum(tmp115, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 6, 0, 5, 7, 4), (2, 3, 6, 7))
    tmp336 += np.transpose(tmp327, (2, 0, 1, 3)) * 0.5
    tmp178 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp178 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 3, 0, 4, 1, 5)) * -0.5
    tmp336 += einsum(tmp178, (0, 1, 2, 3, 4, 5), tmp117, (0, 6, 1, 7, 3, 4), (2, 6, 7, 5)) * -2
    tmp179 = np.copy(t3.bbbbbb)
    tmp179 += einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 4, 1, 2, 3, 5)) * -0.6666666666666666
    tmp336 += einsum(tmp119, (0, 1, 2, 3, 4, 5), tmp179, (2, 6, 1, 4, 7, 5), (6, 0, 3, 7)) * -4.5
    tmp328 = einsum(t2.abab, (0, 1, 2, 3), tmp124, (0, 4, 5, 2), (1, 4, 5, 3))
    tmp336 += tmp328
    tmp329 = einsum(tmp277, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (4, 0, 2, 5)) * 2
    tmp336 += tmp329 * -1
    tmp332 = np.copy(np.transpose(tmp330, (0, 2, 1, 3))) * -1
    del tmp330
    tmp332 += np.transpose(tmp331, (0, 2, 1, 3)) * -1
    del tmp331
    tmp336 += einsum(t2.bbbb, (0, 1, 2, 3), tmp332, (4, 2, 3, 5), (0, 4, 1, 5))
    tmp333 = einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1)) * 1.0000004000001597
    tmp333 += np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)) * -1
    tmp335 = einsum(tmp333, (0, 1, 2, 3, 4, 5), l3.babbab, (4, 3, 5, 6, 0, 7), (7, 6, 2, 1)) * 0.9999996000000004
    del tmp333
    tmp334 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * 0.3333333333333333
    tmp334 += tmp127 * -1
    tmp335 += einsum(tmp334, (0, 1, 2, 3), t1.bb, (4, 3), (1, 0, 2, 4)) * 3
    del tmp334
    tmp336 += einsum(t1.bb, (0, 1), tmp335, (0, 2, 3, 4), (3, 2, 4, 1))
    del tmp335
    tmp336 += einsum(t1.bb, (0, 1), tmp278, (2, 3), (0, 2, 3, 1)) * 0.4999998000000001
    l1new.bb += einsum(tmp336, (0, 1, 2, 3), v.bbbb.ovov, (0, 3, 2, 4), (4, 1)) * -2
    del tmp336
    l1new.bb += einsum(v.bbbb.vvvv, (0, 1, 2, 3), tmp332, (4, 2, 1, 3), (0, 4)) * -2
    del tmp332
    tmp339 = einsum(t2.bbbb, (0, 1, 2, 3), l1.bb, (3, 4), (4, 0, 1, 2))
    tmp339 += einsum(l2.abab, (0, 1, 2, 3), t3.babbab, (4, 2, 5, 1, 0, 6), (3, 4, 5, 6)) * -1
    tmp339 += np.transpose(tmp327, (0, 2, 1, 3)) * 0.5
    del tmp327
    tmp339 += einsum(tmp117, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 0, 2, 7, 4, 5), (1, 6, 3, 7)) * -2
    tmp339 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp119, (6, 1, 2, 7, 5, 4), (6, 0, 7, 3)) * -4.5
    del tmp119
    tmp339 += einsum(t2.bbbb, (0, 1, 2, 3), tmp300, (4, 3, 2, 5), (4, 0, 1, 5)) * -3
    del tmp300
    tmp339 += np.transpose(tmp328, (1, 0, 2, 3))
    del tmp328
    tmp339 += np.transpose(tmp329, (1, 0, 2, 3)) * -1
    del tmp329
    tmp338 = einsum(t1.bb, (0, 1), tmp126, (2, 3, 4, 1), (2, 3, 0, 4)) * 0.33333346666672
    tmp337 = np.copy(t3.bbbbbb)
    tmp337 += einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 4, 1, 2, 5, 3)) * 1.0000004000001599
    tmp338 += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp337, (5, 6, 7, 0, 1, 2), (3, 4, 6, 7))
    del tmp337
    tmp339 += einsum(t1.bb, (0, 1), tmp338, (2, 0, 3, 4), (2, 4, 3, 1)) * -2.9999988
    del tmp338
    tmp339 += einsum(t1.bb, (0, 1), tmp278, (2, 3), (2, 0, 3, 1)) * 0.4999998000000001
    l1new.bb += einsum(v.bbbb.ovov, (0, 1, 2, 3), tmp339, (4, 0, 2, 3), (1, 4)) * 2
    del tmp339
    l1new.bb += einsum(v.aabb.oovv, (0, 1, 2, 3), tmp94, (0, 1, 4, 3), (2, 4)) * -2
    l1new.bb += einsum(tmp315, (0, 1, 2, 3), v.bbbb.oovv, (0, 2, 4, 3), (4, 1)) * -2
    tmp205 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 4, 5), (4, 0, 5, 1))
    tmp340 = np.copy(tmp205)
    tmp206 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 7, 3, 0, 1, 2), (5, 6, 4, 7)) * -1
    tmp340 += tmp206 * 1.9999992000000009
    tmp207 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 7, 5, 0, 1, 2), (4, 7, 3, 6))
    tmp340 += tmp207 * 1.9999992000000009
    tmp208 = einsum(t1.aa, (0, 1), tmp203, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp340 += tmp208
    tmp210 = einsum(tmp209, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 4, 2)) * 2
    tmp340 += np.transpose(tmp210, (1, 0, 3, 2))
    l1new.bb += einsum(v.aabb.ooov, (0, 1, 2, 3), tmp340, (1, 0, 4, 2), (3, 4))
    del tmp340
    tmp342 = np.copy(np.transpose(tmp341, (0, 3, 2, 1))) * -1
    del tmp341
    tmp342 += einsum(tmp315, (0, 1, 2, 3), t1.bb, (4, 3), (1, 0, 2, 4)) * 0.33333346666672
    del tmp315
    l1new.bb += einsum(v.bbbb.ooov, (0, 1, 2, 3), tmp342, (4, 0, 2, 1), (3, 4)) * -5.9999976
    del tmp342
    tmp344 = einsum(t1.bb, (0, 1), tmp343, (2, 3, 4, 1), (2, 3, 0, 4))
    del tmp343
    l1new.bb += einsum(v.bbbb.ooov, (0, 1, 2, 3), tmp344, (4, 0, 2, 1), (3, 4)) * 2
    del tmp344
    tmp346 = einsum(l2.bbbb, (0, 1, 2, 3), t2.bbbb, (4, 5, 0, 1), (2, 3, 4, 5)) * 1.0000004000001597
    tmp346 += np.transpose(tmp345, (0, 1, 3, 2)) * -1
    del tmp345
    l1new.bb += einsum(v.bbbb.ooov, (0, 1, 2, 3), tmp346, (1, 4, 2, 0), (3, 4)) * -1.9999992000000009
    del tmp346
    l1new.bb += einsum(tmp278, (0, 1), f.bb.ov, (1, 2), (2, 0)) * -0.9999996000000002
    del tmp278
    l1new.aa = np.copy(np.transpose(f.aa.ov, (1, 0)))
    tmp2 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp2 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 4, 1, 5)) * -0.5
    tmp35 = einsum(tmp1, (0, 1, 2, 3), tmp2, (2, 4, 5, 3, 6, 7), (1, 4, 0, 5, 6, 7)) * 2.00000080000032
    del tmp2
    tmp5 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4))) * 0.9999995999999999
    tmp5 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    tmp5 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5))
    tmp35 += einsum(tmp5, (0, 1, 2, 3, 4, 5), tmp4, (6, 3, 5, 7), (6, 1, 0, 2, 4, 7)) * -1.00000040000016
    del tmp5
    tmp8 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp8 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    tmp35 += einsum(tmp7, (0, 1, 2, 3), tmp8, (4, 5, 1, 3, 6, 7), (0, 5, 4, 2, 6, 7)) * 1.00000040000016
    del tmp8
    tmp35 += einsum(tmp10, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 2, 7, 1), (0, 4, 6, 5, 3, 7)) * -1
    tmp35 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp12, (6, 7, 2, 5), (7, 1, 6, 0, 4, 3)) * -2.00000080000032
    tmp17 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3))) * 0.5
    tmp17 += v.aaaa.oovv * -0.5
    tmp17 += tmp13 * 0.5
    tmp17 += einsum(tmp14, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3)) * -1
    tmp17 += np.transpose(tmp16, (0, 1, 3, 2)) * -1
    del tmp16
    tmp35 += einsum(tmp17, (0, 1, 2, 3), t2.abab, (4, 5, 3, 6), (1, 4, 0, 5, 2, 6)) * 2.00000080000032
    del tmp17
    tmp21 = np.copy(np.transpose(v.aabb.ovov, (0, 2, 1, 3)))
    tmp21 += tmp18 * -1
    del tmp18
    tmp19 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp21 += tmp19 * 2
    del tmp19
    tmp21 += tmp20
    del tmp20
    tmp35 += einsum(tmp21, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (0, 4, 5, 1, 6, 3)) * -1.00000040000016
    tmp35 += einsum(tmp25, (0, 1), t3.abaaba, (2, 3, 4, 5, 6, 1), (0, 2, 4, 3, 5, 6)) * -1
    tmp28 = np.copy(v.aabb.oovv) * -1
    tmp28 += np.transpose(tmp26, (1, 0, 3, 2))
    del tmp26
    tmp27 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 5), (0, 4, 3, 5))
    tmp28 += np.transpose(tmp27, (0, 1, 3, 2))
    del tmp27
    tmp35 += einsum(t2.abab, (0, 1, 2, 3), tmp28, (4, 5, 3, 6), (5, 0, 4, 1, 2, 6)) * 1.00000040000016
    tmp31 = np.copy(v.aaaa.oooo)
    tmp31 += np.transpose(tmp29, (2, 0, 3, 1)) * -1
    tmp31 += np.transpose(tmp29, (3, 0, 2, 1))
    tmp31 += einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp30, (4, 5, 3, 1), (0, 5, 2, 4))
    del tmp30
    tmp35 += einsum(t2.abab, (0, 1, 2, 3), tmp31, (0, 4, 5, 6), (5, 6, 4, 1, 2, 3)) * -1.00000040000016
    del tmp31
    tmp34 = np.copy(v.aabb.oooo)
    tmp34 += np.transpose(tmp32, (1, 0, 3, 2))
    del tmp32
    tmp34 += np.transpose(tmp33, (0, 1, 3, 2))
    del tmp33
    tmp35 += einsum(tmp34, (0, 1, 2, 3), t2.abab, (4, 2, 5, 6), (1, 4, 0, 3, 5, 6)) * 1.00000040000016
    l1new.aa += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp35, (6, 5, 3, 4, 2, 1), (0, 6)) * 1.9999992
    del tmp35
    tmp38 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp1, (6, 7, 1, 4), (7, 6, 0, 2, 3, 5)) * 0.5
    del tmp1
    tmp36 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5))) * 0.9999996
    tmp36 += einsum(t1.aa, (0, 1), t2.bbbb, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    tmp36 += einsum(t2.abab, (0, 1, 2, 3), t1.bb, (4, 5), (0, 4, 1, 2, 5, 3))
    tmp38 += einsum(tmp4, (0, 1, 2, 3), tmp36, (4, 5, 6, 1, 2, 7), (0, 4, 6, 5, 7, 3)) * -1
    del tmp36
    tmp37 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp37 += einsum(t1.aa, (0, 1), t2.bbbb, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    tmp38 += einsum(tmp37, (0, 1, 2, 3, 4, 5), tmp7, (6, 1, 7, 3), (6, 0, 2, 7, 5, 4))
    del tmp37, tmp7
    tmp38 += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp12, (6, 7, 2, 5), (7, 6, 0, 1, 3, 4)) * -1.5
    tmp38 += einsum(tmp21, (0, 1, 2, 3), t2.abab, (4, 5, 2, 6), (0, 4, 5, 1, 6, 3)) * -1
    del tmp21
    tmp38 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp25, (6, 4), (6, 1, 0, 2, 3, 5)) * -0.4999998
    tmp38 += einsum(tmp28, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (1, 0, 4, 5, 6, 3))
    del tmp28
    tmp38 += einsum(t2.bbbb, (0, 1, 2, 3), tmp34, (4, 5, 1, 6), (5, 4, 0, 6, 2, 3))
    del tmp34
    l1new.aa += einsum(tmp38, (0, 1, 2, 3, 4, 5), l3.babbab, (4, 6, 5, 2, 1, 3), (6, 0)) * 2
    del tmp38
    tmp40 = np.copy(t3.aaaaaa)
    tmp40 += einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (4, 0, 1, 2, 3, 5)) * 0.6666666666666666
    tmp39 = np.copy(v.aaaa.ooov)
    tmp39 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)) * -1
    tmp39 += np.transpose(tmp0, (1, 0, 2, 3)) * -1
    tmp39 += np.transpose(tmp0, (2, 0, 1, 3))
    tmp45 = einsum(tmp40, (0, 1, 2, 3, 4, 5), tmp39, (0, 6, 7, 3), (7, 1, 6, 2, 4, 5)) * 1.50000060000024
    del tmp39, tmp40
    tmp45 += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp10, (6, 4, 5, 7), (6, 0, 1, 2, 3, 7)) * -1
    del tmp10
    tmp45 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp12, (6, 7, 1, 4), (7, 0, 6, 2, 3, 5)) * -0.5000002000000799
    tmp42 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp42 += v.aaaa.oovv * -1
    tmp42 += tmp13
    del tmp13
    tmp42 += einsum(tmp14, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3)) * -2
    del tmp14
    tmp42 += np.transpose(tmp41, (0, 1, 3, 2)) * -1
    del tmp41
    tmp45 += einsum(tmp42, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (1, 4, 0, 5, 6, 2)) * 1.0000004000001599
    del tmp42
    tmp45 += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp25, (6, 5), (6, 0, 1, 2, 3, 4)) * 0.5
    tmp44 = np.copy(v.aaaa.oooo)
    tmp44 += einsum(v.aaaa.ovov, (0, 1, 2, 3), t2.aaaa, (4, 5, 1, 3), (0, 4, 2, 5))
    tmp44 += np.transpose(tmp43, (3, 1, 2, 0))
    tmp44 += np.transpose(tmp29, (2, 1, 3, 0))
    tmp44 += np.transpose(tmp29, (3, 2, 1, 0)) * -1
    tmp45 += einsum(tmp44, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 6), (2, 4, 3, 1, 5, 6)) * 1.0000004000001599
    del tmp44
    l1new.aa += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp45, (6, 3, 5, 4, 1, 2), (0, 6)) * 5.9999976
    del tmp45
    l1new.aa += einsum(l2.abab, (0, 1, 2, 3), tmp62, (2, 4, 3, 1), (0, 4)) * -1
    tmp75 = np.copy(v.aaaa.ooov) * -1
    tmp75 += np.transpose(tmp63, (2, 1, 0, 3)) * -3
    del tmp63
    tmp75 += np.transpose(tmp64, (2, 1, 0, 3)) * -1
    del tmp64
    tmp65 = np.copy(v.aaaa.ooov)
    tmp65 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3)) * -1
    tmp65 += tmp0 * -1
    tmp65 += np.transpose(tmp0, (0, 2, 1, 3))
    del tmp0
    tmp66 = einsum(tmp65, (0, 1, 2, 3), t2.aaaa, (4, 2, 5, 3), (4, 0, 1, 5)) * 2
    del tmp65
    tmp75 += np.transpose(tmp66, (2, 0, 1, 3))
    del tmp66
    tmp67 = einsum(t2.abab, (0, 1, 2, 3), tmp12, (4, 5, 1, 3), (0, 4, 5, 2))
    del tmp12
    tmp75 += np.transpose(tmp67, (2, 0, 1, 3))
    del tmp67
    tmp75 += np.transpose(tmp68, (2, 1, 0, 3))
    del tmp68
    tmp75 += np.transpose(tmp69, (2, 1, 0, 3))
    del tmp69
    tmp71 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp71 += v.aaaa.oovv * -1
    tmp71 += np.transpose(tmp70, (0, 1, 3, 2))
    del tmp70
    tmp72 = einsum(t1.aa, (0, 1), tmp71, (2, 3, 4, 1), (0, 2, 3, 4))
    del tmp71
    tmp75 += np.transpose(tmp72, (2, 1, 0, 3))
    del tmp72
    tmp73 = np.copy(v.aaaa.oooo)
    tmp73 += np.transpose(tmp43, (2, 1, 3, 0)) * -1
    del tmp43
    tmp73 += np.transpose(tmp29, (2, 0, 3, 1)) * -1
    tmp73 += np.transpose(tmp29, (3, 0, 2, 1))
    del tmp29
    tmp74 = einsum(tmp73, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4))
    del tmp73
    tmp75 += np.transpose(tmp74, (1, 2, 0, 3))
    del tmp74
    l1new.aa += einsum(l2.aaaa, (0, 1, 2, 3), tmp75, (4, 2, 3, 1), (0, 4)) * 2
    tmp102 = np.copy(t1.aa) * -0.5
    tmp102 += tmp76 * -1
    del tmp76
    tmp102 += tmp77 * -0.5
    del tmp77
    tmp102 += tmp78 * -1.5
    del tmp78
    tmp102 += tmp79 * -1
    del tmp79
    tmp102 += tmp80 * -0.5
    del tmp80
    tmp102 += tmp82 * 1.4999994
    del tmp82
    tmp102 += tmp84 * 0.9999996
    del tmp84
    tmp102 += tmp86 * 0.4999998
    del tmp86
    tmp102 += einsum(tmp90, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * -3
    tmp102 += einsum(tmp94, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4))
    tmp101 = np.copy(tmp95) * 0.33333346666672
    tmp101 += tmp96 * 0.66666693333344
    tmp101 += tmp97 * 0.33333346666672
    tmp101 += tmp98
    tmp101 += tmp99 * 0.6666666666666666
    tmp101 += tmp100 * 0.3333333333333333
    tmp102 += einsum(t1.aa, (0, 1), tmp101, (0, 2), (2, 1)) * 1.4999994
    del tmp101
    l1new.aa += einsum(tmp23, (0, 1, 2, 3), tmp102, (0, 3), (2, 1)) * 2
    del tmp102, tmp23
    tmp108 = np.copy(tmp103)
    tmp108 += tmp104 * 2
    tmp108 += tmp105
    tmp108 += tmp106 * 2.9999988
    tmp108 += tmp107 * 0.9999996
    l1new.aa += einsum(tmp108, (0, 1), tmp109, (2, 1, 0, 3), (3, 2)) * -1
    del tmp108
    tmp136 = np.copy(np.transpose(l1.bb, (1, 0))) * -1.00000040000016
    tmp136 += t1.bb * -1.00000040000016
    tmp136 += tmp110 * -1.00000040000016
    del tmp110
    tmp136 += tmp111 * -2.00000080000032
    del tmp111
    tmp136 += tmp112 * -1.00000040000016
    del tmp112
    tmp136 += tmp113 * -2.00000080000032
    del tmp113
    tmp136 += tmp114 * -3.00000120000048
    del tmp114
    tmp136 += tmp116
    del tmp116
    tmp136 += tmp118 * 2
    del tmp118
    tmp136 += tmp120 * 3
    del tmp120
    tmp136 += einsum(tmp124, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4)) * 2.00000080000032
    tmp128 = np.copy(np.transpose(tmp125, (1, 0, 2, 3))) * -1
    del tmp125
    tmp128 += tmp126
    del tmp126
    tmp128 += tmp127 * 3
    del tmp127
    tmp136 += einsum(tmp128, (0, 1, 2, 3), t2.bbbb, (0, 1, 4, 3), (2, 4)) * -2.00000080000032
    del tmp128
    tmp135 = np.copy(tmp129) * 1.00000040000016
    tmp135 += tmp130 * 1.00000040000016
    tmp135 += tmp131 * 2.00000080000032
    tmp135 += tmp132
    tmp135 += tmp133 * 2
    tmp135 += tmp134 * 3
    tmp136 += einsum(t1.bb, (0, 1), tmp135, (0, 2), (2, 1))
    del tmp135
    l1new.aa += einsum(tmp136, (0, 1), v.aabb.ovov, (2, 3, 0, 1), (3, 2)) * -0.9999996
    del tmp136
    tmp143 = np.copy(tmp137) * 0.33333346666672
    tmp143 += tmp138 * 0.33333346666672
    tmp143 += tmp139 * 0.66666693333344
    tmp143 += np.transpose(tmp140, (1, 0)) * 0.3333333333333333
    tmp143 += tmp141 * 0.6666666666666666
    tmp143 += np.transpose(tmp142, (1, 0))
    l1new.aa += einsum(v.aabb.ovvv, (0, 1, 2, 3), tmp143, (3, 2), (1, 0)) * 2.9999988
    del tmp143
    tmp144 = np.copy(tmp95) * 0.5
    tmp144 += tmp96
    tmp144 += tmp97 * 0.5
    tmp144 += tmp98 * 1.4999994
    tmp144 += tmp99 * 0.9999996
    l1new.aa += einsum(tmp145, (0, 1, 2, 3), tmp144, (0, 2), (3, 1)) * -2
    del tmp144, tmp145
    l1new.aa += einsum(tmp147, (0, 1, 2, 3), tmp146, (2, 3), (1, 0)) * -1.9999992
    tmp148 = np.copy(tmp129) * 0.5
    tmp148 += tmp130 * 0.5
    tmp148 += tmp131
    tmp148 += tmp132 * 0.4999998
    tmp148 += np.transpose(tmp133, (1, 0)) * 0.9999996
    tmp148 += tmp134 * 1.4999994
    l1new.aa += einsum(v.aabb.ovoo, (0, 1, 2, 3), tmp148, (3, 2), (1, 0)) * -2
    del tmp148
    tmp149 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp149 += v.aaaa.oovv * -1
    l1new.aa += einsum(tmp149, (0, 1, 2, 3), l1.aa, (2, 0), (3, 1))
    del tmp149
    l1new.aa += einsum(tmp150, (0, 1, 2, 3), tmp100, (0, 2), (3, 1)) * 0.9999996
    l1new.aa += einsum(tmp157, (0, 1), l1.aa, (2, 0), (2, 1)) * -1
    l1new.aa += einsum(f.aa.vv, (0, 1), l1.aa, (1, 2), (0, 2))
    l1new.aa += einsum(tmp158, (0, 1, 2, 3), v.aaaa.vvvv, (4, 1, 3, 2), (4, 0)) * 6
    del tmp158
    l1new.aa += einsum(v.aaaa.ovvv, (0, 1, 2, 3), l2.aaaa, (1, 3, 4, 0), (2, 4)) * -2
    tmp167 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1)))
    tmp167 += einsum(l1.aa, (0, 1), t1.bb, (2, 3), (1, 2, 0, 3))
    tmp167 += tmp159 * 2
    tmp167 += tmp160 * 3
    tmp167 += tmp162 * -1
    del tmp162
    tmp167 += tmp164 * -1
    del tmp164
    tmp167 += tmp166
    del tmp166
    l1new.aa += einsum(v.aabb.vvov, (0, 1, 2, 3), tmp167, (4, 2, 1, 3), (0, 4))
    del tmp167
    tmp171 = einsum(l1.aa, (0, 1), t1.aa, (2, 3), (1, 2, 0, 3)) * 0.25
    tmp171 += einsum(l2.aaaa, (0, 1, 2, 3), t2.aaaa, (4, 3, 5, 1), (2, 4, 0, 5))
    tmp171 += tmp169 * 0.25
    tmp171 += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l3.aaaaaa, (6, 4, 5, 7, 1, 2), (7, 0, 6, 3)) * 2.25
    tmp171 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 4, 5, 2, 1, 7), (7, 0, 6, 3)) * -1
    tmp171 += tmp170 * 0.25
    l1new.aa += einsum(tmp168, (0, 1, 2, 3), tmp171, (4, 0, 3, 2), (1, 4)) * -4
    del tmp168, tmp171
    tmp173 = einsum(tmp81, (0, 1, 2, 3, 4, 5), t2.aaaa, (2, 0, 6, 5), (1, 3, 4, 6)) * -3
    tmp173 += einsum(t2.abab, (0, 1, 2, 3), tmp83, (4, 0, 5, 1, 6, 3), (4, 5, 6, 2))
    tmp172 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * 0.3333333333333333
    tmp172 += tmp88 * -1
    tmp172 += tmp89 * -0.3333333333333333
    tmp173 += einsum(tmp172, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4)) * 3
    l1new.aa += einsum(tmp173, (0, 1, 2, 3), tmp147, (1, 4, 2, 3), (4, 0)) * -2
    del tmp173
    l1new.aa += einsum(tmp177, (0, 1, 2, 3), v.aabb.vvvv, (4, 1, 2, 3), (4, 0))
    tmp184 = einsum(l1.aa, (0, 1), t2.abab, (2, 3, 0, 4), (1, 2, 3, 4))
    tmp184 += tmp91
    del tmp91
    tmp184 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.aaaa, (3, 5, 6, 2), (6, 0, 1, 4)) * 2
    tmp184 += tmp92 * 2
    del tmp92
    tmp184 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (4, 5, 6, 2), (6, 1, 0, 3)) * 2
    tmp184 += tmp93 * 2
    del tmp93
    tmp184 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp81, (6, 0, 2, 7, 5, 3), (6, 7, 1, 4)) * -3
    tmp184 += einsum(tmp115, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 2, 1, 5, 7, 4), (0, 6, 3, 7)) * 2
    del tmp115
    tmp184 += einsum(tmp117, (0, 1, 2, 3, 4, 5), t3.babbab, (2, 6, 1, 7, 4, 5), (0, 6, 3, 7)) * -2
    del tmp117
    tmp184 += einsum(tmp178, (0, 1, 2, 3, 4, 5), tmp83, (6, 0, 7, 1, 3, 4), (6, 7, 2, 5)) * -4
    del tmp178
    tmp184 += einsum(tmp85, (0, 1, 2, 3, 4, 5), tmp179, (2, 6, 3, 4, 7, 5), (0, 1, 6, 7)) * 3
    del tmp179
    tmp184 += einsum(tmp177, (0, 1, 2, 3), t2.abab, (4, 5, 1, 2), (0, 4, 5, 3)) * -1
    tmp184 += einsum(tmp94, (0, 1, 2, 3), tmp165, (2, 4, 3, 5), (0, 1, 4, 5)) * 4
    tmp184 += einsum(tmp172, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 2, 4, 5)) * -6
    tmp184 += einsum(tmp124, (0, 1, 2, 3), t2.abab, (4, 1, 3, 5), (0, 4, 2, 5)) * -2
    tmp180 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp180 += einsum(t2.abab, (0, 1, 2, 3), t1.aa, (4, 5), (0, 4, 1, 2, 5, 3)) * 1.0000004000001597
    tmp182 = einsum(tmp180, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 5, 4, 0, 6, 7), (7, 1, 6, 2)) * 0.9999996000000004
    del tmp180
    tmp181 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp181 += einsum(t1.aa, (0, 1), t2.bbbb, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5)) * 1.0000004000001597
    tmp182 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp181, (6, 3, 7, 1, 0, 2), (4, 6, 5, 7)) * 0.9999996000000004
    del tmp181
    tmp184 += einsum(t1.bb, (0, 1), tmp182, (2, 3, 0, 4), (2, 3, 4, 1)) * -2
    del tmp182
    tmp183 = np.copy(tmp95) * 0.33333346666672
    del tmp95
    tmp183 += tmp96 * 0.66666693333344
    del tmp96
    tmp183 += tmp97 * 0.33333346666672
    del tmp97
    tmp183 += tmp98
    del tmp98
    tmp183 += tmp99 * 0.666666666666667
    del tmp99
    tmp183 += tmp100 * 0.33333333333333337
    del tmp100
    tmp184 += einsum(tmp183, (0, 1), t1.bb, (2, 3), (0, 1, 2, 3)) * 2.9999988
    l1new.aa += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp184, (4, 0, 2, 3), (1, 4)) * -1
    del tmp184
    tmp186 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 5, 1), (5, 0, 4, 3))
    tmp186 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 6, 5, 2, 1, 7), (7, 0, 6, 4)) * -2
    tmp186 += einsum(tmp83, (0, 1, 2, 3, 4, 5), t2.abab, (1, 3, 4, 6), (0, 2, 6, 5)) * -2
    tmp186 += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (6, 4, 5, 0, 7, 2), (7, 1, 6, 3)) * 2
    tmp186 += einsum(tmp85, (0, 1, 2, 3, 4, 5), t2.bbbb, (3, 2, 6, 4), (0, 1, 6, 5)) * 2
    tmp186 += einsum(tmp185, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 4, 3))
    l1new.aa += einsum(tmp186, (0, 1, 2, 3), v.aabb.ovvv, (1, 4, 3, 2), (4, 0)) * -1
    del tmp186
    tmp198 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -2
    tmp198 += einsum(l2.aaaa, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 3, 6, 0, 1), (4, 2, 5, 6)) * 6
    tmp198 += tmp88 * 6
    tmp198 += tmp89 * 2
    tmp187 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp85, (6, 7, 2, 0, 5, 3), (6, 7, 1, 4))
    del tmp85
    tmp198 += np.transpose(tmp187, (2, 0, 1, 3))
    tmp198 += einsum(tmp81, (0, 1, 2, 3, 4, 5), tmp188, (2, 6, 1, 4, 7, 5), (6, 0, 3, 7)) * -9
    del tmp188
    tmp198 += einsum(tmp189, (0, 1, 2, 3, 4, 5), tmp83, (6, 0, 7, 2, 3, 5), (1, 6, 7, 4)) * -4
    del tmp189
    tmp198 += einsum(tmp192, (0, 1, 2, 3), t2.aaaa, (4, 5, 1, 2), (4, 0, 5, 3)) * 2
    del tmp192
    tmp193 = einsum(tmp90, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (4, 0, 2, 5)) * 12
    del tmp90
    tmp198 += tmp193 * -1
    tmp194 = einsum(t2.abab, (0, 1, 2, 3), tmp94, (4, 5, 1, 3), (0, 4, 5, 2)) * 2
    tmp198 += tmp194
    tmp197 = einsum(tmp87, (0, 1, 2, 3), t1.aa, (4, 3), (0, 1, 2, 4)) * -0.3333333333333333
    tmp195 = einsum(t2.aaaa, (0, 1, 2, 3), t1.aa, (4, 5), (0, 1, 4, 2, 5, 3)) * 1.0000004000001599
    tmp195 += t3.aaaaaa * -1
    tmp197 += einsum(tmp195, (0, 1, 2, 3, 4, 5), l3.aaaaaa, (3, 4, 5, 6, 7, 0), (6, 7, 1, 2)) * -0.9999996000000001
    del tmp195
    tmp196 = einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 4, 1, 5)) * 1.0000004000001594
    tmp196 += np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)) * -1
    tmp197 += einsum(tmp196, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 5, 4, 6, 2, 7), (7, 6, 1, 0)) * -0.33333320000000016
    del tmp196
    tmp198 += einsum(t1.aa, (0, 1), tmp197, (0, 2, 3, 4), (3, 2, 4, 1)) * -6
    del tmp197
    tmp198 += einsum(t1.aa, (0, 1), tmp183, (2, 3), (0, 2, 3, 1)) * 2.9999988
    l1new.aa += einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp198, (0, 4, 2, 1), (3, 4)) * -1
    del tmp198
    tmp199 = np.copy(np.transpose(tmp190, (0, 2, 1, 3))) * -1
    del tmp190
    tmp199 += np.transpose(tmp191, (0, 2, 1, 3)) * -1
    del tmp191
    l1new.aa += einsum(tmp199, (0, 1, 2, 3), v.aaaa.vvvv, (4, 2, 1, 3), (4, 0)) * -2
    del tmp199
    tmp202 = einsum(t2.aaaa, (0, 1, 2, 3), l1.aa, (3, 4), (4, 0, 1, 2)) * 2
    tmp202 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (3, 4, 6, 1), (6, 0, 2, 5)) * -2
    tmp202 += einsum(tmp81, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (6, 1, 2, 7, 5, 4), (0, 6, 3, 7)) * -9
    del tmp81
    tmp202 += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp83, (6, 2, 7, 1, 5, 4), (6, 0, 7, 3)) * -4
    del tmp83
    tmp202 += np.transpose(tmp187, (0, 2, 1, 3))
    del tmp187
    tmp202 += np.transpose(tmp193, (1, 0, 2, 3)) * -1
    del tmp193
    tmp202 += np.transpose(tmp194, (1, 0, 2, 3))
    del tmp194
    tmp200 = np.copy(tmp88)
    tmp200 += tmp89 * 0.3333333333333333
    tmp201 = einsum(t1.aa, (0, 1), tmp200, (2, 3, 4, 1), (2, 3, 0, 4)) * 3
    tmp202 += einsum(t1.aa, (0, 1), tmp201, (2, 0, 3, 4), (2, 4, 3, 1)) * -2
    del tmp201
    tmp202 += einsum(t1.aa, (0, 1), tmp183, (2, 3), (2, 0, 3, 1)) * 2.9999988
    del tmp183
    l1new.aa += einsum(tmp202, (0, 1, 2, 3), v.aaaa.ovov, (1, 4, 2, 3), (4, 0))
    del tmp202
    l1new.aa += einsum(tmp203, (0, 1, 2, 3), v.aabb.vvoo, (4, 3, 1, 2), (4, 0)) * -1
    del tmp203
    tmp204 = np.copy(np.transpose(tmp87, (1, 0, 2, 3)))
    tmp204 += tmp88 * -3
    tmp204 += tmp89 * -1
    l1new.aa += einsum(v.aaaa.oovv, (0, 1, 2, 3), tmp204, (0, 4, 1, 3), (2, 4)) * -2
    del tmp204
    tmp211 = np.copy(tmp205)
    tmp211 += tmp206 * 1.9999992000000009
    tmp211 += tmp207 * 1.9999992000000009
    tmp211 += np.transpose(tmp208, (1, 0, 3, 2))
    del tmp208
    tmp211 += tmp210
    del tmp210
    l1new.aa += einsum(tmp211, (0, 1, 2, 3), v.aabb.ovoo, (1, 4, 3, 2), (4, 0))
    del tmp211
    tmp212 = einsum(t1.aa, (0, 1), tmp172, (2, 3, 4, 1), (3, 2, 4, 0)) * 3
    del tmp172
    l1new.aa += einsum(tmp212, (0, 1, 2, 3), v.aaaa.ooov, (1, 3, 2, 4), (4, 0)) * -2
    del tmp212
    tmp215 = einsum(l2.aaaa, (0, 1, 2, 3), t2.aaaa, (4, 5, 0, 1), (2, 3, 4, 5)) * -1
    tmp215 += np.transpose(tmp213, (0, 1, 3, 2)) * 2.9999988
    del tmp213
    tmp215 += np.transpose(tmp214, (0, 1, 3, 2)) * 0.9999996000000004
    del tmp214
    l1new.aa += einsum(tmp215, (0, 1, 2, 3), v.aaaa.ooov, (3, 0, 2, 4), (4, 1)) * 2
    del tmp215
    tmp216 = einsum(t1.aa, (0, 1), tmp200, (2, 3, 4, 1), (2, 3, 0, 4))
    del tmp200
    l1new.aa += einsum(v.aaaa.ooov, (0, 1, 2, 3), tmp216, (4, 0, 2, 1), (3, 4)) * 6
    del tmp216
    l1new.aa += einsum(tmp217, (0, 1), f.aa.ov, (1, 2), (2, 0)) * -1
    del tmp217
    l2new.abab = np.copy(np.transpose(v.aabb.ovov, (1, 3, 0, 2)))
    l2new.abab += einsum(v.aabb.ovoo, (0, 1, 2, 3), l1.bb, (4, 3), (1, 4, 0, 2)) * -1
    tmp452 = np.copy(tmp137)
    del tmp137
    tmp452 += tmp138
    del tmp138
    tmp452 += tmp139 * 2
    del tmp139
    tmp452 += tmp140 * 0.9999996000000002
    del tmp140
    tmp452 += tmp141 * 1.9999992000000009
    del tmp141
    tmp452 += tmp142 * 2.9999988
    del tmp142
    l2new.abab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp452, (4, 3), (1, 4, 0, 2)) * -1
    del tmp452
    l2new.abab += einsum(v.aabb.ovvv, (0, 1, 2, 3), l1.bb, (3, 4), (1, 2, 0, 4))
    l2new.abab += einsum(v.aaaa.oovv, (0, 1, 2, 3), l2.abab, (3, 4, 1, 5), (2, 4, 0, 5)) * -1
    l2new.abab += einsum(tmp75, (0, 1, 2, 3), l3.abaaba, (4, 5, 3, 2, 6, 1), (4, 5, 0, 6)) * -2
    del tmp75
    l2new.abab += einsum(tmp320, (0, 1, 2, 3), tmp147, (4, 5, 1, 2), (5, 3, 4, 0)) * -2
    del tmp147
    tmp453 = np.copy(np.transpose(l2.abab, (2, 3, 0, 1)))
    tmp453 += tmp301 * 2
    tmp453 += tmp302 * 3
    tmp453 += tmp304 * -1
    del tmp304
    tmp453 += tmp306 * -1
    del tmp306
    tmp453 += tmp308
    del tmp308
    l2new.abab += einsum(v.aaaa.ovov, (0, 1, 2, 3), tmp453, (2, 4, 3, 5), (1, 5, 0, 4))
    del tmp453
    tmp457 = np.copy(np.transpose(l2.bbbb, (2, 3, 0, 1))) * 0.2222222222222222
    tmp457 += np.transpose(tmp311, (1, 0, 3, 2)) * 0.1111111111111111
    del tmp311
    tmp457 += np.transpose(tmp312, (1, 0, 3, 2)) * 0.1111111111111111
    del tmp312
    tmp454 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5))) * -2
    tmp454 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 0, 3, 4, 5, 1))
    tmp454 += einsum(t1.bb, (0, 1), t2.abab, (2, 3, 4, 5), (2, 3, 0, 4, 1, 5))
    tmp457 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp454, (4, 5, 6, 1, 2, 7), (6, 3, 7, 0)) * -0.2222222222222222
    del tmp454
    tmp455 = np.copy(t3.bbbbbb) * -1.5
    tmp455 += einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 4, 1, 2, 3, 5))
    tmp455 += einsum(t2.bbbb, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 5, 3))
    tmp457 += einsum(tmp455, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (6, 3, 5, 7, 0, 2), (1, 7, 4, 6)) * -0.6666666666666666
    del tmp455
    tmp457 += einsum(l2.bbbb, (0, 1, 2, 3), tmp456, (3, 4, 1, 5), (4, 2, 5, 0)) * 0.2222222222222222
    del tmp456
    l2new.abab += einsum(tmp457, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 0, 2), (5, 3, 4, 1)) * 9
    del tmp457
    tmp458 = np.copy(tmp301) * 0.5
    del tmp301
    tmp458 += tmp302 * 0.75
    del tmp302
    tmp458 += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp303, (3, 6, 5, 0, 7, 2), (6, 4, 7, 1)) * -0.5
    tmp458 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp305, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0)) * -0.5
    tmp458 += einsum(tmp307, (0, 1, 2, 3), l2.abab, (2, 4, 0, 5), (1, 5, 3, 4)) * 0.25
    l2new.abab += einsum(tmp458, (0, 1, 2, 3), v.aaaa.ovov, (4, 2, 0, 5), (5, 3, 4, 1)) * -4
    del tmp458
    l2new.abab += einsum(v.aabb.ovvv, (0, 1, 2, 3), tmp459, (4, 2, 5, 3), (1, 5, 0, 4)) * 2
    del tmp459
    l2new.abab += einsum(tmp150, (0, 1, 2, 3), tmp185, (0, 2, 4, 5), (3, 5, 1, 4))
    del tmp150, tmp185
    l2new.abab += einsum(v.aabb.ovoo, (0, 1, 2, 3), tmp277, (2, 4, 3, 5), (1, 5, 0, 4)) * 2
    del tmp277
    l2new.abab += einsum(tmp157, (0, 1), l2.abab, (2, 3, 0, 4), (2, 3, 1, 4)) * -1
    del tmp157
    tmp460 = np.copy(tmp129) * 0.33333346666672
    del tmp129
    tmp460 += tmp130 * 0.33333346666672
    del tmp130
    tmp460 += tmp131 * 0.66666693333344
    del tmp131
    tmp460 += tmp132 * 0.33333333333333337
    del tmp132
    tmp460 += tmp133 * 0.666666666666667
    del tmp133
    tmp460 += tmp134
    del tmp134
    l2new.abab += einsum(tmp460, (0, 1), v.aabb.ovov, (2, 3, 1, 4), (3, 4, 2, 0)) * -2.9999988
    del tmp460
    l2new.abab += einsum(tmp25, (0, 1), l1.bb, (2, 3), (1, 2, 0, 3))
    del tmp25
    l2new.abab += einsum(tmp276, (0, 1, 2, 3), l3.babbab, (4, 5, 3, 2, 6, 1), (5, 4, 6, 0)) * -2
    del tmp276
    tmp461 = np.copy(tmp159)
    del tmp159
    tmp461 += tmp160 * 1.5
    del tmp160
    tmp461 += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp161, (5, 4, 6, 2, 1, 7), (3, 6, 0, 7)) * -2
    del tmp161
    tmp461 += einsum(tmp163, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 6, 5, 0, 7, 2), (7, 1, 6, 4)) * -1.5
    del tmp163
    tmp461 += einsum(l2.abab, (0, 1, 2, 3), tmp165, (3, 4, 1, 5), (2, 4, 0, 5))
    del tmp165
    l2new.abab += einsum(tmp461, (0, 1, 2, 3), tmp228, (1, 4, 5, 3), (2, 5, 0, 4)) * -2
    del tmp228, tmp461
    l2new.abab += einsum(tmp462, (0, 1, 2, 3), tmp177, (4, 5, 2, 3), (5, 1, 4, 0)) * -1
    del tmp177, tmp462
    tmp463 = np.copy(np.transpose(l2.aaaa, (2, 3, 0, 1))) * 0.3333333333333333
    tmp463 += np.transpose(tmp169, (1, 0, 3, 2)) * 0.16666666666666666
    del tmp169
    tmp463 += np.transpose(tmp170, (1, 0, 3, 2)) * 0.16666666666666666
    del tmp170
    tmp463 += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp303, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0)) * -1
    del tmp303
    tmp463 += einsum(tmp305, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 5, 3, 7, 2, 0), (1, 7, 4, 6)) * -0.3333333333333333
    del tmp305
    tmp463 += einsum(l2.aaaa, (0, 1, 2, 3), tmp307, (3, 4, 1, 5), (4, 2, 5, 0)) * 0.3333333333333333
    del tmp307
    l2new.abab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp463, (0, 4, 1, 5), (5, 3, 4, 2)) * 6
    del tmp463
    l2new.abab += einsum(tmp464, (0, 1, 2, 3), v.aabb.vvov, (1, 3, 4, 5), (2, 5, 0, 4)) * 6
    del tmp464
    l2new.abab += einsum(l2.abab, (0, 1, 2, 3), tmp466, (3, 4, 1, 5), (0, 5, 2, 4))
    del tmp466
    l2new.abab += einsum(tmp291, (0, 1, 2, 3), tmp467, (4, 0, 2, 5), (5, 3, 4, 1)) * -2
    del tmp291
    tmp468 = np.copy(np.transpose(tmp87, (1, 0, 2, 3))) * -1
    del tmp87
    tmp468 += tmp88 * 3
    del tmp88
    tmp468 += tmp89
    del tmp89
    l2new.abab += einsum(v.aabb.ooov, (0, 1, 2, 3), tmp468, (0, 4, 1, 5), (5, 3, 4, 2)) * 2
    del tmp468
    l2new.abab += einsum(l1.aa, (0, 1), tmp239, (2, 3), (0, 3, 1, 2))
    del tmp239
    l2new.abab += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp476, (5, 4, 6, 2), (0, 1, 3, 6)) * -2
    del tmp476
    l2new.abab += einsum(tmp299, (0, 1), l2.abab, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    del tmp299
    l2new.abab += einsum(l2.abab, (0, 1, 2, 3), v.aabb.vvvv, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp480 = np.copy(np.transpose(v.aabb.vvov, (2, 0, 1, 3))) * -1
    tmp480 += np.transpose(tmp396, (0, 2, 1, 3)) * -1
    del tmp396
    tmp480 += tmp397 * 2
    del tmp397
    tmp480 += tmp398 * 2
    del tmp398
    tmp477 = np.copy(v.aaaa.ovvv) * -1
    tmp477 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))
    tmp477 += np.transpose(tmp9, (0, 2, 3, 1))
    tmp477 += np.transpose(tmp9, (0, 3, 2, 1)) * -1
    del tmp9
    tmp478 = einsum(tmp477, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5))
    del tmp477
    tmp480 += np.transpose(tmp478, (0, 2, 1, 3))
    del tmp478
    tmp480 += np.transpose(tmp401, (0, 2, 1, 3)) * -1
    del tmp401
    tmp480 += tmp402
    del tmp402
    tmp479 = einsum(t2.bbbb, (0, 1, 2, 3), tmp222, (1, 4, 5, 3), (0, 4, 5, 2)) * 2
    del tmp222
    tmp480 += np.transpose(tmp479, (0, 2, 1, 3)) * -1
    del tmp479
    tmp480 += tmp405
    del tmp405
    tmp480 += tmp406
    del tmp406
    tmp480 += np.transpose(tmp407, (0, 2, 1, 3))
    del tmp407
    tmp481 = einsum(tmp480, (0, 1, 2, 3), l3.babbab, (4, 1, 3, 5, 6, 0), (6, 5, 2, 4))
    del tmp480
    l2new.abab += np.transpose(tmp481, (2, 3, 0, 1)) * -1
    tmp486 = np.copy(np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)))
    tmp486 += np.transpose(tmp410, (0, 2, 3, 1)) * -1
    del tmp410
    tmp486 += np.transpose(tmp411, (0, 3, 2, 1)) * -3
    del tmp411
    tmp486 += np.transpose(tmp412, (0, 3, 2, 1)) * -1
    del tmp412
    tmp486 += np.transpose(tmp414, (0, 3, 1, 2)) * -1
    del tmp414
    tmp486 += np.transpose(tmp416, (0, 3, 2, 1)) * -1
    del tmp416
    tmp482 = einsum(t2.abab, (0, 1, 2, 3), tmp403, (1, 4, 5, 3), (0, 2, 4, 5))
    tmp486 += np.transpose(tmp482, (0, 3, 1, 2)) * -1
    del tmp482
    tmp486 += np.transpose(tmp418, (0, 3, 2, 1))
    del tmp418
    tmp484 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp484 += v.aaaa.oovv * -1
    tmp483 = einsum(tmp109, (0, 1, 2, 3), t1.aa, (4, 1), (4, 0, 2, 3))
    del tmp109
    tmp484 += np.transpose(tmp483, (1, 0, 3, 2)) * -1
    del tmp483
    tmp485 = einsum(t1.aa, (0, 1), tmp484, (0, 2, 3, 4), (2, 1, 3, 4))
    del tmp484
    tmp486 += np.transpose(tmp485, (0, 2, 3, 1))
    del tmp485
    tmp487 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp486, (3, 6, 0, 2), (5, 4, 6, 1))
    del tmp486
    l2new.abab += np.transpose(tmp487, (2, 3, 0, 1)) * -1
    l2new.abab += einsum(tmp488, (0, 1, 2, 3), tmp403, (2, 3, 4, 5), (4, 5, 0, 1)) * -1
    del tmp488
    l2new.abab += einsum(tmp489, (0, 1, 2, 3), v.aabb.ovvv, (1, 4, 5, 3), (4, 5, 0, 2)) * -1
    del tmp489
    tmp492 = np.copy(tmp205) * 1.0000004000001599
    del tmp205
    tmp490 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp490 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5)) * 1.0000004000001599
    tmp492 += einsum(tmp490, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 5, 4, 0, 6, 7), (7, 1, 6, 2))
    del tmp490
    tmp491 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp491 += einsum(t2.abab, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5)) * 1.0000004000001599
    tmp492 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp491, (6, 3, 7, 1, 0, 2), (4, 6, 5, 7))
    del tmp491
    l2new.abab += einsum(tmp492, (0, 1, 2, 3), v.aabb.ovov, (1, 4, 3, 5), (4, 5, 0, 2)) * 0.9999996000000002
    del tmp492
    l2new.abab += einsum(tmp494, (0, 1), l2.abab, (0, 2, 3, 4), (1, 2, 3, 4)) * -1
    del tmp494
    tmp510 = np.copy(v.aabb.ovvv) * -1
    tmp510 += np.transpose(tmp495, (0, 1, 3, 2)) * -1
    del tmp495
    tmp510 += tmp496 * 2
    del tmp496
    tmp510 += tmp497 * 2
    del tmp497
    tmp498 = np.copy(v.bbbb.ovvv)
    tmp498 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)) * -1
    tmp498 += np.transpose(tmp225, (0, 2, 3, 1)) * -1
    tmp498 += np.transpose(tmp225, (0, 3, 2, 1))
    tmp499 = einsum(tmp498, (0, 1, 2, 3), t2.abab, (4, 0, 5, 1), (4, 5, 2, 3))
    del tmp498
    tmp510 += np.transpose(tmp499, (0, 1, 3, 2)) * -1
    del tmp499
    tmp510 += tmp500 * -1
    del tmp500
    tmp501 = einsum(tmp4, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 5, 2, 3)) * 2
    del tmp4
    tmp510 += np.transpose(tmp501, (0, 1, 3, 2)) * -1
    del tmp501
    tmp510 += tmp502
    del tmp502
    tmp510 += tmp503
    del tmp503
    tmp510 += np.transpose(tmp506, (0, 1, 3, 2))
    del tmp506
    tmp510 += tmp509
    del tmp509
    tmp511 = einsum(tmp510, (0, 1, 2, 3), l3.abaaba, (4, 2, 1, 5, 6, 0), (5, 6, 4, 3))
    del tmp510
    l2new.abab += np.transpose(tmp511, (2, 3, 0, 1)) * -1
    tmp524 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)))
    tmp524 += np.transpose(tmp512, (0, 2, 3, 1)) * -1
    del tmp512
    tmp524 += np.transpose(tmp513, (0, 3, 2, 1)) * -1
    del tmp513
    tmp524 += np.transpose(tmp514, (0, 3, 2, 1)) * -3
    del tmp514
    tmp515 = np.copy(np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)))
    tmp515 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)) * -1
    tmp515 += tmp225 * -1
    tmp515 += np.transpose(tmp225, (0, 1, 3, 2))
    del tmp225
    tmp516 = einsum(tmp515, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 2), (4, 5, 1, 3)) * 2
    del tmp515
    tmp524 += np.transpose(tmp516, (0, 3, 1, 2)) * -1
    del tmp516
    tmp524 += np.transpose(tmp518, (0, 3, 2, 1)) * -1
    del tmp518
    tmp520 = einsum(t2.abab, (0, 1, 2, 3), tmp519, (0, 2, 4, 5), (1, 3, 4, 5))
    tmp524 += np.transpose(tmp520, (0, 3, 1, 2)) * -1
    del tmp520
    tmp524 += np.transpose(tmp521, (0, 3, 2, 1))
    del tmp521
    tmp522 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp522 += v.bbbb.oovv * -1
    tmp522 += np.transpose(tmp231, (1, 0, 2, 3)) * -1
    del tmp231
    tmp523 = einsum(tmp522, (0, 1, 2, 3), t1.bb, (0, 4), (1, 4, 2, 3))
    del tmp522
    tmp524 += np.transpose(tmp523, (0, 2, 3, 1))
    del tmp523
    tmp525 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp524, (3, 6, 0, 2), (4, 5, 1, 6))
    del tmp524
    l2new.abab += np.transpose(tmp525, (2, 3, 0, 1)) * -1
    l2new.abab += einsum(l2.abab, (0, 1, 2, 3), tmp531, (1, 4), (0, 4, 2, 3)) * -1
    del tmp531
    l2new.abab += np.transpose(tmp481, (2, 3, 0, 1)) * -1
    del tmp481
    l2new.abab += np.transpose(tmp487, (2, 3, 0, 1)) * -1
    del tmp487
    l2new.abab += einsum(tmp403, (0, 1, 2, 3), tmp467, (4, 5, 0, 1), (2, 3, 4, 5)) * -1
    del tmp403, tmp467
    l2new.abab += einsum(tmp209, (0, 1, 2, 3), tmp519, (1, 4, 3, 5), (4, 5, 0, 2)) * -1
    del tmp209, tmp519
    tmp532 = np.copy(tmp206)
    del tmp206
    tmp532 += tmp207
    del tmp207
    l2new.abab += einsum(tmp532, (0, 1, 2, 3), v.aabb.ovov, (1, 4, 3, 5), (4, 5, 0, 2)) * 0.9999996000000002
    del tmp532
    l2new.abab += np.transpose(tmp511, (2, 3, 0, 1)) * -1
    del tmp511
    l2new.abab += np.transpose(tmp525, (2, 3, 0, 1)) * -1
    del tmp525
    l2new.abab += einsum(v.aabb.oovv, (0, 1, 2, 3), l2.abab, (4, 3, 1, 5), (4, 2, 0, 5)) * -1
    l2new.abab += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp62, (4, 6, 5, 2), (1, 0, 6, 3)) * -2
    del tmp62
    l2new.abab += einsum(tmp320, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 3), (1, 5, 4, 0)) * -2
    del tmp320
    tmp533 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp533 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5))
    tmp533 += einsum(t2.abab, (0, 1, 2, 3), t1.aa, (4, 5), (0, 4, 1, 2, 5, 3))
    tmp535 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), tmp533, (5, 3, 6, 2, 7, 1), (4, 6, 0, 7))
    tmp534 = np.copy(np.transpose(t3.babbab, (1, 0, 2, 4, 3, 5)))
    tmp534 += einsum(t1.aa, (0, 1), t2.bbbb, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5))
    tmp534 += einsum(t2.abab, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5))
    tmp535 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp534, (4, 3, 6, 7, 0, 2), (5, 6, 1, 7))
    tmp535 += einsum(tmp51, (0, 1, 2, 3), l2.abab, (4, 3, 0, 5), (5, 1, 4, 2)) * 0.5
    l2new.abab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp535, (4, 2, 5, 1), (5, 3, 0, 4)) * 2
    del tmp535
    l2new.abab += einsum(tmp124, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 2, 5), (3, 5, 4, 1)) * 2
    del tmp124
    l2new.abab += einsum(l1.aa, (0, 1), v.aabb.ooov, (2, 1, 3, 4), (0, 4, 2, 3)) * -1
    tmp536 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.abab, (4, 5, 1, 6), (0, 4, 5, 2, 3, 6)) * 1.0000004000001597
    tmp536 += einsum(t2.bbbb, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 6, 3), (4, 5, 0, 1, 6, 2)) * 1.0000004000001597
    tmp536 += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp223, (4, 5, 6, 1, 3, 7), (0, 4, 6, 5, 2, 7))
    del tmp223
    l2new.abab += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), tmp536, (6, 4, 5, 3, 7, 2), (1, 0, 6, 7)) * 1.9999992000000009
    del tmp536
    tmp537 = np.copy(tmp103) * 0.5
    del tmp103
    tmp537 += tmp104
    del tmp104
    tmp537 += tmp105 * 0.5
    del tmp105
    tmp537 += tmp106 * 1.4999994
    del tmp106
    tmp537 += tmp146 * 0.9999996000000004
    del tmp146
    tmp537 += tmp107 * 0.4999998000000001
    del tmp107
    l2new.abab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp537, (4, 1), (4, 3, 0, 2)) * -2
    del tmp537
    l2new.abab += einsum(v.aabb.vvoo, (0, 1, 2, 3), l2.abab, (1, 4, 5, 3), (0, 4, 5, 2)) * -1
    l2new.abab += einsum(v.aabb.vvov, (0, 1, 2, 3), l1.aa, (1, 4), (0, 3, 4, 2))
    tmp538 = np.copy(tmp174) * 0.5
    del tmp174
    tmp538 += tmp175
    del tmp175
    tmp538 += tmp176
    del tmp176
    l2new.abab += einsum(v.aabb.vvov, (0, 1, 2, 3), tmp538, (4, 1, 5, 3), (0, 5, 4, 2)) * -2
    del tmp538
    tmp539 = einsum(tmp533, (0, 1, 2, 3, 4, 5), l3.abaaba, (3, 6, 4, 0, 2, 7), (7, 1, 6, 5)) * 2
    del tmp533
    tmp539 += einsum(tmp534, (0, 1, 2, 3, 4, 5), l3.babbab, (6, 3, 4, 2, 7, 1), (7, 0, 6, 5)) * 2
    del tmp534
    tmp539 += einsum(tmp51, (0, 1, 2, 3), l2.abab, (2, 4, 5, 1), (5, 0, 4, 3))
    del tmp51
    l2new.abab += einsum(tmp539, (0, 1, 2, 3), v.aabb.ovov, (1, 4, 5, 3), (4, 2, 0, 5))
    del tmp539
    l2new.abab += einsum(v.aabb.ovoo, (0, 1, 2, 3), tmp94, (4, 0, 3, 5), (1, 5, 4, 2)) * 2
    del tmp94
    l2new.abab += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp394, (4, 0), (1, 3, 4, 2)) * -2
    del tmp394
    tmp541 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 2, 3, 6)) * 1.0000004000001597
    tmp541 += einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 6, 3), (0, 4, 5, 1, 6, 2)) * 1.0000004000001597
    tmp540 = np.copy(np.transpose(t3.abaaba, (0, 2, 1, 3, 5, 4)))
    tmp540 += einsum(t1.aa, (0, 1), t2.abab, (2, 3, 4, 5), (0, 2, 3, 1, 4, 5)) * 1.0000004000001597
    tmp540 += einsum(t2.aaaa, (0, 1, 2, 3), t1.bb, (4, 5), (0, 1, 4, 2, 3, 5)) * 1.0000004000001597
    tmp541 += einsum(v.aabb.ovov, (0, 1, 2, 3), tmp540, (4, 5, 6, 1, 7, 3), (5, 4, 0, 6, 2, 7))
    del tmp540
    l2new.abab += einsum(tmp541, (0, 1, 2, 3, 4, 5), l3.abaaba, (6, 7, 5, 1, 3, 0), (6, 7, 2, 4)) * 1.9999992000000009
    del tmp541
    l2new.abab += einsum(tmp544, (0, 1, 2, 3), l2.abab, (4, 5, 0, 2), (4, 5, 1, 3))
    del tmp544

    return {"l1new": l1new, "l2new": l2new, "l3new": l3new}

def make_rdm1_f(l1=None, l2=None, l3=None, t1=None, t2=None, t3=None, =None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        l1: 
        l2: 
        l3: 
        t1: 
        t2: 
        t3: 
        : 

    Returns:
        rdm1: 
    """

     = Namespace()
    .aa = Namespace()
    .aa.oo = np.eye(t1.aa.shape[0])
    .bb = Namespace()
    .bb.oo = np.eye(t1.bb.shape[0])
    .aa.vv = np.eye(t1.aa.shape[-1])
    .bb.vv = np.eye(t1.bb.shape[-1])

    rdm1 = Namespace()
    rdm1.aa = Namespace()
    rdm1.aa.vo = np.copy(l1.aa)
    rdm1.bb = Namespace()
    rdm1.bb.vo = np.copy(l1.bb)
    tmp0 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.abaaba, (5, 4, 3, 2, 1, 6), (6, 0))
    rdm1.aa.oo = np.copy(np.transpose(tmp0, (1, 0))) * -1.9999992
    tmp1 = einsum(l2.aaaa, (0, 1, 2, 3), t2.aaaa, (4, 3, 0, 1), (2, 4))
    rdm1.aa.oo += np.transpose(tmp1, (1, 0)) * -2
    tmp2 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l3.aaaaaa, (3, 4, 5, 6, 1, 2), (6, 0))
    rdm1.aa.oo += np.transpose(tmp2, (1, 0)) * -2.9999988
    tmp3 = einsum(t1.aa, (0, 1), l1.aa, (1, 2), (2, 0))
    rdm1.aa.oo += np.transpose(tmp3, (1, 0)) * -1
    rdm1.aa.oo += .aa.oo
    tmp4 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 4, 5, 0, 6, 2), (6, 1))
    rdm1.aa.oo += np.transpose(tmp4, (1, 0)) * -0.9999996
    tmp5 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 4, 1), (4, 0))
    rdm1.aa.oo += np.transpose(tmp5, (1, 0)) * -1
    tmp6 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 6, 5, 0, 1, 2), (4, 6))
    rdm1.bb.oo = np.copy(np.transpose(tmp6, (1, 0))) * -0.9999996000000002
    rdm1.bb.oo += .bb.oo
    tmp7 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 0, 4), (4, 1))
    rdm1.bb.oo += np.transpose(tmp7, (1, 0)) * -1
    tmp8 = einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (2, 3, 4, 1), (4, 0))
    rdm1.bb.oo += np.transpose(tmp8, (1, 0)) * -2
    tmp9 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 4, 3, 2, 1, 0), (5, 6))
    rdm1.bb.oo += np.transpose(tmp9, (1, 0)) * -1.9999992000000009
    tmp10 = einsum(t1.bb, (0, 1), l1.bb, (1, 2), (2, 0))
    rdm1.bb.oo += np.transpose(tmp10, (1, 0)) * -1
    tmp11 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (6, 4, 5, 0, 1, 2), (3, 6))
    rdm1.bb.oo += np.transpose(tmp11, (1, 0)) * -2.9999988
    rdm1.aa.vv = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 2, 1, 6), (0, 6)) * -1.9999992000000009
    rdm1.aa.vv += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (3, 4, 5, 6, 1, 2), (0, 6)) * 2.9999988
    rdm1.aa.vv += einsum(t2.aaaa, (0, 1, 2, 3), l2.aaaa, (4, 3, 0, 1), (4, 2)) * 2
    rdm1.aa.vv += einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 0, 1), (4, 2))
    rdm1.aa.vv += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 0, 6, 2), (1, 6)) * 0.9999996000000002
    rdm1.aa.vv += einsum(t1.aa, (0, 1), l1.aa, (2, 0), (2, 1))
    rdm1.bb.vv = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 0, 1), (4, 3))
    rdm1.bb.vv += einsum(t1.bb, (0, 1), l1.bb, (2, 0), (2, 1))
    rdm1.bb.vv += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 2, 1, 6), (0, 6)) * -1.9999992000000009
    rdm1.bb.vv += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 0, 6, 2), (1, 6)) * 0.9999996000000002
    rdm1.bb.vv += einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (4, 3, 0, 1), (4, 2)) * 2
    rdm1.bb.vv += einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (3, 4, 5, 6, 1, 2), (0, 6)) * 2.9999988
    rdm1.aa.ov = einsum(l2.bbbb, (0, 1, 2, 3), t3.babbab, (2, 4, 3, 0, 5, 1), (4, 5))
    rdm1.aa.ov += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l2.aaaa, (4, 5, 1, 2), (0, 3)) * 3
    rdm1.aa.ov += t1.aa
    rdm1.aa.ov += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (5, 4, 2, 1), (0, 3)) * 2
    rdm1.aa.ov += einsum(t2.abab, (0, 1, 2, 3), l1.bb, (3, 1), (0, 2))
    rdm1.aa.ov += einsum(t2.aaaa, (0, 1, 2, 3), l1.aa, (3, 1), (0, 2)) * 2
    tmp12 = einsum(t1.aa, (0, 1), l3.aaaaaa, (2, 3, 1, 4, 5, 6), (4, 6, 5, 0, 2, 3)) * -1
    rdm1.aa.ov += einsum(tmp12, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (0, 1, 2, 6, 5, 4), (3, 6)) * 2.9999988
    del tmp12
    tmp13 = einsum(t1.aa, (0, 1), l3.babbab, (2, 1, 3, 4, 5, 6), (5, 0, 4, 6, 2, 3))
    rdm1.aa.ov += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp13, (1, 6, 2, 0, 5, 3), (6, 4)) * -0.9999996000000002
    del tmp13
    tmp14 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t1.aa, (6, 2), (5, 3, 6, 4, 0, 1)) * -1
    rdm1.aa.ov += einsum(tmp14, (0, 1, 2, 3, 4, 5), t3.abaaba, (0, 3, 1, 4, 5, 6), (2, 6)) * -1.9999992000000009
    del tmp14
    tmp15 = einsum(l2.aaaa, (0, 1, 2, 3), t1.aa, (4, 1), (2, 3, 4, 0))
    tmp15 += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 5, 1, 2), (3, 4, 6, 0)) * 3
    tmp15 += einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 3, 2, 5, 1, 6), (5, 6, 0, 4))
    rdm1.aa.ov += einsum(tmp15, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * 2
    del tmp15
    tmp16 = einsum(t1.aa, (0, 1), l2.abab, (1, 2, 3, 4), (3, 0, 4, 2)) * 0.5
    tmp16 += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 5, 0, 2), (3, 6, 4, 1))
    tmp16 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (6, 5, 1, 2), (4, 6, 3, 0))
    rdm1.aa.ov += einsum(tmp16, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4)) * -2
    del tmp16
    tmp17 = np.copy(tmp3) * 1.0000004000001599
    del tmp3
    tmp17 += tmp1 * 2.0000008000003198
    del tmp1
    tmp17 += tmp5 * 1.0000004000001599
    del tmp5
    tmp17 += tmp2 * 3
    del tmp2
    tmp17 += tmp0 * 2
    del tmp0
    tmp17 += tmp4
    del tmp4
    rdm1.aa.ov += einsum(t1.aa, (0, 1), tmp17, (0, 2), (2, 1)) * -0.9999996000000002
    del tmp17
    rdm1.bb.ov = einsum(t2.abab, (0, 1, 2, 3), l1.aa, (2, 0), (1, 3))
    rdm1.bb.ov += t1.bb
    rdm1.bb.ov += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (4, 5, 1, 2), (0, 3)) * 2
    rdm1.bb.ov += einsum(l1.bb, (0, 1), t2.bbbb, (2, 1, 3, 0), (2, 3)) * 2
    rdm1.bb.ov += einsum(l2.bbbb, (0, 1, 2, 3), t3.bbbbbb, (4, 2, 3, 5, 0, 1), (4, 5)) * 3
    rdm1.bb.ov += einsum(l2.aaaa, (0, 1, 2, 3), t3.abaaba, (2, 4, 3, 0, 5, 1), (4, 5))
    tmp18 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t1.bb, (6, 2), (3, 4, 5, 6, 0, 1))
    rdm1.bb.ov += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp18, (2, 0, 1, 6, 4, 5), (6, 3)) * -2.9999988
    del tmp18
    tmp19 = einsum(t1.bb, (0, 1), l3.abaaba, (2, 1, 3, 4, 5, 6), (6, 4, 5, 0, 2, 3)) * -1
    rdm1.bb.ov += einsum(tmp19, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 2, 0, 4, 6, 5), (3, 6)) * 0.9999996000000002
    del tmp19
    tmp20 = einsum(t1.bb, (0, 1), l3.babbab, (2, 3, 1, 4, 5, 6), (5, 6, 4, 0, 3, 2)) * -1
    rdm1.bb.ov += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp20, (1, 0, 2, 6, 4, 3), (6, 5)) * -1.9999992000000009
    del tmp20
    tmp21 = einsum(t1.bb, (0, 1), l2.bbbb, (2, 1, 3, 4), (3, 4, 0, 2))
    tmp21 += einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (4, 6, 1, 2), (5, 3, 6, 0)) * -1
    tmp21 += einsum(t2.bbbb, (0, 1, 2, 3), l3.bbbbbb, (4, 2, 3, 5, 1, 6), (5, 6, 0, 4)) * -3
    rdm1.bb.ov += einsum(tmp21, (0, 1, 2, 3), t2.bbbb, (0, 1, 4, 3), (2, 4)) * 2
    del tmp21
    tmp22 = einsum(t1.bb, (0, 1), l2.abab, (2, 1, 3, 4), (3, 4, 0, 2)) * 0.5
    tmp22 += einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.abab, (5, 6, 2, 1), (3, 4, 6, 0))
    tmp22 += einsum(t2.bbbb, (0, 1, 2, 3), l3.babbab, (2, 4, 3, 5, 6, 1), (6, 5, 0, 4))
    rdm1.bb.ov += einsum(tmp22, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4)) * -2
    del tmp22
    tmp23 = np.copy(tmp10)
    del tmp10
    tmp23 += tmp7
    del tmp7
    tmp23 += tmp8 * 2
    del tmp8
    tmp23 += tmp6 * 0.9999996000000002
    del tmp6
    tmp23 += tmp9 * 1.9999992000000009
    del tmp9
    tmp23 += tmp11 * 2.9999988
    del tmp11
    rdm1.bb.ov += einsum(t1.bb, (0, 1), tmp23, (0, 2), (2, 1)) * -1
    del tmp23

    rdm1.aa = np.block([[rdm1.aa.oo, rdm1.aa.ov], [rdm1.aa.vo, rdm1.aa.vv]])
    rdm1.bb = np.block([[rdm1.bb.oo, rdm1.bb.ov], [rdm1.bb.vo, rdm1.bb.vv]])

    return rdm1

def make_rdm2_f(l1=None, l2=None, l3=None, t1=None, t2=None, t3=None, =None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        l1: 
        l2: 
        l3: 
        t1: 
        t2: 
        t3: 
        : 

    Returns:
        rdm2: 
    """

     = Namespace()
    .aa = Namespace()
    .aa.oo = np.eye(t1.aa.shape[0])
    .ab = Namespace()
    .ab.oo = np.eye(t1.bb.shape[0])
    .bb = Namespace()
    .bb.oo = np.eye(t1.bb.shape[0])
    .aa.vv = np.eye(t1.aa.shape[-1])
    .ab.vv = np.eye(t1.aa.shape[-1])
    .bb.vv = np.eye(t1.bb.shape[-1])

    rdm2 = Namespace()
    rdm2.aaaa = Namespace()
    rdm2.aaaa.vvoo = np.copy(l2.aaaa) * 2
    rdm2.abab = Namespace()
    rdm2.abab.vvoo = np.copy(l2.abab)
    rdm2.bbbb = Namespace()
    rdm2.bbbb.vvoo = np.copy(l2.bbbb) * 2
    rdm2.abab.vvvo = einsum(t1.aa, (0, 1), l2.abab, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp179 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.aaaa, (5, 3, 6, 2), (4, 0, 6, 1)) * -1
    rdm2.abab.vvvo += np.transpose(tmp179, (1, 3, 2, 0)) * 2
    tmp180 = einsum(t2.abab, (0, 1, 2, 3), l3.babbab, (4, 5, 3, 6, 0, 1), (6, 5, 2, 4))
    rdm2.abab.vvvo += np.transpose(tmp180, (1, 3, 2, 0)) * 2
    tmp442 = einsum(t1.aa, (0, 1), l2.aaaa, (2, 3, 4, 0), (4, 2, 3, 1))
    rdm2.aaaa.vvov = np.copy(np.transpose(tmp442, (2, 1, 0, 3))) * -2
    tmp81 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t2.aaaa, (4, 5, 6, 2), (3, 0, 1, 6))
    rdm2.aaaa.vvov += np.transpose(tmp81, (1, 2, 0, 3)) * 6
    tmp82 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 3, 5, 0, 1, 6), (6, 4, 5, 2)) * -1
    rdm2.aaaa.vvov += np.transpose(tmp82, (1, 2, 0, 3)) * 2
    tmp443 = einsum(t1.bb, (0, 1), l2.abab, (2, 3, 4, 0), (4, 2, 3, 1))
    rdm2.abab.vvov = np.copy(np.transpose(tmp443, (1, 2, 0, 3)))
    tmp120 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 5, 2, 6, 1, 0), (6, 4, 5, 3))
    rdm2.abab.vvov += np.transpose(tmp120, (1, 2, 0, 3)) * 2
    tmp121 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.bbbb, (5, 3, 6, 2), (4, 1, 0, 6)) * -1
    rdm2.abab.vvov += np.transpose(tmp121, (1, 2, 0, 3)) * 2
    tmp147 = einsum(t2.bbbb, (0, 1, 2, 3), l3.bbbbbb, (4, 5, 3, 6, 0, 1), (6, 4, 5, 2))
    rdm2.bbbb.vvov = np.copy(np.transpose(tmp147, (1, 2, 0, 3))) * 6
    tmp444 = einsum(t1.bb, (0, 1), l2.bbbb, (2, 3, 4, 0), (4, 2, 3, 1))
    rdm2.bbbb.vvov += np.transpose(tmp444, (2, 1, 0, 3)) * -2
    tmp146 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (4, 3, 1, 6), (5, 0, 2, 6)) * -1
    rdm2.bbbb.vvov += np.transpose(tmp146, (1, 2, 0, 3)) * 2
    rdm2.aaaa.vvvo = np.copy(np.transpose(tmp442, (2, 1, 3, 0))) * 2
    rdm2.aaaa.vvvo += np.transpose(tmp81, (1, 2, 3, 0)) * -6
    rdm2.aaaa.vvvo += np.transpose(tmp82, (1, 2, 3, 0)) * -2
    rdm2.bbbb.vvvo = np.copy(np.transpose(tmp147, (1, 2, 3, 0))) * -6
    rdm2.bbbb.vvvo += np.transpose(tmp444, (2, 1, 3, 0)) * 2
    rdm2.bbbb.vvvo += np.transpose(tmp146, (1, 2, 3, 0)) * -2
    rdm2.abab.vooo = einsum(l1.aa, (0, 1), .bb.oo, (2, 3), (0, 2, 1, 3))
    tmp105 = einsum(t1.bb, (0, 1), l2.abab, (2, 1, 3, 4), (3, 4, 0, 2))
    rdm2.abab.vooo += np.transpose(tmp105, (3, 2, 0, 1)) * -1
    tmp35 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.bbbb, (6, 3, 0, 2), (4, 5, 6, 1)) * -1
    rdm2.abab.vooo += np.transpose(tmp35, (3, 2, 0, 1)) * -1
    tmp34 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.abab, (3, 6, 2, 1), (5, 4, 6, 0)) * -1
    rdm2.abab.vooo += np.transpose(tmp34, (3, 2, 0, 1)) * -1
    rdm2.abab.vooo += np.transpose(tmp35, (3, 2, 0, 1)) * -1
    rdm2.abab.vooo += np.transpose(tmp34, (3, 2, 0, 1)) * -1
    rdm2.aaaa.ovoo = einsum(.aa.oo, (0, 1), l1.aa, (2, 3), (0, 2, 3, 1)) * -1
    rdm2.aaaa.ovoo += einsum(.aa.oo, (0, 1), l1.aa, (2, 3), (0, 2, 1, 3))
    tmp12 = einsum(l2.aaaa, (0, 1, 2, 3), t1.aa, (4, 1), (2, 3, 4, 0))
    rdm2.aaaa.ovoo += np.transpose(tmp12, (2, 3, 1, 0)) * -2
    tmp13 = einsum(t2.aaaa, (0, 1, 2, 3), l3.aaaaaa, (4, 2, 3, 5, 1, 6), (5, 6, 0, 4)) * -1
    rdm2.aaaa.ovoo += np.transpose(tmp13, (2, 3, 1, 0)) * -6
    tmp14 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 3, 2, 5, 1, 6), (6, 5, 0, 4)) * -1
    rdm2.aaaa.ovoo += np.transpose(tmp14, (2, 3, 1, 0)) * -1
    rdm2.aaaa.ovoo += np.transpose(tmp14, (2, 3, 1, 0)) * -1
    rdm2.abab.ovoo = einsum(.aa.oo, (0, 1), l1.bb, (2, 3), (0, 2, 1, 3))
    tmp30 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (6, 3, 1, 2), (4, 6, 5, 0)) * -1
    rdm2.abab.ovoo += np.transpose(tmp30, (1, 3, 0, 2)) * -1
    tmp29 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 3, 0, 2), (5, 6, 4, 1)) * -1
    rdm2.abab.ovoo += np.transpose(tmp29, (1, 3, 0, 2)) * -1
    tmp28 = einsum(t1.aa, (0, 1), l2.abab, (1, 2, 3, 4), (3, 0, 4, 2))
    rdm2.abab.ovoo += np.transpose(tmp28, (1, 3, 0, 2)) * -1
    rdm2.abab.ovoo += np.transpose(tmp30, (1, 3, 0, 2)) * -1
    rdm2.abab.ovoo += np.transpose(tmp29, (1, 3, 0, 2)) * -1
    rdm2.bbbb.ovoo = einsum(.bb.oo, (0, 1), l1.bb, (2, 3), (0, 2, 3, 1)) * -1
    rdm2.bbbb.ovoo += einsum(l1.bb, (0, 1), .bb.oo, (2, 3), (2, 0, 3, 1))
    tmp43 = einsum(l2.bbbb, (0, 1, 2, 3), t1.bb, (4, 1), (2, 3, 4, 0))
    rdm2.bbbb.ovoo += np.transpose(tmp43, (2, 3, 1, 0)) * -2
    tmp44 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t2.abab, (4, 6, 1, 2), (5, 3, 6, 0)) * -1
    rdm2.bbbb.ovoo += np.transpose(tmp44, (2, 3, 1, 0)) * -1
    tmp45 = einsum(t2.bbbb, (0, 1, 2, 3), l3.bbbbbb, (4, 2, 3, 5, 1, 6), (5, 6, 0, 4)) * -1
    rdm2.bbbb.ovoo += np.transpose(tmp45, (2, 3, 1, 0)) * -6
    rdm2.bbbb.ovoo += np.transpose(tmp44, (2, 3, 1, 0)) * -1
    rdm2.aaaa.vooo = einsum(.aa.oo, (0, 1), l1.aa, (2, 3), (2, 0, 3, 1))
    rdm2.aaaa.vooo += einsum(.aa.oo, (0, 1), l1.aa, (2, 3), (2, 0, 1, 3)) * -1
    rdm2.aaaa.vooo += np.transpose(tmp12, (3, 2, 1, 0)) * 2
    rdm2.aaaa.vooo += np.transpose(tmp13, (3, 2, 1, 0)) * 6
    rdm2.aaaa.vooo += np.transpose(tmp14, (3, 2, 1, 0))
    rdm2.aaaa.vooo += np.transpose(tmp14, (3, 2, 1, 0))
    rdm2.bbbb.vooo = einsum(.bb.oo, (0, 1), l1.bb, (2, 3), (2, 0, 3, 1))
    rdm2.bbbb.vooo += einsum(l1.bb, (0, 1), .bb.oo, (2, 3), (0, 2, 3, 1)) * -1
    rdm2.bbbb.vooo += np.transpose(tmp45, (3, 2, 1, 0)) * 6
    rdm2.bbbb.vooo += np.transpose(tmp44, (3, 2, 1, 0))
    rdm2.bbbb.vooo += np.transpose(tmp43, (3, 2, 1, 0)) * 2
    rdm2.bbbb.vooo += np.transpose(tmp44, (3, 2, 1, 0))
    rdm2.aaaa.vvvv = einsum(t2.aaaa, (0, 1, 2, 3), l2.aaaa, (4, 5, 0, 1), (4, 5, 2, 3)) * 2
    tmp445 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 6, 1, 7), (0, 2, 7, 6)) * -1
    rdm2.aaaa.vvvv += np.transpose(tmp445, (0, 1, 3, 2)) * -1.0000002
    rdm2.aaaa.vvvv += einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (3, 4, 5, 6, 7, 2), (0, 1, 6, 7)) * 6.000001199999999
    tmp446 = np.copy(np.transpose(tmp442, (0, 2, 1, 3))) * -1
    del tmp442
    tmp446 += np.transpose(tmp81, (0, 2, 1, 3)) * -3
    tmp446 += np.transpose(tmp82, (0, 2, 1, 3)) * -1
    rdm2.aaaa.vvvv += einsum(tmp446, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3)) * 2
    del tmp446
    rdm2.aaaa.vvvv += np.transpose(tmp445, (0, 1, 3, 2)) * -1.0000002
    del tmp445
    tmp83 = np.copy(np.transpose(tmp81, (0, 2, 1, 3))) * -1
    tmp83 += np.transpose(tmp82, (0, 2, 1, 3)) * -0.3333333333333333
    rdm2.aaaa.vvvv += einsum(t1.aa, (0, 1), tmp83, (0, 2, 3, 4), (2, 3, 4, 1)) * -6
    rdm2.bbbb.vvvv = einsum(l2.bbbb, (0, 1, 2, 3), t2.bbbb, (2, 3, 4, 5), (0, 1, 4, 5)) * 2
    rdm2.bbbb.vvvv += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (6, 7, 5, 0, 1, 2), (6, 7, 3, 4)) * 6.000001199999999
    tmp450 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (6, 4, 7, 0, 1, 2), (6, 7, 5, 3)) * -1
    rdm2.bbbb.vvvv += np.transpose(tmp450, (0, 1, 3, 2)) * -1.0000002
    tmp451 = np.copy(np.transpose(tmp444, (0, 2, 1, 3))) * -1
    del tmp444
    tmp451 += np.transpose(tmp146, (0, 2, 1, 3)) * -1
    tmp451 += np.transpose(tmp147, (0, 2, 1, 3)) * -3
    rdm2.bbbb.vvvv += einsum(t1.bb, (0, 1), tmp451, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    del tmp451
    rdm2.bbbb.vvvv += np.transpose(tmp450, (0, 1, 3, 2)) * -1.0000002
    del tmp450
    tmp148 = np.copy(np.transpose(tmp146, (0, 2, 1, 3))) * -1
    tmp148 += np.transpose(tmp147, (0, 2, 1, 3)) * -3
    rdm2.bbbb.vvvv += einsum(t1.bb, (0, 1), tmp148, (0, 2, 3, 4), (2, 3, 4, 1)) * -2
    rdm2.abab.vvvv = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 5, 0, 1), (4, 5, 2, 3))
    tmp447 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 2, 6, 7), (0, 7, 1, 6)) * -1
    rdm2.abab.vvvv += np.transpose(tmp447, (0, 2, 1, 3)) * 1.0000002
    tmp448 = np.copy(tmp443)
    del tmp443
    tmp448 += tmp120 * 2
    rdm2.abab.vvvv += einsum(tmp448, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3))
    del tmp448
    rdm2.abab.vvvv += np.transpose(tmp447, (0, 2, 1, 3)) * 1.0000002
    del tmp447
    rdm2.abab.vvvv += einsum(tmp179, (0, 1, 2, 3), t1.bb, (0, 4), (1, 3, 2, 4)) * 2
    tmp449 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 2, 6, 7), (1, 6, 0, 7)) * -1
    rdm2.abab.vvvv += np.transpose(tmp449, (0, 2, 1, 3)) * 1.0000002
    rdm2.abab.vvvv += einsum(t1.bb, (0, 1), tmp180, (0, 2, 3, 4), (2, 4, 3, 1)) * 2
    rdm2.abab.vvvv += np.transpose(tmp449, (0, 2, 1, 3)) * 1.0000002
    del tmp449
    rdm2.abab.vvvv += einsum(tmp121, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3)) * 2
    tmp207 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l3.abaaba, (4, 6, 5, 1, 7, 2), (0, 7, 3, 6))
    rdm2.abab.ovvo = np.copy(np.transpose(tmp207, (0, 3, 2, 1))) * 3
    rdm2.abab.ovvo += einsum(t1.aa, (0, 1), l1.bb, (2, 3), (0, 2, 1, 3))
    tmp208 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.babbab, (6, 5, 4, 1, 2, 7), (0, 7, 3, 6)) * -1
    rdm2.abab.ovvo += np.transpose(tmp208, (0, 3, 2, 1)) * 4
    tmp206 = einsum(t2.abab, (0, 1, 2, 3), l2.bbbb, (4, 3, 5, 1), (0, 5, 2, 4))
    rdm2.abab.ovvo += np.transpose(tmp206, (0, 3, 2, 1)) * 2
    tmp209 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.babbab, (4, 6, 5, 1, 7, 2), (6, 3, 7, 0))
    rdm2.abab.ovvo += np.transpose(tmp209, (0, 3, 2, 1)) * 3
    tmp391 = einsum(t2.aaaa, (0, 1, 2, 3), l2.abab, (3, 4, 1, 5), (0, 5, 2, 4))
    rdm2.abab.ovvo += np.transpose(tmp391, (0, 3, 2, 1)) * 2
    tmp62 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t1.aa, (6, 1), (4, 6, 5, 3, 0, 2)) * -1
    tmp236 = einsum(t2.abab, (0, 1, 2, 3), tmp62, (0, 4, 5, 1, 6, 3), (4, 5, 2, 6))
    rdm2.abab.ovvo += np.transpose(tmp236, (0, 3, 2, 1)) * -2
    tmp60 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t1.aa, (6, 2), (3, 5, 6, 4, 0, 1))
    tmp235 = einsum(t2.aaaa, (0, 1, 2, 3), tmp60, (1, 0, 4, 5, 3, 6), (4, 5, 2, 6))
    rdm2.abab.ovvo += np.transpose(tmp235, (0, 3, 2, 1)) * -2
    tmp66 = np.copy(tmp28) * 0.5
    tmp66 += tmp29
    tmp66 += tmp30
    rdm2.abab.ovvo += einsum(t1.aa, (0, 1), tmp66, (0, 2, 3, 4), (2, 4, 1, 3)) * -2
    tmp279 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.abaaba, (4, 6, 5, 1, 7, 2), (3, 6, 0, 7))
    rdm2.abab.voov = np.copy(np.transpose(tmp279, (2, 1, 0, 3))) * 3
    rdm2.abab.voov += einsum(l1.aa, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    tmp280 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 3, 4, 7, 2, 1), (5, 6, 0, 7)) * -1
    rdm2.abab.voov += np.transpose(tmp280, (2, 1, 0, 3)) * 4
    tmp278 = einsum(l2.abab, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 1), (2, 4, 0, 5))
    rdm2.abab.voov += np.transpose(tmp278, (2, 1, 0, 3)) * 2
    tmp281 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (6, 3, 5, 7, 0, 2), (4, 6, 1, 7))
    rdm2.abab.voov += np.transpose(tmp281, (2, 1, 0, 3)) * 3
    tmp277 = einsum(l2.aaaa, (0, 1, 2, 3), t2.abab, (3, 4, 1, 5), (2, 4, 0, 5))
    rdm2.abab.voov += np.transpose(tmp277, (2, 1, 0, 3)) * 2
    tmp99 = einsum(t1.bb, (0, 1), l3.abaaba, (2, 1, 3, 4, 5, 6), (6, 4, 5, 0, 2, 3)) * -1
    tmp287 = einsum(tmp99, (0, 1, 2, 3, 4, 5), t2.abab, (1, 2, 5, 6), (0, 3, 4, 6))
    rdm2.abab.voov += np.transpose(tmp287, (2, 1, 0, 3)) * -2
    tmp101 = einsum(t1.bb, (0, 1), l3.babbab, (2, 3, 1, 4, 5, 6), (5, 4, 6, 0, 3, 2))
    tmp288 = einsum(t2.bbbb, (0, 1, 2, 3), tmp101, (4, 1, 0, 5, 6, 3), (4, 5, 6, 2))
    rdm2.abab.voov += np.transpose(tmp288, (2, 1, 0, 3)) * -2
    tmp190 = np.copy(tmp105)
    tmp190 += tmp34 * 2
    tmp190 += tmp35 * 2
    rdm2.abab.voov += einsum(t1.bb, (0, 1), tmp190, (2, 0, 3, 4), (4, 3, 2, 1)) * -1
    tmp6 = np.copy(.aa.oo) * -0.50000020000008
    tmp0 = einsum(t1.aa, (0, 1), l1.aa, (1, 2), (2, 0))
    tmp6 += tmp0 * 0.50000020000008
    tmp1 = einsum(l2.aaaa, (0, 1, 2, 3), t2.aaaa, (4, 3, 0, 1), (2, 4))
    tmp6 += tmp1 * 1.00000040000016
    tmp2 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 4, 1), (4, 0))
    tmp6 += tmp2 * 0.50000020000008
    tmp3 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l3.aaaaaa, (3, 4, 5, 6, 1, 2), (6, 0))
    tmp6 += tmp3 * 1.5000000000000002
    tmp4 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l3.abaaba, (5, 4, 3, 2, 1, 6), (6, 0))
    tmp6 += tmp4
    tmp5 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 4, 5, 0, 6, 2), (6, 1))
    tmp6 += tmp5 * 0.5
    rdm2.aaaa.oooo = einsum(.aa.oo, (0, 1), tmp6, (2, 3), (0, 3, 1, 2)) * -1.9999992
    del tmp6
    tmp7 = np.copy(.aa.oo) * -0.5000002000000798
    tmp7 += tmp0 * 0.5000002000000798
    tmp7 += tmp1 * 1.0000004000001597
    tmp7 += tmp2 * 0.5000002000000798
    tmp7 += tmp3 * 1.4999999999999993
    tmp7 += tmp4
    tmp7 += tmp5 * 0.4999999999999999
    rdm2.aaaa.oooo += einsum(tmp7, (0, 1), .aa.oo, (2, 3), (1, 2, 3, 0)) * 1.9999992000000009
    del tmp7
    tmp8 = np.copy(tmp0) * 0.33333346666672
    tmp8 += tmp1 * 0.66666693333344
    tmp8 += tmp2 * 0.33333346666672
    tmp8 += tmp3
    tmp8 += tmp4 * 0.666666666666667
    tmp8 += tmp5 * 0.33333333333333337
    rdm2.aaaa.oooo += einsum(.aa.oo, (0, 1), tmp8, (2, 3), (3, 0, 2, 1)) * -2.9999988
    rdm2.aaaa.oooo += einsum(.aa.oo, (0, 1), tmp8, (2, 3), (0, 3, 2, 1)) * 2.9999988
    tmp9 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 4, 7, 2, 1, 0), (3, 5, 6, 7)) * -1
    rdm2.aaaa.oooo += np.transpose(tmp9, (2, 3, 1, 0)) * -1.0000002
    tmp10 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l3.aaaaaa, (3, 5, 4, 6, 7, 2), (6, 7, 0, 1)) * -1
    rdm2.aaaa.oooo += np.transpose(tmp10, (2, 3, 1, 0)) * -6.000001199999999
    tmp11 = einsum(l2.aaaa, (0, 1, 2, 3), t2.aaaa, (4, 5, 0, 1), (2, 3, 4, 5))
    rdm2.aaaa.oooo += np.transpose(tmp11, (3, 2, 1, 0)) * 2
    tmp15 = np.copy(np.transpose(tmp12, (1, 0, 2, 3))) * -2
    tmp15 += tmp13 * 6
    tmp15 += tmp14
    rdm2.aaaa.oooo += einsum(tmp15, (0, 1, 2, 3), t1.aa, (4, 3), (2, 4, 1, 0))
    del tmp15
    rdm2.aaaa.oooo += np.transpose(tmp9, (2, 3, 1, 0)) * -1.0000002
    tmp16 = einsum(t1.aa, (0, 1), tmp14, (2, 3, 4, 1), (2, 3, 0, 4))
    rdm2.aaaa.oooo += np.transpose(tmp16, (3, 2, 1, 0))
    tmp17 = np.copy(tmp13)
    tmp17 += tmp14 * 0.16666666666666666
    rdm2.aaaa.oooo += einsum(t1.aa, (0, 1), tmp17, (2, 3, 4, 1), (0, 4, 3, 2)) * -6
    del tmp17
    rdm2.aaaa.oooo += np.transpose(tmp16, (2, 3, 1, 0)) * -1
    del tmp16
    tmp38 = np.copy(.bb.oo) * -1.0000004000001599
    tmp18 = einsum(t1.bb, (0, 1), l1.bb, (1, 2), (2, 0))
    tmp38 += tmp18 * 1.0000004000001599
    tmp19 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 0, 4), (4, 1))
    tmp38 += tmp19 * 1.0000004000001599
    tmp20 = einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (2, 3, 4, 1), (4, 0))
    tmp38 += tmp20 * 2.0000008000003198
    tmp21 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 6, 5, 0, 1, 2), (4, 6))
    tmp38 += tmp21
    tmp22 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 4, 3, 2, 1, 0), (5, 6))
    tmp38 += tmp22 * 2
    tmp23 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (6, 4, 5, 0, 1, 2), (3, 6))
    tmp38 += tmp23 * 3
    rdm2.bbbb.oooo = einsum(tmp38, (0, 1), .bb.oo, (2, 3), (2, 1, 3, 0)) * -0.9999996000000002
    rdm2.bbbb.oooo += einsum(tmp38, (0, 1), .bb.oo, (2, 3), (1, 2, 3, 0)) * 0.9999996000000002
    del tmp38
    tmp39 = np.copy(tmp18) * 0.5
    tmp39 += tmp19 * 0.5
    tmp39 += tmp20
    tmp39 += tmp21 * 0.4999998000000001
    tmp39 += tmp22 * 0.9999996000000004
    tmp39 += tmp23 * 1.4999994
    rdm2.bbbb.oooo += einsum(.bb.oo, (0, 1), tmp39, (2, 3), (3, 0, 2, 1)) * -2
    rdm2.bbbb.oooo += einsum(.bb.oo, (0, 1), tmp39, (2, 3), (0, 3, 2, 1)) * 2
    del tmp39
    tmp40 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (5, 4, 3, 6, 1, 7), (6, 7, 0, 2)) * -1
    rdm2.bbbb.oooo += np.transpose(tmp40, (2, 3, 1, 0)) * -1.0000002
    tmp41 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (3, 5, 4, 6, 7, 2), (6, 7, 0, 1)) * -1
    rdm2.bbbb.oooo += np.transpose(tmp41, (2, 3, 1, 0)) * -6.000001199999999
    tmp42 = einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (2, 3, 4, 5), (4, 5, 0, 1))
    rdm2.bbbb.oooo += np.transpose(tmp42, (3, 2, 1, 0)) * 2
    tmp46 = np.copy(np.transpose(tmp43, (1, 0, 2, 3))) * -2
    tmp46 += tmp44
    tmp46 += tmp45 * 6
    rdm2.bbbb.oooo += einsum(t1.bb, (0, 1), tmp46, (2, 3, 4, 1), (4, 0, 3, 2))
    del tmp46
    rdm2.bbbb.oooo += np.transpose(tmp40, (2, 3, 1, 0)) * -1.0000002
    tmp47 = einsum(t1.bb, (0, 1), tmp44, (2, 3, 4, 1), (2, 3, 0, 4))
    rdm2.bbbb.oooo += np.transpose(tmp47, (3, 2, 1, 0))
    tmp48 = np.copy(tmp44)
    tmp48 += tmp45 * 6
    rdm2.bbbb.oooo += einsum(tmp48, (0, 1, 2, 3), t1.bb, (4, 3), (4, 2, 1, 0)) * -1
    del tmp48
    rdm2.bbbb.oooo += np.transpose(tmp47, (2, 3, 1, 0)) * -1
    del tmp47
    tmp383 = einsum(t1.aa, (0, 1), l1.aa, (2, 0), (2, 1))
    tmp394 = np.copy(tmp383) * 0.5
    tmp197 = einsum(t2.aaaa, (0, 1, 2, 3), l2.aaaa, (4, 3, 0, 1), (4, 2))
    tmp394 += tmp197
    tmp198 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 0, 1), (4, 2))
    tmp394 += tmp198 * 0.5
    tmp199 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (3, 4, 5, 6, 1, 2), (0, 6))
    tmp394 += tmp199 * 1.4999994
    tmp200 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 2, 1, 6), (0, 6)) * -1
    tmp394 += tmp200 * 0.9999996000000004
    tmp201 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 0, 6, 2), (1, 6))
    tmp394 += tmp201 * 0.4999998000000001
    rdm2.abab.vovo = einsum(tmp394, (0, 1), .bb.oo, (2, 3), (0, 2, 1, 3)) * 2
    tmp315 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 4, 3, 2, 7, 0), (5, 6, 1, 7))
    rdm2.abab.vovo += np.transpose(tmp315, (2, 1, 3, 0)) * -2
    tmp314 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 6, 5, 2, 1, 7), (4, 6, 0, 7)) * -1
    rdm2.abab.vovo += np.transpose(tmp314, (2, 1, 3, 0)) * -2
    tmp395 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 0, 5), (5, 1, 4, 2))
    rdm2.abab.vovo += np.transpose(tmp395, (2, 1, 3, 0)) * -1
    tmp320 = einsum(tmp101, (0, 1, 2, 3, 4, 5), t2.abab, (0, 2, 6, 5), (1, 3, 4, 6)) * -1
    rdm2.abab.vovo += np.transpose(tmp320, (2, 1, 3, 0)) * -2
    tmp319 = einsum(tmp99, (0, 1, 2, 3, 4, 5), t2.aaaa, (1, 0, 6, 5), (2, 3, 4, 6)) * -1
    rdm2.abab.vovo += np.transpose(tmp319, (2, 1, 3, 0)) * -2
    tmp106 = np.copy(tmp105) * 0.5
    tmp106 += tmp34
    tmp106 += tmp35
    rdm2.abab.vovo += einsum(tmp106, (0, 1, 2, 3), t1.aa, (0, 4), (3, 2, 4, 1)) * -2
    tmp386 = einsum(t1.bb, (0, 1), l1.bb, (2, 0), (2, 1))
    tmp387 = np.copy(tmp386) * 1.0000004000001599
    tmp263 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 0, 1), (4, 3))
    tmp387 += tmp263 * 1.0000004000001599
    tmp264 = einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (4, 3, 0, 1), (4, 2))
    tmp387 += tmp264 * 2.0000008000003198
    tmp265 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 4, 5, 0, 6, 2), (1, 6))
    tmp387 += tmp265
    tmp266 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (3, 4, 5, 2, 1, 6), (0, 6)) * -1
    tmp387 += tmp266 * 2
    tmp267 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (3, 4, 5, 6, 1, 2), (0, 6))
    tmp387 += tmp267 * 3
    rdm2.abab.ovov = einsum(.aa.oo, (0, 1), tmp387, (2, 3), (0, 2, 1, 3)) * 0.9999996000000002
    del tmp387
    tmp311 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 4, 3, 2, 7, 0), (5, 6, 1, 7))
    rdm2.abab.ovov += np.transpose(tmp311, (1, 2, 0, 3)) * -2
    tmp312 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (6, 4, 3, 0, 7, 2), (7, 1, 6, 5)) * -1
    rdm2.abab.ovov += np.transpose(tmp312, (1, 2, 0, 3)) * -2
    tmp310 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 5, 1), (5, 0, 4, 3))
    rdm2.abab.ovov += np.transpose(tmp310, (1, 2, 0, 3)) * -1
    tmp296 = einsum(tmp60, (0, 1, 2, 3, 4, 5), t2.abab, (1, 3, 4, 6), (0, 2, 5, 6)) * -1
    rdm2.abab.ovov += np.transpose(tmp296, (1, 2, 0, 3)) * -2
    tmp297 = einsum(t2.bbbb, (0, 1, 2, 3), tmp62, (4, 5, 1, 0, 6, 3), (4, 5, 6, 2)) * -1
    rdm2.abab.ovov += np.transpose(tmp297, (1, 2, 0, 3)) * -2
    rdm2.abab.ovov += einsum(tmp66, (0, 1, 2, 3), t1.bb, (2, 4), (1, 3, 0, 4)) * -2
    tmp384 = np.copy(tmp383) * 1.0000004000001599
    tmp384 += tmp197 * 2.0000008000003198
    tmp384 += tmp198 * 1.0000004000001599
    tmp384 += tmp199 * 3
    tmp384 += tmp200 * 2
    tmp384 += tmp201
    rdm2.aaaa.ovov = einsum(.aa.oo, (0, 1), tmp384, (2, 3), (0, 2, 1, 3)) * 0.9999996000000002
    tmp215 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l3.babbab, (3, 6, 5, 0, 7, 2), (7, 1, 6, 4))
    rdm2.aaaa.ovov += np.transpose(tmp215, (1, 2, 0, 3)) * -1
    tmp213 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (6, 4, 5, 7, 1, 2), (3, 6, 0, 7))
    rdm2.aaaa.ovov += np.transpose(tmp213, (1, 2, 0, 3)) * -9
    rdm2.aaaa.ovov += einsum(t1.aa, (0, 1), l1.aa, (2, 3), (0, 2, 3, 1)) * -1
    tmp212 = einsum(l2.aaaa, (0, 1, 2, 3), t2.aaaa, (4, 3, 5, 1), (2, 4, 0, 5))
    rdm2.aaaa.ovov += np.transpose(tmp212, (1, 2, 0, 3)) * -4
    tmp204 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (4, 3, 5, 1), (5, 0, 4, 2))
    rdm2.aaaa.ovov += np.transpose(tmp204, (1, 2, 0, 3)) * -1
    tmp214 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 4, 3, 7, 1, 2), (5, 6, 0, 7)) * -1
    rdm2.aaaa.ovov += np.transpose(tmp214, (1, 2, 0, 3)) * -4
    tmp232 = einsum(t2.abab, (0, 1, 2, 3), tmp60, (4, 0, 5, 1, 6, 3), (4, 5, 6, 2))
    rdm2.aaaa.ovov += np.transpose(tmp232, (1, 2, 0, 3)) * 2
    tmp58 = einsum(t1.aa, (0, 1), l3.aaaaaa, (2, 3, 1, 4, 5, 6), (4, 5, 6, 0, 2, 3))
    tmp231 = einsum(t2.aaaa, (0, 1, 2, 3), tmp58, (4, 0, 1, 5, 6, 3), (4, 5, 6, 2)) * -1
    rdm2.aaaa.ovov += np.transpose(tmp231, (1, 2, 0, 3)) * 6
    tmp85 = np.copy(np.transpose(tmp12, (1, 0, 2, 3))) * -1
    tmp85 += tmp13 * 3
    tmp85 += tmp14
    tmp385 = einsum(t1.aa, (0, 1), tmp85, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    rdm2.aaaa.ovov += np.transpose(tmp385, (1, 3, 0, 2)) * -1
    tmp388 = np.copy(tmp386)
    tmp388 += tmp263
    tmp388 += tmp264 * 2
    tmp388 += tmp265 * 0.9999996000000002
    tmp388 += tmp266 * 1.9999992000000009
    tmp388 += tmp267 * 2.9999988
    rdm2.bbbb.ovov = einsum(tmp388, (0, 1), .bb.oo, (2, 3), (2, 0, 3, 1))
    tmp272 = einsum(t2.bbbb, (0, 1, 2, 3), l2.bbbb, (4, 3, 5, 1), (5, 0, 4, 2))
    rdm2.bbbb.ovov += np.transpose(tmp272, (1, 2, 0, 3)) * -4
    tmp271 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 4, 0, 5), (5, 1, 4, 3))
    rdm2.bbbb.ovov += np.transpose(tmp271, (1, 2, 0, 3)) * -1
    rdm2.bbbb.ovov += einsum(t1.bb, (0, 1), l1.bb, (2, 3), (0, 2, 3, 1)) * -1
    tmp275 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l3.bbbbbb, (6, 4, 5, 7, 1, 2), (7, 0, 6, 3))
    rdm2.bbbb.ovov += np.transpose(tmp275, (1, 2, 0, 3)) * -9
    tmp274 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 4, 3, 7, 1, 2), (5, 6, 0, 7)) * -1
    rdm2.bbbb.ovov += np.transpose(tmp274, (1, 2, 0, 3)) * -4
    tmp273 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (3, 6, 5, 0, 7, 2), (4, 6, 1, 7))
    rdm2.bbbb.ovov += np.transpose(tmp273, (1, 2, 0, 3)) * -1
    tmp103 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t1.bb, (6, 2), (3, 4, 5, 6, 0, 1))
    tmp291 = einsum(t2.bbbb, (0, 1, 2, 3), tmp103, (4, 0, 1, 5, 6, 3), (4, 5, 6, 2)) * -1
    rdm2.bbbb.ovov += np.transpose(tmp291, (1, 2, 0, 3)) * 6
    tmp290 = einsum(tmp101, (0, 1, 2, 3, 4, 5), t2.abab, (0, 2, 4, 6), (1, 3, 5, 6))
    rdm2.bbbb.ovov += np.transpose(tmp290, (1, 2, 0, 3)) * 2
    tmp108 = np.copy(np.transpose(tmp43, (1, 0, 2, 3))) * -1
    tmp108 += tmp44
    tmp108 += tmp45 * 3
    tmp389 = einsum(tmp108, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * 2
    rdm2.bbbb.ovov += np.transpose(tmp389, (1, 2, 0, 3)) * -1
    tmp390 = np.copy(tmp383) * 0.33333346666672
    tmp390 += tmp197 * 0.66666693333344
    tmp390 += tmp198 * 0.33333346666672
    tmp390 += tmp199
    tmp390 += tmp200 * 0.666666666666667
    tmp390 += tmp201 * 0.33333333333333337
    rdm2.aaaa.ovvo = einsum(.aa.oo, (0, 1), tmp390, (2, 3), (0, 2, 3, 1)) * -2.9999988
    rdm2.aaaa.ovvo += np.transpose(tmp215, (1, 2, 3, 0))
    rdm2.aaaa.ovvo += np.transpose(tmp213, (1, 2, 3, 0)) * 9
    rdm2.aaaa.ovvo += einsum(t1.aa, (0, 1), l1.aa, (2, 3), (0, 2, 1, 3))
    rdm2.aaaa.ovvo += np.transpose(tmp204, (1, 2, 3, 0))
    rdm2.aaaa.ovvo += np.transpose(tmp212, (1, 2, 3, 0)) * 4
    rdm2.aaaa.ovvo += np.transpose(tmp214, (1, 2, 3, 0)) * 4
    rdm2.aaaa.ovvo += np.transpose(tmp232, (1, 2, 3, 0)) * -2
    rdm2.aaaa.ovvo += np.transpose(tmp231, (1, 2, 3, 0)) * -6
    rdm2.aaaa.ovvo += np.transpose(tmp385, (1, 3, 2, 0))
    tmp392 = np.copy(tmp386) * 0.5000002000000798
    tmp392 += tmp263 * 0.5000002000000798
    tmp392 += tmp264 * 1.0000004000001597
    tmp392 += tmp265 * 0.4999999999999999
    tmp392 += tmp266
    tmp392 += tmp267 * 1.4999999999999993
    rdm2.bbbb.ovvo = einsum(tmp392, (0, 1), .bb.oo, (2, 3), (2, 0, 1, 3)) * -1.9999992000000009
    rdm2.bbbb.ovvo += np.transpose(tmp272, (1, 2, 3, 0)) * 4
    rdm2.bbbb.ovvo += np.transpose(tmp271, (1, 2, 3, 0))
    rdm2.bbbb.ovvo += einsum(t1.bb, (0, 1), l1.bb, (2, 3), (0, 2, 1, 3))
    rdm2.bbbb.ovvo += np.transpose(tmp275, (1, 2, 3, 0)) * 9
    rdm2.bbbb.ovvo += np.transpose(tmp274, (1, 2, 3, 0)) * 4
    rdm2.bbbb.ovvo += np.transpose(tmp273, (1, 2, 3, 0))
    rdm2.bbbb.ovvo += np.transpose(tmp291, (1, 2, 3, 0)) * -6
    rdm2.bbbb.ovvo += np.transpose(tmp290, (1, 2, 3, 0)) * -2
    tmp188 = np.copy(np.transpose(tmp43, (1, 0, 2, 3))) * -0.3333333333333333
    tmp188 += tmp44 * 0.3333333333333333
    tmp188 += tmp45
    tmp393 = einsum(tmp188, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * 6
    rdm2.bbbb.ovvo += np.transpose(tmp393, (1, 2, 3, 0))
    rdm2.aaaa.voov = einsum(.aa.oo, (0, 1), tmp384, (2, 3), (2, 0, 1, 3)) * -0.9999996000000002
    del tmp384
    rdm2.aaaa.voov += np.transpose(tmp215, (2, 1, 0, 3))
    rdm2.aaaa.voov += np.transpose(tmp213, (2, 1, 0, 3)) * 9
    rdm2.aaaa.voov += einsum(t1.aa, (0, 1), l1.aa, (2, 3), (2, 0, 3, 1))
    rdm2.aaaa.voov += np.transpose(tmp204, (2, 1, 0, 3))
    rdm2.aaaa.voov += np.transpose(tmp212, (2, 1, 0, 3)) * 4
    rdm2.aaaa.voov += np.transpose(tmp214, (2, 1, 0, 3)) * 4
    rdm2.aaaa.voov += np.transpose(tmp232, (2, 1, 0, 3)) * -2
    rdm2.aaaa.voov += np.transpose(tmp231, (2, 1, 0, 3)) * -6
    rdm2.aaaa.voov += np.transpose(tmp385, (3, 1, 0, 2))
    rdm2.bbbb.voov = einsum(tmp388, (0, 1), .bb.oo, (2, 3), (0, 2, 3, 1)) * -1
    del tmp388
    rdm2.bbbb.voov += np.transpose(tmp272, (2, 1, 0, 3)) * 4
    rdm2.bbbb.voov += np.transpose(tmp271, (2, 1, 0, 3))
    rdm2.bbbb.voov += einsum(t1.bb, (0, 1), l1.bb, (2, 3), (2, 0, 3, 1))
    rdm2.bbbb.voov += np.transpose(tmp275, (2, 1, 0, 3)) * 9
    rdm2.bbbb.voov += np.transpose(tmp274, (2, 1, 0, 3)) * 4
    rdm2.bbbb.voov += np.transpose(tmp273, (2, 1, 0, 3))
    rdm2.bbbb.voov += np.transpose(tmp291, (2, 1, 0, 3)) * -6
    rdm2.bbbb.voov += np.transpose(tmp290, (2, 1, 0, 3)) * -2
    rdm2.bbbb.voov += np.transpose(tmp389, (2, 1, 0, 3))
    del tmp389
    rdm2.aaaa.vovo = einsum(.aa.oo, (0, 1), tmp390, (2, 3), (2, 0, 3, 1)) * 2.9999988
    del tmp390
    rdm2.aaaa.vovo += np.transpose(tmp215, (2, 1, 3, 0)) * -1
    rdm2.aaaa.vovo += np.transpose(tmp213, (2, 1, 3, 0)) * -9
    rdm2.aaaa.vovo += einsum(t1.aa, (0, 1), l1.aa, (2, 3), (2, 0, 1, 3)) * -1
    rdm2.aaaa.vovo += np.transpose(tmp212, (2, 1, 3, 0)) * -4
    rdm2.aaaa.vovo += np.transpose(tmp204, (2, 1, 3, 0)) * -1
    rdm2.aaaa.vovo += np.transpose(tmp214, (2, 1, 3, 0)) * -4
    rdm2.aaaa.vovo += np.transpose(tmp232, (2, 1, 3, 0)) * 2
    rdm2.aaaa.vovo += np.transpose(tmp231, (2, 1, 3, 0)) * 6
    rdm2.aaaa.vovo += np.transpose(tmp385, (3, 1, 2, 0)) * -1
    del tmp385
    rdm2.bbbb.vovo = einsum(tmp392, (0, 1), .bb.oo, (2, 3), (0, 2, 1, 3)) * 1.9999992000000009
    rdm2.bbbb.vovo += np.transpose(tmp272, (2, 1, 3, 0)) * -4
    rdm2.bbbb.vovo += np.transpose(tmp271, (2, 1, 3, 0)) * -1
    rdm2.bbbb.vovo += einsum(t1.bb, (0, 1), l1.bb, (2, 3), (2, 0, 1, 3)) * -1
    rdm2.bbbb.vovo += np.transpose(tmp275, (2, 1, 3, 0)) * -9
    rdm2.bbbb.vovo += np.transpose(tmp274, (2, 1, 3, 0)) * -4
    rdm2.bbbb.vovo += np.transpose(tmp273, (2, 1, 3, 0)) * -1
    rdm2.bbbb.vovo += np.transpose(tmp291, (2, 1, 3, 0)) * 6
    rdm2.bbbb.vovo += np.transpose(tmp290, (2, 1, 3, 0)) * 2
    rdm2.bbbb.vovo += np.transpose(tmp393, (2, 1, 3, 0)) * -1
    del tmp393
    tmp24 = np.copy(.bb.oo) * -0.5000002000000798
    tmp24 += tmp18 * 0.5000002000000798
    tmp24 += tmp19 * 0.5000002000000798
    tmp24 += tmp20 * 1.0000004000001597
    tmp24 += tmp21 * 0.4999999999999999
    tmp24 += tmp22
    tmp24 += tmp23 * 1.4999999999999993
    rdm2.abab.oooo = einsum(.aa.oo, (0, 1), tmp24, (2, 3), (0, 3, 1, 2)) * -1.9999992000000009
    del tmp24
    tmp25 = np.copy(tmp0) * 1.0000004000001599
    tmp25 += tmp1 * 2.0000008000003198
    tmp25 += tmp2 * 1.0000004000001599
    tmp25 += tmp3 * 3
    tmp25 += tmp4 * 2
    tmp25 += tmp5
    rdm2.abab.oooo += einsum(.bb.oo, (0, 1), tmp25, (2, 3), (3, 0, 2, 1)) * -0.9999996000000002
    del tmp25
    tmp26 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 7, 3, 2, 1, 0), (5, 6, 4, 7))
    rdm2.abab.oooo += np.transpose(tmp26, (1, 3, 0, 2)) * 1.0000002
    tmp27 = einsum(t2.abab, (0, 1, 2, 3), l2.abab, (2, 3, 4, 5), (4, 0, 5, 1))
    rdm2.abab.oooo += np.transpose(tmp27, (1, 3, 0, 2))
    tmp31 = np.copy(tmp28)
    tmp31 += tmp29
    tmp31 += tmp30
    rdm2.abab.oooo += einsum(t1.bb, (0, 1), tmp31, (2, 3, 4, 1), (3, 0, 2, 4))
    del tmp31
    rdm2.abab.oooo += np.transpose(tmp26, (1, 3, 0, 2)) * 1.0000002
    tmp32 = np.copy(tmp29)
    tmp32 += tmp30
    rdm2.abab.oooo += einsum(tmp32, (0, 1, 2, 3), t1.bb, (4, 3), (1, 4, 0, 2))
    tmp33 = einsum(l3.babbab, (0, 1, 2, 3, 4, 5), t3.babbab, (6, 7, 3, 2, 1, 0), (4, 7, 5, 6))
    rdm2.abab.oooo += np.transpose(tmp33, (1, 3, 0, 2)) * 1.0000002
    tmp36 = np.copy(tmp34)
    del tmp34
    tmp36 += tmp35
    del tmp35
    tmp37 = einsum(t1.aa, (0, 1), tmp36, (2, 3, 4, 1), (0, 2, 3, 4))
    rdm2.abab.oooo += np.transpose(tmp37, (0, 3, 1, 2))
    rdm2.abab.oooo += np.transpose(tmp33, (1, 3, 0, 2)) * 1.0000002
    rdm2.abab.oooo += np.transpose(tmp37, (0, 3, 1, 2))
    tmp419 = einsum(l2.bbbb, (0, 1, 2, 3), t3.bbbbbb, (4, 2, 3, 5, 1, 6), (4, 0, 5, 6)) * -1
    rdm2.bbbb.vovv = np.copy(np.transpose(tmp419, (1, 0, 3, 2))) * 6
    tmp420 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (4, 6, 1, 2), (0, 6, 3, 5))
    rdm2.bbbb.vovv += np.transpose(tmp420, (1, 0, 3, 2))
    tmp421 = einsum(l1.bb, (0, 1), t2.bbbb, (2, 1, 3, 4), (2, 0, 3, 4))
    rdm2.bbbb.vovv += np.transpose(tmp421, (1, 0, 3, 2)) * 2
    tmp122 = np.copy(tmp120)
    del tmp120
    tmp122 += tmp121
    del tmp121
    tmp422 = einsum(tmp122, (0, 1, 2, 3), t2.abab, (0, 4, 1, 5), (4, 2, 3, 5)) * 2
    rdm2.bbbb.vovv += np.transpose(tmp422, (1, 0, 3, 2)) * -1
    tmp423 = einsum(t2.bbbb, (0, 1, 2, 3), tmp148, (1, 4, 3, 5), (0, 4, 5, 2)) * 4
    rdm2.bbbb.vovv += np.transpose(tmp423, (1, 0, 3, 2))
    tmp424 = np.copy(tmp386) * 0.5
    del tmp386
    tmp424 += tmp263 * 0.5
    tmp424 += tmp264
    tmp424 += tmp265 * 0.4999998000000001
    tmp424 += tmp266 * 0.9999996000000004
    tmp424 += tmp267 * 1.4999994
    rdm2.bbbb.vovv += einsum(t1.bb, (0, 1), tmp424, (2, 3), (2, 0, 1, 3)) * -2
    rdm2.bbbb.vovv += np.transpose(tmp420, (1, 0, 3, 2))
    rdm2.bbbb.vovv += einsum(tmp392, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3)) * 1.9999992000000009
    rdm2.bbbb.vovv += np.transpose(tmp423, (1, 0, 2, 3)) * -1
    rdm2.bbbb.vovv += np.transpose(tmp422, (1, 0, 2, 3))
    tmp440 = np.copy(tmp271) * 0.1111111111111111
    tmp440 += tmp272 * 0.4444444444444444
    tmp440 += tmp273 * 0.1111111111111111
    tmp440 += tmp274 * 0.4444444444444444
    tmp440 += tmp275
    rdm2.bbbb.vovv += einsum(tmp440, (0, 1, 2, 3), t1.bb, (0, 4), (2, 1, 4, 3)) * 9
    del tmp440
    tmp276 = np.copy(tmp271)
    tmp276 += tmp272 * 4
    tmp276 += tmp273
    tmp276 += tmp274 * 4
    tmp276 += tmp275 * 9
    rdm2.bbbb.vovv += einsum(t1.bb, (0, 1), tmp276, (0, 2, 3, 4), (3, 2, 4, 1)) * -1
    tmp427 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp103, (2, 0, 1, 6, 7, 5), (6, 7, 3, 4)) * -1
    rdm2.bbbb.vovv += np.transpose(tmp427, (1, 0, 3, 2)) * 6.000001199999999
    tmp428 = einsum(tmp101, (0, 1, 2, 3, 4, 5), t3.babbab, (2, 0, 1, 6, 4, 7), (3, 5, 6, 7)) * -1
    rdm2.bbbb.vovv += np.transpose(tmp428, (1, 0, 3, 2)) * 1.0000002
    rdm2.bbbb.vovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp108, (0, 1, 4, 5), (5, 4, 2, 3)) * -2
    tmp441 = np.copy(tmp290) * 0.3333333333333333
    tmp441 += tmp291
    tmp324 = np.copy(np.transpose(tmp43, (1, 0, 2, 3)))
    tmp324 += tmp44 * -1
    tmp324 += tmp45 * -3
    tmp441 += einsum(tmp324, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * 0.3333333333333333
    rdm2.bbbb.vovv += einsum(tmp441, (0, 1, 2, 3), t1.bb, (0, 4), (2, 1, 4, 3)) * -6
    del tmp441
    rdm2.bbbb.vovv += np.transpose(tmp428, (1, 0, 3, 2)) * 1.0000002
    tmp346 = np.copy(tmp290)
    tmp346 += tmp291 * 3
    tmp430 = einsum(t1.bb, (0, 1), tmp346, (0, 2, 3, 4), (2, 3, 4, 1)) * 2
    rdm2.bbbb.vovv += np.transpose(tmp430, (1, 0, 2, 3))
    rdm2.bbbb.ovvv = np.copy(np.transpose(tmp419, (0, 1, 3, 2))) * -6
    del tmp419
    rdm2.bbbb.ovvv += np.transpose(tmp420, (0, 1, 3, 2)) * -1
    rdm2.bbbb.ovvv += np.transpose(tmp421, (0, 1, 3, 2)) * -2
    del tmp421
    rdm2.bbbb.ovvv += np.transpose(tmp422, (0, 1, 3, 2))
    rdm2.bbbb.ovvv += np.transpose(tmp423, (0, 1, 3, 2)) * -1
    del tmp423
    rdm2.bbbb.ovvv += einsum(t1.bb, (0, 1), tmp424, (2, 3), (0, 2, 1, 3)) * 2
    del tmp424
    rdm2.bbbb.ovvv += np.transpose(tmp420, (0, 1, 3, 2)) * -1
    del tmp420
    rdm2.bbbb.ovvv += einsum(tmp392, (0, 1), t1.bb, (2, 3), (2, 0, 1, 3)) * -1.9999992000000009
    rdm2.bbbb.ovvv += tmp422 * -1
    del tmp422
    tmp339 = np.copy(np.transpose(tmp146, (0, 2, 1, 3))) * -0.3333333333333333
    del tmp146
    tmp339 += np.transpose(tmp147, (0, 2, 1, 3)) * -1
    del tmp147
    rdm2.bbbb.ovvv += einsum(t2.bbbb, (0, 1, 2, 3), tmp339, (1, 4, 3, 5), (0, 4, 5, 2)) * 12
    tmp425 = np.copy(tmp271) * 0.25
    tmp425 += tmp272
    tmp425 += tmp273 * 0.25
    tmp425 += tmp274
    tmp425 += tmp275 * 2.25
    tmp426 = einsum(t1.bb, (0, 1), tmp425, (0, 2, 3, 4), (2, 3, 4, 1)) * 4
    del tmp425
    rdm2.bbbb.ovvv += np.transpose(tmp426, (0, 1, 3, 2)) * -1
    rdm2.bbbb.ovvv += tmp426
    del tmp426
    rdm2.bbbb.ovvv += np.transpose(tmp427, (0, 1, 3, 2)) * -6.000001199999999
    del tmp427
    rdm2.bbbb.ovvv += np.transpose(tmp428, (0, 1, 3, 2)) * -1.0000002
    rdm2.bbbb.ovvv += einsum(t2.bbbb, (0, 1, 2, 3), tmp188, (0, 1, 4, 5), (4, 5, 2, 3)) * 6
    tmp429 = np.copy(tmp290)
    tmp429 += tmp291 * 3
    tmp429 += einsum(tmp324, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4))
    rdm2.bbbb.ovvv += einsum(tmp429, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 4, 3)) * 2
    del tmp429
    rdm2.bbbb.ovvv += np.transpose(tmp428, (0, 1, 3, 2)) * -1.0000002
    del tmp428
    rdm2.bbbb.ovvv += tmp430 * -1
    del tmp430
    tmp396 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l2.aaaa, (6, 4, 1, 2), (0, 6, 3, 5)) * -1
    rdm2.aaaa.ovvv = np.copy(np.transpose(tmp396, (0, 1, 3, 2))) * -6
    tmp397 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (6, 4, 2, 1), (0, 6, 3, 5))
    rdm2.aaaa.ovvv += np.transpose(tmp397, (0, 1, 3, 2)) * -1
    tmp398 = einsum(t2.aaaa, (0, 1, 2, 3), l1.aa, (4, 1), (0, 4, 2, 3))
    rdm2.aaaa.ovvv += np.transpose(tmp398, (0, 1, 3, 2)) * -2
    tmp399 = einsum(t2.aaaa, (0, 1, 2, 3), tmp83, (1, 4, 3, 5), (0, 2, 4, 5)) * 12
    rdm2.aaaa.ovvv += np.transpose(tmp399, (0, 2, 1, 3)) * -1
    tmp181 = np.copy(tmp179)
    del tmp179
    tmp181 += tmp180
    del tmp180
    tmp400 = einsum(tmp181, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 1, 2, 5)) * 2
    rdm2.aaaa.ovvv += np.transpose(tmp400, (0, 1, 3, 2))
    rdm2.aaaa.ovvv += einsum(t1.aa, (0, 1), tmp394, (2, 3), (0, 2, 1, 3)) * 2
    rdm2.aaaa.ovvv += np.transpose(tmp397, (0, 1, 3, 2)) * -1
    tmp401 = np.copy(tmp383) * 0.5000002000000798
    tmp401 += tmp197 * 1.0000004000001597
    tmp401 += tmp198 * 0.5000002000000798
    tmp401 += tmp199 * 1.4999999999999993
    tmp401 += tmp200
    tmp401 += tmp201 * 0.4999999999999999
    rdm2.aaaa.ovvv += einsum(tmp401, (0, 1), t1.aa, (2, 3), (2, 0, 1, 3)) * -1.9999992000000009
    tmp224 = np.copy(np.transpose(tmp81, (0, 2, 1, 3))) * -3
    del tmp81
    tmp224 += np.transpose(tmp82, (0, 2, 1, 3)) * -1
    del tmp82
    tmp402 = einsum(t2.aaaa, (0, 1, 2, 3), tmp224, (1, 4, 3, 5), (0, 4, 5, 2)) * 4
    rdm2.aaaa.ovvv += tmp402
    rdm2.aaaa.ovvv += tmp400 * -1
    tmp403 = np.copy(tmp212)
    tmp403 += tmp204 * 0.25
    tmp403 += tmp213 * 2.25
    tmp403 += tmp214
    tmp403 += tmp215 * 0.25
    tmp404 = einsum(t1.aa, (0, 1), tmp403, (0, 2, 3, 4), (2, 3, 4, 1)) * 4
    del tmp403
    rdm2.aaaa.ovvv += np.transpose(tmp404, (0, 1, 3, 2)) * -1
    rdm2.aaaa.ovvv += tmp404
    tmp405 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp60, (2, 0, 6, 1, 7, 4), (6, 7, 5, 3))
    rdm2.aaaa.ovvv += np.transpose(tmp405, (0, 1, 3, 2)) * -1.0000002
    tmp406 = einsum(tmp58, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (1, 2, 0, 6, 5, 7), (3, 4, 6, 7))
    rdm2.aaaa.ovvv += np.transpose(tmp406, (0, 1, 3, 2)) * -6.000001199999999
    tmp407 = einsum(tmp85, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 5), (2, 4, 5, 3)) * 2
    rdm2.aaaa.ovvv += np.transpose(tmp407, (0, 3, 2, 1)) * -1
    tmp410 = np.copy(tmp231) * 3
    tmp410 += tmp232
    tmp408 = np.copy(np.transpose(tmp12, (1, 0, 2, 3))) * 0.3333333333333333
    tmp408 += tmp13 * -1
    tmp408 += tmp14 * -0.3333333333333333
    tmp409 = einsum(tmp408, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4)) * 3
    del tmp408
    tmp410 += tmp409
    del tmp409
    tmp411 = einsum(t1.aa, (0, 1), tmp410, (0, 2, 3, 4), (2, 3, 4, 1)) * 2
    del tmp410
    rdm2.aaaa.ovvv += np.transpose(tmp411, (0, 1, 3, 2))
    rdm2.aaaa.ovvv += np.transpose(tmp405, (0, 1, 3, 2)) * -1.0000002
    tmp233 = np.copy(tmp231)
    tmp233 += tmp232 * 0.3333333333333333
    tmp412 = einsum(t1.aa, (0, 1), tmp233, (0, 2, 3, 4), (2, 3, 4, 1)) * 6
    rdm2.aaaa.ovvv += tmp412 * -1
    rdm2.abab.ovvv = einsum(t2.abab, (0, 1, 2, 3), l1.bb, (4, 1), (0, 4, 2, 3))
    tmp413 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (5, 6, 2, 1), (0, 3, 6, 4))
    rdm2.abab.ovvv += np.transpose(tmp413, (0, 2, 1, 3))
    tmp414 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.bbbb, (6, 3, 0, 2), (1, 4, 6, 5)) * -1
    rdm2.abab.ovvv += np.transpose(tmp414, (0, 2, 1, 3))
    rdm2.abab.ovvv += einsum(tmp148, (0, 1, 2, 3), t2.abab, (4, 0, 5, 2), (4, 1, 5, 3)) * -2
    rdm2.abab.ovvv += einsum(tmp122, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 2, 5, 3)) * 4
    rdm2.abab.ovvv += einsum(t1.aa, (0, 1), tmp392, (2, 3), (0, 2, 1, 3)) * 1.9999992000000009
    del tmp392
    rdm2.abab.ovvv += np.transpose(tmp414, (0, 2, 1, 3))
    del tmp414
    rdm2.abab.ovvv += np.transpose(tmp413, (0, 2, 1, 3))
    del tmp413
    rdm2.abab.ovvv += einsum(t2.abab, (0, 1, 2, 3), tmp181, (1, 2, 4, 5), (0, 5, 4, 3)) * -2
    tmp313 = np.copy(tmp310) * 0.5
    del tmp310
    tmp313 += tmp311
    del tmp311
    tmp313 += tmp312
    del tmp312
    rdm2.abab.ovvv += einsum(tmp313, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3)) * -2
    tmp415 = np.copy(tmp391)
    del tmp391
    tmp415 += tmp206
    tmp415 += tmp207 * 1.5
    tmp415 += tmp208 * 2
    tmp415 += tmp209 * 1.5
    rdm2.abab.ovvv += einsum(tmp415, (0, 1, 2, 3), t1.bb, (1, 4), (0, 3, 2, 4)) * 2
    del tmp415
    tmp416 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp62, (1, 6, 2, 0, 7, 3), (6, 4, 7, 5))
    rdm2.abab.ovvv += np.transpose(tmp416, (0, 2, 1, 3)) * -1.0000002
    tmp417 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp60, (2, 0, 6, 1, 3, 7), (6, 5, 7, 4)) * -1
    rdm2.abab.ovvv += np.transpose(tmp417, (0, 2, 1, 3)) * -1.0000002
    rdm2.abab.ovvv += einsum(t2.abab, (0, 1, 2, 3), tmp66, (0, 4, 1, 5), (4, 5, 2, 3)) * -2
    tmp418 = np.copy(tmp296)
    tmp418 += tmp297
    tmp418 += einsum(t1.bb, (0, 1), tmp66, (2, 3, 0, 4), (2, 3, 4, 1))
    rdm2.abab.ovvv += einsum(t1.aa, (0, 1), tmp418, (0, 2, 3, 4), (2, 3, 1, 4)) * -2
    del tmp418
    rdm2.abab.ovvv += np.transpose(tmp416, (0, 2, 1, 3)) * -1.0000002
    del tmp416
    rdm2.abab.ovvv += np.transpose(tmp417, (0, 2, 1, 3)) * -1.0000002
    del tmp417
    tmp237 = np.copy(tmp235)
    tmp237 += tmp236
    rdm2.abab.ovvv += einsum(t1.bb, (0, 1), tmp237, (2, 0, 3, 4), (2, 4, 3, 1)) * -2
    rdm2.aaaa.vovv = np.copy(np.transpose(tmp396, (1, 0, 3, 2))) * 6
    del tmp396
    rdm2.aaaa.vovv += np.transpose(tmp397, (1, 0, 3, 2))
    rdm2.aaaa.vovv += np.transpose(tmp398, (1, 0, 3, 2)) * 2
    del tmp398
    rdm2.aaaa.vovv += np.transpose(tmp399, (2, 0, 1, 3))
    del tmp399
    rdm2.aaaa.vovv += np.transpose(tmp400, (1, 0, 3, 2)) * -1
    rdm2.aaaa.vovv += einsum(t1.aa, (0, 1), tmp394, (2, 3), (2, 0, 1, 3)) * -2
    del tmp394
    rdm2.aaaa.vovv += np.transpose(tmp397, (1, 0, 3, 2))
    del tmp397
    rdm2.aaaa.vovv += einsum(tmp401, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3)) * 1.9999992000000009
    del tmp401
    rdm2.aaaa.vovv += np.transpose(tmp402, (1, 0, 2, 3)) * -1
    del tmp402
    rdm2.aaaa.vovv += np.transpose(tmp400, (1, 0, 2, 3))
    del tmp400
    rdm2.aaaa.vovv += np.transpose(tmp404, (1, 0, 3, 2))
    rdm2.aaaa.vovv += np.transpose(tmp404, (1, 0, 2, 3)) * -1
    del tmp404
    rdm2.aaaa.vovv += np.transpose(tmp405, (1, 0, 3, 2)) * 1.0000002
    rdm2.aaaa.vovv += np.transpose(tmp406, (1, 0, 3, 2)) * 6.000001199999999
    del tmp406
    rdm2.aaaa.vovv += np.transpose(tmp407, (3, 0, 2, 1))
    del tmp407
    rdm2.aaaa.vovv += np.transpose(tmp411, (1, 0, 3, 2)) * -1
    del tmp411
    rdm2.aaaa.vovv += np.transpose(tmp405, (1, 0, 3, 2)) * 1.0000002
    del tmp405
    rdm2.aaaa.vovv += np.transpose(tmp412, (1, 0, 2, 3))
    del tmp412
    tmp431 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.aaaa, (6, 3, 0, 2), (1, 6, 5, 4)) * -1
    rdm2.abab.vovv = np.copy(np.transpose(tmp431, (1, 0, 2, 3)))
    rdm2.abab.vovv += einsum(l1.aa, (0, 1), t2.abab, (1, 2, 3, 4), (0, 2, 3, 4))
    tmp432 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (6, 5, 1, 2), (0, 6, 4, 3))
    rdm2.abab.vovv += np.transpose(tmp432, (1, 0, 2, 3))
    rdm2.abab.vovv += einsum(t2.abab, (0, 1, 2, 3), tmp122, (0, 4, 3, 5), (4, 1, 2, 5)) * -2
    rdm2.abab.vovv += np.transpose(tmp431, (1, 0, 2, 3))
    del tmp431
    rdm2.abab.vovv += np.transpose(tmp432, (1, 0, 2, 3))
    del tmp432
    tmp433 = np.copy(tmp383)
    del tmp383
    tmp433 += tmp197 * 2
    tmp433 += tmp198
    tmp433 += tmp199 * 2.9999988
    tmp433 += tmp200 * 1.9999992000000009
    tmp433 += tmp201 * 0.9999996000000002
    rdm2.abab.vovv += einsum(tmp433, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    del tmp433
    rdm2.abab.vovv += einsum(tmp224, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (1, 4, 3, 5)) * -2
    rdm2.abab.vovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp181, (1, 4, 5, 3), (4, 0, 5, 2)) * 4
    tmp434 = np.copy(tmp277) * 0.6666666666666666
    tmp434 += tmp278 * 0.6666666666666666
    tmp434 += tmp279
    tmp434 += tmp280 * 1.3333333333333333
    tmp434 += tmp281
    rdm2.abab.vovv += einsum(t1.aa, (0, 1), tmp434, (0, 2, 3, 4), (3, 2, 1, 4)) * 3
    del tmp434
    tmp435 = np.copy(tmp395)
    del tmp395
    tmp435 += tmp314 * 2
    tmp435 += tmp315 * 2
    rdm2.abab.vovv += einsum(t1.bb, (0, 1), tmp435, (0, 2, 3, 4), (3, 2, 4, 1)) * -1
    del tmp435
    tmp436 = einsum(tmp101, (0, 1, 2, 3, 4, 5), t3.babbab, (2, 0, 1, 5, 6, 7), (3, 4, 6, 7)) * -1
    rdm2.abab.vovv += np.transpose(tmp436, (1, 0, 2, 3)) * -1.0000002
    tmp437 = einsum(tmp99, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 2, 0, 5, 6, 7), (3, 4, 7, 6))
    rdm2.abab.vovv += np.transpose(tmp437, (1, 0, 2, 3)) * -1.0000002
    rdm2.abab.vovv += einsum(t2.abab, (0, 1, 2, 3), tmp190, (0, 1, 4, 5), (5, 4, 2, 3)) * -1
    tmp438 = np.copy(tmp287)
    tmp438 += tmp288
    tmp438 += einsum(tmp106, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 3, 4))
    rdm2.abab.vovv += einsum(t1.aa, (0, 1), tmp438, (0, 2, 3, 4), (3, 2, 1, 4)) * -2
    del tmp438
    rdm2.abab.vovv += np.transpose(tmp436, (1, 0, 2, 3)) * -1.0000002
    del tmp436
    rdm2.abab.vovv += np.transpose(tmp437, (1, 0, 2, 3)) * -1.0000002
    del tmp437
    tmp439 = np.copy(tmp319)
    tmp439 += tmp320
    rdm2.abab.vovv += einsum(t1.bb, (0, 1), tmp439, (0, 2, 3, 4), (3, 2, 4, 1)) * -2
    del tmp439
    tmp127 = np.copy(t1.bb) * 0.5
    tmp90 = einsum(t2.abab, (0, 1, 2, 3), l1.aa, (2, 0), (1, 3))
    tmp127 += tmp90 * 0.5
    tmp91 = einsum(l1.bb, (0, 1), t2.bbbb, (2, 1, 3, 0), (2, 3))
    tmp127 += tmp91
    tmp92 = einsum(l2.aaaa, (0, 1, 2, 3), t3.abaaba, (2, 4, 3, 0, 5, 1), (4, 5))
    tmp127 += tmp92 * 0.5
    tmp93 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (4, 5, 1, 2), (0, 3))
    tmp127 += tmp93
    tmp94 = einsum(l2.bbbb, (0, 1, 2, 3), t3.bbbbbb, (4, 2, 3, 5, 0, 1), (4, 5))
    tmp127 += tmp94 * 1.5
    rdm2.bbbb.ooov = einsum(.bb.oo, (0, 1), tmp127, (2, 3), (2, 0, 1, 3)) * -2
    rdm2.bbbb.ooov += einsum(.bb.oo, (0, 1), tmp127, (2, 3), (0, 2, 1, 3)) * 2
    tmp128 = einsum(t2.bbbb, (0, 1, 2, 3), l1.bb, (3, 4), (4, 0, 1, 2))
    rdm2.bbbb.ooov += np.transpose(tmp128, (2, 1, 0, 3)) * -2
    tmp129 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (4, 5, 1, 6), (6, 0, 2, 3))
    rdm2.bbbb.ooov += np.transpose(tmp129, (1, 2, 0, 3)) * 2
    tmp130 = einsum(l2.bbbb, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 3, 6, 1, 0), (2, 4, 5, 6)) * -1
    rdm2.bbbb.ooov += np.transpose(tmp130, (1, 2, 0, 3)) * 6
    tmp100 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp99, (2, 0, 1, 6, 3, 5), (6, 4)) * -1
    tmp135 = np.copy(tmp100) * 0.4999998000000001
    tmp102 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp101, (1, 2, 0, 6, 4, 3), (6, 5)) * -1
    tmp135 += tmp102 * 0.9999996000000004
    tmp104 = einsum(tmp103, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (1, 2, 0, 6, 4, 5), (3, 6))
    tmp135 += tmp104 * 1.4999994
    tmp131 = einsum(tmp106, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4))
    tmp135 += tmp131
    del tmp131
    tmp132 = einsum(tmp108, (0, 1, 2, 3), t2.bbbb, (0, 1, 4, 3), (2, 4)) * -1
    tmp135 += tmp132
    del tmp132
    tmp133 = np.copy(tmp18) * 1.0000004000001599
    tmp133 += tmp19 * 1.0000004000001599
    tmp133 += tmp20 * 2.0000008000003198
    tmp133 += tmp21
    tmp133 += tmp22 * 2
    tmp133 += tmp23 * 3
    tmp134 = einsum(t1.bb, (0, 1), tmp133, (0, 2), (2, 1)) * 0.4999998000000001
    tmp135 += tmp134
    del tmp134
    rdm2.bbbb.ooov += einsum(tmp135, (0, 1), .bb.oo, (2, 3), (0, 2, 3, 1)) * 2
    rdm2.bbbb.ooov += einsum(tmp135, (0, 1), .bb.oo, (2, 3), (2, 0, 3, 1)) * -2
    tmp136 = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp103, (6, 1, 2, 7, 4, 5), (6, 7, 0, 3))
    rdm2.bbbb.ooov += np.transpose(tmp136, (1, 2, 0, 3)) * -9
    tmp137 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp101, (1, 6, 2, 7, 4, 5), (6, 7, 0, 3)) * -1
    rdm2.bbbb.ooov += np.transpose(tmp137, (1, 2, 0, 3)) * -4
    tmp138 = einsum(tmp99, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 6, 0, 4, 7, 5), (2, 3, 6, 7)) * -1
    rdm2.bbbb.ooov += np.transpose(tmp138, (1, 2, 0, 3)) * -1
    tmp139 = einsum(t2.bbbb, (0, 1, 2, 3), tmp108, (1, 4, 5, 3), (4, 5, 0, 2)) * 4
    rdm2.bbbb.ooov += np.transpose(tmp139, (1, 2, 0, 3)) * -1
    tmp140 = einsum(tmp106, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 2, 4, 5)) * 2
    rdm2.bbbb.ooov += np.transpose(tmp140, (1, 2, 0, 3)) * -1
    tmp141 = np.copy(tmp18) * 0.5000002000000798
    tmp141 += tmp19 * 0.5000002000000798
    tmp141 += tmp20 * 1.0000004000001597
    tmp141 += tmp21 * 0.4999999999999999
    tmp141 += tmp22
    tmp141 += tmp23 * 1.4999999999999993
    rdm2.bbbb.ooov += einsum(t1.bb, (0, 1), tmp141, (2, 3), (3, 0, 2, 1)) * -1.9999992000000009
    rdm2.bbbb.ooov += np.transpose(tmp136, (2, 1, 0, 3)) * 9
    rdm2.bbbb.ooov += np.transpose(tmp137, (2, 1, 0, 3)) * 4
    rdm2.bbbb.ooov += np.transpose(tmp138, (2, 1, 0, 3))
    rdm2.bbbb.ooov += np.transpose(tmp139, (2, 1, 0, 3))
    del tmp139
    rdm2.bbbb.ooov += np.transpose(tmp140, (2, 1, 0, 3))
    del tmp140
    rdm2.bbbb.ooov += einsum(tmp141, (0, 1), t1.bb, (2, 3), (2, 1, 0, 3)) * 1.9999992000000009
    tmp142 = einsum(t1.bb, (0, 1), tmp101, (2, 3, 4, 5, 6, 1), (2, 3, 4, 5, 0, 6)) * -1
    tmp143 = einsum(t2.abab, (0, 1, 2, 3), tmp142, (0, 4, 1, 5, 6, 2), (4, 6, 5, 3)) * -1
    rdm2.bbbb.ooov += np.transpose(tmp143, (1, 2, 0, 3)) * 2
    tmp144 = einsum(t1.bb, (0, 1), tmp103, (2, 3, 4, 5, 1, 6), (2, 3, 4, 5, 0, 6))
    tmp145 = einsum(t2.bbbb, (0, 1, 2, 3), tmp144, (4, 0, 1, 5, 6, 3), (4, 6, 5, 2)) * -1
    rdm2.bbbb.ooov += np.transpose(tmp145, (1, 2, 0, 3)) * 6
    tmp149 = einsum(tmp148, (0, 1, 2, 3), t2.bbbb, (4, 5, 1, 2), (0, 4, 5, 3)) * 2
    rdm2.bbbb.ooov += np.transpose(tmp149, (2, 1, 0, 3)) * -1
    tmp151 = np.copy(np.transpose(tmp42, (1, 0, 3, 2))) * -0.3333333333333333
    tmp151 += np.transpose(tmp40, (0, 1, 3, 2)) * 0.33333339999999995
    tmp151 += np.transpose(tmp41, (0, 1, 3, 2)) * 1.0000002
    tmp150 = einsum(tmp108, (0, 1, 2, 3), t1.bb, (4, 3), (0, 1, 2, 4)) * 0.3333333333333333
    tmp151 += np.transpose(tmp150, (0, 1, 3, 2)) * -1
    rdm2.bbbb.ooov += einsum(t1.bb, (0, 1), tmp151, (0, 2, 3, 4), (4, 3, 2, 1)) * -6
    del tmp151
    tmp152 = np.copy(tmp44)
    tmp152 += tmp45 * 3
    tmp153 = einsum(t1.bb, (0, 1), tmp152, (2, 3, 4, 1), (2, 3, 0, 4))
    rdm2.bbbb.ooov += einsum(tmp153, (0, 1, 2, 3), t1.bb, (0, 4), (2, 3, 1, 4)) * -2
    del tmp153
    tmp54 = np.copy(t1.aa) * 0.5
    tmp49 = einsum(t2.aaaa, (0, 1, 2, 3), l1.aa, (3, 1), (0, 2))
    tmp54 += tmp49
    tmp50 = einsum(t2.abab, (0, 1, 2, 3), l1.bb, (3, 1), (0, 2))
    tmp54 += tmp50 * 0.5
    tmp51 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l2.aaaa, (4, 5, 1, 2), (0, 3))
    tmp54 += tmp51 * 1.5
    tmp52 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (5, 4, 2, 1), (0, 3))
    tmp54 += tmp52
    tmp53 = einsum(l2.bbbb, (0, 1, 2, 3), t3.babbab, (2, 4, 3, 0, 5, 1), (4, 5))
    tmp54 += tmp53 * 0.5
    rdm2.aaaa.ooov = einsum(tmp54, (0, 1), .aa.oo, (2, 3), (0, 2, 3, 1)) * -2
    rdm2.aaaa.ooov += einsum(tmp54, (0, 1), .aa.oo, (2, 3), (2, 0, 3, 1)) * 2
    del tmp54
    tmp55 = einsum(l1.aa, (0, 1), t2.aaaa, (2, 3, 4, 0), (1, 2, 3, 4))
    rdm2.aaaa.ooov += np.transpose(tmp55, (2, 1, 0, 3)) * -2
    tmp56 = einsum(l2.aaaa, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 3, 6, 1, 0), (2, 4, 5, 6)) * -1
    rdm2.aaaa.ooov += np.transpose(tmp56, (1, 2, 0, 3)) * 6
    tmp57 = einsum(l2.abab, (0, 1, 2, 3), t3.abaaba, (4, 3, 5, 6, 1, 0), (2, 4, 5, 6))
    rdm2.aaaa.ooov += np.transpose(tmp57, (1, 2, 0, 3)) * 2
    tmp59 = einsum(tmp58, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (1, 2, 0, 6, 4, 5), (3, 6))
    tmp69 = np.copy(tmp59) * 2.9999988
    tmp61 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp60, (0, 2, 6, 1, 3, 4), (6, 5))
    tmp69 += tmp61 * 1.9999992000000009
    tmp63 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp62, (1, 6, 2, 0, 5, 3), (6, 4))
    tmp69 += tmp63 * 0.9999996000000002
    tmp64 = np.copy(np.transpose(tmp12, (1, 0, 2, 3))) * -0.3333333333333333
    tmp64 += tmp13
    tmp64 += tmp14 * 0.3333333333333333
    tmp65 = einsum(tmp64, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * -6
    tmp69 += tmp65
    del tmp65
    tmp67 = einsum(tmp66, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4)) * 2
    tmp69 += tmp67
    del tmp67
    tmp68 = einsum(t1.aa, (0, 1), tmp8, (0, 2), (2, 1)) * 2.9999988
    tmp69 += tmp68
    del tmp68
    rdm2.aaaa.ooov += einsum(tmp69, (0, 1), .aa.oo, (2, 3), (0, 2, 3, 1))
    rdm2.aaaa.ooov += einsum(.aa.oo, (0, 1), tmp69, (2, 3), (0, 2, 1, 3)) * -1
    del tmp69
    tmp70 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp58, (6, 1, 2, 7, 4, 5), (6, 7, 0, 3))
    rdm2.aaaa.ooov += np.transpose(tmp70, (1, 2, 0, 3)) * -9
    tmp71 = einsum(tmp60, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 3, 0, 7, 5, 4), (1, 2, 6, 7))
    rdm2.aaaa.ooov += np.transpose(tmp71, (1, 2, 0, 3)) * -4
    tmp72 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp62, (6, 7, 0, 2, 5, 3), (6, 7, 1, 4)) * -1
    rdm2.aaaa.ooov += np.transpose(tmp72, (1, 2, 0, 3)) * -1
    tmp73 = einsum(tmp64, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (4, 1, 2, 5)) * 12
    rdm2.aaaa.ooov += np.transpose(tmp73, (2, 0, 1, 3)) * -1
    tmp74 = np.copy(tmp28)
    tmp74 += tmp29 * 2
    del tmp29
    tmp74 += tmp30 * 2
    del tmp30
    tmp75 = einsum(t2.abab, (0, 1, 2, 3), tmp74, (4, 5, 1, 3), (0, 4, 5, 2))
    del tmp74
    rdm2.aaaa.ooov += np.transpose(tmp75, (2, 0, 1, 3)) * -1
    tmp76 = np.copy(tmp0)
    tmp76 += tmp1 * 2
    tmp76 += tmp2
    tmp76 += tmp3 * 2.9999988
    tmp76 += tmp4 * 1.9999992000000009
    tmp76 += tmp5 * 0.9999996000000002
    rdm2.aaaa.ooov += einsum(tmp76, (0, 1), t1.aa, (2, 3), (1, 2, 0, 3)) * -1
    rdm2.aaaa.ooov += np.transpose(tmp70, (2, 1, 0, 3)) * 9
    rdm2.aaaa.ooov += np.transpose(tmp71, (2, 1, 0, 3)) * 4
    rdm2.aaaa.ooov += np.transpose(tmp72, (2, 1, 0, 3))
    rdm2.aaaa.ooov += np.transpose(tmp73, (0, 2, 1, 3))
    del tmp73
    rdm2.aaaa.ooov += np.transpose(tmp75, (0, 2, 1, 3))
    del tmp75
    rdm2.aaaa.ooov += einsum(t1.aa, (0, 1), tmp76, (2, 3), (0, 3, 2, 1))
    tmp77 = einsum(t1.aa, (0, 1), tmp58, (2, 3, 4, 5, 1, 6), (2, 3, 4, 5, 0, 6))
    tmp78 = einsum(tmp77, (0, 1, 2, 3, 4, 5), t2.aaaa, (1, 2, 6, 5), (0, 4, 3, 6)) * -1
    rdm2.aaaa.ooov += np.transpose(tmp78, (1, 2, 0, 3)) * 6
    tmp79 = einsum(t1.aa, (0, 1), tmp60, (2, 3, 4, 5, 1, 6), (3, 2, 4, 0, 5, 6))
    tmp80 = einsum(t2.abab, (0, 1, 2, 3), tmp79, (0, 4, 5, 6, 1, 3), (4, 6, 5, 2))
    rdm2.aaaa.ooov += np.transpose(tmp80, (1, 2, 0, 3)) * 2
    tmp84 = einsum(t2.aaaa, (0, 1, 2, 3), tmp83, (4, 2, 3, 5), (0, 1, 4, 5)) * 6
    rdm2.aaaa.ooov += np.transpose(tmp84, (1, 0, 2, 3)) * -1
    tmp87 = np.copy(np.transpose(tmp11, (1, 0, 3, 2))) * -0.3333333333333333
    tmp87 += np.transpose(tmp10, (0, 1, 3, 2)) * 1.0000002
    tmp87 += np.transpose(tmp9, (0, 1, 3, 2)) * 0.33333339999999995
    tmp86 = einsum(t1.aa, (0, 1), tmp85, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.3333333333333333
    tmp87 += np.transpose(tmp86, (1, 2, 0, 3)) * -1
    del tmp86
    rdm2.aaaa.ooov += einsum(t1.aa, (0, 1), tmp87, (0, 2, 3, 4), (4, 3, 2, 1)) * -6
    tmp88 = np.copy(tmp13)
    tmp88 += tmp14 * 0.3333333333333333
    tmp89 = einsum(t1.aa, (0, 1), tmp88, (2, 3, 4, 1), (0, 2, 3, 4)) * 3
    rdm2.aaaa.ooov += einsum(tmp89, (0, 1, 2, 3), t1.aa, (1, 4), (0, 3, 2, 4)) * -2
    rdm2.bbbb.oovo = einsum(.bb.oo, (0, 1), tmp127, (2, 3), (2, 0, 3, 1)) * 2
    rdm2.bbbb.oovo += einsum(.bb.oo, (0, 1), tmp127, (2, 3), (0, 2, 3, 1)) * -2
    rdm2.bbbb.oovo += np.transpose(tmp130, (1, 2, 3, 0)) * -6
    rdm2.bbbb.oovo += np.transpose(tmp129, (1, 2, 3, 0)) * -2
    rdm2.bbbb.oovo += np.transpose(tmp128, (2, 1, 3, 0)) * 2
    tmp112 = np.copy(tmp100) * 0.16666660000000003
    tmp112 += tmp102 * 0.33333320000000016
    tmp112 += tmp104 * 0.49999980000000005
    tmp107 = einsum(tmp106, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4)) * 0.3333333333333333
    tmp112 += tmp107
    del tmp107
    tmp109 = einsum(tmp108, (0, 1, 2, 3), t2.bbbb, (0, 1, 4, 3), (2, 4)) * -0.3333333333333333
    tmp112 += tmp109
    del tmp109
    tmp110 = np.copy(tmp18) * 1.0000004000001599
    tmp110 += tmp19 * 1.0000004000001599
    tmp110 += tmp20 * 2.0000008000003198
    tmp110 += tmp21
    tmp110 += tmp22 * 2
    tmp110 += tmp23 * 3
    tmp111 = einsum(t1.bb, (0, 1), tmp110, (0, 2), (2, 1)) * 0.16666660000000003
    del tmp110
    tmp112 += tmp111
    del tmp111
    rdm2.bbbb.oovo += einsum(.bb.oo, (0, 1), tmp112, (2, 3), (2, 0, 3, 1)) * -6
    rdm2.bbbb.oovo += einsum(.bb.oo, (0, 1), tmp112, (2, 3), (0, 2, 3, 1)) * 6
    rdm2.bbbb.oovo += np.transpose(tmp136, (1, 2, 3, 0)) * 9
    rdm2.bbbb.oovo += np.transpose(tmp137, (1, 2, 3, 0)) * 4
    rdm2.bbbb.oovo += np.transpose(tmp138, (1, 2, 3, 0))
    tmp189 = einsum(t2.bbbb, (0, 1, 2, 3), tmp188, (1, 4, 5, 3), (4, 5, 0, 2)) * 12
    rdm2.bbbb.oovo += np.transpose(tmp189, (1, 2, 3, 0))
    tmp191 = einsum(t2.abab, (0, 1, 2, 3), tmp190, (0, 4, 5, 2), (4, 5, 1, 3))
    del tmp190
    rdm2.bbbb.oovo += np.transpose(tmp191, (1, 2, 3, 0))
    tmp192 = np.copy(tmp18) * 0.33333346666672
    tmp192 += tmp19 * 0.33333346666672
    tmp192 += tmp20 * 0.66666693333344
    tmp192 += tmp21 * 0.33333333333333337
    tmp192 += tmp22 * 0.666666666666667
    tmp192 += tmp23
    rdm2.bbbb.oovo += einsum(tmp192, (0, 1), t1.bb, (2, 3), (1, 2, 3, 0)) * 2.9999988
    rdm2.bbbb.oovo += np.transpose(tmp136, (2, 1, 3, 0)) * -9
    rdm2.bbbb.oovo += np.transpose(tmp137, (2, 1, 3, 0)) * -4
    rdm2.bbbb.oovo += np.transpose(tmp138, (2, 1, 3, 0)) * -1
    rdm2.bbbb.oovo += np.transpose(tmp189, (2, 1, 3, 0)) * -1
    del tmp189
    rdm2.bbbb.oovo += np.transpose(tmp191, (2, 1, 3, 0)) * -1
    del tmp191
    rdm2.bbbb.oovo += einsum(tmp192, (0, 1), t1.bb, (2, 3), (2, 1, 3, 0)) * -2.9999988
    del tmp192
    rdm2.bbbb.oovo += np.transpose(tmp143, (1, 2, 3, 0)) * -2
    rdm2.bbbb.oovo += np.transpose(tmp145, (1, 2, 3, 0)) * -6
    rdm2.bbbb.oovo += np.transpose(tmp149, (2, 1, 3, 0))
    del tmp149
    tmp194 = np.copy(np.transpose(tmp42, (1, 0, 3, 2))) * -0.9999998000000401
    tmp194 += np.transpose(tmp40, (0, 1, 3, 2))
    tmp194 += np.transpose(tmp41, (0, 1, 3, 2)) * 3
    tmp193 = np.copy(np.transpose(tmp43, (1, 0, 2, 3))) * -1
    tmp193 += tmp44
    tmp193 += tmp45 * 3
    tmp194 += einsum(t1.bb, (0, 1), tmp193, (2, 3, 4, 1), (2, 3, 0, 4)) * -0.9999998000000401
    del tmp193
    rdm2.bbbb.oovo += einsum(t1.bb, (0, 1), tmp194, (0, 2, 3, 4), (4, 3, 1, 2)) * 2.0000004
    del tmp194
    tmp195 = einsum(t1.bb, (0, 1), tmp152, (2, 3, 4, 1), (2, 3, 4, 0)) * 0.3333333333333333
    del tmp152
    rdm2.bbbb.oovo += einsum(tmp195, (0, 1, 2, 3), t1.bb, (0, 4), (3, 2, 4, 1)) * 6
    tmp154 = np.copy(t1.aa)
    tmp154 += tmp49 * 2
    tmp154 += tmp50
    tmp154 += tmp51 * 3
    tmp154 += tmp52 * 2
    tmp154 += tmp53
    rdm2.aaaa.oovo = einsum(.aa.oo, (0, 1), tmp154, (2, 3), (2, 0, 3, 1))
    rdm2.aaaa.oovo += einsum(tmp154, (0, 1), .aa.oo, (2, 3), (2, 0, 1, 3)) * -1
    rdm2.aaaa.oovo += np.transpose(tmp55, (2, 1, 3, 0)) * 2
    rdm2.aaaa.oovo += np.transpose(tmp56, (1, 2, 3, 0)) * -6
    rdm2.aaaa.oovo += np.transpose(tmp57, (1, 2, 3, 0)) * -2
    tmp160 = np.copy(tmp59) * 3
    tmp160 += tmp61 * 2
    tmp160 += tmp63
    tmp155 = np.copy(np.transpose(tmp12, (1, 0, 2, 3))) * -0.33333333333333337
    tmp155 += tmp13
    tmp155 += tmp14 * 0.33333333333333337
    tmp156 = einsum(tmp155, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * -6.000002400000959
    tmp160 += tmp156
    del tmp156
    tmp157 = einsum(tmp66, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4)) * 2.0000008000003198
    tmp160 += tmp157
    del tmp157
    tmp158 = np.copy(tmp0) * 0.33333346666672004
    tmp158 += tmp1 * 0.6666669333334401
    tmp158 += tmp2 * 0.33333346666672004
    tmp158 += tmp3
    tmp158 += tmp4 * 0.666666666666667
    tmp158 += tmp5 * 0.33333333333333337
    tmp159 = einsum(t1.aa, (0, 1), tmp158, (0, 2), (2, 1)) * 3
    del tmp158
    tmp160 += tmp159
    del tmp159
    rdm2.aaaa.oovo += einsum(.aa.oo, (0, 1), tmp160, (2, 3), (2, 0, 3, 1)) * -0.9999996000000002
    tmp164 = np.copy(tmp59) * 1.4999994
    tmp164 += tmp61 * 0.9999996000000004
    tmp164 += tmp63 * 0.4999998000000001
    tmp161 = einsum(tmp64, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * -3
    tmp164 += tmp161
    del tmp161
    tmp162 = einsum(tmp66, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4))
    tmp164 += tmp162
    del tmp162
    tmp163 = einsum(t1.aa, (0, 1), tmp8, (0, 2), (2, 1)) * 1.4999994
    tmp164 += tmp163
    del tmp163
    rdm2.aaaa.oovo += einsum(.aa.oo, (0, 1), tmp164, (2, 3), (0, 2, 3, 1)) * 2
    rdm2.aaaa.oovo += np.transpose(tmp70, (1, 2, 3, 0)) * 9
    rdm2.aaaa.oovo += np.transpose(tmp71, (1, 2, 3, 0)) * 4
    rdm2.aaaa.oovo += np.transpose(tmp72, (1, 2, 3, 0))
    tmp165 = einsum(tmp85, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (4, 1, 2, 5)) * 4
    rdm2.aaaa.oovo += np.transpose(tmp165, (2, 0, 3, 1))
    tmp166 = einsum(t2.abab, (0, 1, 2, 3), tmp66, (4, 5, 1, 3), (0, 4, 5, 2)) * 2
    rdm2.aaaa.oovo += np.transpose(tmp166, (2, 0, 3, 1))
    tmp167 = np.copy(tmp0) * 0.5
    tmp167 += tmp1
    tmp167 += tmp2 * 0.5
    tmp167 += tmp3 * 1.4999994
    tmp167 += tmp4 * 0.9999996000000004
    tmp167 += tmp5 * 0.4999998000000001
    rdm2.aaaa.oovo += einsum(tmp167, (0, 1), t1.aa, (2, 3), (1, 2, 3, 0)) * 2
    rdm2.aaaa.oovo += np.transpose(tmp70, (2, 1, 3, 0)) * -9
    rdm2.aaaa.oovo += np.transpose(tmp71, (2, 1, 3, 0)) * -4
    rdm2.aaaa.oovo += np.transpose(tmp72, (2, 1, 3, 0)) * -1
    rdm2.aaaa.oovo += np.transpose(tmp165, (0, 2, 3, 1)) * -1
    del tmp165
    rdm2.aaaa.oovo += np.transpose(tmp166, (0, 2, 3, 1)) * -1
    rdm2.aaaa.oovo += einsum(t1.aa, (0, 1), tmp167, (2, 3), (0, 3, 1, 2)) * -2
    rdm2.aaaa.oovo += np.transpose(tmp78, (1, 2, 3, 0)) * -6
    rdm2.aaaa.oovo += np.transpose(tmp80, (1, 2, 3, 0)) * -2
    rdm2.aaaa.oovo += np.transpose(tmp84, (1, 0, 3, 2))
    del tmp84
    tmp169 = np.copy(np.transpose(tmp11, (1, 0, 3, 2))) * -1
    tmp169 += np.transpose(tmp10, (0, 1, 3, 2)) * 3.0000005999999995
    tmp169 += np.transpose(tmp9, (0, 1, 3, 2)) * 1.0000002
    tmp168 = einsum(t1.aa, (0, 1), tmp85, (2, 3, 4, 1), (0, 2, 3, 4))
    del tmp85
    tmp169 += np.transpose(tmp168, (1, 2, 0, 3)) * -1
    rdm2.aaaa.oovo += einsum(t1.aa, (0, 1), tmp169, (0, 2, 3, 4), (4, 3, 1, 2)) * 2
    del tmp169
    tmp170 = einsum(tmp88, (0, 1, 2, 3), t1.aa, (4, 3), (0, 1, 4, 2))
    del tmp88
    rdm2.aaaa.oovo += einsum(t1.aa, (0, 1), tmp170, (0, 2, 3, 4), (3, 4, 1, 2)) * 6
    del tmp170
    tmp95 = np.copy(t1.bb)
    tmp95 += tmp90
    tmp95 += tmp91 * 2
    tmp95 += tmp92
    tmp95 += tmp93 * 2
    tmp95 += tmp94 * 3
    rdm2.abab.ooov = einsum(.aa.oo, (0, 1), tmp95, (2, 3), (0, 2, 1, 3))
    tmp96 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.aaaa, (5, 3, 6, 2), (6, 0, 1, 4)) * -1
    rdm2.abab.ooov += np.transpose(tmp96, (1, 2, 0, 3)) * -2
    tmp97 = einsum(l1.aa, (0, 1), t2.abab, (2, 3, 0, 4), (1, 2, 3, 4))
    rdm2.abab.ooov += np.transpose(tmp97, (1, 2, 0, 3)) * -1
    tmp98 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l2.abab, (4, 5, 6, 2), (6, 1, 0, 3))
    rdm2.abab.ooov += np.transpose(tmp98, (1, 2, 0, 3)) * -2
    rdm2.abab.ooov += einsum(.aa.oo, (0, 1), tmp112, (2, 3), (0, 2, 1, 3)) * -6
    del tmp112
    tmp113 = einsum(tmp58, (0, 1, 2, 3, 4, 5), t3.abaaba, (1, 6, 2, 4, 7, 5), (0, 3, 6, 7))
    del tmp58
    rdm2.abab.ooov += np.transpose(tmp113, (1, 2, 0, 3)) * -3
    tmp114 = einsum(tmp62, (0, 1, 2, 3, 4, 5), t3.bbbbbb, (6, 2, 3, 7, 5, 4), (0, 1, 6, 7)) * -1
    rdm2.abab.ooov += np.transpose(tmp114, (1, 2, 0, 3)) * -3
    tmp115 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp60, (6, 1, 7, 2, 4, 5), (6, 7, 0, 3)) * -1
    rdm2.abab.ooov += np.transpose(tmp115, (1, 2, 0, 3)) * -4
    rdm2.abab.ooov += einsum(t2.bbbb, (0, 1, 2, 3), tmp66, (4, 5, 1, 3), (5, 0, 4, 2)) * -4
    rdm2.abab.ooov += einsum(t2.abab, (0, 1, 2, 3), tmp64, (0, 4, 5, 2), (5, 1, 4, 3)) * -6
    rdm2.abab.ooov += einsum(t1.bb, (0, 1), tmp76, (2, 3), (3, 0, 2, 1)) * -1
    del tmp76
    tmp116 = einsum(tmp62, (0, 1, 2, 3, 4, 5), t1.bb, (6, 4), (0, 1, 3, 2, 6, 5))
    tmp117 = einsum(t2.bbbb, (0, 1, 2, 3), tmp116, (4, 5, 0, 1, 6, 3), (4, 5, 6, 2)) * -1
    rdm2.abab.ooov += np.transpose(tmp117, (1, 2, 0, 3)) * 2
    tmp118 = einsum(t1.bb, (0, 1), tmp60, (2, 3, 4, 5, 6, 1), (3, 2, 4, 5, 0, 6)) * -1
    tmp119 = einsum(tmp118, (0, 1, 2, 3, 4, 5), t2.abab, (0, 3, 5, 6), (1, 2, 4, 6))
    rdm2.abab.ooov += np.transpose(tmp119, (1, 2, 0, 3)) * 2
    rdm2.abab.ooov += einsum(t2.abab, (0, 1, 2, 3), tmp122, (4, 2, 3, 5), (0, 1, 4, 5)) * 2
    tmp123 = np.copy(tmp27) * 0.49999990000002004
    tmp123 += tmp26
    tmp123 += einsum(t1.bb, (0, 1), tmp66, (2, 3, 4, 1), (2, 3, 4, 0)) * 0.9999998000000401
    rdm2.abab.ooov += einsum(tmp123, (0, 1, 2, 3), t1.bb, (2, 4), (1, 3, 0, 4)) * 2.0000004
    del tmp123
    tmp124 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp101, (6, 0, 2, 7, 4, 3), (6, 1, 7, 5))
    rdm2.abab.ooov += np.transpose(tmp124, (1, 2, 0, 3)) * 2
    tmp125 = einsum(tmp99, (0, 1, 2, 3, 4, 5), t3.abaaba, (6, 2, 1, 5, 7, 4), (0, 6, 3, 7)) * -1
    rdm2.abab.ooov += np.transpose(tmp125, (1, 2, 0, 3)) * 2
    rdm2.abab.ooov += einsum(tmp106, (0, 1, 2, 3), t2.abab, (4, 1, 3, 5), (4, 2, 0, 5)) * 2
    tmp126 = np.copy(tmp33) * 1.0000002
    tmp126 += np.transpose(tmp37, (1, 0, 2, 3))
    del tmp37
    rdm2.abab.ooov += einsum(t1.bb, (0, 1), tmp126, (2, 3, 0, 4), (3, 4, 2, 1)) * 2
    del tmp126
    rdm2.abab.oovo = einsum(.bb.oo, (0, 1), tmp154, (2, 3), (2, 0, 3, 1))
    tmp171 = einsum(t2.abab, (0, 1, 2, 3), l1.bb, (3, 4), (0, 4, 1, 2))
    rdm2.abab.oovo += np.transpose(tmp171, (0, 2, 3, 1)) * -1
    tmp172 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l2.abab, (5, 4, 2, 6), (0, 6, 1, 3))
    rdm2.abab.oovo += np.transpose(tmp172, (0, 2, 3, 1)) * -2
    tmp173 = einsum(l2.bbbb, (0, 1, 2, 3), t3.babbab, (4, 5, 3, 1, 6, 0), (5, 2, 4, 6)) * -1
    rdm2.abab.oovo += np.transpose(tmp173, (0, 2, 3, 1)) * -2
    rdm2.abab.oovo += einsum(tmp160, (0, 1), .bb.oo, (2, 3), (0, 2, 1, 3)) * -0.9999996000000002
    del tmp160
    tmp174 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp101, (2, 6, 1, 7, 5, 4), (0, 6, 7, 3)) * -1
    del tmp101
    rdm2.abab.oovo += np.transpose(tmp174, (0, 2, 3, 1)) * -4
    tmp175 = einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp99, (2, 1, 6, 7, 4, 5), (0, 6, 7, 3)) * -1
    del tmp99
    rdm2.abab.oovo += np.transpose(tmp175, (0, 2, 3, 1)) * -3
    tmp176 = einsum(tmp103, (0, 1, 2, 3, 4, 5), t3.babbab, (1, 6, 2, 4, 7, 5), (6, 0, 3, 7))
    del tmp103
    rdm2.abab.oovo += np.transpose(tmp176, (0, 2, 3, 1)) * -3
    rdm2.abab.oovo += einsum(tmp106, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 3), (4, 2, 5, 1)) * -4
    rdm2.abab.oovo += einsum(tmp108, (0, 1, 2, 3), t2.abab, (4, 0, 5, 3), (4, 2, 5, 1)) * -2
    rdm2.abab.oovo += einsum(t1.aa, (0, 1), tmp141, (2, 3), (0, 3, 1, 2)) * -1.9999992000000009
    del tmp141
    tmp177 = einsum(tmp116, (0, 1, 2, 3, 4, 5), t2.abab, (0, 3, 6, 5), (1, 2, 4, 6)) * -1
    rdm2.abab.oovo += np.transpose(tmp177, (0, 2, 3, 1)) * 2
    tmp178 = einsum(t2.aaaa, (0, 1, 2, 3), tmp118, (0, 1, 4, 5, 6, 3), (4, 5, 6, 2)) * -1
    rdm2.abab.oovo += np.transpose(tmp178, (0, 2, 3, 1)) * 2
    rdm2.abab.oovo += einsum(tmp181, (0, 1, 2, 3), t2.abab, (4, 5, 1, 3), (4, 5, 2, 0)) * 2
    tmp183 = np.copy(tmp27) * 0.5
    tmp183 += tmp26 * 1.0000002
    tmp182 = einsum(t1.bb, (0, 1), tmp66, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp183 += np.transpose(tmp182, (0, 1, 3, 2))
    del tmp182
    rdm2.abab.oovo += einsum(t1.aa, (0, 1), tmp183, (0, 2, 3, 4), (2, 4, 1, 3)) * 2
    tmp184 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp62, (1, 6, 7, 2, 3, 5), (6, 7, 0, 4))
    del tmp62
    rdm2.abab.oovo += np.transpose(tmp184, (0, 2, 3, 1)) * 2
    tmp185 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp60, (0, 2, 6, 7, 3, 4), (6, 7, 1, 5))
    del tmp60
    rdm2.abab.oovo += np.transpose(tmp185, (0, 2, 3, 1)) * 2
    rdm2.abab.oovo += einsum(t2.abab, (0, 1, 2, 3), tmp66, (0, 4, 5, 3), (4, 1, 2, 5)) * 2
    tmp187 = np.copy(tmp33)
    tmp186 = einsum(t1.aa, (0, 1), tmp36, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.9999998000000401
    tmp187 += np.transpose(tmp186, (1, 0, 2, 3))
    del tmp186
    rdm2.abab.oovo += einsum(t1.aa, (0, 1), tmp187, (0, 2, 3, 4), (2, 4, 1, 3)) * 2.0000004
    rdm2.aaaa.oovv = np.copy(t2.aaaa) * 2
    tmp196 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l1.bb, (4, 1), (0, 2, 3, 5))
    rdm2.aaaa.oovv += np.transpose(tmp196, (1, 0, 3, 2))
    rdm2.aaaa.oovv += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), l1.aa, (5, 2), (0, 1, 3, 4)) * 6
    tmp202 = np.copy(tmp197)
    tmp202 += tmp198 * 0.5
    tmp202 += tmp199 * 1.4999994000000005
    tmp202 += tmp200 * 0.9999996000000004
    tmp202 += tmp201 * 0.4999998000000001
    rdm2.aaaa.oovv += einsum(tmp202, (0, 1), t2.aaaa, (2, 3, 4, 0), (2, 3, 4, 1)) * -4
    del tmp202
    rdm2.aaaa.oovv += np.transpose(tmp196, (1, 0, 3, 2))
    del tmp196
    tmp203 = np.copy(tmp199) * 3
    tmp203 += tmp200 * 2
    tmp203 += tmp201
    rdm2.aaaa.oovv += einsum(t2.aaaa, (0, 1, 2, 3), tmp203, (3, 4), (0, 1, 4, 2)) * 1.9999992000000004
    del tmp203
    tmp205 = einsum(t2.aaaa, (0, 1, 2, 3), tmp204, (1, 4, 3, 5), (0, 4, 2, 5))
    del tmp204
    rdm2.aaaa.oovv += np.transpose(tmp205, (0, 1, 3, 2)) * -2
    rdm2.aaaa.oovv += np.transpose(tmp205, (1, 0, 2, 3)) * -2
    tmp210 = np.copy(tmp206)
    del tmp206
    tmp210 += tmp207 * 1.5
    tmp210 += tmp208 * 2
    tmp210 += tmp209 * 1.5
    tmp211 = einsum(tmp210, (0, 1, 2, 3), t2.abab, (4, 1, 5, 3), (0, 4, 2, 5)) * 2
    del tmp210
    rdm2.aaaa.oovv += np.transpose(tmp211, (0, 1, 3, 2)) * -1
    tmp216 = np.copy(tmp212)
    del tmp212
    tmp216 += tmp213 * 2.25
    tmp216 += tmp214
    tmp216 += tmp215 * 0.25
    tmp217 = einsum(t2.aaaa, (0, 1, 2, 3), tmp216, (1, 4, 3, 5), (4, 0, 5, 2)) * 8
    del tmp216
    rdm2.aaaa.oovv += np.transpose(tmp217, (0, 1, 3, 2)) * -1
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp154, (2, 3), (2, 0, 1, 3)) * -1
    rdm2.aaaa.oovv += tmp205 * 2
    rdm2.aaaa.oovv += np.transpose(tmp205, (1, 0, 3, 2)) * 2
    del tmp205
    rdm2.aaaa.oovv += np.transpose(tmp211, (1, 0, 3, 2))
    del tmp211
    rdm2.aaaa.oovv += np.transpose(tmp217, (1, 0, 3, 2))
    del tmp217
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp154, (2, 3), (0, 2, 1, 3))
    del tmp154
    tmp218 = np.copy(tmp207)
    del tmp207
    tmp218 += tmp208 * 1.3333333333333333
    del tmp208
    tmp218 += tmp209
    del tmp209
    tmp219 = einsum(t2.abab, (0, 1, 2, 3), tmp218, (4, 1, 5, 3), (4, 0, 5, 2)) * 3
    rdm2.aaaa.oovv += tmp219
    tmp220 = np.copy(tmp213) * 2.25
    tmp220 += tmp214
    tmp220 += tmp215 * 0.25
    tmp221 = einsum(t2.aaaa, (0, 1, 2, 3), tmp220, (1, 4, 3, 5), (4, 0, 5, 2)) * 8
    del tmp220
    rdm2.aaaa.oovv += tmp221
    tmp222 = np.copy(tmp49) * 2
    tmp222 += tmp50
    tmp222 += tmp51 * 3
    tmp222 += tmp52 * 2
    tmp222 += tmp53
    rdm2.aaaa.oovv += einsum(tmp222, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3))
    rdm2.aaaa.oovv += np.transpose(tmp219, (1, 0, 2, 3)) * -1
    del tmp219
    rdm2.aaaa.oovv += np.transpose(tmp221, (1, 0, 2, 3)) * -1
    del tmp221
    tmp223 = np.copy(tmp49)
    del tmp49
    tmp223 += tmp50 * 0.5
    del tmp50
    tmp223 += tmp51 * 1.5
    del tmp51
    tmp223 += tmp52
    del tmp52
    tmp223 += tmp53 * 0.5
    del tmp53
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp223, (2, 3), (0, 2, 3, 1)) * -2
    del tmp223
    rdm2.aaaa.oovv += einsum(t3.aaaaaa, (0, 1, 2, 3, 4, 5), tmp224, (2, 5, 4, 6), (0, 1, 6, 3)) * 6
    del tmp224
    tmp225 = einsum(tmp181, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 1, 3, 6), (4, 5, 2, 6)) * 4
    rdm2.aaaa.oovv += np.transpose(tmp225, (1, 0, 2, 3))
    tmp226 = np.copy(tmp197) * 2
    del tmp197
    tmp226 += tmp198
    del tmp198
    rdm2.aaaa.oovv += einsum(t2.aaaa, (0, 1, 2, 3), tmp226, (3, 4), (0, 1, 4, 2)) * 2
    tmp227 = np.copy(np.transpose(tmp55, (0, 2, 1, 3))) * 0.3333333333333333
    tmp227 += np.transpose(tmp56, (0, 2, 1, 3))
    tmp227 += np.transpose(tmp57, (0, 2, 1, 3)) * 0.3333333333333333
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp227, (0, 2, 3, 4), (3, 2, 1, 4)) * 6
    del tmp227
    rdm2.aaaa.oovv += einsum(tmp83, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 2, 1), (4, 5, 6, 3)) * -18
    rdm2.aaaa.oovv += np.transpose(tmp225, (1, 0, 3, 2)) * -1
    del tmp225
    tmp228 = np.copy(np.transpose(tmp55, (0, 2, 1, 3)))
    del tmp55
    tmp228 += np.transpose(tmp56, (0, 2, 1, 3)) * 3
    del tmp56
    tmp228 += np.transpose(tmp57, (0, 2, 1, 3))
    del tmp57
    rdm2.aaaa.oovv += einsum(tmp228, (0, 1, 2, 3), t1.aa, (0, 4), (2, 1, 3, 4)) * -2
    del tmp228
    tmp229 = einsum(tmp64, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 1, 5, 3, 6), (4, 2, 5, 6)) * 18
    rdm2.aaaa.oovv += tmp229 * -1
    tmp230 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp66, (2, 6, 1, 4), (0, 6, 5, 3)) * 2
    rdm2.aaaa.oovv += np.transpose(tmp230, (0, 1, 3, 2)) * -1
    tmp234 = einsum(t2.aaaa, (0, 1, 2, 3), tmp233, (1, 4, 3, 5), (4, 0, 5, 2)) * 12
    del tmp233
    rdm2.aaaa.oovv += np.transpose(tmp234, (1, 0, 3, 2)) * -1
    tmp238 = einsum(t2.abab, (0, 1, 2, 3), tmp237, (4, 1, 5, 3), (4, 0, 5, 2)) * 2
    del tmp237
    rdm2.aaaa.oovv += np.transpose(tmp238, (1, 0, 3, 2)) * -1
    tmp239 = np.copy(tmp0) * 0.5000002000000798
    del tmp0
    tmp239 += tmp1 * 1.0000004000001597
    del tmp1
    tmp239 += tmp2 * 0.5000002000000798
    del tmp2
    tmp239 += tmp3 * 1.4999999999999998
    del tmp3
    tmp239 += tmp4
    del tmp4
    tmp239 += tmp5 * 0.4999999999999999
    del tmp5
    tmp240 = einsum(t2.aaaa, (0, 1, 2, 3), tmp239, (1, 4), (4, 0, 2, 3)) * -3.9999984000000017
    del tmp239
    rdm2.aaaa.oovv += np.transpose(tmp240, (1, 0, 3, 2)) * -1
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp164, (2, 3), (0, 2, 1, 3)) * -2
    rdm2.aaaa.oovv += np.transpose(tmp229, (1, 0, 2, 3))
    del tmp229
    rdm2.aaaa.oovv += np.transpose(tmp230, (1, 0, 3, 2))
    rdm2.aaaa.oovv += np.transpose(tmp234, (0, 1, 3, 2))
    del tmp234
    rdm2.aaaa.oovv += np.transpose(tmp238, (0, 1, 3, 2))
    del tmp238
    rdm2.aaaa.oovv += np.transpose(tmp240, (0, 1, 3, 2))
    del tmp240
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp164, (2, 3), (2, 0, 1, 3)) * 2
    rdm2.aaaa.oovv += np.transpose(tmp230, (0, 1, 3, 2)) * -1
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp164, (2, 3), (0, 2, 3, 1)) * 2
    rdm2.aaaa.oovv += np.transpose(tmp230, (1, 0, 3, 2))
    del tmp230
    rdm2.aaaa.oovv += einsum(tmp164, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3)) * -2
    del tmp164
    tmp241 = einsum(l3.aaaaaa, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 7, 1, 2), (3, 4, 5, 6, 7, 0)) * 0.9999994000001206
    tmp241 += np.transpose(tmp77, (0, 1, 2, 4, 3, 5)) * -1
    del tmp77
    rdm2.aaaa.oovv += einsum(tmp241, (0, 1, 2, 3, 4, 5), t3.aaaaaa, (0, 1, 2, 6, 7, 5), (3, 4, 6, 7)) * 6.000001199999999
    del tmp241
    tmp242 = einsum(l3.abaaba, (0, 1, 2, 3, 4, 5), t2.aaaa, (6, 7, 0, 2), (3, 5, 6, 7, 4, 1))
    tmp243 = np.copy(np.transpose(tmp242, (0, 1, 3, 2, 4, 5))) * -0.9999994000001201
    del tmp242
    tmp243 += np.transpose(tmp79, (0, 1, 3, 2, 4, 5)) * -1
    del tmp79
    tmp244 = einsum(tmp243, (0, 1, 2, 3, 4, 5), t3.abaaba, (0, 4, 1, 6, 5, 7), (2, 3, 6, 7)) * 1.0000002
    del tmp243
    rdm2.aaaa.oovv += np.transpose(tmp244, (0, 1, 3, 2)) * -1
    tmp245 = np.copy(np.transpose(tmp11, (1, 0, 3, 2)))
    del tmp11
    tmp245 += np.transpose(tmp10, (0, 1, 3, 2)) * -2.999998800000001
    del tmp10
    tmp245 += np.transpose(tmp9, (0, 1, 3, 2)) * -0.9999996000000002
    del tmp9
    tmp245 += np.transpose(tmp168, (1, 2, 0, 3))
    del tmp168
    rdm2.aaaa.oovv += einsum(tmp245, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 5), (3, 2, 4, 5)) * -2
    del tmp245
    tmp246 = np.copy(np.transpose(tmp78, (0, 2, 1, 3))) * -3
    tmp246 += np.transpose(tmp80, (0, 2, 1, 3)) * -1
    tmp246 += einsum(tmp83, (0, 1, 2, 3), t2.aaaa, (4, 5, 1, 2), (0, 4, 5, 3)) * 3
    tmp246 += einsum(t1.aa, (0, 1), tmp87, (0, 2, 3, 4), (2, 4, 3, 1)) * -3
    del tmp87
    rdm2.aaaa.oovv += einsum(t1.aa, (0, 1), tmp246, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    del tmp246
    rdm2.aaaa.oovv += np.transpose(tmp244, (0, 1, 3, 2)) * -1
    del tmp244
    tmp247 = np.copy(np.transpose(tmp78, (0, 2, 1, 3))) * -1
    del tmp78
    tmp247 += np.transpose(tmp80, (0, 2, 1, 3)) * -0.3333333333333333
    del tmp80
    tmp247 += einsum(tmp83, (0, 1, 2, 3), t2.aaaa, (4, 5, 1, 2), (0, 4, 5, 3))
    rdm2.aaaa.oovv += einsum(tmp247, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4)) * -6
    del tmp247
    tmp250 = np.copy(tmp231)
    tmp250 += tmp232 * 0.3333333333333333
    tmp248 = np.copy(tmp13) * 3
    del tmp13
    tmp248 += tmp14
    del tmp14
    tmp249 = einsum(tmp248, (0, 1, 2, 3), t1.aa, (1, 4), (0, 2, 3, 4)) * 0.3333333333333333
    tmp250 += tmp249
    del tmp249
    rdm2.aaaa.oovv += einsum(t2.aaaa, (0, 1, 2, 3), tmp250, (1, 4, 3, 5), (4, 0, 5, 2)) * -12
    tmp252 = np.copy(tmp235)
    del tmp235
    tmp252 += tmp236
    del tmp236
    tmp251 = einsum(t1.aa, (0, 1), tmp32, (0, 2, 3, 4), (2, 3, 1, 4))
    del tmp32
    tmp252 += tmp251
    del tmp251
    tmp253 = einsum(tmp252, (0, 1, 2, 3), t2.abab, (4, 1, 5, 3), (0, 4, 2, 5)) * 2
    rdm2.aaaa.oovv += tmp253 * -1
    tmp254 = einsum(tmp12, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 2, 4, 5)) * -1
    tmp256 = np.copy(tmp254)
    del tmp254
    tmp255 = einsum(t2.abab, (0, 1, 2, 3), tmp28, (4, 5, 1, 3), (4, 5, 0, 2))
    tmp256 += tmp255 * 0.25
    del tmp255
    tmp256 += tmp70 * 2.25
    tmp256 += tmp71
    tmp256 += tmp72 * 0.25
    tmp257 = einsum(tmp256, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4)) * 4
    del tmp256
    rdm2.aaaa.oovv += np.transpose(tmp257, (0, 1, 3, 2)) * -1
    tmp258 = np.copy(tmp231) * 3
    del tmp231
    tmp258 += tmp232
    del tmp232
    tmp258 += einsum(tmp248, (0, 1, 2, 3), t1.aa, (1, 4), (0, 2, 3, 4))
    del tmp248
    rdm2.aaaa.oovv += einsum(tmp258, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 3, 5)) * 4
    del tmp258
    rdm2.aaaa.oovv += np.transpose(tmp253, (1, 0, 2, 3))
    del tmp253
    rdm2.aaaa.oovv += np.transpose(tmp257, (1, 0, 3, 2))
    del tmp257
    tmp259 = np.copy(tmp70) * 9
    tmp259 += tmp71 * 4
    tmp259 += tmp72
    tmp259 += einsum(tmp64, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 2, 4, 5)) * -12
    tmp259 += np.transpose(tmp166, (1, 2, 0, 3))
    del tmp166
    rdm2.aaaa.oovv += einsum(tmp259, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 3, 4))
    del tmp259
    tmp260 = np.copy(tmp70) * 4.5
    del tmp70
    tmp260 += tmp71 * 2
    del tmp71
    tmp260 += tmp72 * 0.5
    del tmp72
    tmp260 += einsum(tmp64, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 2, 4, 5)) * -6
    tmp260 += einsum(t2.abab, (0, 1, 2, 3), tmp66, (4, 5, 1, 3), (4, 5, 0, 2))
    rdm2.aaaa.oovv += einsum(tmp260, (0, 1, 2, 3), t1.aa, (0, 4), (2, 1, 3, 4)) * -2
    del tmp260
    tmp261 = np.copy(t2.aaaa)
    tmp261 += einsum(t1.aa, (0, 1), t1.aa, (2, 3), (0, 2, 1, 3))
    rdm2.aaaa.oovv += einsum(tmp89, (0, 1, 2, 3), tmp261, (1, 2, 4, 5), (0, 3, 5, 4)) * -2
    del tmp261, tmp89
    rdm2.bbbb.oovv = einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), l1.bb, (5, 2), (0, 1, 3, 4)) * 6
    tmp326 = einsum(l1.aa, (0, 1), t3.babbab, (2, 1, 3, 4, 0, 5), (2, 3, 4, 5))
    rdm2.bbbb.oovv += np.transpose(tmp326, (1, 0, 3, 2))
    rdm2.bbbb.oovv += t2.bbbb * 2
    tmp327 = np.copy(tmp263) * 0.5000002000000798
    tmp327 += tmp264 * 1.0000004000001597
    tmp327 += tmp265 * 0.4999999999999999
    tmp327 += tmp266
    tmp327 += tmp267 * 1.4999999999999998
    rdm2.bbbb.oovv += einsum(tmp327, (0, 1), t2.bbbb, (2, 3, 4, 0), (2, 3, 4, 1)) * -3.9999984000000017
    del tmp327
    rdm2.bbbb.oovv += np.transpose(tmp326, (1, 0, 3, 2))
    del tmp326
    tmp328 = np.copy(tmp265) * 0.33333333333333326
    tmp328 += tmp266 * 0.6666666666666667
    tmp328 += tmp267
    rdm2.bbbb.oovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp328, (3, 4), (0, 1, 4, 2)) * 5.999997600000002
    del tmp328
    tmp329 = einsum(tmp271, (0, 1, 2, 3), t2.bbbb, (4, 0, 5, 2), (1, 4, 3, 5))
    del tmp271
    rdm2.bbbb.oovv += np.transpose(tmp329, (0, 1, 3, 2)) * -2
    rdm2.bbbb.oovv += np.transpose(tmp329, (1, 0, 2, 3)) * -2
    tmp330 = np.copy(tmp272)
    del tmp272
    tmp330 += tmp273 * 0.25
    tmp330 += tmp274
    tmp330 += tmp275 * 2.25
    tmp331 = einsum(t2.bbbb, (0, 1, 2, 3), tmp330, (1, 4, 3, 5), (4, 0, 5, 2)) * 8
    del tmp330
    rdm2.bbbb.oovv += np.transpose(tmp331, (0, 1, 3, 2)) * -1
    tmp332 = np.copy(tmp277) * 0.6666666666666666
    tmp332 += tmp279
    tmp332 += tmp280 * 1.3333333333333333
    tmp332 += tmp281
    tmp333 = einsum(t2.abab, (0, 1, 2, 3), tmp332, (0, 4, 2, 5), (4, 1, 5, 3)) * 3
    del tmp332
    rdm2.bbbb.oovv += np.transpose(tmp333, (0, 1, 3, 2)) * -1
    rdm2.bbbb.oovv += einsum(tmp127, (0, 1), t1.bb, (2, 3), (0, 2, 3, 1)) * -2
    rdm2.bbbb.oovv += tmp329 * 2
    rdm2.bbbb.oovv += np.transpose(tmp329, (1, 0, 3, 2)) * 2
    del tmp329
    rdm2.bbbb.oovv += np.transpose(tmp331, (1, 0, 3, 2))
    del tmp331
    rdm2.bbbb.oovv += np.transpose(tmp333, (1, 0, 3, 2))
    del tmp333
    rdm2.bbbb.oovv += einsum(tmp127, (0, 1), t1.bb, (2, 3), (2, 0, 3, 1)) * 2
    del tmp127
    tmp334 = np.copy(tmp273) * 0.1111111111111111
    del tmp273
    tmp334 += tmp274 * 0.4444444444444444
    del tmp274
    tmp334 += tmp275
    del tmp275
    tmp335 = einsum(t2.bbbb, (0, 1, 2, 3), tmp334, (1, 4, 3, 5), (4, 0, 5, 2)) * 18
    del tmp334
    rdm2.bbbb.oovv += tmp335
    tmp336 = np.copy(tmp279) * 0.75
    tmp336 += tmp280
    tmp336 += tmp281 * 0.75
    rdm2.bbbb.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp336, (0, 4, 2, 5), (4, 1, 5, 3)) * 4
    del tmp336
    tmp337 = np.copy(tmp90) * 0.3333333333333333
    del tmp90
    tmp337 += tmp91 * 0.6666666666666666
    del tmp91
    tmp337 += tmp92 * 0.3333333333333333
    del tmp92
    tmp337 += tmp93 * 0.6666666666666666
    del tmp93
    tmp337 += tmp94
    del tmp94
    rdm2.bbbb.oovv += einsum(tmp337, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3)) * 3
    rdm2.bbbb.oovv += np.transpose(tmp335, (1, 0, 2, 3)) * -1
    del tmp335
    tmp338 = np.copy(tmp279)
    tmp338 += tmp280 * 1.3333333333333333
    tmp338 += tmp281
    rdm2.bbbb.oovv += einsum(tmp338, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (4, 1, 3, 5)) * -3
    del tmp338
    rdm2.bbbb.oovv += einsum(tmp337, (0, 1), t1.bb, (2, 3), (2, 0, 1, 3)) * -3
    del tmp337
    rdm2.bbbb.oovv += einsum(tmp339, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 2, 1), (4, 5, 3, 6)) * 18
    del tmp339
    tmp340 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp122, (1, 4, 3, 6), (0, 2, 6, 5)) * 4
    rdm2.bbbb.oovv += np.transpose(tmp340, (1, 0, 2, 3))
    tmp341 = np.copy(tmp263)
    tmp341 += tmp264 * 2
    rdm2.bbbb.oovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp341, (3, 4), (0, 1, 4, 2)) * 2
    del tmp341
    tmp342 = np.copy(np.transpose(tmp128, (0, 2, 1, 3)))
    tmp342 += np.transpose(tmp129, (0, 2, 1, 3))
    tmp342 += np.transpose(tmp130, (0, 2, 1, 3)) * 3
    rdm2.bbbb.oovv += einsum(t1.bb, (0, 1), tmp342, (0, 2, 3, 4), (3, 2, 1, 4)) * 2
    del tmp342
    rdm2.bbbb.oovv += np.transpose(tmp340, (1, 0, 3, 2)) * -1
    del tmp340
    rdm2.bbbb.oovv += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp148, (2, 5, 4, 6), (0, 1, 3, 6)) * -6
    tmp343 = np.copy(np.transpose(tmp128, (0, 2, 1, 3))) * 0.3333333333333333
    del tmp128
    tmp343 += np.transpose(tmp129, (0, 2, 1, 3)) * 0.3333333333333333
    del tmp129
    tmp343 += np.transpose(tmp130, (0, 2, 1, 3))
    del tmp130
    rdm2.bbbb.oovv += einsum(tmp343, (0, 1, 2, 3), t1.bb, (0, 4), (2, 1, 3, 4)) * -6
    del tmp343
    tmp344 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp106, (1, 2, 6, 4), (6, 0, 5, 3)) * 2
    rdm2.bbbb.oovv += np.transpose(tmp344, (1, 0, 3, 2)) * -1
    tmp345 = einsum(tmp188, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 1, 5, 3, 6), (2, 4, 5, 6)) * 18
    rdm2.bbbb.oovv += np.transpose(tmp345, (1, 0, 2, 3)) * -1
    tmp347 = einsum(t2.bbbb, (0, 1, 2, 3), tmp346, (1, 4, 3, 5), (4, 0, 5, 2)) * 4
    del tmp346
    rdm2.bbbb.oovv += np.transpose(tmp347, (1, 0, 3, 2)) * -1
    tmp289 = np.copy(tmp287)
    tmp289 += tmp288
    tmp348 = einsum(t2.abab, (0, 1, 2, 3), tmp289, (0, 4, 2, 5), (4, 1, 5, 3)) * 2
    rdm2.bbbb.oovv += np.transpose(tmp348, (1, 0, 3, 2)) * -1
    tmp349 = np.copy(tmp18) * 1.0000004000001599
    tmp349 += tmp19 * 1.0000004000001599
    tmp349 += tmp20 * 2.0000008000003198
    tmp349 += tmp21
    tmp349 += tmp22 * 2
    tmp349 += tmp23 * 3
    tmp350 = einsum(t2.bbbb, (0, 1, 2, 3), tmp349, (1, 4), (4, 0, 2, 3)) * -1.9999992000000004
    del tmp349
    rdm2.bbbb.oovv += np.transpose(tmp350, (1, 0, 3, 2)) * -1
    tmp354 = np.copy(tmp100) * 0.9999996000000002
    tmp354 += tmp102 * 1.9999992000000009
    tmp354 += tmp104 * 2.9999988
    tmp351 = einsum(tmp106, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4)) * 2
    tmp354 += tmp351
    del tmp351
    tmp352 = einsum(tmp108, (0, 1, 2, 3), t2.bbbb, (0, 1, 4, 3), (2, 4)) * -2
    tmp354 += tmp352
    del tmp352
    tmp353 = einsum(t1.bb, (0, 1), tmp133, (0, 2), (2, 1)) * 0.9999996000000002
    tmp354 += tmp353
    del tmp353
    rdm2.bbbb.oovv += einsum(tmp354, (0, 1), t1.bb, (2, 3), (2, 0, 3, 1)) * -1
    rdm2.bbbb.oovv += np.transpose(tmp344, (0, 1, 3, 2))
    rdm2.bbbb.oovv += tmp345
    del tmp345
    rdm2.bbbb.oovv += np.transpose(tmp347, (0, 1, 3, 2))
    del tmp347
    rdm2.bbbb.oovv += np.transpose(tmp348, (0, 1, 3, 2))
    del tmp348
    rdm2.bbbb.oovv += np.transpose(tmp350, (0, 1, 3, 2))
    del tmp350
    rdm2.bbbb.oovv += einsum(tmp354, (0, 1), t1.bb, (2, 3), (0, 2, 3, 1))
    del tmp354
    rdm2.bbbb.oovv += np.transpose(tmp344, (1, 0, 3, 2)) * -1
    tmp358 = np.copy(tmp100) * 0.33333333333333337
    del tmp100
    tmp358 += tmp102 * 0.666666666666667
    del tmp102
    tmp358 += tmp104
    del tmp104
    tmp355 = einsum(tmp106, (0, 1, 2, 3), t2.abab, (0, 1, 3, 4), (2, 4)) * 0.66666693333344
    tmp358 += tmp355
    del tmp355
    tmp356 = einsum(tmp108, (0, 1, 2, 3), t2.bbbb, (0, 1, 4, 3), (2, 4)) * -0.66666693333344
    tmp358 += tmp356
    del tmp356
    tmp357 = einsum(t1.bb, (0, 1), tmp133, (0, 2), (2, 1)) * 0.33333333333333337
    del tmp133
    tmp358 += tmp357
    del tmp357
    rdm2.bbbb.oovv += einsum(t1.bb, (0, 1), tmp358, (2, 3), (0, 2, 3, 1)) * 2.9999988
    rdm2.bbbb.oovv += np.transpose(tmp344, (0, 1, 3, 2))
    del tmp344
    rdm2.bbbb.oovv += einsum(tmp358, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3)) * -2.9999988
    del tmp358
    tmp359 = einsum(t2.bbbb, (0, 1, 2, 3), l3.babbab, (2, 4, 3, 5, 6, 7), (6, 7, 5, 0, 1, 4)) * -1
    tmp360 = np.copy(np.transpose(tmp359, (0, 2, 1, 4, 3, 5))) * 0.9999994000001201
    del tmp359
    tmp360 += np.transpose(tmp142, (0, 2, 1, 4, 3, 5))
    del tmp142
    tmp361 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp360, (1, 0, 2, 6, 7, 4), (6, 7, 3, 5)) * 1.0000002
    del tmp360
    rdm2.bbbb.oovv += np.transpose(tmp361, (0, 1, 3, 2)) * -1
    tmp362 = einsum(l3.bbbbbb, (0, 1, 2, 3, 4, 5), t2.bbbb, (6, 7, 1, 2), (3, 4, 5, 6, 7, 0)) * 0.9999994000001206
    tmp362 += np.transpose(tmp144, (0, 1, 2, 4, 3, 5)) * -1
    del tmp144
    rdm2.bbbb.oovv += einsum(t3.bbbbbb, (0, 1, 2, 3, 4, 5), tmp362, (0, 1, 2, 6, 7, 5), (6, 7, 3, 4)) * 6.000001199999999
    del tmp362
    tmp363 = np.copy(np.transpose(tmp42, (1, 0, 3, 2))) * 0.3333333333333333
    tmp363 += np.transpose(tmp40, (0, 1, 3, 2)) * -0.33333320000000005
    tmp363 += np.transpose(tmp41, (0, 1, 3, 2)) * -0.9999996000000003
    tmp363 += np.transpose(tmp150, (0, 1, 3, 2))
    del tmp150
    rdm2.bbbb.oovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp363, (0, 1, 4, 5), (5, 4, 2, 3)) * -6
    del tmp363
    tmp366 = np.copy(np.transpose(tmp143, (0, 2, 1, 3))) * -1
    tmp366 += np.transpose(tmp145, (0, 2, 1, 3)) * -3
    tmp364 = einsum(tmp148, (0, 1, 2, 3), t2.bbbb, (4, 5, 1, 2), (0, 4, 5, 3))
    tmp366 += np.transpose(tmp364, (0, 2, 1, 3)) * -1
    tmp365 = np.copy(np.transpose(tmp42, (1, 0, 3, 2))) * -1
    del tmp42
    tmp365 += np.transpose(tmp40, (0, 1, 3, 2)) * 1.0000002
    del tmp40
    tmp365 += np.transpose(tmp41, (0, 1, 3, 2)) * 3.0000005999999995
    del tmp41
    tmp365 += einsum(t1.bb, (0, 1), tmp108, (2, 3, 4, 1), (2, 3, 0, 4)) * -1
    tmp366 += einsum(tmp365, (0, 1, 2, 3), t1.bb, (0, 4), (1, 3, 2, 4)) * -1
    del tmp365
    rdm2.bbbb.oovv += einsum(t1.bb, (0, 1), tmp366, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    del tmp366
    rdm2.bbbb.oovv += np.transpose(tmp361, (0, 1, 3, 2)) * -1
    del tmp361
    tmp367 = np.copy(np.transpose(tmp143, (0, 2, 1, 3))) * -1
    del tmp143
    tmp367 += np.transpose(tmp145, (0, 2, 1, 3)) * -3
    del tmp145
    tmp367 += np.transpose(tmp364, (0, 2, 1, 3)) * -1
    del tmp364
    rdm2.bbbb.oovv += einsum(tmp367, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * -2
    del tmp367
    tmp369 = np.copy(tmp287)
    del tmp287
    tmp369 += tmp288
    del tmp288
    tmp368 = einsum(t1.bb, (0, 1), tmp36, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp369 += tmp368
    del tmp368
    tmp370 = einsum(tmp369, (0, 1, 2, 3), t2.abab, (0, 4, 2, 5), (1, 4, 3, 5)) * 2
    del tmp369
    rdm2.bbbb.oovv += tmp370 * -1
    tmp372 = np.copy(tmp290)
    tmp372 += tmp291 * 3
    tmp371 = np.copy(tmp44) * 0.3333333333333333
    del tmp44
    tmp371 += tmp45
    del tmp45
    tmp372 += einsum(t1.bb, (0, 1), tmp371, (2, 0, 3, 4), (2, 3, 4, 1)) * 3
    rdm2.bbbb.oovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp372, (1, 4, 3, 5), (4, 0, 5, 2)) * -4
    del tmp372
    tmp373 = einsum(tmp105, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 2, 4, 5))
    tmp375 = np.copy(tmp373) * 0.25
    del tmp373
    tmp374 = einsum(tmp43, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (0, 2, 4, 5)) * -1
    del tmp43
    tmp375 += tmp374
    del tmp374
    tmp375 += tmp138 * 0.25
    tmp375 += tmp137
    tmp375 += tmp136 * 2.25
    tmp376 = einsum(t1.bb, (0, 1), tmp375, (0, 2, 3, 4), (2, 3, 4, 1)) * 4
    del tmp375
    rdm2.bbbb.oovv += np.transpose(tmp376, (0, 1, 3, 2)) * -1
    rdm2.bbbb.oovv += np.transpose(tmp370, (1, 0, 2, 3))
    del tmp370
    tmp377 = np.copy(tmp290) * 0.3333333333333333
    tmp377 += tmp291
    tmp377 += einsum(t1.bb, (0, 1), tmp371, (2, 0, 3, 4), (2, 3, 4, 1))
    del tmp371
    rdm2.bbbb.oovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp377, (1, 4, 3, 5), (0, 4, 5, 2)) * 12
    del tmp377
    rdm2.bbbb.oovv += np.transpose(tmp376, (1, 0, 3, 2))
    del tmp376
    tmp380 = np.copy(tmp138) * 0.5
    del tmp138
    tmp380 += tmp137 * 2
    del tmp137
    tmp380 += tmp136 * 4.5
    del tmp136
    tmp378 = einsum(tmp106, (0, 1, 2, 3), t2.abab, (0, 4, 3, 5), (1, 2, 4, 5))
    tmp380 += tmp378
    del tmp378
    tmp379 = einsum(tmp108, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (0, 2, 4, 5)) * 2
    tmp380 += tmp379 * -1
    del tmp379
    tmp381 = einsum(tmp380, (0, 1, 2, 3), t1.bb, (0, 4), (1, 2, 3, 4)) * 2
    del tmp380
    rdm2.bbbb.oovv += tmp381
    rdm2.bbbb.oovv += np.transpose(tmp381, (1, 0, 2, 3)) * -1
    del tmp381
    rdm2.bbbb.oovv += einsum(t2.bbbb, (0, 1, 2, 3), tmp195, (0, 1, 4, 5), (5, 4, 2, 3)) * 6
    tmp382 = einsum(tmp195, (0, 1, 2, 3), t1.bb, (1, 4), (0, 3, 2, 4)) * 3
    del tmp195
    rdm2.bbbb.oovv += einsum(t1.bb, (0, 1), tmp382, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    del tmp382
    rdm2.abab.oovv = np.copy(t2.abab)
    tmp262 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), l1.aa, (5, 2), (0, 1, 3, 4))
    rdm2.abab.oovv += tmp262
    tmp268 = np.copy(tmp263) * 1.0000004000001599
    del tmp263
    tmp268 += tmp264 * 2.0000008000003198
    del tmp264
    tmp268 += tmp265
    del tmp265
    tmp268 += tmp266 * 2
    del tmp266
    tmp268 += tmp267 * 3
    del tmp267
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp268, (3, 4), (0, 1, 2, 4)) * -0.9999996000000002
    del tmp268
    rdm2.abab.oovv += tmp262
    del tmp262
    tmp269 = np.copy(tmp199)
    del tmp199
    tmp269 += tmp200 * 0.666666666666667
    del tmp200
    tmp269 += tmp201 * 0.33333333333333337
    del tmp201
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp269, (2, 4), (0, 1, 4, 3)) * -2.9999988
    del tmp269
    tmp270 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), l1.bb, (5, 2), (1, 0, 4, 3))
    rdm2.abab.oovv += tmp270
    rdm2.abab.oovv += tmp270
    del tmp270
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp276, (1, 4, 3, 5), (0, 4, 2, 5))
    del tmp276
    tmp282 = np.copy(tmp277) * 0.5
    del tmp277
    tmp282 += tmp278 * 0.5
    del tmp278
    tmp282 += tmp279 * 0.75
    del tmp279
    tmp282 += tmp280
    del tmp280
    tmp282 += tmp281 * 0.75
    del tmp281
    rdm2.abab.oovv += einsum(t2.aaaa, (0, 1, 2, 3), tmp282, (1, 4, 3, 5), (0, 4, 2, 5)) * 8
    del tmp282
    rdm2.abab.oovv += einsum(t1.aa, (0, 1), tmp95, (2, 3), (0, 2, 1, 3))
    del tmp95
    tmp283 = np.copy(tmp213)
    del tmp213
    tmp283 += tmp214 * 0.4444444444444444
    del tmp214
    tmp283 += tmp215 * 0.1111111111111111
    del tmp215
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp283, (0, 4, 2, 5), (4, 1, 5, 3)) * 9
    del tmp283
    rdm2.abab.oovv += einsum(tmp218, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (0, 4, 2, 5)) * 6
    del tmp218
    rdm2.abab.oovv += einsum(tmp222, (0, 1), t1.bb, (2, 3), (0, 2, 1, 3))
    del tmp222
    rdm2.abab.oovv += einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp83, (2, 5, 3, 6), (0, 1, 6, 4)) * -6
    del tmp83
    rdm2.abab.oovv += einsum(tmp226, (0, 1), t2.abab, (2, 3, 0, 4), (2, 3, 1, 4)) * -1
    del tmp226
    tmp284 = np.copy(tmp97) * 0.5
    del tmp97
    tmp284 += tmp96
    del tmp96
    rdm2.abab.oovv += einsum(tmp284, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3)) * -2
    del tmp284
    rdm2.abab.oovv += einsum(tmp122, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 2, 1), (4, 5, 6, 3)) * -4
    tmp285 = np.copy(tmp171)
    del tmp171
    tmp285 += tmp172 * 2
    del tmp172
    rdm2.abab.oovv += einsum(t1.bb, (0, 1), tmp285, (2, 0, 3, 4), (2, 3, 4, 1)) * -1
    del tmp285
    tmp286 = einsum(tmp106, (0, 1, 2, 3), t3.abaaba, (4, 1, 0, 5, 6, 3), (4, 2, 5, 6)) * 2
    rdm2.abab.oovv += tmp286 * -1
    rdm2.abab.oovv += einsum(tmp108, (0, 1, 2, 3), t3.babbab, (0, 4, 1, 3, 5, 6), (4, 2, 5, 6)) * -1
    del tmp108
    rdm2.abab.oovv += einsum(tmp289, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3)) * -4
    del tmp289
    tmp292 = np.copy(tmp290) * 0.3333333333333333
    del tmp290
    tmp292 += tmp291
    del tmp291
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp292, (1, 4, 3, 5), (0, 4, 2, 5)) * -6
    del tmp292
    tmp293 = np.copy(tmp18)
    del tmp18
    tmp293 += tmp19
    del tmp19
    tmp293 += tmp20 * 2
    del tmp20
    tmp293 += tmp21 * 0.9999996000000002
    del tmp21
    tmp293 += tmp22 * 1.9999992000000009
    del tmp22
    tmp293 += tmp23 * 2.9999988
    del tmp23
    rdm2.abab.oovv += einsum(tmp293, (0, 1), t2.abab, (2, 0, 3, 4), (2, 1, 3, 4)) * -1
    del tmp293
    rdm2.abab.oovv += einsum(t1.aa, (0, 1), tmp135, (2, 3), (0, 2, 1, 3)) * -2
    del tmp135
    tmp294 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp64, (0, 2, 6, 3), (6, 1, 5, 4)) * 3
    del tmp64
    rdm2.abab.oovv += tmp294 * -1
    tmp295 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp66, (1, 6, 2, 5), (6, 0, 4, 3)) * 2
    rdm2.abab.oovv += tmp295 * -1
    tmp298 = np.copy(tmp296)
    del tmp296
    tmp298 += tmp297
    del tmp297
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp298, (0, 4, 3, 5), (4, 1, 2, 5)) * 2
    del tmp298
    rdm2.abab.oovv += einsum(tmp167, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4)) * -2
    del tmp167
    rdm2.abab.oovv += einsum(t1.aa, (0, 1), tmp98, (0, 2, 3, 4), (2, 3, 1, 4)) * -2
    del tmp98
    rdm2.abab.oovv += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp181, (2, 4, 6, 5), (1, 0, 6, 3)) * -4
    rdm2.abab.oovv += einsum(t1.bb, (0, 1), tmp173, (2, 0, 3, 4), (2, 3, 4, 1)) * -2
    del tmp173
    rdm2.abab.oovv += einsum(tmp148, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 2, 6, 1), (5, 4, 6, 3)) * -2
    del tmp148
    rdm2.abab.oovv += tmp286 * -1
    del tmp286
    rdm2.abab.oovv += einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp188, (0, 2, 6, 3), (1, 6, 4, 5)) * -3
    del tmp188
    rdm2.abab.oovv += tmp294 * -1
    del tmp294
    rdm2.abab.oovv += tmp295 * -1
    del tmp295
    tmp299 = np.copy(tmp59)
    del tmp59
    tmp299 += tmp61 * 0.666666666666667
    del tmp61
    tmp299 += tmp63 * 0.33333333333333337
    del tmp63
    tmp299 += einsum(tmp155, (0, 1, 2, 3), t2.aaaa, (0, 1, 4, 3), (2, 4)) * -2.0000008000003198
    del tmp155
    tmp299 += einsum(tmp66, (0, 1, 2, 3), t2.abab, (0, 2, 4, 3), (1, 4)) * 0.66666693333344
    tmp299 += einsum(t1.aa, (0, 1), tmp8, (0, 2), (2, 1))
    del tmp8
    rdm2.abab.oovv += einsum(t1.bb, (0, 1), tmp299, (2, 3), (2, 0, 3, 1)) * -2.9999988
    del tmp299
    tmp300 = einsum(t2.abab, (0, 1, 2, 3), l3.abaaba, (4, 3, 2, 5, 6, 7), (7, 5, 0, 6, 1, 4)) * -1
    tmp301 = np.copy(tmp300) * 0.9999994000001203
    del tmp300
    tmp301 += tmp118
    del tmp118
    tmp302 = einsum(t3.abaaba, (0, 1, 2, 3, 4, 5), tmp301, (0, 2, 6, 1, 7, 3), (6, 7, 5, 4)) * 1.0000002
    del tmp301
    rdm2.abab.oovv += tmp302
    tmp303 = einsum(t2.abab, (0, 1, 2, 3), l3.babbab, (4, 2, 3, 5, 6, 7), (6, 0, 5, 7, 1, 4))
    tmp304 = np.copy(np.transpose(tmp303, (0, 1, 3, 2, 4, 5))) * -0.9999994000001203
    del tmp303
    tmp304 += np.transpose(tmp116, (0, 1, 3, 2, 4, 5)) * -1
    del tmp116
    tmp305 = einsum(t3.babbab, (0, 1, 2, 3, 4, 5), tmp304, (1, 6, 0, 2, 7, 3), (6, 7, 4, 5)) * 1.0000002
    del tmp304
    rdm2.abab.oovv += tmp305
    tmp306 = np.copy(tmp27)
    del tmp27
    tmp306 += tmp26 * 1.9999992000000009
    del tmp26
    tmp306 += einsum(t1.bb, (0, 1), tmp66, (2, 3, 4, 1), (2, 3, 4, 0)) * 2
    rdm2.abab.oovv += einsum(tmp306, (0, 1, 2, 3), t2.abab, (0, 2, 4, 5), (1, 3, 4, 5))
    del tmp306
    tmp307 = np.copy(tmp119)
    del tmp119
    tmp307 += tmp117
    del tmp117
    tmp307 += einsum(t2.abab, (0, 1, 2, 3), tmp122, (4, 2, 3, 5), (4, 0, 1, 5))
    del tmp122
    tmp307 += einsum(t1.bb, (0, 1), tmp183, (2, 3, 0, 4), (2, 3, 4, 1))
    del tmp183
    rdm2.abab.oovv += einsum(tmp307, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3)) * 2
    del tmp307
    tmp308 = np.copy(tmp33)
    del tmp33
    tmp308 += einsum(t1.aa, (0, 1), tmp36, (2, 3, 4, 1), (2, 0, 3, 4)) * 1.0000004000001597
    rdm2.abab.oovv += einsum(tmp308, (0, 1, 2, 3), t2.abab, (0, 2, 4, 5), (1, 3, 4, 5)) * 1.9999992000000009
    del tmp308
    tmp309 = einsum(tmp187, (0, 1, 2, 3), t1.bb, (2, 4), (0, 1, 3, 4)) * 1.0000002
    del tmp187
    rdm2.abab.oovv += einsum(tmp309, (0, 1, 2, 3), t1.aa, (0, 4), (1, 2, 4, 3)) * 2
    del tmp309
    rdm2.abab.oovv += einsum(tmp313, (0, 1, 2, 3), t2.abab, (0, 4, 5, 2), (1, 4, 5, 3)) * 2
    del tmp313
    tmp316 = np.copy(tmp314)
    del tmp314
    tmp316 += tmp315
    del tmp315
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp316, (1, 4, 2, 5), (0, 4, 5, 3)) * 2
    del tmp316
    rdm2.abab.oovv += tmp302
    del tmp302
    rdm2.abab.oovv += tmp305
    del tmp305
    tmp317 = np.copy(tmp178)
    del tmp178
    tmp317 += tmp177
    del tmp177
    tmp317 += einsum(t2.abab, (0, 1, 2, 3), tmp181, (4, 2, 5, 3), (0, 4, 1, 5))
    del tmp181
    rdm2.abab.oovv += einsum(t1.bb, (0, 1), tmp317, (2, 0, 3, 4), (2, 3, 4, 1)) * 2
    del tmp317
    rdm2.abab.oovv += einsum(t2.abab, (0, 1, 2, 3), tmp250, (0, 4, 2, 5), (4, 1, 5, 3)) * -6
    del tmp250
    rdm2.abab.oovv += einsum(tmp252, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (0, 4, 2, 5)) * -4
    del tmp252
    tmp318 = einsum(tmp12, (0, 1, 2, 3), t2.abab, (1, 4, 3, 5), (0, 2, 4, 5)) * -0.5
    del tmp12
    tmp318 += einsum(t2.bbbb, (0, 1, 2, 3), tmp28, (4, 5, 1, 3), (4, 5, 0, 2)) * 0.5
    del tmp28
    tmp318 += tmp113 * 0.75
    del tmp113
    tmp318 += tmp115
    del tmp115
    tmp318 += tmp114 * 0.75
    del tmp114
    rdm2.abab.oovv += einsum(t1.aa, (0, 1), tmp318, (0, 2, 3, 4), (2, 3, 1, 4)) * -4
    del tmp318
    tmp321 = np.copy(tmp319)
    del tmp319
    tmp321 += tmp320
    del tmp320
    tmp321 += einsum(t1.aa, (0, 1), tmp36, (0, 2, 3, 4), (2, 3, 4, 1))
    del tmp36
    rdm2.abab.oovv += einsum(tmp321, (0, 1, 2, 3), t2.abab, (4, 0, 2, 5), (4, 1, 3, 5)) * 2
    del tmp321
    tmp322 = einsum(tmp105, (0, 1, 2, 3), t2.abab, (4, 1, 3, 5), (0, 4, 2, 5)) * 0.5
    del tmp105
    tmp322 += tmp125
    del tmp125
    tmp322 += tmp124
    del tmp124
    rdm2.abab.oovv += einsum(t1.aa, (0, 1), tmp322, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    del tmp322
    tmp323 = np.copy(tmp185)
    del tmp185
    tmp323 += tmp184
    del tmp184
    tmp323 += einsum(tmp66, (0, 1, 2, 3), t2.abab, (0, 4, 5, 3), (1, 2, 4, 5))
    del tmp66
    rdm2.abab.oovv += einsum(tmp323, (0, 1, 2, 3), t1.bb, (1, 4), (0, 2, 3, 4)) * 2
    del tmp323
    tmp325 = np.copy(tmp175) * 0.5
    del tmp175
    tmp325 += tmp174 * 0.6666666666666666
    del tmp174
    tmp325 += tmp176 * 0.5
    del tmp176
    tmp325 += einsum(t2.aaaa, (0, 1, 2, 3), tmp106, (1, 4, 5, 3), (0, 4, 5, 2)) * 0.6666666666666666
    del tmp106
    tmp325 += einsum(t2.abab, (0, 1, 2, 3), tmp324, (1, 4, 5, 3), (0, 4, 5, 2)) * -0.3333333333333333
    del tmp324
    rdm2.abab.oovv += einsum(t1.bb, (0, 1), tmp325, (2, 0, 3, 4), (2, 3, 4, 1)) * -6
    del tmp325

    rdm2.aaaa = pack_2e(rdm2.aaaa.oooo, rdm2.aaaa.ooov, rdm2.aaaa.oovo, rdm2.aaaa.ovoo, rdm2.aaaa.vooo, rdm2.aaaa.oovv, rdm2.aaaa.ovov, rdm2.aaaa.ovvo, rdm2.aaaa.voov, rdm2.aaaa.vovo, rdm2.aaaa.vvoo, rdm2.aaaa.ovvv, rdm2.aaaa.vovv, rdm2.aaaa.vvov, rdm2.aaaa.vvvo, rdm2.aaaa.vvvv).transpose((0, 2, 1, 3))
    rdm2.aabb = pack_2e(rdm2.abab.oooo, rdm2.abab.ooov, rdm2.abab.oovo, rdm2.abab.ovoo, rdm2.abab.vooo, rdm2.abab.oovv, rdm2.abab.ovov, rdm2.abab.ovvo, rdm2.abab.voov, rdm2.abab.vovo, rdm2.abab.vvoo, rdm2.abab.ovvv, rdm2.abab.vovv, rdm2.abab.vvov, rdm2.abab.vvvo, rdm2.abab.vvvv).transpose((0, 2, 1, 3))
    rdm2.bbbb = pack_2e(rdm2.bbbb.oooo, rdm2.bbbb.ooov, rdm2.bbbb.oovo, rdm2.bbbb.ovoo, rdm2.bbbb.vooo, rdm2.bbbb.oovv, rdm2.bbbb.ovov, rdm2.bbbb.ovvo, rdm2.bbbb.voov, rdm2.bbbb.vovo, rdm2.bbbb.vvoo, rdm2.bbbb.ovvv, rdm2.bbbb.vovv, rdm2.bbbb.vvov, rdm2.bbbb.vvvo, rdm2.bbbb.vvvv).transpose((0, 2, 1, 3))
    del rdm2.abab

    return rdm2

def hbar_matvec_ip_intermediates(f=None, t1=None, t2=None, t3=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        t1: 
        t2: 
        t3: 
        v: 

    Returns:
        tmp1: 
        tmp10: 
        tmp1000: 
        tmp1003: 
        tmp1005: 
        tmp1008: 
        tmp1012: 
        tmp1013: 
        tmp1018: 
        tmp102: 
        tmp1024: 
        tmp1028: 
        tmp1030: 
        tmp1035: 
        tmp1039: 
        tmp1040: 
        tmp1041: 
        tmp1043: 
        tmp1051: 
        tmp1052: 
        tmp1060: 
        tmp1062: 
        tmp1066: 
        tmp1067: 
        tmp1069: 
        tmp1071: 
        tmp1077: 
        tmp1080: 
        tmp1081: 
        tmp1089: 
        tmp1090: 
        tmp1092: 
        tmp1093: 
        tmp1094: 
        tmp1095: 
        tmp1098: 
        tmp1100: 
        tmp1108: 
        tmp111: 
        tmp1111: 
        tmp1112: 
        tmp1114: 
        tmp1118: 
        tmp112: 
        tmp1122: 
        tmp1125: 
        tmp1128: 
        tmp1132: 
        tmp1134: 
        tmp1138: 
        tmp1140: 
        tmp1142: 
        tmp1143: 
        tmp1144: 
        tmp1148: 
        tmp1149: 
        tmp1150: 
        tmp1151: 
        tmp1153: 
        tmp1155: 
        tmp1156: 
        tmp1158: 
        tmp1160: 
        tmp1162: 
        tmp1165: 
        tmp1167: 
        tmp117: 
        tmp1173: 
        tmp1175: 
        tmp1176: 
        tmp118: 
        tmp1188: 
        tmp1191: 
        tmp1192: 
        tmp1195: 
        tmp1198: 
        tmp120: 
        tmp1206: 
        tmp1209: 
        tmp1213: 
        tmp1217: 
        tmp1219: 
        tmp122: 
        tmp1220: 
        tmp1222: 
        tmp1223: 
        tmp1224: 
        tmp1227: 
        tmp124: 
        tmp1240: 
        tmp1242: 
        tmp1247: 
        tmp1254: 
        tmp1255: 
        tmp1256: 
        tmp1258: 
        tmp1261: 
        tmp1262: 
        tmp1269: 
        tmp1271: 
        tmp128: 
        tmp1281: 
        tmp1294: 
        tmp1298: 
        tmp130: 
        tmp1300: 
        tmp1305: 
        tmp1315: 
        tmp1320: 
        tmp1325: 
        tmp1326: 
        tmp1327: 
        tmp1331: 
        tmp1335: 
        tmp1338: 
        tmp134: 
        tmp1345: 
        tmp1351: 
        tmp1354: 
        tmp1356: 
        tmp1369: 
        tmp137: 
        tmp1379: 
        tmp138: 
        tmp1397: 
        tmp14: 
        tmp141: 
        tmp1415: 
        tmp1417: 
        tmp142: 
        tmp1421: 
        tmp1423: 
        tmp1430: 
        tmp1440: 
        tmp1441: 
        tmp1442: 
        tmp1455: 
        tmp1471: 
        tmp1472: 
        tmp1473: 
        tmp1476: 
        tmp1491: 
        tmp1492: 
        tmp150: 
        tmp1502: 
        tmp1503: 
        tmp1508: 
        tmp151: 
        tmp1518: 
        tmp1531: 
        tmp1537: 
        tmp155: 
        tmp1550: 
        tmp1555: 
        tmp1570: 
        tmp1574: 
        tmp1575: 
        tmp158: 
        tmp1588: 
        tmp16: 
        tmp160: 
        tmp1606: 
        tmp161: 
        tmp1610: 
        tmp1611: 
        tmp1614: 
        tmp1615: 
        tmp1617: 
        tmp1621: 
        tmp1623: 
        tmp1625: 
        tmp1627: 
        tmp1629: 
        tmp163: 
        tmp1636: 
        tmp1640: 
        tmp1644: 
        tmp1646: 
        tmp1652: 
        tmp1654: 
        tmp1656: 
        tmp1659: 
        tmp1665: 
        tmp1668: 
        tmp1669: 
        tmp1670: 
        tmp1671: 
        tmp1673: 
        tmp1674: 
        tmp1677: 
        tmp1679: 
        tmp1681: 
        tmp1683: 
        tmp1688: 
        tmp169: 
        tmp1696: 
        tmp1698: 
        tmp170: 
        tmp1700: 
        tmp1711: 
        tmp1713: 
        tmp1714: 
        tmp1717: 
        tmp1718: 
        tmp1719: 
        tmp1723: 
        tmp1725: 
        tmp1727: 
        tmp1744: 
        tmp1748: 
        tmp1758: 
        tmp1759: 
        tmp1761: 
        tmp1766: 
        tmp1773: 
        tmp1784: 
        tmp1786: 
        tmp1787: 
        tmp179: 
        tmp1794: 
        tmp1800: 
        tmp1804: 
        tmp1809: 
        tmp1816: 
        tmp182: 
        tmp1823: 
        tmp1826: 
        tmp1829: 
        tmp1836: 
        tmp1837: 
        tmp1838: 
        tmp184: 
        tmp1841: 
        tmp1849: 
        tmp185: 
        tmp1851: 
        tmp1854: 
        tmp1863: 
        tmp1868: 
        tmp187: 
        tmp1870: 
        tmp1882: 
        tmp1884: 
        tmp1888: 
        tmp1891: 
        tmp190: 
        tmp1900: 
        tmp1909: 
        tmp1911: 
        tmp1916: 
        tmp1919: 
        tmp1921: 
        tmp1925: 
        tmp193: 
        tmp1937: 
        tmp1939: 
        tmp194: 
        tmp1946: 
        tmp1948: 
        tmp1951: 
        tmp1961: 
        tmp1966: 
        tmp1968: 
        tmp1976: 
        tmp198: 
        tmp1984: 
        tmp1985: 
        tmp1991: 
        tmp1992: 
        tmp1998: 
        tmp2003: 
        tmp2006: 
        tmp2012: 
        tmp2025: 
        tmp2027: 
        tmp2031: 
        tmp2037: 
        tmp2049: 
        tmp2055: 
        tmp206: 
        tmp2061: 
        tmp2062: 
        tmp2068: 
        tmp2071: 
        tmp2077: 
        tmp2079: 
        tmp208: 
        tmp2083: 
        tmp2087: 
        tmp209: 
        tmp2093: 
        tmp2097: 
        tmp2098: 
        tmp21: 
        tmp2106: 
        tmp2111: 
        tmp2113: 
        tmp212: 
        tmp217: 
        tmp221: 
        tmp223: 
        tmp227: 
        tmp229: 
        tmp233: 
        tmp236: 
        tmp24: 
        tmp245: 
        tmp248: 
        tmp249: 
        tmp259: 
        tmp260: 
        tmp261: 
        tmp262: 
        tmp266: 
        tmp269: 
        tmp271: 
        tmp277: 
        tmp278: 
        tmp279: 
        tmp280: 
        tmp281: 
        tmp285: 
        tmp291: 
        tmp293: 
        tmp299: 
        tmp30: 
        tmp308: 
        tmp309: 
        tmp310: 
        tmp316: 
        tmp317: 
        tmp318: 
        tmp322: 
        tmp327: 
        tmp329: 
        tmp335: 
        tmp34: 
        tmp345: 
        tmp346: 
        tmp352: 
        tmp354: 
        tmp356: 
        tmp359: 
        tmp36: 
        tmp361: 
        tmp363: 
        tmp366: 
        tmp367: 
        tmp370: 
        tmp371: 
        tmp381: 
        tmp384: 
        tmp391: 
        tmp392: 
        tmp394: 
        tmp395: 
        tmp398: 
        tmp40: 
        tmp402: 
        tmp405: 
        tmp406: 
        tmp407: 
        tmp413: 
        tmp414: 
        tmp416: 
        tmp418: 
        tmp422: 
        tmp424: 
        tmp431: 
        tmp433: 
        tmp438: 
        tmp441: 
        tmp449: 
        tmp450: 
        tmp454: 
        tmp455: 
        tmp459: 
        tmp464: 
        tmp471: 
        tmp476: 
        tmp485: 
        tmp488: 
        tmp5: 
        tmp502: 
        tmp504: 
        tmp510: 
        tmp517: 
        tmp52: 
        tmp526: 
        tmp531: 
        tmp532: 
        tmp536: 
        tmp54: 
        tmp540: 
        tmp541: 
        tmp542: 
        tmp547: 
        tmp548: 
        tmp556: 
        tmp558: 
        tmp56: 
        tmp560: 
        tmp564: 
        tmp568: 
        tmp570: 
        tmp574: 
        tmp576: 
        tmp582: 
        tmp584: 
        tmp586: 
        tmp587: 
        tmp588: 
        tmp594: 
        tmp598: 
        tmp599: 
        tmp607: 
        tmp612: 
        tmp614: 
        tmp616: 
        tmp618: 
        tmp62: 
        tmp625: 
        tmp630: 
        tmp636: 
        tmp638: 
        tmp641: 
        tmp644: 
        tmp645: 
        tmp648: 
        tmp651: 
        tmp66: 
        tmp679: 
        tmp68: 
        tmp687: 
        tmp688: 
        tmp693: 
        tmp70: 
        tmp709: 
        tmp71: 
        tmp712: 
        tmp720: 
        tmp721: 
        tmp722: 
        tmp725: 
        tmp737: 
        tmp740: 
        tmp745: 
        tmp746: 
        tmp747: 
        tmp752: 
        tmp76: 
        tmp764: 
        tmp774: 
        tmp78: 
        tmp781: 
        tmp785: 
        tmp80: 
        tmp801: 
        tmp805: 
        tmp809: 
        tmp812: 
        tmp817: 
        tmp822: 
        tmp823: 
        tmp825: 
        tmp83: 
        tmp834: 
        tmp838: 
        tmp847: 
        tmp849: 
        tmp85: 
        tmp850: 
        tmp852: 
        tmp855: 
        tmp861: 
        tmp862: 
        tmp866: 
        tmp870: 
        tmp875: 
        tmp881: 
        tmp883: 
        tmp887: 
        tmp888: 
        tmp890: 
        tmp896: 
        tmp898: 
        tmp905: 
        tmp907: 
        tmp909: 
        tmp912: 
        tmp917: 
        tmp925: 
        tmp930: 
        tmp935: 
        tmp937: 
        tmp944: 
        tmp95: 
        tmp956: 
        tmp960: 
        tmp961: 
        tmp969: 
        tmp971: 
        tmp972: 
        tmp98: 
        tmp981: 
        tmp983: 
        tmp993: 
    """

    tmp24 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3))) * -1
    tmp24 += np.transpose(v.bbbb.ovov, (0, 2, 3, 1))
    tmp504 = np.copy(v.aaaa.ovvv) * -1
    tmp504 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))
    tmp599 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.vvvv, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp2027 = np.copy(v.bbbb.ovvv)
    tmp2027 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)) * -1
    tmp2098 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.vvvv, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp405 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp651 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.abaaba, (4, 5, 1, 6, 3, 7), (4, 0, 5, 2, 6, 7))
    tmp725 = einsum(v.aabb.vvoo, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 2, 3, 6, 0))
    tmp834 = einsum(t1.bb, (0, 1), v.aabb.ovoo, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp862 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.abaaba, (4, 3, 5, 6, 7, 1), (4, 5, 0, 2, 6, 7))
    tmp890 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 3), (5, 4, 0, 6))
    tmp898 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 3, 6, 1), (5, 4, 6, 2)) * -1
    tmp1043 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oovv, (4, 0, 5, 3), (4, 1, 2, 5))
    tmp1114 = einsum(t1.aa, (0, 1), v.aabb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1122 = einsum(t1.aa, (0, 1), v.aabb.vvov, (2, 1, 3, 4), (0, 3, 2, 4))
    tmp1125 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvoo, (4, 2, 5, 1), (0, 5, 4, 3))
    tmp1711 = einsum(t1.bb, (0, 1), v.bbbb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1725 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.babbab, (4, 5, 3, 6, 1, 7), (5, 0, 4, 2, 6, 7))
    tmp51 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp542 = np.copy(np.transpose(tmp51, (0, 2, 1, 3)))
    tmp542 += np.transpose(tmp51, (0, 3, 2, 1)) * -1
    tmp118 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp594 = einsum(tmp118, (0, 1, 2, 3), t2.aaaa, (4, 2, 5, 6), (0, 1, 4, 3, 5, 6)) * -1
    tmp613 = einsum(t1.aa, (0, 1), v.aaaa.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp614 = einsum(t1.aa, (0, 1), tmp613, (2, 3, 1, 4), (0, 2, 3, 4))
    del tmp613
    tmp128 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovvv, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp616 = einsum(t1.aa, (0, 1), tmp128, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp184 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp1132 = einsum(t2.abab, (0, 1, 2, 3), tmp184, (4, 5, 6, 1), (4, 0, 5, 6, 2, 3))
    tmp193 = einsum(t1.bb, (0, 1), v.aabb.ovov, (2, 3, 4, 1), (2, 0, 4, 3))
    tmp1155 = einsum(t1.bb, (0, 1), tmp193, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1165 = einsum(t1.aa, (0, 1), v.aabb.ovov, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp1167 = einsum(t1.aa, (0, 1), tmp1165, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp249 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 5), (0, 4, 3, 5))
    tmp1240 = einsum(t2.abab, (0, 1, 2, 3), tmp249, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6))
    tmp170 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 5, 3), (1, 5, 2, 4))
    tmp1242 = einsum(t2.abab, (0, 1, 2, 3), tmp170, (4, 1, 5, 2), (0, 4, 5, 3))
    tmp1570 = einsum(t2.abab, (0, 1, 2, 3), tmp184, (4, 0, 5, 6), (4, 5, 1, 6, 2, 3))
    tmp233 = np.copy(v.aaaa.ooov)
    tmp233 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3)) * -1
    tmp1884 = einsum(tmp233, (0, 1, 2, 3), t3.babbab, (4, 2, 5, 6, 3, 7), (1, 0, 4, 5, 6, 7))
    tmp354 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp2093 = einsum(tmp354, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (0, 1, 4, 3, 5, 6)) * -1
    tmp2112 = einsum(t1.bb, (0, 1), v.bbbb.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp2113 = einsum(t1.bb, (0, 1), tmp2112, (2, 3, 1, 4), (0, 2, 3, 4))
    del tmp2112
    tmp416 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 7), (4, 5, 0, 6, 7, 1))
    tmp574 = einsum(t1.aa, (0, 1), tmp416, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    tmp454 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 3, 6), (4, 5, 6, 1))
    tmp576 = einsum(t1.aa, (0, 1), tmp454, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp137 = einsum(t1.aa, (0, 1), v.aaaa.ovvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp138 = einsum(t1.aa, (0, 1), tmp137, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp618 = einsum(t1.aa, (0, 1), tmp138, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp648 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 7), (4, 5, 2, 6, 7, 1))
    tmp693 = einsum(t1.aa, (0, 1), tmp648, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    tmp206 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp752 = einsum(tmp206, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (0, 4, 3, 2, 5, 6))
    tmp774 = einsum(tmp184, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (4, 0, 2, 3, 5, 6))
    tmp261 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 3), (5, 0, 4, 6))
    tmp838 = einsum(t1.aa, (0, 1), tmp261, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp785 = einsum(t1.aa, (0, 1), v.aabb.vvoo, (2, 1, 3, 4), (0, 3, 4, 2))
    tmp937 = einsum(t1.bb, (0, 1), tmp785, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1156 = einsum(t1.bb, (0, 1), v.aabb.oovv, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp1158 = einsum(t1.aa, (0, 1), tmp1156, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp160 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 1, 6, 3), (5, 4, 0, 6))
    tmp1162 = einsum(t1.bb, (0, 1), tmp160, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1128 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 1, 5), (0, 4, 3, 5))
    tmp1195 = einsum(t1.bb, (0, 1), tmp1128, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp1013 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 4, 5, 3), (1, 2, 4, 5))
    tmp1198 = einsum(t1.aa, (0, 1), tmp1013, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp179 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 5, 3), (4, 1, 5, 2))
    tmp1209 = einsum(t1.bb, (0, 1), tmp179, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp260 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (4, 2, 5, 1), (0, 4, 5, 3))
    tmp1213 = einsum(t1.aa, (0, 1), tmp260, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp185 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 5, 3), (0, 1, 5, 4))
    tmp1223 = einsum(t1.bb, (0, 1), tmp185, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp277 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp1224 = einsum(t1.aa, (0, 1), tmp277, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp278 = einsum(t1.bb, (0, 1), v.aabb.ovvv, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp279 = einsum(t1.aa, (0, 1), tmp278, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1262 = einsum(t1.aa, (0, 1), tmp279, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1269 = einsum(t2.abab, (0, 1, 2, 3), tmp118, (4, 5, 0, 6), (4, 5, 6, 1, 2, 3)) * -1
    tmp1518 = einsum(t2.abab, (0, 1, 2, 3), tmp354, (4, 5, 1, 6), (0, 4, 5, 6, 2, 3)) * -1
    tmp1723 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 7), (5, 0, 4, 6, 7, 3))
    tmp1766 = einsum(t1.bb, (0, 1), tmp1723, (2, 3, 4, 5, 6, 1), (2, 3, 0, 4, 5, 6))
    tmp151 = einsum(t1.bb, (0, 1), v.aabb.ooov, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp1841 = einsum(tmp151, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (1, 0, 2, 4, 5, 6))
    tmp1870 = einsum(tmp249, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 1, 4, 5, 6, 2))
    tmp212 = np.copy(v.bbbb.oovv) * -1
    tmp212 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp1537 = einsum(t1.bb, (0, 1), tmp212, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1891 = einsum(t1.bb, (0, 1), tmp1537, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp359 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovvv, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp1916 = einsum(t1.bb, (0, 1), tmp359, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1787 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 1, 6), (4, 5, 6, 3))
    tmp1921 = einsum(t1.bb, (0, 1), tmp1787, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp366 = einsum(t1.bb, (0, 1), v.bbbb.ovvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp367 = einsum(t1.bb, (0, 1), tmp366, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1925 = einsum(t1.bb, (0, 1), tmp367, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1713 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 2, 6, 7, 3))
    tmp2083 = einsum(t1.bb, (0, 1), tmp1713, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    tmp52 = np.copy(np.transpose(tmp51, (0, 2, 1, 3))) * -1
    tmp52 += np.transpose(tmp51, (0, 3, 2, 1))
    tmp570 = einsum(t2.aaaa, (0, 1, 2, 3), tmp52, (4, 1, 5, 6), (0, 4, 5, 6, 2, 3)) * -1
    tmp40 = np.copy(v.aaaa.oovv) * -1
    tmp40 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp584 = einsum(t1.aa, (0, 1), tmp40, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp588 = einsum(t1.aa, (0, 1), tmp584, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp140 = einsum(t1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    tmp141 = einsum(t1.aa, (0, 1), tmp140, (2, 3, 4, 1), (2, 0, 4, 3))
    del tmp140
    tmp607 = einsum(tmp141, (0, 1, 2, 3), t2.aaaa, (4, 2, 5, 6), (1, 0, 4, 3, 5, 6))
    tmp1 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp1 += np.transpose(v.bbbb.ovov, (0, 2, 3, 1)) * -1
    tmp413 = einsum(tmp1, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 3, 7), (4, 5, 1, 6, 7, 2))
    tmp823 = einsum(t1.bb, (0, 1), tmp413, (2, 3, 4, 5, 6, 1), (3, 2, 0, 4, 5, 6))
    tmp196 = einsum(t1.bb, (0, 1), v.aabb.vvov, (2, 3, 4, 1), (0, 4, 2, 3))
    tmp825 = einsum(t1.aa, (0, 1), tmp196, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1261 = einsum(t1.bb, (0, 1), tmp825, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1271 = einsum(t2.abab, (0, 1, 2, 3), tmp141, (4, 5, 0, 6), (5, 4, 6, 1, 2, 3))
    tmp369 = einsum(t1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    tmp370 = einsum(t1.bb, (0, 1), tmp369, (2, 3, 4, 1), (2, 0, 4, 3))
    del tmp369
    tmp1531 = einsum(t2.abab, (0, 1, 2, 3), tmp370, (4, 5, 1, 6), (0, 5, 4, 6, 2, 3))
    tmp21 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3))) * -1
    tmp21 += np.transpose(v.aaaa.ovov, (0, 2, 3, 1))
    tmp1759 = einsum(tmp21, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 3, 7), (1, 4, 5, 2, 6, 7))
    tmp1919 = einsum(t1.aa, (0, 1), tmp1759, (2, 3, 4, 1, 5, 6), (0, 2, 3, 4, 5, 6))
    tmp307 = einsum(t1.bb, (0, 1), v.bbbb.ooov, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp317 = np.copy(np.transpose(tmp307, (0, 2, 1, 3))) * -1
    tmp317 += np.transpose(tmp307, (0, 3, 2, 1))
    tmp2079 = einsum(t2.bbbb, (0, 1, 2, 3), tmp317, (4, 1, 5, 6), (0, 4, 5, 6, 2, 3)) * -1
    tmp2106 = einsum(tmp370, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 6), (1, 0, 4, 3, 5, 6))
    tmp129 = einsum(t1.aa, (0, 1), tmp118, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    tmp130 = np.copy(tmp129) * -1
    tmp130 += np.transpose(tmp128, (1, 0, 2, 3)) * -1
    tmp262 = np.copy(tmp260) * -0.5
    tmp262 += tmp261
    tmp110 = einsum(t1.aa, (0, 1), v.aaaa.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp546 = einsum(t1.aa, (0, 1), tmp110, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp547 = np.copy(tmp546) * 0.5
    tmp547 += np.transpose(tmp546, (0, 1, 3, 2)) * -0.5
    del tmp546
    tmp545 = einsum(v.aaaa.oooo, (0, 1, 2, 3), t2.aaaa, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp547 += np.transpose(tmp545, (1, 0, 3, 2))
    del tmp545
    tmp194 = einsum(t1.aa, (0, 1), tmp193, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp781 = einsum(tmp194, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (0, 4, 2, 3, 5, 6))
    tmp859 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.abaaba, (1, 4, 2, 3, 5, 6), (0, 4, 6, 5)) * -1
    tmp861 = np.copy(tmp859)
    tmp860 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.babbab, (4, 1, 2, 5, 6, 3), (0, 4, 6, 5))
    tmp861 += tmp860
    tmp873 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.abaaba, (4, 3, 0, 5, 6, 1), (4, 2, 5, 6))
    tmp875 = np.copy(tmp873)
    tmp874 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.babbab, (2, 4, 1, 3, 5, 6), (4, 0, 5, 6))
    tmp875 += tmp874
    tmp1118 = einsum(t2.abab, (0, 1, 2, 3), tmp194, (4, 5, 6, 1), (4, 0, 5, 6, 2, 3))
    tmp907 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 1, 4, 7, 6))
    tmp1144 = np.copy(np.transpose(tmp907, (0, 2, 1, 3, 4, 5))) * -1
    tmp992 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oooo, (4, 5, 6, 1), (0, 4, 5, 6, 2, 3))
    tmp1144 += np.transpose(tmp992, (0, 2, 1, 3, 4, 5))
    tmp1151 = einsum(t1.bb, (0, 1), tmp249, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp1153 = einsum(t1.aa, (0, 1), tmp1151, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp208 = einsum(t1.aa, (0, 1), tmp170, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1258 = einsum(t1.bb, (0, 1), tmp208, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1325 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oooo, (4, 0, 5, 6), (4, 1, 5, 6, 2, 3))
    tmp1327 = np.copy(np.transpose(tmp1325, (0, 1, 3, 2, 4, 5)))
    tmp1326 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.babbab, (4, 1, 5, 6, 7, 3), (0, 4, 5, 2, 7, 6))
    tmp1327 += np.transpose(tmp1326, (0, 2, 3, 1, 4, 5)) * -1
    tmp1606 = einsum(t2.abab, (0, 1, 2, 3), tmp194, (4, 0, 5, 6), (4, 5, 1, 6, 2, 3))
    tmp1671 = np.copy(np.transpose(tmp1325, (0, 1, 3, 2, 4, 5)))
    tmp1671 += np.transpose(tmp1326, (0, 2, 1, 3, 4, 5)) * -1
    tmp1314 = einsum(t2.abab, (0, 1, 2, 3), v.bbbb.oooo, (4, 5, 6, 1), (0, 4, 5, 6, 2, 3))
    tmp1674 = np.copy(np.transpose(tmp1314, (0, 2, 3, 1, 4, 5)))
    tmp1674 += np.transpose(tmp1314, (0, 3, 2, 1, 4, 5)) * -1
    tmp30 = np.copy(v.bbbb.ooov)
    tmp30 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)) * -1
    tmp1673 = einsum(tmp30, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 1, 4, 7, 6))
    tmp1674 += np.transpose(tmp1673, (0, 3, 2, 1, 4, 5))
    tmp1714 = np.copy(np.transpose(tmp1713, (0, 1, 2, 4, 3, 5))) * -0.16666666666666666
    tmp1714 += einsum(tmp1, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 3), (4, 5, 1, 6, 7, 2)) * -1
    tmp1800 = np.copy(np.transpose(tmp1787, (0, 2, 1, 3))) * -0.16666666666666666
    tmp1799 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 3, 6), (4, 5, 6, 1)) * -1
    tmp1800 += np.transpose(tmp1799, (0, 2, 1, 3)) * -1
    tmp1295 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6))
    tmp1835 = einsum(t1.bb, (0, 1), tmp1295, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp1836 = np.copy(np.transpose(tmp1835, (0, 1, 3, 2, 5, 4)))
    tmp1836 += einsum(v.aabb.oovv, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 1, 4, 5, 6, 2))
    tmp344 = einsum(t1.bb, (0, 1), v.bbbb.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp2060 = einsum(t1.bb, (0, 1), tmp344, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp2061 = np.copy(tmp2060) * 0.5
    tmp2061 += np.transpose(tmp2060, (0, 1, 3, 2)) * -0.5
    del tmp2060
    tmp2059 = einsum(v.bbbb.oooo, (0, 1, 2, 3), t2.bbbb, (3, 1, 4, 5), (0, 2, 4, 5)) * -1
    tmp2061 += np.transpose(tmp2059, (1, 0, 3, 2))
    del tmp2059
    tmp70 = np.copy(f.aa.ov)
    tmp12 = einsum(t1.bb, (0, 1), v.aabb.ovov, (2, 3, 0, 1), (2, 3))
    tmp70 += tmp12
    tmp69 = einsum(t1.aa, (0, 1), tmp40, (0, 2, 1, 3), (2, 3))
    tmp70 += tmp69
    del tmp69
    tmp48 = einsum(t2.aaaa, (0, 1, 2, 3), tmp21, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp78 = np.copy(tmp48) * -1
    tmp47 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 1, 3), (0, 4, 2, 5))
    tmp78 += tmp47
    tmp186 = einsum(t1.aa, (0, 1), tmp184, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp187 = np.copy(tmp186) * -1
    tmp187 += tmp185
    tmp218 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp229 = np.copy(tmp218)
    tmp228 = einsum(t2.abab, (0, 1, 2, 3), tmp21, (0, 4, 5, 2), (4, 1, 5, 3)) * 0.5
    tmp229 += tmp228
    del tmp228
    tmp292 = np.copy(v.aabb.oovv)
    tmp292 += np.transpose(tmp249, (0, 1, 3, 2)) * -1
    tmp293 = einsum(t1.bb, (0, 1), tmp292, (2, 3, 1, 4), (3, 2, 0, 4)) * -1
    tmp293 += einsum(t1.bb, (0, 1), tmp151, (2, 3, 4, 0), (3, 2, 4, 1))
    tmp225 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 5), (1, 4, 3, 5))
    tmp322 = np.copy(tmp225) * 0.5
    tmp321 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1, (1, 4, 5, 3), (4, 0, 5, 2))
    tmp322 += np.transpose(tmp321, (1, 0, 3, 2)) * -1
    tmp360 = einsum(t1.bb, (0, 1), tmp354, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    tmp361 = np.copy(tmp360) * -1
    tmp361 += np.transpose(tmp359, (1, 0, 2, 3)) * -1
    tmp412 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 1), (4, 5, 2, 6, 7, 3))
    tmp414 = np.copy(np.transpose(tmp412, (0, 1, 2, 4, 3, 5))) * -6
    tmp414 += np.transpose(tmp413, (1, 0, 2, 4, 3, 5)) * -1
    tmp423 = einsum(tmp233, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 2, 6, 7, 3), (4, 5, 0, 1, 6, 7)) * 6
    tmp424 = np.copy(np.transpose(tmp423, (0, 1, 3, 2, 4, 5)))
    del tmp423
    tmp422 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 7), (4, 5, 0, 1, 6, 7))
    tmp424 += np.transpose(tmp422, (0, 1, 3, 2, 5, 4)) * -1
    tmp120 = np.copy(v.aaaa.ovvv) * -1
    tmp120 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp463 = einsum(t2.aaaa, (0, 1, 2, 3), tmp120, (1, 3, 4, 5), (0, 2, 4, 5)) * 2
    tmp464 = np.copy(np.transpose(tmp463, (0, 1, 3, 2))) * -1
    del tmp463
    tmp462 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 5, 1, 3), (0, 2, 4, 5))
    tmp464 += np.transpose(tmp462, (0, 1, 3, 2))
    tmp469 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 6, 7, 3, 1), (4, 5, 6, 0, 7, 2)) * -1
    tmp471 = np.copy(tmp469)
    del tmp469
    tmp459 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 6, 7, 3, 1), (4, 5, 6, 0, 2, 7)) * -1
    tmp470 = einsum(t1.aa, (0, 1), tmp459, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp471 += np.transpose(tmp470, (0, 1, 2, 3, 5, 4)) * -1
    del tmp470
    tmp596 = einsum(tmp118, (0, 1, 2, 3), t2.aaaa, (3, 2, 4, 5), (1, 0, 4, 5))
    tmp598 = np.copy(np.transpose(tmp596, (0, 1, 3, 2))) * -1
    del tmp596
    tmp597 = einsum(t1.aa, (0, 1), tmp129, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    del tmp129
    tmp598 += np.transpose(tmp597, (0, 1, 3, 2)) * -1
    del tmp597
    tmp637 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 6, 3), (0, 4, 1, 6, 2, 5))
    tmp638 = np.copy(tmp637)
    tmp627 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 6, 3), (0, 4, 5, 1, 6, 2))
    tmp628 = einsum(t1.aa, (0, 1), tmp627, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    tmp638 += np.transpose(tmp628, (0, 1, 2, 3, 5, 4)) * -1
    tmp161 = np.copy(v.bbbb.ooov) * -1
    tmp161 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))
    tmp644 = einsum(tmp161, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 3, 7), (4, 5, 1, 2, 6, 7))
    tmp645 = np.copy(np.transpose(tmp644, (1, 0, 3, 2, 5, 4)))
    tmp645 += einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 1, 7), (4, 5, 2, 3, 6, 7)) * -6
    tmp815 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 7, 3, 1), (4, 6, 5, 2, 7, 0))
    tmp817 = np.copy(tmp815)
    del tmp815
    tmp812 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 7, 3, 1), (4, 6, 0, 5, 2, 7))
    tmp816 = einsum(t1.aa, (0, 1), tmp812, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    tmp817 += np.transpose(tmp816, (0, 1, 2, 3, 5, 4)) * -1
    del tmp816
    tmp739 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 2, 3, 6))
    tmp846 = einsum(t1.bb, (0, 1), tmp739, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    tmp847 = np.copy(tmp846) * -1
    tmp798 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 2, 6, 3))
    tmp847 += tmp798
    tmp74 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 2, 5, 3))
    tmp849 = np.copy(tmp74)
    tmp848 = einsum(t2.abab, (0, 1, 2, 3), tmp212, (1, 4, 3, 5), (0, 4, 2, 5)) * 0.5
    tmp849 += tmp848
    del tmp848
    tmp888 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 3, 7, 1), (4, 6, 0, 2, 5, 7)) * -1
    tmp895 = einsum(t1.aa, (0, 1), tmp888, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 1, 6))
    tmp896 = np.copy(tmp895) * -1
    del tmp895
    tmp894 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 3, 7, 1), (4, 6, 0, 5, 2, 7)) * -1
    tmp896 += tmp894
    del tmp894
    tmp904 = einsum(t1.bb, (0, 1), tmp812, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    tmp905 = np.copy(tmp904) * -1
    del tmp904
    tmp903 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 6, 7, 3, 1), (4, 6, 0, 5, 7, 2))
    tmp905 += tmp903
    del tmp903
    tmp1002 = einsum(t2.abab, (0, 1, 2, 3), v.aaaa.oooo, (4, 5, 6, 0), (4, 5, 6, 1, 2, 3))
    tmp1003 = np.copy(np.transpose(tmp1002, (0, 2, 1, 3, 4, 5)))
    tmp111 = np.copy(v.aaaa.ooov)
    tmp111 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)) * -1
    tmp883 = einsum(tmp111, (0, 1, 2, 3), t3.abaaba, (4, 5, 2, 6, 7, 3), (4, 0, 1, 5, 6, 7))
    tmp1003 += np.transpose(tmp883, (0, 2, 1, 3, 4, 5))
    tmp1003 += np.transpose(tmp1002, (2, 1, 0, 3, 4, 5)) * -1
    tmp1006 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (4, 0, 1, 5))
    tmp1008 = np.copy(np.transpose(tmp1006, (0, 2, 1, 3)))
    tmp190 = np.copy(v.aaaa.ovvv)
    tmp190 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)) * -1
    tmp1007 = einsum(t2.abab, (0, 1, 2, 3), tmp190, (0, 2, 4, 5), (1, 4, 5, 3)) * 0.5
    tmp1008 += np.transpose(tmp1007, (0, 2, 1, 3))
    del tmp1007
    tmp1027 = einsum(t2.abab, (0, 1, 2, 3), tmp233, (4, 5, 0, 2), (4, 5, 1, 3)) * 0.5
    tmp1028 = np.copy(np.transpose(tmp1027, (1, 0, 2, 3)))
    del tmp1027
    tmp231 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp1028 += np.transpose(tmp231, (1, 0, 2, 3))
    tmp1050 = einsum(t1.bb, (0, 1), tmp627, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    del tmp627
    tmp1051 = np.copy(np.transpose(tmp1050, (0, 2, 1, 3, 4, 5))) * -1
    tmp1049 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oovv, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6))
    tmp1051 += np.transpose(tmp1049, (0, 2, 1, 3, 4, 5))
    del tmp1049
    tmp1148 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oooo, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp1150 = np.copy(tmp1148)
    tmp178 = einsum(t1.aa, (0, 1), v.aabb.oooo, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp1149 = einsum(t1.bb, (0, 1), tmp178, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1150 += tmp1149
    tmp1173 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvvv, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp1176 = np.copy(tmp1173)
    tmp1174 = einsum(t1.aa, (0, 1), v.aabb.vvvv, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp1175 = einsum(t1.bb, (0, 1), tmp1174, (2, 3, 4, 1), (2, 0, 3, 4))
    del tmp1174
    tmp1176 += tmp1175
    tmp269 = np.copy(v.bbbb.ovvv)
    tmp269 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)) * -1
    tmp1226 = einsum(t2.abab, (0, 1, 2, 3), tmp269, (1, 4, 3, 5), (0, 2, 4, 5))
    tmp1227 = np.copy(tmp1226) * -1
    del tmp1226
    tmp958 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp1227 += np.transpose(tmp958, (0, 1, 3, 2)) * 2
    tmp327 = np.copy(v.bbbb.ooov)
    tmp327 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3)) * -1
    tmp1305 = einsum(tmp327, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 4, 0, 1, 7, 6))
    tmp1315 = np.copy(np.transpose(tmp1305, (0, 1, 3, 2, 4, 5)))
    tmp1315 += np.transpose(tmp1314, (0, 2, 1, 3, 4, 5))
    tmp1315 += np.transpose(tmp1314, (0, 3, 2, 1, 4, 5)) * -1
    del tmp1314
    tmp1349 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 3, 7, 1), (5, 4, 6, 0, 7, 2)) * -1
    tmp1351 = np.copy(np.transpose(tmp1349, (0, 2, 1, 3, 4, 5))) * -1
    del tmp1349
    tmp1345 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 3, 7, 1), (5, 4, 6, 0, 2, 7)) * -1
    tmp1350 = einsum(t1.bb, (0, 1), tmp1345, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    tmp1351 += np.transpose(tmp1350, (0, 2, 1, 3, 4, 5))
    del tmp1350
    tmp1508 = np.copy(tmp74) * 2
    tmp1507 = einsum(t2.abab, (0, 1, 2, 3), tmp212, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp1508 += tmp1507
    del tmp1507
    tmp1412 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 4, 5, 2, 1, 6))
    tmp1669 = np.copy(np.transpose(tmp1412, (0, 2, 1, 3, 4, 5))) * -1
    tmp1296 = einsum(t1.aa, (0, 1), tmp1295, (2, 0, 3, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp1295
    tmp1669 += np.transpose(tmp1296, (0, 2, 1, 3, 4, 5))
    tmp326 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 2, 4, 5), (1, 4, 5, 3))
    tmp1698 = np.copy(np.transpose(tmp326, (0, 2, 1, 3))) * 0.5
    tmp1697 = einsum(t2.bbbb, (0, 1, 2, 3), tmp327, (4, 5, 1, 3), (0, 4, 5, 2))
    tmp1698 += np.transpose(tmp1697, (0, 2, 1, 3))
    del tmp1697
    tmp1715 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 7, 3), (0, 4, 5, 1, 6, 7))
    tmp1717 = np.copy(np.transpose(tmp1715, (0, 2, 1, 3, 5, 4)))
    tmp1716 = einsum(tmp21, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 3, 7), (1, 4, 5, 2, 6, 7)) * 0.16666666666666666
    tmp1717 += np.transpose(tmp1716, (0, 2, 1, 3, 5, 4))
    del tmp1716
    tmp1719 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 7, 3), (0, 1, 4, 5, 6, 7)) * -3
    tmp1718 = einsum(v.aabb.oooo, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (0, 1, 4, 2, 5, 6))
    tmp1719 += np.transpose(tmp1718, (0, 1, 2, 3, 5, 4)) * -1
    tmp10 = np.copy(v.aaaa.ooov) * -1
    tmp10 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3))
    tmp1719 += einsum(tmp10, (0, 1, 2, 3), t3.babbab, (4, 2, 5, 6, 3, 7), (1, 0, 4, 5, 6, 7)) * 0.5
    tmp1746 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 7, 1, 3), (5, 0, 4, 6, 7, 2))
    tmp1748 = np.copy(np.transpose(tmp1746, (0, 1, 3, 2, 4, 5))) * -1
    del tmp1746
    tmp1331 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 7, 1, 3), (5, 0, 4, 6, 2, 7))
    tmp1747 = einsum(t1.bb, (0, 1), tmp1331, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp1748 += np.transpose(tmp1747, (0, 1, 3, 2, 5, 4))
    del tmp1747
    tmp5 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp5 += np.transpose(v.aaaa.ovov, (0, 2, 3, 1)) * -1
    tmp13 = einsum(t1.aa, (0, 1), tmp5, (0, 2, 3, 1), (2, 3))
    tmp14 = np.copy(tmp13) * -1
    del tmp13
    tmp14 += f.aa.ov
    tmp14 += tmp12
    del tmp12
    tmp1794 = einsum(tmp14, (0, 1), t3.babbab, (2, 3, 4, 5, 1, 6), (0, 3, 2, 4, 5, 6))
    tmp1585 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 6), (0, 4, 1, 5, 3, 6))
    tmp1823 = np.copy(tmp1585)
    tmp1470 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (4, 2, 5, 6), (0, 4, 1, 5, 6, 3))
    tmp1822 = einsum(t1.bb, (0, 1), tmp1470, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp1823 += np.transpose(tmp1822, (0, 1, 2, 3, 5, 4)) * -1
    tmp1826 = np.copy(tmp225) * 0.5
    tmp1825 = einsum(t2.bbbb, (0, 1, 2, 3), tmp212, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp1826 += tmp1825
    del tmp1825
    tmp1945 = einsum(t2.bbbb, (0, 1, 2, 3), tmp212, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp1946 = np.copy(tmp1945)
    del tmp1945
    tmp1946 += tmp225
    tmp1967 = einsum(tmp327, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 7, 3), (4, 5, 0, 1, 6, 7))
    tmp1968 = np.copy(np.transpose(tmp1967, (0, 1, 3, 2, 4, 5)))
    tmp1966 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 2, 3, 6, 7))
    tmp1968 += np.transpose(tmp1966, (0, 1, 3, 2, 5, 4)) * -0.16666666666666666
    tmp1997 = einsum(t2.bbbb, (0, 1, 2, 3), tmp269, (1, 4, 3, 5), (0, 2, 4, 5))
    tmp1998 = np.copy(tmp1997) * -1
    del tmp1997
    tmp1742 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 2, 4, 5), (1, 3, 4, 5))
    tmp1998 += np.transpose(tmp1742, (0, 1, 3, 2)) * 0.5
    tmp2001 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 3, 1), (4, 5, 6, 0, 7, 2)) * -1
    tmp2003 = np.copy(tmp2001)
    del tmp2001
    tmp1992 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 6, 7, 1, 3), (4, 5, 6, 0, 2, 7))
    tmp2002 = einsum(t1.bb, (0, 1), tmp1992, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp2003 += np.transpose(tmp2002, (0, 1, 2, 3, 5, 4)) * -1
    del tmp2002
    tmp2095 = einsum(tmp354, (0, 1, 2, 3), t2.bbbb, (3, 2, 4, 5), (1, 0, 4, 5))
    tmp2097 = np.copy(np.transpose(tmp2095, (0, 1, 3, 2))) * -1
    del tmp2095
    tmp2096 = einsum(t1.bb, (0, 1), tmp360, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    del tmp360
    tmp2097 += np.transpose(tmp2096, (0, 1, 3, 2)) * -1
    del tmp2096
    tmp207 = einsum(t1.aa, (0, 1), tmp206, (2, 0, 3, 4), (2, 4, 3, 1))
    tmp209 = np.copy(np.transpose(tmp207, (0, 2, 1, 3)))
    tmp209 += np.transpose(tmp208, (0, 2, 1, 3))
    tmp223 = np.copy(f.bb.ov)
    tmp222 = einsum(t1.bb, (0, 1), tmp212, (0, 2, 1, 3), (2, 3))
    tmp223 += tmp222
    del tmp222
    tmp32 = einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 1, 2, 3), (2, 3))
    tmp223 += tmp32
    tmp393 = einsum(t2.aaaa, (0, 1, 2, 3), tmp40, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp394 = np.copy(tmp393)
    del tmp393
    tmp394 += tmp47
    tmp534 = einsum(t1.aa, (0, 1), tmp51, (2, 3, 4, 0), (2, 4, 3, 1))
    del tmp51
    tmp535 = einsum(t1.aa, (0, 1), tmp534, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp534
    tmp536 = np.copy(tmp535) * 0.5
    tmp407 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.aaaa, (1, 2, 4, 5), (0, 4, 5, 3))
    tmp533 = einsum(t1.aa, (0, 1), tmp407, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp536 += np.transpose(tmp533, (0, 1, 3, 2)) * -1
    del tmp533
    tmp536 += np.transpose(tmp535, (0, 1, 3, 2)) * -0.5
    del tmp535
    tmp83 = np.copy(v.aaaa.ooov) * -1
    tmp83 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1))
    tmp557 = einsum(t2.aaaa, (0, 1, 2, 3), tmp83, (1, 4, 5, 3), (0, 4, 5, 2)) * 2
    tmp558 = np.copy(np.transpose(tmp557, (0, 2, 1, 3)))
    del tmp557
    tmp82 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 1, 3), (0, 4, 5, 2))
    tmp558 += np.transpose(tmp82, (0, 2, 1, 3))
    tmp95 = np.copy(tmp47) * 0.5
    tmp94 = einsum(t2.aaaa, (0, 1, 2, 3), tmp21, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp95 += tmp94 * -1
    tmp560 = einsum(t2.aaaa, (0, 1, 2, 3), tmp95, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * -1
    tmp153 = einsum(t2.abab, (0, 1, 2, 3), tmp1, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp736 = np.copy(tmp153) * -1
    tmp736 += tmp74 * 2
    tmp737 = einsum(t2.abab, (0, 1, 2, 3), tmp736, (4, 5, 6, 3), (0, 4, 1, 5, 2, 6)) * 0.5
    tmp1071 = np.copy(tmp218) * 2
    tmp1070 = einsum(t2.abab, (0, 1, 2, 3), tmp40, (0, 4, 2, 5), (4, 1, 5, 3))
    tmp1071 += tmp1070
    del tmp1070
    tmp280 = np.copy(tmp184)
    tmp280 += tmp194
    tmp1134 = einsum(t2.abab, (0, 1, 2, 3), tmp280, (4, 5, 6, 1), (0, 4, 5, 6, 2, 3))
    tmp1217 = np.copy(tmp185)
    tmp1217 += tmp825
    tmp1219 = einsum(t1.bb, (0, 1), tmp1217, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1220 = np.copy(tmp277)
    tmp1220 += tmp279
    tmp1222 = einsum(t1.aa, (0, 1), tmp1220, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1299 = einsum(t2.abab, (0, 1, 2, 3), tmp40, (0, 4, 2, 5), (4, 1, 5, 3)) * 0.5
    tmp1300 = np.copy(tmp1299)
    del tmp1299
    tmp1300 += tmp218
    tmp227 = np.copy(tmp225)
    tmp226 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1, (1, 4, 5, 3), (4, 0, 5, 2)) * 2
    tmp227 += np.transpose(tmp226, (1, 0, 3, 2)) * -1
    tmp1455 = einsum(t2.abab, (0, 1, 2, 3), tmp227, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * 0.5
    tmp1471 = einsum(t1.aa, (0, 1), tmp1470, (2, 0, 3, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp1470
    tmp1473 = np.copy(np.transpose(tmp1471, (0, 1, 3, 2, 4, 5)))
    tmp1472 = einsum(t2.abab, (0, 1, 2, 3), tmp170, (4, 5, 6, 2), (0, 1, 4, 5, 6, 3))
    tmp1473 += np.transpose(tmp1472, (0, 1, 3, 2, 4, 5))
    tmp1476 = np.copy(np.transpose(tmp1471, (0, 1, 3, 2, 4, 5)))
    tmp1476 += np.transpose(tmp1472, (0, 1, 3, 2, 4, 5))
    tmp1138 = einsum(t2.abab, (0, 1, 2, 3), tmp184, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp1575 = np.copy(tmp1138)
    tmp1574 = einsum(t1.bb, (0, 1), tmp186, (2, 3, 0, 4), (2, 3, 4, 1))
    del tmp186
    tmp1575 += tmp1574
    tmp1625 = np.copy(tmp1002)
    tmp855 = einsum(tmp83, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 3), (4, 1, 2, 5, 6, 7))
    tmp1625 += np.transpose(tmp855, (0, 2, 1, 3, 4, 5))
    tmp1625 += np.transpose(tmp1002, (2, 1, 0, 3, 4, 5)) * -1
    del tmp1002
    tmp159 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 2, 3, 5))
    tmp1629 = np.copy(np.transpose(tmp159, (0, 2, 1, 3)))
    tmp1628 = einsum(t2.abab, (0, 1, 2, 3), tmp161, (1, 4, 5, 3), (0, 4, 5, 2)) * 0.5
    tmp1629 += np.transpose(tmp1628, (0, 2, 1, 3))
    del tmp1628
    tmp1652 = einsum(t2.abab, (0, 1, 2, 3), tmp95, (4, 5, 6, 2), (0, 4, 5, 1, 6, 3))
    tmp1700 = einsum(t2.abab, (0, 1, 2, 3), tmp280, (4, 0, 5, 6), (4, 5, 1, 6, 2, 3))
    tmp1782 = einsum(t1.bb, (0, 1), tmp307, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp1783 = einsum(t1.bb, (0, 1), tmp1782, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp1782
    tmp1784 = np.copy(tmp1783) * 0.5
    tmp1727 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t2.bbbb, (1, 2, 4, 5), (0, 4, 5, 3))
    tmp1781 = einsum(t1.bb, (0, 1), tmp1727, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1784 += np.transpose(tmp1781, (0, 1, 3, 2)) * -1
    del tmp1781
    tmp1784 += np.transpose(tmp1783, (0, 1, 3, 2)) * -0.5
    del tmp1783
    tmp245 = np.copy(tmp218) * 2
    tmp219 = einsum(t2.abab, (0, 1, 2, 3), tmp21, (0, 4, 5, 2), (4, 1, 5, 3))
    tmp245 += tmp219
    tmp1863 = einsum(t2.abab, (0, 1, 2, 3), tmp245, (4, 5, 2, 6), (0, 4, 1, 5, 3, 6)) * 0.5
    tmp2071 = einsum(t2.bbbb, (0, 1, 2, 3), tmp227, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * -1
    tmp195 = einsum(t1.aa, (0, 1), tmp194, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp198 = np.copy(np.transpose(tmp195, (0, 2, 1, 3))) * -1
    tmp197 = np.copy(np.transpose(v.aabb.vvoo, (2, 3, 0, 1)))
    tmp197 += np.transpose(tmp196, (0, 1, 3, 2))
    del tmp196
    tmp198 += einsum(t1.aa, (0, 1), tmp197, (2, 3, 1, 4), (0, 3, 2, 4))
    del tmp197
    tmp509 = np.copy(np.transpose(tmp462, (0, 1, 3, 2))) * 0.5
    del tmp462
    tmp508 = einsum(t2.aaaa, (0, 1, 2, 3), tmp120, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp509 += np.transpose(tmp508, (0, 1, 3, 2)) * -1
    del tmp508
    tmp510 = einsum(t1.aa, (0, 1), tmp509, (2, 3, 1, 4), (0, 2, 3, 4)) * 2
    del tmp509
    tmp582 = einsum(t1.aa, (0, 1), tmp95, (2, 3, 4, 1), (0, 2, 3, 4)) * 2
    tmp675 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 5, 6, 3), (0, 1, 6, 2, 4, 5))
    tmp676 = einsum(t1.aa, (0, 1), tmp675, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    del tmp675
    tmp679 = np.copy(tmp676)
    del tmp676
    tmp677 = einsum(t1.aa, (0, 1), tmp637, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    del tmp637
    tmp678 = einsum(t1.aa, (0, 1), tmp677, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    tmp679 += np.transpose(tmp678, (0, 1, 2, 3, 5, 4)) * -1
    del tmp678
    tmp740 = einsum(t1.aa, (0, 1), tmp739, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp739
    tmp746 = np.copy(np.transpose(tmp740, (0, 1, 3, 2, 4, 5)))
    tmp745 = einsum(tmp170, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 3), (4, 5, 0, 1, 6, 2))
    tmp746 += np.transpose(tmp745, (0, 1, 3, 2, 5, 4))
    tmp799 = einsum(t1.bb, (0, 1), tmp798, (2, 3, 4, 5, 6, 1), (2, 3, 4, 0, 5, 6))
    del tmp798
    tmp955 = einsum(t1.bb, (0, 1), tmp799, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    tmp956 = np.copy(tmp955) * -1
    del tmp955
    tmp953 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 6, 2, 3))
    tmp954 = einsum(t1.bb, (0, 1), tmp953, (2, 3, 4, 5, 6, 1), (2, 3, 4, 0, 5, 6))
    del tmp953
    tmp956 += tmp954
    del tmp954
    tmp959 = einsum(t2.abab, (0, 1, 2, 3), tmp269, (1, 4, 3, 5), (0, 2, 4, 5)) * 0.5
    tmp960 = np.copy(tmp959) * -1
    del tmp959
    tmp960 += np.transpose(tmp958, (0, 1, 3, 2))
    del tmp958
    tmp961 = einsum(t1.bb, (0, 1), tmp960, (2, 3, 1, 4), (2, 0, 3, 4)) * 2
    tmp1030 = einsum(tmp245, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 5, 0, 1, 6, 3))
    tmp1040 = np.copy(np.transpose(tmp231, (1, 0, 2, 3))) * 2
    tmp234 = einsum(t2.abab, (0, 1, 2, 3), tmp233, (4, 5, 0, 2), (4, 5, 1, 3))
    tmp1040 += np.transpose(tmp234, (1, 0, 2, 3))
    tmp1041 = einsum(t1.aa, (0, 1), tmp1040, (0, 2, 3, 4), (2, 3, 1, 4)) * 0.5
    tmp866 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 7, 1), (4, 5, 0, 6, 7, 3))
    tmp972 = einsum(t1.bb, (0, 1), tmp866, (2, 3, 4, 5, 6, 1), (2, 3, 4, 0, 5, 6))
    tmp1090 = np.copy(tmp972)
    tmp1089 = einsum(t2.abab, (0, 1, 2, 3), tmp151, (4, 5, 6, 1), (0, 5, 4, 6, 2, 3))
    tmp1090 += np.transpose(tmp1089, (0, 2, 1, 3, 4, 5))
    tmp983 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp1093 = einsum(t1.bb, (0, 1), tmp983, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp1095 = np.copy(tmp1093)
    tmp152 = einsum(t1.aa, (0, 1), tmp151, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp1094 = einsum(t1.bb, (0, 1), tmp152, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1095 += tmp1094
    tmp1108 = einsum(t1.aa, (0, 1), tmp245, (2, 3, 1, 4), (0, 2, 3, 4)) * 0.5
    tmp1191 = np.copy(np.transpose(tmp1006, (0, 2, 1, 3))) * 2
    del tmp1006
    tmp1190 = einsum(t2.abab, (0, 1, 2, 3), tmp190, (0, 2, 4, 5), (1, 4, 5, 3))
    tmp1191 += np.transpose(tmp1190, (0, 2, 1, 3))
    del tmp1190
    tmp1192 = einsum(t1.aa, (0, 1), tmp1191, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp909 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 4, 7, 1, 6))
    tmp1100 = einsum(t1.aa, (0, 1), tmp909, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    tmp1247 = np.copy(tmp1100) * -1
    tmp1246 = einsum(t2.abab, (0, 1, 2, 3), tmp206, (4, 5, 6, 1), (4, 0, 5, 6, 2, 3))
    tmp1247 += tmp1246
    del tmp1246
    tmp917 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 4, 5, 1), (5, 2, 4, 3))
    tmp1254 = einsum(t1.aa, (0, 1), tmp917, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1256 = np.copy(tmp1254)
    tmp1255 = einsum(t1.bb, (0, 1), tmp207, (2, 0, 3, 4), (2, 3, 4, 1))
    del tmp207
    tmp1256 += tmp1255
    tmp1278 = einsum(t2.abab, (0, 1, 2, 3), v.bbbb.ooov, (4, 5, 6, 3), (0, 1, 4, 5, 6, 2))
    tmp1279 = np.copy(np.transpose(tmp1278, (0, 1, 3, 2, 4, 5))) * -1
    tmp1279 += np.transpose(tmp1278, (0, 1, 4, 3, 2, 5))
    del tmp1278
    tmp1280 = einsum(t1.bb, (0, 1), tmp1279, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 6, 1))
    tmp1281 = np.copy(tmp1280)
    del tmp1280
    tmp1277 = einsum(t2.abab, (0, 1, 2, 3), tmp212, (4, 5, 3, 6), (0, 1, 4, 5, 2, 6))
    tmp1281 += np.transpose(tmp1277, (0, 1, 3, 2, 4, 5))
    del tmp1277
    tmp1410 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 2, 0, 1, 6))
    tmp1411 = einsum(t1.aa, (0, 1), tmp1410, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    del tmp1410
    tmp1415 = np.copy(np.transpose(tmp1411, (0, 2, 1, 3, 4, 5))) * -1
    del tmp1411
    tmp1413 = einsum(t1.aa, (0, 1), tmp1412, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    del tmp1412
    tmp1414 = einsum(t1.aa, (0, 1), tmp1413, (2, 0, 3, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    tmp1415 += np.transpose(tmp1414, (0, 2, 1, 3, 4, 5))
    del tmp1414
    tmp1417 = einsum(t1.aa, (0, 1), tmp1191, (2, 1, 3, 4), (0, 2, 3, 4)) * 0.5
    tmp1440 = einsum(t2.abab, (0, 1, 2, 3), tmp206, (4, 0, 5, 6), (4, 1, 6, 5, 2, 3))
    tmp1442 = np.copy(np.transpose(tmp1440, (0, 1, 3, 2, 4, 5)))
    tmp1320 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 7, 3), (4, 5, 2, 7, 1, 6))
    tmp1441 = einsum(t1.aa, (0, 1), tmp1320, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    tmp1442 += np.transpose(tmp1441, (0, 2, 3, 1, 4, 5)) * -1
    tmp850 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 1), (4, 5, 2, 6, 7, 3))
    tmp1491 = einsum(t1.bb, (0, 1), tmp850, (2, 3, 4, 5, 6, 1), (2, 0, 3, 4, 5, 6))
    tmp1492 = np.copy(tmp1491) * -1
    tmp1490 = einsum(t2.abab, (0, 1, 2, 3), tmp151, (4, 0, 5, 6), (4, 5, 1, 6, 2, 3))
    tmp1492 += tmp1490
    del tmp1490
    tmp1503 = einsum(t1.bb, (0, 1), tmp227, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.5
    tmp1550 = einsum(t1.bb, (0, 1), tmp960, (2, 3, 1, 4), (2, 0, 3, 4))
    tmp1639 = einsum(t2.abab, (0, 1, 2, 3), tmp292, (4, 5, 3, 6), (0, 4, 5, 1, 2, 6))
    tmp1640 = np.copy(np.transpose(tmp1639, (0, 2, 1, 3, 4, 5))) * -1
    del tmp1639
    tmp1640 += np.transpose(tmp1050, (0, 2, 1, 3, 4, 5))
    del tmp1050
    tmp1646 = np.copy(np.transpose(tmp1089, (0, 2, 1, 3, 4, 5)))
    tmp1646 += np.transpose(tmp972, (0, 2, 1, 3, 4, 5))
    tmp1654 = np.copy(tmp1138)
    tmp1081 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 5), (2, 4, 3, 5))
    tmp1139 = einsum(t1.aa, (0, 1), tmp1081, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp1140 = einsum(t1.bb, (0, 1), tmp1139, (2, 3, 4, 1), (2, 0, 3, 4))
    del tmp1139
    tmp1654 += tmp1140
    tmp75 = einsum(t2.abab, (0, 1, 2, 3), tmp1, (1, 4, 5, 3), (0, 4, 2, 5)) * 0.5
    tmp76 = np.copy(tmp75) * -1
    tmp76 += tmp74
    tmp1656 = einsum(t1.bb, (0, 1), tmp76, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp1659 = einsum(t1.aa, (0, 1), tmp1040, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp1683 = np.copy(np.transpose(tmp1440, (0, 1, 3, 2, 4, 5)))
    tmp1683 += np.transpose(tmp1441, (0, 2, 1, 3, 4, 5)) * -1
    tmp1688 = einsum(tmp736, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6))
    tmp329 = np.copy(np.transpose(tmp326, (0, 2, 1, 3)))
    tmp328 = einsum(t2.bbbb, (0, 1, 2, 3), tmp327, (4, 5, 1, 3), (0, 4, 5, 2)) * 2
    tmp329 += np.transpose(tmp328, (0, 2, 1, 3))
    del tmp328
    tmp1816 = einsum(t1.bb, (0, 1), tmp329, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1838 = np.copy(np.transpose(tmp1835, (0, 1, 3, 2, 5, 4))) * -1
    del tmp1835
    tmp1838 += einsum(tmp292, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 2), (1, 0, 4, 5, 6, 3)) * -1
    del tmp292
    tmp1882 = einsum(tmp280, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (0, 1, 4, 2, 5, 6)) * -1
    tmp1906 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 6), (0, 4, 1, 3, 5, 6))
    tmp1907 = einsum(t1.bb, (0, 1), tmp1906, (2, 3, 4, 5, 6, 1), (2, 3, 0, 4, 5, 6))
    del tmp1906
    tmp1909 = np.copy(tmp1907)
    del tmp1907
    tmp1586 = einsum(t1.bb, (0, 1), tmp1585, (2, 3, 4, 5, 6, 1), (2, 3, 0, 4, 5, 6))
    del tmp1585
    tmp1908 = einsum(t1.bb, (0, 1), tmp1586, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp1909 += np.transpose(tmp1908, (0, 1, 2, 3, 5, 4)) * -1
    del tmp1908
    tmp1743 = einsum(t2.bbbb, (0, 1, 2, 3), tmp269, (1, 4, 3, 5), (0, 2, 4, 5)) * 2
    tmp1744 = np.copy(tmp1743) * -1
    del tmp1743
    tmp1744 += np.transpose(tmp1742, (0, 1, 3, 2))
    del tmp1742
    tmp1911 = einsum(t1.bb, (0, 1), tmp1744, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1934 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ooov, (4, 5, 6, 3), (0, 1, 4, 5, 6, 2))
    tmp1935 = np.copy(np.transpose(tmp1934, (0, 1, 3, 2, 4, 5))) * -1
    tmp1935 += np.transpose(tmp1934, (0, 1, 4, 3, 2, 5))
    del tmp1934
    tmp1936 = einsum(t1.bb, (0, 1), tmp1935, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp1935
    tmp1951 = np.copy(np.transpose(tmp1936, (0, 1, 2, 3, 5, 4)))
    tmp1950 = einsum(t2.bbbb, (0, 1, 2, 3), tmp212, (4, 5, 3, 6), (0, 1, 4, 5, 2, 6)) * -1
    tmp1951 += np.transpose(tmp1950, (1, 0, 3, 2, 4, 5))
    del tmp1950
    tmp2031 = einsum(t1.bb, (0, 1), tmp1744, (2, 3, 1, 4), (0, 2, 3, 4)) * 0.5
    tmp2068 = einsum(t1.bb, (0, 1), tmp329, (2, 0, 3, 4), (2, 3, 1, 4)) * 0.5
    tmp9 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 3), (0, 4))
    tmp56 = np.copy(tmp9) * 0.5
    tmp55 = einsum(t1.aa, (0, 1), tmp14, (2, 1), (0, 2)) * 0.5
    tmp56 += tmp55
    tmp8 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 3, 1, 2), (0, 4)) * -1
    tmp56 += tmp8
    tmp217 = np.copy(np.transpose(tmp9, (1, 0))) * 0.5
    tmp217 += np.transpose(tmp55, (1, 0))
    del tmp55
    tmp217 += np.transpose(tmp8, (1, 0))
    tmp378 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ooov, (4, 5, 6, 3), (0, 1, 4, 5, 6, 2))
    tmp379 = np.copy(np.transpose(tmp378, (0, 1, 3, 2, 4, 5)))
    tmp379 += np.transpose(tmp378, (0, 1, 4, 3, 2, 5)) * -1
    del tmp378
    tmp401 = einsum(t1.aa, (0, 1), tmp379, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    tmp402 = np.copy(np.transpose(tmp401, (0, 1, 3, 2, 5, 4)))
    del tmp401
    tmp400 = einsum(t2.aaaa, (0, 1, 2, 3), tmp40, (4, 5, 3, 6), (0, 1, 4, 5, 2, 6)) * -1
    tmp402 += np.transpose(tmp400, (1, 0, 3, 2, 4, 5))
    del tmp400
    tmp85 = np.copy(np.transpose(tmp82, (0, 2, 1, 3))) * 0.5
    tmp84 = einsum(t2.aaaa, (0, 1, 2, 3), tmp83, (1, 4, 5, 3), (0, 4, 5, 2))
    tmp85 += np.transpose(tmp84, (0, 2, 1, 3))
    del tmp84
    tmp556 = einsum(t1.aa, (0, 1), tmp85, (2, 0, 3, 4), (2, 3, 1, 4)) * 2
    tmp586 = einsum(t1.aa, (0, 1), tmp95, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp587 = einsum(t1.aa, (0, 1), tmp586, (2, 3, 0, 4), (2, 3, 1, 4)) * 2
    tmp142 = einsum(t1.aa, (0, 1), tmp141, (2, 3, 0, 4), (3, 2, 4, 1))
    tmp611 = einsum(t1.aa, (0, 1), tmp142, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp612 = np.copy(tmp611) * 0.5
    tmp526 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (0, 4, 1, 5), (2, 3, 5, 4)) * -1
    tmp609 = einsum(t1.aa, (0, 1), tmp526, (2, 3, 1, 4), (0, 2, 3, 4)) * -1
    tmp610 = einsum(t1.aa, (0, 1), tmp609, (2, 3, 4, 1), (0, 2, 3, 4))
    del tmp609
    tmp612 += np.transpose(tmp610, (0, 1, 3, 2)) * -1
    del tmp610
    tmp612 += np.transpose(tmp611, (0, 1, 3, 2)) * -0.5
    del tmp611
    tmp796 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 2, 6, 0, 3))
    tmp797 = einsum(t1.bb, (0, 1), tmp796, (2, 3, 4, 5, 6, 1), (2, 3, 0, 4, 5, 6))
    del tmp796
    tmp801 = np.copy(tmp797)
    del tmp797
    tmp800 = einsum(t1.aa, (0, 1), tmp799, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp799
    tmp801 += np.transpose(tmp800, (0, 1, 2, 3, 5, 4)) * -1
    del tmp800
    tmp822 = einsum(t1.aa, (0, 1), tmp586, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp805 = np.copy(np.transpose(tmp159, (0, 2, 1, 3))) * 2
    tmp162 = einsum(t2.abab, (0, 1, 2, 3), tmp161, (1, 4, 5, 3), (0, 4, 5, 2))
    tmp805 += np.transpose(tmp162, (0, 2, 1, 3))
    tmp1024 = einsum(t1.bb, (0, 1), tmp805, (2, 0, 3, 4), (2, 3, 4, 1)) * 0.5
    tmp232 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 2, 1, 6, 3), (4, 0, 5, 6))
    tmp1062 = np.copy(tmp232) * 2
    tmp235 = einsum(tmp14, (0, 1), t2.abab, (2, 3, 1, 4), (2, 0, 3, 4))
    tmp1062 += tmp235
    tmp1111 = einsum(t1.aa, (0, 1), tmp245, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1112 = einsum(t1.aa, (0, 1), tmp1111, (2, 0, 3, 4), (2, 3, 1, 4)) * 0.5
    tmp764 = einsum(t1.bb, (0, 1), tmp76, (2, 3, 4, 1), (2, 0, 3, 4)) * 2
    tmp1160 = einsum(t1.bb, (0, 1), tmp764, (2, 3, 0, 4), (2, 3, 4, 1)) * 0.5
    tmp1205 = einsum(t1.bb, (0, 1), tmp677, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 6, 1))
    del tmp677
    tmp1206 = np.copy(tmp1205) * -1
    del tmp1205
    tmp1203 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 5, 6, 3), (0, 4, 1, 2, 5, 6))
    tmp1204 = einsum(t1.aa, (0, 1), tmp1203, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    del tmp1203
    tmp1206 += tmp1204
    del tmp1204
    tmp1335 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvoo, (4, 2, 5, 6), (0, 1, 5, 6, 4, 3))
    tmp1338 = np.copy(np.transpose(tmp1335, (0, 1, 3, 2, 4, 5)))
    tmp1336 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.babbab, (4, 5, 6, 7, 1, 3), (5, 4, 6, 2, 0, 7))
    tmp1338 += np.transpose(tmp1336, (0, 2, 3, 1, 4, 5)) * -2
    tmp1337 = einsum(t1.aa, (0, 1), tmp1331, (2, 0, 3, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    tmp1338 += np.transpose(tmp1337, (0, 2, 3, 1, 4, 5)) * 2
    tmp1555 = einsum(t1.bb, (0, 1), tmp805, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp1587 = einsum(t1.aa, (0, 1), tmp1586, (2, 0, 3, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp1586
    tmp1588 = np.copy(tmp1587) * -1
    del tmp1587
    tmp1583 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 5, 6), (0, 1, 5, 4, 3, 6))
    tmp1584 = einsum(t1.bb, (0, 1), tmp1583, (2, 3, 4, 5, 6, 1), (2, 0, 3, 4, 5, 6))
    del tmp1583
    tmp1588 += tmp1584
    del tmp1584
    tmp1057 = einsum(t2.abab, (0, 1, 2, 3), v.aaaa.ooov, (4, 5, 6, 2), (0, 4, 5, 6, 1, 3))
    tmp1058 = np.copy(np.transpose(tmp1057, (0, 2, 1, 3, 4, 5)))
    tmp1058 += np.transpose(tmp1057, (0, 3, 2, 1, 4, 5)) * -1
    del tmp1057
    tmp1059 = einsum(t1.aa, (0, 1), tmp1058, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp1058
    tmp1636 = np.copy(np.transpose(tmp1059, (0, 2, 1, 3, 4, 5)))
    tmp1635 = einsum(t2.abab, (0, 1, 2, 3), tmp40, (4, 5, 2, 6), (0, 4, 5, 1, 6, 3))
    tmp1636 += np.transpose(tmp1635, (0, 2, 1, 3, 4, 5))
    del tmp1635
    tmp1677 = np.copy(np.transpose(tmp1335, (0, 1, 3, 2, 4, 5)))
    tmp1677 += np.transpose(tmp1336, (0, 2, 1, 3, 4, 5)) * -2
    del tmp1336
    tmp1677 += np.transpose(tmp1337, (0, 2, 1, 3, 4, 5)) * 2
    del tmp1337
    tmp912 = einsum(tmp1, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 6, 7, 3), (5, 1, 4, 7, 2, 6))
    tmp1421 = einsum(t1.bb, (0, 1), tmp912, (2, 3, 4, 5, 1, 6), (2, 0, 4, 3, 5, 6)) * -1
    tmp1681 = np.copy(tmp1421)
    tmp308 = np.copy(np.transpose(tmp307, (0, 2, 1, 3)))
    tmp308 += np.transpose(tmp307, (0, 3, 2, 1)) * -1
    del tmp307
    tmp1681 += einsum(t2.abab, (0, 1, 2, 3), tmp308, (4, 5, 6, 1), (0, 4, 6, 5, 2, 3))
    tmp1696 = einsum(t1.bb, (0, 1), tmp764, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1502 = einsum(t1.bb, (0, 1), tmp227, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1888 = einsum(t1.bb, (0, 1), tmp1502, (2, 3, 0, 4), (2, 3, 1, 4)) * 0.5
    tmp1897 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 4, 5, 1, 6, 2))
    tmp1898 = einsum(t1.aa, (0, 1), tmp1897, (2, 3, 4, 1, 5, 6), (0, 2, 3, 4, 5, 6))
    del tmp1897
    tmp1900 = np.copy(np.transpose(tmp1898, (0, 1, 3, 2, 4, 5))) * -1
    del tmp1898
    tmp1899 = einsum(t1.bb, (0, 1), tmp1413, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    del tmp1413
    tmp1900 += np.transpose(tmp1899, (0, 1, 3, 2, 5, 4))
    del tmp1899
    tmp2087 = einsum(t1.bb, (0, 1), tmp1502, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp371 = einsum(t1.bb, (0, 1), tmp370, (2, 3, 0, 4), (3, 2, 4, 1))
    tmp2110 = einsum(t1.bb, (0, 1), tmp371, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp2111 = np.copy(tmp2110) * 0.5
    tmp1773 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (0, 4, 1, 5), (2, 3, 5, 4)) * -1
    tmp2108 = einsum(t1.bb, (0, 1), tmp1773, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp2109 = einsum(t1.bb, (0, 1), tmp2108, (2, 3, 4, 1), (0, 2, 3, 4))
    del tmp2108
    tmp2111 += np.transpose(tmp2109, (0, 1, 3, 2)) * -1
    del tmp2109
    tmp2111 += np.transpose(tmp2110, (0, 1, 3, 2)) * -0.5
    del tmp2110
    tmp163 = np.copy(np.transpose(tmp159, (0, 2, 1, 3))) * 2
    del tmp159
    tmp163 += np.transpose(tmp160, (0, 2, 1, 3)) * 2
    tmp163 += np.transpose(tmp162, (0, 2, 1, 3))
    del tmp162
    tmp496 = einsum(t2.aaaa, (0, 1, 2, 3), tmp190, (4, 3, 5, 6), (0, 1, 4, 2, 5, 6)) * -1
    tmp497 = einsum(t1.aa, (0, 1), tmp496, (2, 3, 4, 5, 6, 1), (0, 3, 2, 4, 5, 6)) * -1
    del tmp496
    tmp502 = np.copy(tmp497)
    del tmp497
    tmp498 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 6, 3), (0, 1, 4, 6, 2, 5))
    tmp499 = einsum(t1.aa, (0, 1), tmp498, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    del tmp498
    tmp500 = np.copy(np.transpose(tmp499, (0, 2, 1, 3, 4, 5))) * -1
    tmp500 += np.transpose(tmp499, (0, 2, 1, 4, 3, 5))
    del tmp499
    tmp501 = einsum(t1.aa, (0, 1), tmp500, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6))
    del tmp500
    tmp502 += np.transpose(tmp501, (0, 2, 1, 3, 5, 4))
    del tmp501
    tmp929 = einsum(tmp14, (0, 1), t3.abaaba, (2, 3, 4, 1, 5, 6), (0, 2, 4, 3, 6, 5))
    tmp930 = np.copy(np.transpose(tmp929, (0, 2, 1, 3, 4, 5)))
    tmp930 += np.transpose(tmp907, (1, 2, 0, 3, 4, 5)) * -1
    tmp1010 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 3, 6, 1), (4, 5, 2, 6)) * -1
    tmp1012 = np.copy(tmp1010) * -2
    tmp122 = np.copy(f.aa.vv)
    tmp121 = einsum(t1.aa, (0, 1), tmp120, (0, 1, 2, 3), (2, 3))
    tmp122 += np.transpose(tmp121, (1, 0)) * -1
    del tmp121
    tmp119 = einsum(t1.bb, (0, 1), v.aabb.vvov, (2, 3, 0, 1), (2, 3))
    tmp122 += np.transpose(tmp119, (1, 0))
    del tmp119
    tmp1011 = einsum(tmp122, (0, 1), t2.abab, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1012 += tmp1011
    del tmp1011
    tmp1076 = einsum(t2.abab, (0, 1, 2, 3), tmp52, (4, 0, 5, 6), (4, 5, 6, 1, 2, 3))
    tmp1077 = np.copy(tmp1076)
    tmp852 = einsum(tmp5, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (1, 4, 5, 3, 6, 7))
    tmp969 = einsum(t1.aa, (0, 1), tmp852, (2, 3, 4, 1, 5, 6), (0, 3, 2, 4, 5, 6))
    tmp1077 += tmp969
    tmp1098 = np.copy(np.transpose(tmp1076, (0, 2, 1, 3, 4, 5)))
    del tmp1076
    tmp1098 += np.transpose(tmp969, (0, 2, 1, 3, 4, 5))
    tmp1184 = einsum(t2.abab, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 6, 2), (0, 4, 6, 1, 5, 3))
    tmp1185 = einsum(t1.aa, (0, 1), tmp1184, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    del tmp1184
    tmp1186 = np.copy(tmp1185) * -1
    tmp1186 += np.transpose(tmp1185, (0, 1, 3, 2, 4, 5))
    del tmp1185
    tmp1187 = einsum(t1.aa, (0, 1), tmp1186, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp1186
    tmp1188 = np.copy(tmp1187) * -1
    del tmp1187
    tmp124 = np.copy(v.aaaa.ovvv)
    tmp124 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)) * -1
    tmp1182 = einsum(t2.abab, (0, 1, 2, 3), tmp124, (4, 5, 2, 6), (0, 4, 1, 5, 6, 3))
    tmp1183 = einsum(t1.aa, (0, 1), tmp1182, (2, 3, 4, 1, 5, 6), (0, 2, 3, 4, 5, 6))
    del tmp1182
    tmp1188 += tmp1183
    del tmp1183
    tmp356 = np.copy(v.bbbb.ovvv) * -1
    tmp356 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))
    tmp1391 = einsum(t2.abab, (0, 1, 2, 3), tmp356, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6))
    tmp1392 = einsum(t1.bb, (0, 1), tmp1391, (2, 3, 4, 5, 1, 6), (2, 0, 3, 4, 5, 6)) * -1
    del tmp1391
    tmp1397 = np.copy(tmp1392)
    del tmp1392
    tmp1393 = einsum(t2.abab, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 6, 3), (0, 1, 4, 6, 2, 5))
    tmp1394 = einsum(t1.bb, (0, 1), tmp1393, (2, 3, 4, 5, 6, 1), (2, 0, 3, 4, 5, 6))
    del tmp1393
    tmp1395 = np.copy(tmp1394)
    tmp1395 += np.transpose(tmp1394, (0, 1, 2, 4, 3, 5)) * -1
    del tmp1394
    tmp1396 = einsum(t1.bb, (0, 1), tmp1395, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 6, 1))
    del tmp1395
    tmp1397 += tmp1396
    del tmp1396
    tmp1423 = np.copy(np.transpose(tmp1421, (0, 1, 3, 2, 4, 5)))
    tmp1422 = einsum(t2.abab, (0, 1, 2, 3), tmp317, (4, 1, 5, 6), (0, 4, 5, 6, 2, 3))
    tmp1423 += np.transpose(tmp1422, (0, 1, 3, 2, 4, 5))
    del tmp1422
    tmp1611 = np.copy(tmp1140)
    tmp1610 = einsum(t1.bb, (0, 1), tmp195, (2, 3, 0, 4), (2, 3, 4, 1))
    del tmp195
    tmp1611 += tmp1610
    tmp1617 = np.copy(np.transpose(tmp929, (0, 2, 1, 3, 4, 5)))
    tmp1617 += np.transpose(tmp907, (1, 0, 2, 3, 4, 5))
    tmp1627 = np.copy(tmp1010) * -1
    del tmp1010
    tmp1626 = einsum(tmp122, (0, 1), t2.abab, (2, 3, 0, 4), (2, 3, 1, 4)) * 0.5
    tmp1627 += tmp1626
    del tmp1626
    tmp2019 = einsum(t2.bbbb, (0, 1, 2, 3), tmp356, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6)) * -1
    tmp2020 = einsum(t1.bb, (0, 1), tmp2019, (2, 3, 4, 5, 1, 6), (0, 3, 2, 4, 5, 6)) * -1
    del tmp2019
    tmp2025 = np.copy(tmp2020)
    del tmp2020
    tmp2021 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 6, 3), (0, 1, 4, 6, 2, 5))
    tmp2022 = einsum(t1.bb, (0, 1), tmp2021, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    del tmp2021
    tmp2023 = np.copy(np.transpose(tmp2022, (0, 2, 1, 3, 4, 5)))
    tmp2023 += np.transpose(tmp2022, (0, 2, 1, 4, 3, 5)) * -1
    del tmp2022
    tmp2024 = einsum(t1.bb, (0, 1), tmp2023, (2, 3, 4, 0, 5, 6), (2, 3, 4, 5, 1, 6))
    del tmp2023
    tmp2025 += np.transpose(tmp2024, (0, 2, 1, 3, 5, 4))
    del tmp2024
    tmp29 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 3, 1, 2), (0, 4)) * -1
    tmp150 = np.copy(np.transpose(tmp29, (1, 0))) * 2
    tmp28 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 3), (1, 4))
    tmp150 += np.transpose(tmp28, (1, 0))
    tmp33 = einsum(t1.bb, (0, 1), tmp1, (0, 2, 3, 1), (2, 3))
    tmp34 = np.copy(tmp33) * -1
    del tmp33
    tmp34 += f.bb.ov
    tmp34 += tmp32
    del tmp32
    tmp35 = einsum(t1.bb, (0, 1), tmp34, (2, 1), (0, 2))
    tmp150 += np.transpose(tmp35, (1, 0))
    tmp221 = einsum(t1.bb, (0, 1), tmp206, (2, 3, 4, 0), (2, 3, 4, 1)) * -0.5
    tmp220 = np.copy(tmp218) * 2
    tmp220 += tmp219
    tmp220 += np.transpose(v.aabb.ovov, (0, 2, 1, 3))
    tmp221 += einsum(t1.aa, (0, 1), tmp220, (2, 3, 1, 4), (0, 2, 3, 4)) * 0.5
    tmp281 = einsum(t1.bb, (0, 1), tmp280, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    tmp281 += tmp277
    tmp281 += tmp279
    tmp310 = np.copy(tmp29) * 2
    tmp310 += tmp28
    tmp310 += tmp35
    tmp486 = einsum(t1.aa, (0, 1), tmp416, (2, 3, 0, 4, 5, 1), (3, 2, 4, 5)) * -1
    tmp488 = np.copy(np.transpose(tmp486, (0, 1, 3, 2))) * -1
    del tmp486
    tmp487 = einsum(t1.bb, (0, 1), tmp413, (2, 3, 0, 4, 5, 1), (3, 2, 5, 4)) * -1
    tmp488 += np.transpose(tmp487, (0, 1, 3, 2)) * -1
    del tmp487
    tmp435 = einsum(f.bb.ov, (0, 1), t3.abaaba, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    tmp488 += np.transpose(tmp435, (1, 0, 3, 2))
    tmp180 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 1), (4, 5, 2, 6))
    tmp625 = np.copy(tmp180)
    tmp624 = einsum(tmp34, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 0, 4)) * 0.5
    tmp625 += tmp624
    del tmp624
    tmp641 = np.copy(tmp180) * 2
    tmp181 = einsum(tmp34, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp641 += tmp181
    tmp884 = einsum(f.aa.ov, (0, 1), t3.abaaba, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp887 = np.copy(tmp884)
    tmp885 = einsum(t1.bb, (0, 1), tmp850, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp887 += tmp885
    tmp886 = einsum(t1.aa, (0, 1), tmp852, (0, 2, 3, 1, 4, 5), (2, 3, 4, 5))
    tmp887 += tmp886
    tmp932 = einsum(f.bb.ov, (0, 1), t3.babbab, (2, 3, 0, 4, 5, 1), (3, 2, 5, 4))
    tmp935 = np.copy(tmp932)
    del tmp932
    tmp933 = einsum(t1.aa, (0, 1), tmp909, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    tmp935 += tmp933
    del tmp933
    tmp934 = einsum(t1.bb, (0, 1), tmp912, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5)) * -1
    tmp935 += tmp934
    del tmp934
    tmp1016 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 1), (4, 5, 6, 2))
    tmp1018 = np.copy(tmp1016) * 2
    tmp270 = einsum(t1.bb, (0, 1), tmp269, (0, 2, 1, 3), (2, 3))
    tmp271 = np.copy(tmp270) * -1
    del tmp270
    tmp271 += f.bb.vv
    tmp268 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (0, 1, 2, 3), (2, 3))
    tmp271 += np.transpose(tmp268, (1, 0))
    del tmp268
    tmp1017 = einsum(tmp271, (0, 1), t2.abab, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp1018 += tmp1017
    del tmp1017
    tmp1354 = np.copy(tmp1016)
    del tmp1016
    tmp1353 = einsum(tmp271, (0, 1), t2.abab, (2, 3, 4, 0), (2, 3, 4, 1)) * 0.5
    tmp1354 += tmp1353
    del tmp1353
    tmp2010 = einsum(t1.bb, (0, 1), tmp1713, (2, 3, 0, 4, 5, 1), (3, 2, 4, 5)) * -1
    tmp2012 = np.copy(np.transpose(tmp2010, (0, 1, 3, 2))) * -1
    del tmp2010
    tmp2011 = einsum(t1.aa, (0, 1), tmp1759, (0, 2, 3, 1, 4, 5), (3, 2, 5, 4))
    tmp2012 += np.transpose(tmp2011, (0, 1, 3, 2)) * -1
    del tmp2011
    tmp1974 = einsum(f.aa.ov, (0, 1), t3.babbab, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    tmp2012 += np.transpose(tmp1974, (1, 0, 3, 2))
    tmp131 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovvv, (1, 2, 4, 3), (0, 4))
    tmp134 = np.copy(tmp131) * -2
    tmp132 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 1, 3), (0, 4))
    tmp134 += tmp132
    tmp133 = einsum(t1.aa, (0, 1), tmp122, (1, 2), (0, 2))
    tmp134 += tmp133
    del tmp133
    tmp282 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 2, 4, 3), (1, 4))
    tmp285 = np.copy(tmp282) * 0.5
    tmp283 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovvv, (1, 2, 4, 3), (0, 4))
    tmp285 += tmp283 * -1
    tmp284 = einsum(t1.bb, (0, 1), tmp271, (1, 2), (0, 2)) * 0.5
    tmp285 += tmp284
    del tmp284
    tmp306 = np.copy(v.bbbb.oovv) * -1
    tmp306 += tmp225
    tmp306 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp306 += np.transpose(tmp226, (1, 0, 3, 2)) * -1
    del tmp226
    tmp309 = einsum(t1.bb, (0, 1), tmp306, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.5
    tmp309 += einsum(t1.bb, (0, 1), tmp308, (2, 3, 4, 0), (2, 4, 3, 1)) * 0.5
    tmp318 = np.copy(v.bbbb.ooov)
    tmp318 += einsum(t1.bb, (0, 1), tmp306, (2, 3, 4, 1), (3, 0, 2, 4))
    tmp318 += einsum(t1.bb, (0, 1), tmp317, (2, 0, 3, 4), (4, 2, 3, 1))
    tmp363 = np.copy(tmp283) * -2
    del tmp283
    tmp363 += tmp282
    del tmp282
    tmp362 = einsum(t1.bb, (0, 1), tmp271, (1, 2), (0, 2))
    tmp363 += tmp362
    del tmp362
    tmp109 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 1), (4, 5, 0, 6))
    tmp384 = np.copy(tmp109) * 0.3333333333333333
    tmp108 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 2, 6, 3, 1), (4, 5, 0, 6)) * -1
    tmp384 += tmp108
    tmp383 = einsum(tmp14, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 0, 4)) * -0.3333333333333333
    tmp384 += np.transpose(tmp383, (1, 0, 2, 3))
    del tmp383
    tmp398 = np.copy(tmp108) * 3
    tmp398 += tmp109
    tmp390 = einsum(tmp14, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 0, 4)) * -1
    tmp398 += np.transpose(tmp390, (1, 0, 2, 3))
    tmp565 = einsum(t2.aaaa, (0, 1, 2, 3), tmp47, (4, 1, 5, 3), (0, 4, 2, 5))
    tmp568 = np.copy(tmp565) * 2
    tmp566 = einsum(t2.aaaa, (0, 1, 2, 3), tmp94, (4, 1, 5, 3), (0, 4, 2, 5)) * -4
    tmp568 += tmp566
    del tmp566
    tmp567 = einsum(t2.abab, (0, 1, 2, 3), tmp153, (4, 1, 5, 3), (0, 4, 2, 5)) * -1
    tmp568 += tmp567
    del tmp567
    tmp568 += np.transpose(tmp565, (1, 0, 3, 2)) * 2
    tmp154 = np.copy(tmp153) * -1
    tmp154 += tmp74 * 2
    tmp154 += np.transpose(v.aabb.ovov, (0, 2, 1, 3))
    tmp629 = einsum(t2.abab, (0, 1, 2, 3), tmp154, (4, 5, 6, 3), (0, 4, 1, 5, 2, 6))
    tmp630 = np.copy(tmp629)
    del tmp629
    tmp630 += np.transpose(tmp628, (0, 1, 2, 3, 5, 4)) * -1
    del tmp628
    tmp438 = np.copy(np.transpose(tmp412, (0, 1, 2, 4, 3, 5))) * -1
    del tmp412
    tmp437 = einsum(tmp1, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 3, 7), (4, 5, 1, 6, 7, 2)) * 0.16666666666666666
    tmp438 += np.transpose(tmp437, (1, 0, 2, 4, 3, 5)) * -1
    del tmp437
    tmp688 = einsum(t1.bb, (0, 1), tmp438, (2, 3, 4, 5, 6, 1), (2, 3, 0, 4, 6, 5)) * 6
    tmp687 = einsum(tmp151, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (4, 0, 2, 3, 5, 6))
    tmp688 += np.transpose(tmp687, (0, 1, 2, 3, 5, 4)) * -2
    tmp712 = einsum(v.aabb.oooo, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (4, 0, 2, 3, 5, 6))
    tmp722 = np.copy(np.transpose(tmp712, (0, 1, 3, 2, 5, 4))) * -2
    tmp721 = einsum(tmp34, (0, 1), t3.abaaba, (2, 3, 4, 5, 1, 6), (2, 4, 0, 3, 5, 6))
    tmp722 += np.transpose(tmp721, (1, 0, 2, 3, 5, 4)) * -1
    tmp809 = np.copy(tmp565) * 0.5
    tmp807 = einsum(t2.aaaa, (0, 1, 2, 3), tmp94, (4, 1, 5, 3), (0, 4, 2, 5)) * -1
    tmp809 += tmp807
    del tmp807
    tmp808 = einsum(t2.abab, (0, 1, 2, 3), tmp153, (4, 1, 5, 3), (0, 4, 2, 5)) * -0.25
    del tmp153
    tmp809 += tmp808
    del tmp808
    tmp809 += np.transpose(tmp565, (1, 0, 3, 2)) * 0.5
    del tmp565
    tmp944 = np.copy(tmp131) * -1
    del tmp131
    tmp944 += tmp132 * 0.5
    del tmp132
    tmp943 = einsum(t1.aa, (0, 1), tmp122, (1, 2), (0, 2)) * 0.5
    tmp944 += tmp943
    del tmp943
    tmp1294 = einsum(tmp34, (0, 1), t2.bbbb, (2, 3, 4, 1), (0, 2, 3, 4)) * -0.3333333333333333
    tmp342 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 3), (4, 5, 2, 6))
    tmp1294 += np.transpose(tmp342, (2, 1, 0, 3)) * 0.3333333333333333
    tmp343 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 3, 1), (4, 5, 0, 6)) * -1
    tmp1294 += np.transpose(tmp343, (2, 1, 0, 3))
    tmp1298 = np.copy(np.transpose(tmp1296, (0, 2, 1, 3, 4, 5)))
    del tmp1296
    tmp1297 = np.copy(tmp75) * -1
    del tmp75
    tmp1297 += tmp74
    del tmp74
    tmp1297 += np.transpose(v.aabb.ovov, (0, 2, 1, 3)) * 0.5
    tmp1298 += einsum(tmp1297, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 4, 5, 1, 2, 6)) * 2
    del tmp1297
    tmp1368 = einsum(tmp34, (0, 1), t3.babbab, (2, 3, 4, 1, 5, 6), (3, 0, 2, 4, 5, 6))
    tmp1369 = np.copy(np.transpose(tmp1368, (0, 1, 3, 2, 4, 5)))
    tmp1356 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 1), (4, 5, 2, 3, 6, 7))
    tmp1369 += np.transpose(tmp1356, (0, 3, 1, 2, 4, 5))
    tmp1614 = np.copy(tmp846) * -1
    del tmp846
    tmp1614 += einsum(tmp220, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 2), (4, 5, 0, 1, 6, 3))
    tmp1679 = np.copy(np.transpose(tmp1368, (0, 1, 3, 2, 4, 5)))
    del tmp1368
    tmp1679 += np.transpose(tmp1356, (0, 3, 2, 1, 4, 5)) * -1
    tmp1758 = einsum(tmp206, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (0, 1, 4, 2, 5, 6))
    tmp1761 = np.copy(np.transpose(tmp1758, (0, 1, 2, 3, 5, 4))) * -0.3333333333333333
    tmp1760 = np.copy(np.transpose(tmp1715, (0, 2, 1, 3, 5, 4))) * 6
    del tmp1715
    tmp1760 += np.transpose(tmp1759, (0, 2, 1, 3, 5, 4))
    tmp1761 += einsum(t1.aa, (0, 1), tmp1760, (2, 3, 4, 1, 5, 6), (0, 2, 4, 3, 6, 5)) * -0.16666666666666666
    tmp1828 = einsum(t2.abab, (0, 1, 2, 3), tmp220, (4, 5, 2, 6), (0, 4, 1, 5, 3, 6))
    del tmp220
    tmp1829 = np.copy(tmp1828)
    del tmp1828
    tmp1829 += np.transpose(tmp1822, (0, 1, 2, 3, 5, 4)) * -1
    del tmp1822
    tmp1865 = einsum(t2.abab, (0, 1, 2, 3), tmp218, (0, 4, 2, 5), (1, 4, 3, 5))
    del tmp218
    tmp1868 = np.copy(tmp1865) * 0.5
    tmp1866 = einsum(t2.abab, (0, 1, 2, 3), tmp219, (0, 4, 2, 5), (1, 4, 3, 5)) * 0.25
    tmp1868 += tmp1866
    del tmp1866
    tmp1867 = einsum(t2.bbbb, (0, 1, 2, 3), tmp321, (1, 4, 3, 5), (0, 4, 2, 5)) * -1
    tmp1868 += tmp1867
    del tmp1867
    tmp1868 += np.transpose(tmp1865, (1, 0, 3, 2)) * 0.5
    tmp1961 = np.copy(np.transpose(tmp1713, (0, 1, 2, 4, 3, 5))) * -1
    tmp1960 = einsum(tmp1, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 3), (1, 4, 5, 2, 6, 7)) * 6
    tmp1961 += np.transpose(tmp1960, (1, 2, 0, 4, 5, 3)) * -1
    del tmp1960
    tmp2049 = einsum(t1.bb, (0, 1), tmp1961, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 6, 5))
    tmp2049 += einsum(tmp317, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (0, 4, 2, 1, 5, 6)) * 2
    tmp2077 = np.copy(tmp1865)
    tmp2075 = einsum(t2.abab, (0, 1, 2, 3), tmp219, (0, 4, 2, 5), (1, 4, 3, 5)) * 0.5
    tmp2077 += tmp2075
    del tmp2075
    tmp2076 = einsum(t2.bbbb, (0, 1, 2, 3), tmp321, (1, 4, 3, 5), (0, 4, 2, 5)) * -2
    del tmp321
    tmp2077 += tmp2076
    del tmp2076
    tmp2077 += np.transpose(tmp1865, (1, 0, 3, 2))
    del tmp1865
    tmp16 = np.copy(f.aa.oo)
    tmp11 = einsum(t1.aa, (0, 1), tmp10, (2, 3, 0, 1), (2, 3))
    tmp16 += np.transpose(tmp11, (1, 0)) * -1
    tmp16 += np.transpose(tmp8, (1, 0)) * 2
    tmp15 = einsum(t1.aa, (0, 1), tmp14, (2, 1), (0, 2))
    tmp16 += np.transpose(tmp15, (1, 0))
    tmp7 = einsum(t1.bb, (0, 1), v.aabb.ooov, (2, 3, 0, 1), (2, 3))
    tmp16 += np.transpose(tmp7, (1, 0))
    tmp16 += np.transpose(tmp9, (1, 0))
    tmp49 = np.copy(tmp48) * -1
    del tmp48
    tmp49 += v.aaaa.oovv * -1
    tmp49 += tmp47
    tmp49 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp50 = einsum(t1.aa, (0, 1), tmp49, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp54 = np.copy(tmp50)
    tmp53 = einsum(t1.aa, (0, 1), tmp52, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp54 += tmp53
    tmp71 = np.copy(v.aaaa.ooov)
    tmp71 += np.transpose(tmp50, (2, 0, 1, 3))
    del tmp50
    tmp71 += np.transpose(tmp53, (2, 0, 1, 3))
    del tmp53
    tmp99 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.aaaa, (1, 2, 4, 3), (0, 4))
    tmp102 = np.copy(tmp99) * 2
    tmp100 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 1, 3), (4, 2))
    tmp102 += tmp100
    tmp80 = np.copy(f.aa.oo)
    tmp80 += np.transpose(tmp11, (1, 0)) * -1
    del tmp11
    tmp80 += np.transpose(tmp7, (1, 0))
    del tmp7
    tmp101 = einsum(tmp80, (0, 1), t1.aa, (0, 2), (1, 2))
    tmp102 += tmp101
    del tmp101
    tmp155 = einsum(t1.bb, (0, 1), tmp154, (2, 3, 4, 1), (2, 3, 0, 4))
    del tmp154
    tmp155 += np.transpose(tmp152, (0, 2, 1, 3)) * -1
    del tmp152
    tmp155 += np.transpose(v.aabb.ovoo, (0, 2, 3, 1))
    tmp264 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t2.bbbb, (2, 1, 4, 3), (0, 4)) * -1
    tmp266 = np.copy(tmp264) * 2
    tmp263 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 2, 4, 1), (4, 3))
    tmp266 += tmp263
    tmp158 = np.copy(f.bb.oo)
    tmp31 = einsum(t1.bb, (0, 1), tmp30, (0, 2, 3, 1), (2, 3))
    tmp158 += np.transpose(tmp31, (1, 0)) * -1
    tmp27 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (0, 1, 2, 3), (2, 3))
    tmp158 += np.transpose(tmp27, (1, 0))
    tmp265 = einsum(tmp158, (0, 1), t1.bb, (0, 2), (1, 2))
    tmp266 += tmp265
    del tmp265
    tmp380 = einsum(t1.aa, (0, 1), tmp379, (2, 3, 4, 5, 0, 6), (2, 3, 4, 5, 1, 6)) * 0.5
    del tmp379
    tmp381 = np.copy(np.transpose(tmp380, (0, 1, 3, 2, 5, 4)))
    del tmp380
    tmp377 = einsum(t2.aaaa, (0, 1, 2, 3), tmp49, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * -0.5
    del tmp49
    tmp381 += np.transpose(tmp377, (1, 0, 2, 3, 4, 5))
    del tmp377
    tmp430 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.aaaaaa, (4, 1, 2, 5, 3, 6), (4, 0, 5, 6)) * -1
    tmp433 = np.copy(np.transpose(tmp430, (1, 0, 3, 2))) * -6
    tmp431 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.abaaba, (4, 2, 1, 5, 3, 6), (4, 0, 5, 6))
    tmp433 += np.transpose(tmp431, (1, 0, 3, 2)) * -1
    tmp432 = einsum(tmp80, (0, 1), t2.aaaa, (2, 0, 3, 4), (2, 1, 3, 4)) * -2
    tmp433 += np.transpose(tmp432, (1, 0, 3, 2))
    del tmp432
    tmp473 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 1, 3), (4, 5, 6, 2))
    tmp476 = np.copy(tmp473) * 3
    tmp474 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 1), (4, 5, 6, 0))
    tmp476 += tmp474 * -1
    tmp475 = einsum(tmp122, (0, 1), t2.aaaa, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    tmp476 += np.transpose(tmp475, (1, 0, 2, 3)) * -1
    tmp485 = np.copy(tmp100) * 0.5
    del tmp100
    tmp484 = einsum(tmp80, (0, 1), t1.aa, (0, 2), (1, 2)) * 0.5
    tmp485 += tmp484
    del tmp484
    tmp485 += tmp99
    del tmp99
    tmp418 = np.copy(np.transpose(tmp416, (0, 1, 2, 4, 3, 5))) * -0.16666666666666666
    tmp417 = einsum(tmp21, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 2), (1, 4, 5, 3, 6, 7))
    tmp418 += np.transpose(tmp417, (1, 2, 0, 4, 5, 3)) * -1
    del tmp417
    tmp515 = einsum(t1.aa, (0, 1), tmp418, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6)) * 6
    tmp541 = np.copy(np.transpose(tmp515, (0, 1, 3, 2, 5, 4))) * -1
    tmp541 += einsum(tmp52, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 6), (0, 4, 3, 2, 5, 6)) * 2
    tmp548 = np.copy(np.transpose(tmp473, (0, 1, 3, 2))) * -3
    del tmp473
    tmp548 += np.transpose(tmp474, (0, 1, 3, 2))
    del tmp474
    tmp548 += np.transpose(tmp475, (1, 0, 3, 2))
    del tmp475
    tmp720 = np.copy(np.transpose(tmp430, (1, 0, 3, 2))) * -3
    del tmp430
    tmp720 += np.transpose(tmp431, (1, 0, 3, 2)) * -0.5
    tmp719 = einsum(tmp80, (0, 1), t2.aaaa, (2, 0, 3, 4), (2, 1, 3, 4)) * -1
    tmp720 += np.transpose(tmp719, (1, 0, 3, 2))
    del tmp719
    tmp391 = np.copy(np.transpose(tmp108, (2, 1, 0, 3))) * 3
    tmp391 += np.transpose(tmp390, (2, 1, 0, 3)) * -1
    del tmp390
    tmp391 += np.transpose(tmp109, (2, 1, 0, 3))
    tmp747 = einsum(t1.aa, (0, 1), tmp391, (0, 2, 3, 4), (3, 2, 1, 4))
    tmp993 = np.copy(np.transpose(tmp907, (0, 2, 1, 3, 4, 5))) * -1
    tmp993 += np.transpose(tmp992, (0, 2, 1, 3, 4, 5))
    tmp993 += np.transpose(tmp929, (2, 1, 0, 3, 4, 5)) * -1
    tmp1000 = np.copy(tmp859)
    del tmp859
    tmp1000 += tmp860
    del tmp860
    tmp999 = einsum(tmp80, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp1000 += tmp999
    del tmp999
    tmp1143 = np.copy(tmp1138)
    tmp1143 += tmp1140
    tmp1141 = einsum(t1.aa, (0, 1), tmp280, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp1142 = einsum(t1.bb, (0, 1), tmp1141, (2, 3, 0, 4), (2, 3, 4, 1))
    del tmp1141
    tmp1143 += tmp1142
    tmp1621 = np.copy(tmp263) * 0.5
    del tmp263
    tmp1620 = einsum(tmp158, (0, 1), t1.bb, (0, 2), (1, 2)) * 0.5
    tmp1621 += tmp1620
    del tmp1620
    tmp1621 += tmp264
    del tmp264
    tmp1623 = np.copy(np.transpose(tmp992, (0, 2, 1, 3, 4, 5))) * -1
    del tmp992
    tmp1623 += np.transpose(tmp907, (0, 2, 1, 3, 4, 5))
    tmp1623 += np.transpose(tmp929, (2, 0, 1, 3, 4, 5))
    del tmp929
    tmp1807 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 1, 3), (4, 5, 6, 2))
    tmp1809 = np.copy(np.transpose(tmp1807, (0, 1, 3, 2))) * -3
    tmp1806 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 3), (4, 5, 6, 2))
    tmp1809 += np.transpose(tmp1806, (0, 1, 3, 2))
    tmp1808 = einsum(tmp271, (0, 1), t2.bbbb, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    tmp1809 += np.transpose(tmp1808, (1, 0, 3, 2))
    del tmp1808
    tmp1939 = np.copy(tmp343) * 3
    tmp1939 += tmp342
    tmp1667 = einsum(tmp34, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 0, 4)) * -1
    tmp1939 += np.transpose(tmp1667, (1, 0, 2, 3))
    tmp2006 = np.copy(tmp1806) * -0.3333333333333333
    tmp2006 += tmp1807
    tmp2005 = einsum(tmp271, (0, 1), t2.bbbb, (2, 3, 4, 0), (2, 3, 4, 1)) * -0.3333333333333333
    tmp2006 += np.transpose(tmp2005, (1, 0, 2, 3)) * -1
    tmp2036 = einsum(t1.bb, (0, 1), tmp1961, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6)) * 0.16666666666666666
    tmp2037 = np.copy(np.transpose(tmp2036, (0, 1, 2, 3, 5, 4)))
    tmp2037 += einsum(tmp317, (0, 1, 2, 3), t2.bbbb, (4, 3, 5, 6), (0, 4, 2, 1, 5, 6)) * 0.3333333333333333
    tmp2055 = np.copy(np.transpose(tmp2036, (0, 1, 3, 2, 5, 4))) * -1
    del tmp2036
    tmp2055 += einsum(tmp317, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 6), (0, 4, 3, 2, 5, 6)) * 0.3333333333333333
    tmp2062 = np.copy(np.transpose(tmp1806, (0, 1, 3, 2))) * 0.3333333333333333
    del tmp1806
    tmp2062 += np.transpose(tmp1807, (0, 1, 3, 2)) * -1
    del tmp1807
    tmp2062 += np.transpose(tmp2005, (1, 0, 3, 2))
    del tmp2005
    tmp36 = np.copy(f.bb.oo)
    tmp36 += np.transpose(tmp29, (1, 0)) * 2
    tmp36 += np.transpose(tmp31, (1, 0)) * -1
    del tmp31
    tmp36 += np.transpose(tmp27, (1, 0))
    del tmp27
    tmp36 += np.transpose(tmp28, (1, 0))
    tmp36 += np.transpose(tmp35, (1, 0))
    del tmp35
    tmp182 = np.copy(np.transpose(tmp178, (0, 2, 1, 3))) * -1
    del tmp178
    tmp182 += np.transpose(tmp179, (0, 2, 1, 3)) * -1
    tmp182 += np.transpose(tmp180, (0, 2, 1, 3)) * 2
    tmp182 += np.transpose(tmp181, (0, 2, 1, 3))
    tmp517 = np.copy(np.transpose(tmp515, (0, 1, 2, 3, 5, 4)))
    del tmp515
    tmp516 = einsum(t2.aaaa, (0, 1, 2, 3), tmp52, (4, 5, 6, 1), (0, 4, 5, 6, 2, 3)) * -2
    tmp517 += np.transpose(tmp516, (1, 0, 3, 2, 5, 4))
    del tmp516
    tmp925 = np.copy(tmp873)
    del tmp873
    tmp925 += tmp874
    del tmp874
    tmp924 = einsum(tmp158, (0, 1), t2.abab, (2, 0, 3, 4), (2, 1, 3, 4))
    tmp925 += tmp924
    del tmp924
    tmp1055 = np.copy(tmp47) * 0.5
    del tmp47
    tmp1055 += tmp94 * -1
    del tmp94
    tmp1055 += v.aaaa.oovv * -0.5
    tmp1055 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3)) * 0.5
    tmp1056 = einsum(t2.abab, (0, 1, 2, 3), tmp1055, (4, 5, 6, 2), (0, 4, 5, 1, 6, 3)) * 2
    del tmp1055
    tmp1060 = np.copy(tmp1056)
    del tmp1056
    tmp1060 += np.transpose(tmp1059, (0, 2, 1, 3, 4, 5))
    del tmp1059
    tmp1663 = einsum(t2.abab, (0, 1, 2, 3), tmp306, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * 0.5
    tmp1665 = np.copy(tmp1663)
    del tmp1663
    tmp1664 = einsum(t1.bb, (0, 1), tmp1279, (2, 3, 0, 4, 5, 6), (2, 3, 4, 5, 6, 1)) * 0.5
    del tmp1279
    tmp1665 += tmp1664
    del tmp1664
    tmp1786 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.babbab, (4, 0, 3, 5, 1, 6), (4, 2, 5, 6))
    tmp1804 = np.copy(np.transpose(tmp1786, (1, 0, 3, 2))) * -0.5
    tmp1802 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.bbbbbb, (4, 1, 2, 5, 3, 6), (4, 0, 5, 6)) * -1
    tmp1804 += np.transpose(tmp1802, (1, 0, 3, 2)) * -3
    del tmp1802
    tmp1803 = einsum(tmp158, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 1, 3, 4)) * -1
    tmp1804 += np.transpose(tmp1803, (1, 0, 3, 2))
    del tmp1803
    tmp1937 = np.copy(np.transpose(tmp1936, (0, 1, 2, 3, 5, 4)))
    del tmp1936
    tmp1933 = einsum(t2.bbbb, (0, 1, 2, 3), tmp306, (4, 5, 6, 3), (0, 1, 4, 5, 2, 6)) * -1
    del tmp306
    tmp1937 += np.transpose(tmp1933, (1, 0, 2, 3, 4, 5))
    del tmp1933
    tmp450 = einsum(tmp14, (0, 1), t3.aaaaaa, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6)) * 6
    tmp450 += einsum(tmp83, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 3), (2, 1, 4, 5, 6, 7)) * 6
    tmp449 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.oooo, (4, 5, 6, 1), (0, 4, 5, 6, 2, 3))
    tmp450 += np.transpose(tmp449, (1, 2, 3, 0, 5, 4)) * -2
    tmp450 += np.transpose(tmp449, (1, 3, 2, 0, 5, 4)) * 2
    tmp450 += np.transpose(tmp422, (2, 3, 1, 0, 5, 4))
    tmp1036 = einsum(t2.abab, (0, 1, 2, 3), tmp225, (4, 1, 5, 3), (0, 4, 2, 5))
    del tmp225
    tmp1039 = np.copy(tmp1036) * 0.5
    del tmp1036
    tmp1037 = einsum(tmp736, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 3), (0, 4, 2, 5))
    del tmp736
    tmp1039 += tmp1037
    del tmp1037
    tmp1038 = einsum(tmp219, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3))
    del tmp219
    tmp1039 += tmp1038
    del tmp1038
    tmp531 = np.copy(tmp8) * 2
    tmp531 += tmp15
    tmp531 += tmp9
    tmp532 = einsum(tmp531, (0, 1), t2.aaaa, (2, 1, 3, 4), (0, 2, 3, 4)) * 2
    tmp453 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 2, 5, 3, 6), (4, 5, 6, 1)) * -1
    tmp455 = np.copy(np.transpose(tmp453, (0, 2, 1, 3))) * -1
    del tmp453
    tmp455 += np.transpose(tmp454, (0, 2, 1, 3)) * -0.16666666666666666
    tmp532 += einsum(t1.aa, (0, 1), tmp455, (2, 3, 4, 1), (0, 2, 4, 3)) * -6
    tmp62 = np.copy(np.transpose(tmp8, (1, 0))) * 2
    del tmp8
    tmp62 += np.transpose(tmp15, (1, 0))
    del tmp15
    tmp62 += np.transpose(tmp9, (1, 0))
    del tmp9
    tmp63 = einsum(tmp62, (0, 1), t1.aa, (0, 2), (1, 2))
    tmp68 = np.copy(tmp63)
    del tmp63
    tmp65 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 3), (2, 4))
    tmp66 = np.copy(tmp65) * 0.5
    tmp64 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (0, 4, 1, 3), (2, 4))
    tmp66 += tmp64
    tmp67 = einsum(t1.aa, (0, 1), tmp66, (2, 1), (0, 2)) * 2
    tmp68 += tmp67
    del tmp67
    tmp112 = np.copy(v.aaaa.ooov) * -1
    tmp112 += einsum(tmp14, (0, 1), t2.aaaa, (2, 3, 4, 1), (0, 2, 3, 4)) * 2
    tmp112 += np.transpose(tmp110, (1, 0, 2, 3))
    tmp112 += np.transpose(tmp110, (1, 2, 0, 3)) * -1
    del tmp110
    tmp112 += np.transpose(tmp108, (2, 1, 0, 3)) * -6
    del tmp108
    tmp112 += np.transpose(tmp109, (2, 1, 0, 3)) * -2
    del tmp109
    tmp112 += np.transpose(tmp82, (2, 1, 0, 3)) * -1
    del tmp82
    tmp112 += einsum(t2.aaaa, (0, 1, 2, 3), tmp111, (1, 4, 5, 3), (5, 4, 0, 2)) * 2
    tmp236 = einsum(t1.bb, (0, 1), v.aabb.oooo, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    tmp236 += v.aabb.ooov
    tmp236 += np.transpose(tmp231, (1, 0, 2, 3)) * 2
    del tmp231
    tmp236 += np.transpose(tmp232, (1, 0, 2, 3)) * 2
    tmp236 += np.transpose(tmp234, (1, 0, 2, 3))
    del tmp234
    tmp236 += np.transpose(tmp235, (1, 0, 2, 3))
    tmp117 = np.copy(tmp64) * 2
    del tmp64
    tmp117 += tmp65
    del tmp65
    tmp395 = einsum(tmp117, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 0, 4)) * 0.5
    tmp395 += einsum(t1.aa, (0, 1), tmp391, (0, 2, 3, 4), (3, 2, 1, 4)) * 0.5
    tmp707 = einsum(tmp62, (0, 1), t1.aa, (0, 2), (1, 2)) * 0.5
    tmp709 = np.copy(tmp707)
    del tmp707
    tmp708 = einsum(t1.aa, (0, 1), tmp66, (2, 1), (0, 2))
    tmp709 += tmp708
    del tmp708
    tmp1066 = np.copy(np.transpose(tmp232, (1, 0, 2, 3))) * 2
    del tmp232
    tmp1066 += np.transpose(tmp235, (1, 0, 2, 3))
    del tmp235
    tmp1067 = einsum(t1.aa, (0, 1), tmp1066, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp1069 = np.copy(tmp1067)
    tmp1068 = einsum(tmp117, (0, 1), t2.abab, (2, 3, 1, 4), (2, 3, 0, 4))
    tmp1069 += tmp1068
    tmp258 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (0, 3, 1, 4), (2, 4)) * -1
    tmp259 = np.copy(tmp258) * 2
    tmp257 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 1, 4), (3, 4))
    tmp259 += tmp257
    tmp1378 = einsum(tmp259, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 4, 0)) * 0.5
    tmp1379 = np.copy(tmp1378) * -1
    tmp1379 += tmp884 * 0.5
    tmp1379 += tmp885 * 0.5
    tmp1379 += einsum(t1.aa, (0, 1), tmp852, (0, 2, 3, 1, 4, 5), (2, 3, 4, 5)) * 0.5
    tmp1615 = np.copy(tmp1068) * -1
    del tmp1068
    tmp1615 += tmp884
    tmp1615 += tmp885
    tmp1615 += tmp886
    tmp1670 = np.copy(tmp1378)
    del tmp1378
    tmp636 = np.copy(np.transpose(tmp180, (0, 2, 1, 3))) * 2
    del tmp180
    tmp636 += np.transpose(tmp181, (0, 2, 1, 3))
    del tmp181
    tmp1670 += einsum(t1.bb, (0, 1), tmp636, (2, 0, 3, 4), (2, 3, 4, 1)) * 0.5
    tmp1985 = einsum(tmp34, (0, 1), t3.bbbbbb, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    tmp1985 += np.transpose(tmp1967, (3, 2, 0, 1, 4, 5))
    del tmp1967
    tmp1984 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.oooo, (4, 5, 6, 1), (0, 4, 5, 6, 2, 3))
    tmp1985 += np.transpose(tmp1984, (1, 2, 3, 0, 5, 4)) * -0.3333333333333333
    tmp1985 += np.transpose(tmp1984, (1, 3, 2, 0, 5, 4)) * 0.3333333333333333
    tmp1985 += np.transpose(tmp1966, (2, 3, 1, 0, 5, 4)) * 0.16666666666666666
    tmp291 = np.copy(np.transpose(tmp28, (1, 0))) * 0.5
    tmp291 += np.transpose(tmp29, (1, 0))
    tmp290 = einsum(t1.bb, (0, 1), tmp34, (2, 1), (0, 2)) * 0.5
    tmp291 += np.transpose(tmp290, (1, 0))
    tmp297 = einsum(tmp291, (0, 1), t1.bb, (0, 2), (1, 2)) * 2
    tmp299 = np.copy(tmp297)
    del tmp297
    tmp298 = einsum(t1.bb, (0, 1), tmp259, (2, 1), (0, 2))
    tmp299 += tmp298
    del tmp298
    tmp314 = einsum(tmp291, (0, 1), t1.bb, (0, 2), (1, 2))
    tmp316 = np.copy(tmp314)
    del tmp314
    tmp315 = einsum(t1.bb, (0, 1), tmp259, (2, 1), (0, 2)) * 0.5
    tmp316 += tmp315
    del tmp315
    tmp346 = np.copy(v.bbbb.ooov) * -1
    tmp346 += einsum(tmp34, (0, 1), t2.bbbb, (2, 3, 4, 1), (0, 2, 3, 4)) * 2
    tmp346 += np.transpose(tmp344, (1, 0, 2, 3))
    tmp345 = np.copy(v.bbbb.ooov) * -1
    tmp345 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3))
    tmp346 += einsum(tmp345, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (1, 0, 4, 5)) * 2
    tmp346 += np.transpose(tmp344, (1, 2, 0, 3)) * -1
    del tmp344
    tmp346 += np.transpose(tmp326, (2, 1, 0, 3)) * -1
    del tmp326
    tmp346 += np.transpose(tmp342, (2, 1, 0, 3)) * -2
    tmp346 += np.transpose(tmp343, (2, 1, 0, 3)) * -6
    tmp392 = einsum(t1.aa, (0, 1), tmp391, (0, 2, 3, 4), (2, 3, 1, 4)) * 0.3333333333333333
    tmp406 = np.copy(np.transpose(tmp392, (1, 0, 2, 3)))
    tmp406 += einsum(tmp117, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 0, 4)) * 0.3333333333333333
    tmp539 = einsum(t1.aa, (0, 1), tmp455, (2, 3, 4, 1), (0, 2, 3, 4)) * 3
    tmp540 = np.copy(np.transpose(tmp539, (0, 1, 3, 2))) * -1
    del tmp539
    tmp538 = einsum(tmp531, (0, 1), t2.aaaa, (2, 1, 3, 4), (2, 0, 3, 4)) * -1
    tmp540 += np.transpose(tmp538, (1, 0, 3, 2))
    del tmp538
    tmp1004 = einsum(tmp259, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 4, 0))
    tmp1005 = np.copy(tmp1004) * -1
    tmp1005 += tmp884
    del tmp884
    tmp1005 += tmp885
    del tmp885
    tmp1005 += tmp886
    del tmp886
    tmp1079 = einsum(tmp62, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp1080 = np.copy(tmp1079)
    del tmp1079
    tmp879 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 3, 5, 6), (4, 6, 1, 5)) * -1
    tmp881 = np.copy(tmp879)
    del tmp879
    tmp880 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 6, 3), (4, 6, 1, 5))
    tmp881 += tmp880
    del tmp880
    tmp971 = einsum(t1.aa, (0, 1), tmp881, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1080 += tmp971
    tmp1644 = np.copy(tmp1004)
    del tmp1004
    tmp1052 = einsum(t1.bb, (0, 1), tmp636, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp1644 += tmp1052
    tmp1091 = einsum(tmp291, (0, 1), t2.abab, (2, 0, 3, 4), (2, 1, 3, 4)) * 2
    tmp1092 = np.copy(tmp1091)
    del tmp1091
    tmp868 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 6, 1), (4, 5, 6, 3))
    tmp870 = np.copy(tmp868)
    del tmp868
    tmp869 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 1, 5, 6), (4, 5, 6, 3))
    tmp870 += tmp869
    del tmp869
    tmp981 = einsum(t1.bb, (0, 1), tmp870, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp1092 += tmp981
    tmp1849 = np.copy(np.transpose(tmp1787, (0, 2, 1, 3))) * -1
    tmp1849 += np.transpose(tmp1799, (0, 2, 1, 3)) * -6
    del tmp1799
    tmp1850 = einsum(t1.bb, (0, 1), tmp1849, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.25
    tmp1851 = np.copy(np.transpose(tmp1850, (0, 1, 3, 2))) * -1
    del tmp1850
    tmp1430 = np.copy(tmp28) * 0.5
    del tmp28
    tmp1430 += tmp29
    del tmp29
    tmp1430 += tmp290
    del tmp290
    tmp1848 = einsum(tmp1430, (0, 1), t2.bbbb, (2, 1, 3, 4), (2, 0, 3, 4)) * -1
    tmp1851 += np.transpose(tmp1848, (1, 0, 3, 2))
    del tmp1848
    tmp1853 = einsum(t1.bb, (0, 1), tmp1849, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.5
    tmp1854 = np.copy(np.transpose(tmp1853, (0, 1, 3, 2))) * -1
    del tmp1853
    tmp1852 = einsum(tmp1430, (0, 1), t2.bbbb, (2, 1, 3, 4), (2, 0, 3, 4)) * -2
    tmp1854 += np.transpose(tmp1852, (1, 0, 3, 2))
    del tmp1852
    tmp1668 = np.copy(np.transpose(tmp1667, (2, 1, 0, 3))) * -1
    del tmp1667
    tmp1668 += np.transpose(tmp343, (2, 1, 0, 3)) * 3
    del tmp343
    tmp1668 += np.transpose(tmp342, (2, 1, 0, 3))
    del tmp342
    tmp1837 = einsum(t1.bb, (0, 1), tmp1668, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp1948 = np.copy(np.transpose(tmp1837, (1, 0, 2, 3)))
    tmp352 = np.copy(tmp257) * 0.5
    del tmp257
    tmp352 += tmp258
    del tmp258
    tmp1947 = einsum(tmp352, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 4, 0)) * -2
    tmp1948 += np.transpose(tmp1947, (1, 0, 3, 2))
    tmp90 = einsum(f.bb.ov, (0, 1), t2.abab, (2, 0, 3, 1), (2, 3))
    tmp98 = np.copy(tmp90) * 0.5
    tmp91 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 2, 5, 1, 3), (4, 5))
    tmp98 += tmp91 * 1.5
    tmp93 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 3, 5, 1), (4, 5)) * -1
    tmp98 += tmp93 * 0.5
    tmp89 = einsum(f.aa.ov, (0, 1), t2.aaaa, (2, 0, 3, 1), (2, 3))
    tmp98 += tmp89
    tmp92 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 3, 1), (4, 5))
    tmp98 += tmp92
    tmp96 = einsum(t1.aa, (0, 1), tmp95, (2, 0, 3, 1), (2, 3))
    tmp98 += tmp96
    del tmp96
    tmp97 = einsum(t1.bb, (0, 1), tmp76, (2, 0, 3, 1), (2, 3))
    tmp98 += tmp97
    del tmp97
    tmp169 = np.copy(tmp89) * 0.6666666666666666
    tmp169 += tmp90 * 0.3333333333333333
    tmp169 += tmp92 * 0.6666666666666666
    tmp169 += tmp93 * 0.3333333333333333
    tmp167 = einsum(t1.aa, (0, 1), tmp95, (2, 0, 3, 1), (2, 3)) * 0.6666666666666666
    tmp169 += tmp167
    del tmp167
    tmp168 = einsum(t1.bb, (0, 1), tmp76, (2, 0, 3, 1), (2, 3)) * 0.6666666666666666
    tmp169 += tmp168
    del tmp168
    tmp169 += tmp91
    tmp564 = np.copy(tmp89) * 2
    del tmp89
    tmp564 += tmp91 * 3
    del tmp91
    tmp564 += tmp92 * 2
    del tmp92
    tmp562 = einsum(t1.aa, (0, 1), tmp95, (2, 0, 3, 1), (2, 3)) * 2
    tmp564 += tmp562
    del tmp562
    tmp563 = einsum(t1.bb, (0, 1), tmp76, (2, 0, 3, 1), (2, 3)) * 2
    tmp564 += tmp563
    del tmp563
    tmp564 += tmp90
    del tmp90
    tmp564 += tmp93
    del tmp93
    tmp1991 = einsum(t1.aa, (0, 1), tmp1760, (0, 2, 3, 1, 4, 5), (2, 3, 5, 4))
    tmp1991 += einsum(t1.bb, (0, 1), tmp1961, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4))
    tmp1991 += np.transpose(tmp1974, (1, 0, 3, 2)) * -1
    tmp1975 = einsum(f.bb.ov, (0, 1), t3.bbbbbb, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp1991 += np.transpose(tmp1975, (1, 0, 3, 2)) * -6
    tmp1991 += einsum(tmp352, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 0, 4)) * -4
    tmp1976 = einsum(t1.aa, (0, 1), tmp1760, (0, 2, 3, 1, 4, 5), (2, 3, 5, 4)) * 0.5
    del tmp1760
    tmp1976 += einsum(t1.bb, (0, 1), tmp1961, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * 0.5
    tmp1976 += np.transpose(tmp1947, (1, 0, 3, 2)) * -1
    del tmp1947
    tmp1976 += np.transpose(tmp1974, (1, 0, 3, 2)) * -0.5
    del tmp1974
    tmp1976 += np.transpose(tmp1975, (1, 0, 3, 2)) * -3
    del tmp1975
    tmp240 = einsum(f.aa.ov, (0, 1), t2.abab, (0, 2, 1, 3), (2, 3))
    tmp248 = np.copy(tmp240) * 0.5
    tmp242 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 1, 5, 3), (4, 5))
    tmp248 += tmp242 * 0.5
    tmp244 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 3, 1), (4, 5)) * -1
    tmp248 += tmp244 * 1.5
    tmp241 = einsum(f.bb.ov, (0, 1), t2.bbbb, (2, 0, 3, 1), (2, 3))
    tmp248 += tmp241
    tmp243 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 1, 3), (4, 5))
    tmp248 += tmp243
    tmp246 = einsum(t1.aa, (0, 1), tmp245, (0, 2, 1, 3), (2, 3)) * 0.5
    tmp248 += tmp246
    del tmp246
    tmp247 = einsum(t1.bb, (0, 1), tmp227, (2, 0, 3, 1), (2, 3)) * 0.5
    tmp248 += tmp247
    del tmp247
    tmp335 = np.copy(tmp240) * 0.3333333333333333
    tmp335 += tmp241 * 0.6666666666666666
    tmp335 += tmp242 * 0.3333333333333333
    tmp335 += tmp243 * 0.6666666666666666
    tmp335 += tmp244
    tmp333 = einsum(t1.aa, (0, 1), tmp245, (0, 2, 1, 3), (2, 3)) * 0.3333333333333333
    tmp335 += tmp333
    del tmp333
    tmp334 = einsum(t1.bb, (0, 1), tmp227, (2, 0, 3, 1), (2, 3)) * 0.3333333333333333
    tmp335 += tmp334
    del tmp334
    tmp1035 = np.copy(tmp241) * 2
    del tmp241
    tmp1035 += tmp243 * 2
    del tmp243
    tmp1035 += tmp244 * 3
    del tmp244
    tmp1033 = einsum(t1.aa, (0, 1), tmp245, (0, 2, 1, 3), (2, 3))
    tmp1035 += tmp1033
    del tmp1033
    tmp1034 = einsum(t1.bb, (0, 1), tmp227, (2, 0, 3, 1), (2, 3))
    tmp1035 += tmp1034
    del tmp1034
    tmp1035 += tmp240
    del tmp240
    tmp1035 += tmp242
    del tmp242
    tmp436 = einsum(t1.aa, (0, 1), tmp418, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5)) * 6
    tmp441 = np.copy(np.transpose(tmp436, (0, 1, 3, 2)))
    del tmp436
    tmp439 = einsum(t1.bb, (0, 1), tmp438, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5)) * 6
    tmp441 += np.transpose(tmp439, (0, 1, 3, 2))
    del tmp439
    tmp434 = einsum(f.aa.ov, (0, 1), t3.aaaaaa, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp441 += np.transpose(tmp434, (1, 0, 3, 2)) * -6
    del tmp434
    tmp441 += np.transpose(tmp435, (1, 0, 3, 2)) * -1
    del tmp435
    tmp440 = einsum(tmp117, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 4, 0)) * -2
    tmp441 += np.transpose(tmp440, (1, 0, 3, 2)) * -1
    del tmp440

    return {"tmp1": tmp1, "tmp10": tmp10, "tmp1000": tmp1000, "tmp1003": tmp1003, "tmp1005": tmp1005, "tmp1008": tmp1008, "tmp1012": tmp1012, "tmp1013": tmp1013, "tmp1018": tmp1018, "tmp102": tmp102, "tmp1024": tmp1024, "tmp1028": tmp1028, "tmp1030": tmp1030, "tmp1035": tmp1035, "tmp1039": tmp1039, "tmp1040": tmp1040, "tmp1041": tmp1041, "tmp1043": tmp1043, "tmp1051": tmp1051, "tmp1052": tmp1052, "tmp1060": tmp1060, "tmp1062": tmp1062, "tmp1066": tmp1066, "tmp1067": tmp1067, "tmp1069": tmp1069, "tmp1071": tmp1071, "tmp1077": tmp1077, "tmp1080": tmp1080, "tmp1081": tmp1081, "tmp1089": tmp1089, "tmp1090": tmp1090, "tmp1092": tmp1092, "tmp1093": tmp1093, "tmp1094": tmp1094, "tmp1095": tmp1095, "tmp1098": tmp1098, "tmp1100": tmp1100, "tmp1108": tmp1108, "tmp111": tmp111, "tmp1111": tmp1111, "tmp1112": tmp1112, "tmp1114": tmp1114, "tmp1118": tmp1118, "tmp112": tmp112, "tmp1122": tmp1122, "tmp1125": tmp1125, "tmp1128": tmp1128, "tmp1132": tmp1132, "tmp1134": tmp1134, "tmp1138": tmp1138, "tmp1140": tmp1140, "tmp1142": tmp1142, "tmp1143": tmp1143, "tmp1144": tmp1144, "tmp1148": tmp1148, "tmp1149": tmp1149, "tmp1150": tmp1150, "tmp1151": tmp1151, "tmp1153": tmp1153, "tmp1155": tmp1155, "tmp1156": tmp1156, "tmp1158": tmp1158, "tmp1160": tmp1160, "tmp1162": tmp1162, "tmp1165": tmp1165, "tmp1167": tmp1167, "tmp117": tmp117, "tmp1173": tmp1173, "tmp1175": tmp1175, "tmp1176": tmp1176, "tmp118": tmp118, "tmp1188": tmp1188, "tmp1191": tmp1191, "tmp1192": tmp1192, "tmp1195": tmp1195, "tmp1198": tmp1198, "tmp120": tmp120, "tmp1206": tmp1206, "tmp1209": tmp1209, "tmp1213": tmp1213, "tmp1217": tmp1217, "tmp1219": tmp1219, "tmp122": tmp122, "tmp1220": tmp1220, "tmp1222": tmp1222, "tmp1223": tmp1223, "tmp1224": tmp1224, "tmp1227": tmp1227, "tmp124": tmp124, "tmp1240": tmp1240, "tmp1242": tmp1242, "tmp1247": tmp1247, "tmp1254": tmp1254, "tmp1255": tmp1255, "tmp1256": tmp1256, "tmp1258": tmp1258, "tmp1261": tmp1261, "tmp1262": tmp1262, "tmp1269": tmp1269, "tmp1271": tmp1271, "tmp128": tmp128, "tmp1281": tmp1281, "tmp1294": tmp1294, "tmp1298": tmp1298, "tmp130": tmp130, "tmp1300": tmp1300, "tmp1305": tmp1305, "tmp1315": tmp1315, "tmp1320": tmp1320, "tmp1325": tmp1325, "tmp1326": tmp1326, "tmp1327": tmp1327, "tmp1331": tmp1331, "tmp1335": tmp1335, "tmp1338": tmp1338, "tmp134": tmp134, "tmp1345": tmp1345, "tmp1351": tmp1351, "tmp1354": tmp1354, "tmp1356": tmp1356, "tmp1369": tmp1369, "tmp137": tmp137, "tmp1379": tmp1379, "tmp138": tmp138, "tmp1397": tmp1397, "tmp14": tmp14, "tmp141": tmp141, "tmp1415": tmp1415, "tmp1417": tmp1417, "tmp142": tmp142, "tmp1421": tmp1421, "tmp1423": tmp1423, "tmp1430": tmp1430, "tmp1440": tmp1440, "tmp1441": tmp1441, "tmp1442": tmp1442, "tmp1455": tmp1455, "tmp1471": tmp1471, "tmp1472": tmp1472, "tmp1473": tmp1473, "tmp1476": tmp1476, "tmp1491": tmp1491, "tmp1492": tmp1492, "tmp150": tmp150, "tmp1502": tmp1502, "tmp1503": tmp1503, "tmp1508": tmp1508, "tmp151": tmp151, "tmp1518": tmp1518, "tmp1531": tmp1531, "tmp1537": tmp1537, "tmp155": tmp155, "tmp1550": tmp1550, "tmp1555": tmp1555, "tmp1570": tmp1570, "tmp1574": tmp1574, "tmp1575": tmp1575, "tmp158": tmp158, "tmp1588": tmp1588, "tmp16": tmp16, "tmp160": tmp160, "tmp1606": tmp1606, "tmp161": tmp161, "tmp1610": tmp1610, "tmp1611": tmp1611, "tmp1614": tmp1614, "tmp1615": tmp1615, "tmp1617": tmp1617, "tmp1621": tmp1621, "tmp1623": tmp1623, "tmp1625": tmp1625, "tmp1627": tmp1627, "tmp1629": tmp1629, "tmp163": tmp163, "tmp1636": tmp1636, "tmp1640": tmp1640, "tmp1644": tmp1644, "tmp1646": tmp1646, "tmp1652": tmp1652, "tmp1654": tmp1654, "tmp1656": tmp1656, "tmp1659": tmp1659, "tmp1665": tmp1665, "tmp1668": tmp1668, "tmp1669": tmp1669, "tmp1670": tmp1670, "tmp1671": tmp1671, "tmp1673": tmp1673, "tmp1674": tmp1674, "tmp1677": tmp1677, "tmp1679": tmp1679, "tmp1681": tmp1681, "tmp1683": tmp1683, "tmp1688": tmp1688, "tmp169": tmp169, "tmp1696": tmp1696, "tmp1698": tmp1698, "tmp170": tmp170, "tmp1700": tmp1700, "tmp1711": tmp1711, "tmp1713": tmp1713, "tmp1714": tmp1714, "tmp1717": tmp1717, "tmp1718": tmp1718, "tmp1719": tmp1719, "tmp1723": tmp1723, "tmp1725": tmp1725, "tmp1727": tmp1727, "tmp1744": tmp1744, "tmp1748": tmp1748, "tmp1758": tmp1758, "tmp1759": tmp1759, "tmp1761": tmp1761, "tmp1766": tmp1766, "tmp1773": tmp1773, "tmp1784": tmp1784, "tmp1786": tmp1786, "tmp1787": tmp1787, "tmp179": tmp179, "tmp1794": tmp1794, "tmp1800": tmp1800, "tmp1804": tmp1804, "tmp1809": tmp1809, "tmp1816": tmp1816, "tmp182": tmp182, "tmp1823": tmp1823, "tmp1826": tmp1826, "tmp1829": tmp1829, "tmp1836": tmp1836, "tmp1837": tmp1837, "tmp1838": tmp1838, "tmp184": tmp184, "tmp1841": tmp1841, "tmp1849": tmp1849, "tmp185": tmp185, "tmp1851": tmp1851, "tmp1854": tmp1854, "tmp1863": tmp1863, "tmp1868": tmp1868, "tmp187": tmp187, "tmp1870": tmp1870, "tmp1882": tmp1882, "tmp1884": tmp1884, "tmp1888": tmp1888, "tmp1891": tmp1891, "tmp190": tmp190, "tmp1900": tmp1900, "tmp1909": tmp1909, "tmp1911": tmp1911, "tmp1916": tmp1916, "tmp1919": tmp1919, "tmp1921": tmp1921, "tmp1925": tmp1925, "tmp193": tmp193, "tmp1937": tmp1937, "tmp1939": tmp1939, "tmp194": tmp194, "tmp1946": tmp1946, "tmp1948": tmp1948, "tmp1951": tmp1951, "tmp1961": tmp1961, "tmp1966": tmp1966, "tmp1968": tmp1968, "tmp1976": tmp1976, "tmp198": tmp198, "tmp1984": tmp1984, "tmp1985": tmp1985, "tmp1991": tmp1991, "tmp1992": tmp1992, "tmp1998": tmp1998, "tmp2003": tmp2003, "tmp2006": tmp2006, "tmp2012": tmp2012, "tmp2025": tmp2025, "tmp2027": tmp2027, "tmp2031": tmp2031, "tmp2037": tmp2037, "tmp2049": tmp2049, "tmp2055": tmp2055, "tmp206": tmp206, "tmp2061": tmp2061, "tmp2062": tmp2062, "tmp2068": tmp2068, "tmp2071": tmp2071, "tmp2077": tmp2077, "tmp2079": tmp2079, "tmp208": tmp208, "tmp2083": tmp2083, "tmp2087": tmp2087, "tmp209": tmp209, "tmp2093": tmp2093, "tmp2097": tmp2097, "tmp2098": tmp2098, "tmp21": tmp21, "tmp2106": tmp2106, "tmp2111": tmp2111, "tmp2113": tmp2113, "tmp212": tmp212, "tmp217": tmp217, "tmp221": tmp221, "tmp223": tmp223, "tmp227": tmp227, "tmp229": tmp229, "tmp233": tmp233, "tmp236": tmp236, "tmp24": tmp24, "tmp245": tmp245, "tmp248": tmp248, "tmp249": tmp249, "tmp259": tmp259, "tmp260": tmp260, "tmp261": tmp261, "tmp262": tmp262, "tmp266": tmp266, "tmp269": tmp269, "tmp271": tmp271, "tmp277": tmp277, "tmp278": tmp278, "tmp279": tmp279, "tmp280": tmp280, "tmp281": tmp281, "tmp285": tmp285, "tmp291": tmp291, "tmp293": tmp293, "tmp299": tmp299, "tmp30": tmp30, "tmp308": tmp308, "tmp309": tmp309, "tmp310": tmp310, "tmp316": tmp316, "tmp317": tmp317, "tmp318": tmp318, "tmp322": tmp322, "tmp327": tmp327, "tmp329": tmp329, "tmp335": tmp335, "tmp34": tmp34, "tmp345": tmp345, "tmp346": tmp346, "tmp352": tmp352, "tmp354": tmp354, "tmp356": tmp356, "tmp359": tmp359, "tmp36": tmp36, "tmp361": tmp361, "tmp363": tmp363, "tmp366": tmp366, "tmp367": tmp367, "tmp370": tmp370, "tmp371": tmp371, "tmp381": tmp381, "tmp384": tmp384, "tmp391": tmp391, "tmp392": tmp392, "tmp394": tmp394, "tmp395": tmp395, "tmp398": tmp398, "tmp40": tmp40, "tmp402": tmp402, "tmp405": tmp405, "tmp406": tmp406, "tmp407": tmp407, "tmp413": tmp413, "tmp414": tmp414, "tmp416": tmp416, "tmp418": tmp418, "tmp422": tmp422, "tmp424": tmp424, "tmp431": tmp431, "tmp433": tmp433, "tmp438": tmp438, "tmp441": tmp441, "tmp449": tmp449, "tmp450": tmp450, "tmp454": tmp454, "tmp455": tmp455, "tmp459": tmp459, "tmp464": tmp464, "tmp471": tmp471, "tmp476": tmp476, "tmp485": tmp485, "tmp488": tmp488, "tmp5": tmp5, "tmp502": tmp502, "tmp504": tmp504, "tmp510": tmp510, "tmp517": tmp517, "tmp52": tmp52, "tmp526": tmp526, "tmp531": tmp531, "tmp532": tmp532, "tmp536": tmp536, "tmp54": tmp54, "tmp540": tmp540, "tmp541": tmp541, "tmp542": tmp542, "tmp547": tmp547, "tmp548": tmp548, "tmp556": tmp556, "tmp558": tmp558, "tmp56": tmp56, "tmp560": tmp560, "tmp564": tmp564, "tmp568": tmp568, "tmp570": tmp570, "tmp574": tmp574, "tmp576": tmp576, "tmp582": tmp582, "tmp584": tmp584, "tmp586": tmp586, "tmp587": tmp587, "tmp588": tmp588, "tmp594": tmp594, "tmp598": tmp598, "tmp599": tmp599, "tmp607": tmp607, "tmp612": tmp612, "tmp614": tmp614, "tmp616": tmp616, "tmp618": tmp618, "tmp62": tmp62, "tmp625": tmp625, "tmp630": tmp630, "tmp636": tmp636, "tmp638": tmp638, "tmp641": tmp641, "tmp644": tmp644, "tmp645": tmp645, "tmp648": tmp648, "tmp651": tmp651, "tmp66": tmp66, "tmp679": tmp679, "tmp68": tmp68, "tmp687": tmp687, "tmp688": tmp688, "tmp693": tmp693, "tmp70": tmp70, "tmp709": tmp709, "tmp71": tmp71, "tmp712": tmp712, "tmp720": tmp720, "tmp721": tmp721, "tmp722": tmp722, "tmp725": tmp725, "tmp737": tmp737, "tmp740": tmp740, "tmp745": tmp745, "tmp746": tmp746, "tmp747": tmp747, "tmp752": tmp752, "tmp76": tmp76, "tmp764": tmp764, "tmp774": tmp774, "tmp78": tmp78, "tmp781": tmp781, "tmp785": tmp785, "tmp80": tmp80, "tmp801": tmp801, "tmp805": tmp805, "tmp809": tmp809, "tmp812": tmp812, "tmp817": tmp817, "tmp822": tmp822, "tmp823": tmp823, "tmp825": tmp825, "tmp83": tmp83, "tmp834": tmp834, "tmp838": tmp838, "tmp847": tmp847, "tmp849": tmp849, "tmp85": tmp85, "tmp850": tmp850, "tmp852": tmp852, "tmp855": tmp855, "tmp861": tmp861, "tmp862": tmp862, "tmp866": tmp866, "tmp870": tmp870, "tmp875": tmp875, "tmp881": tmp881, "tmp883": tmp883, "tmp887": tmp887, "tmp888": tmp888, "tmp890": tmp890, "tmp896": tmp896, "tmp898": tmp898, "tmp905": tmp905, "tmp907": tmp907, "tmp909": tmp909, "tmp912": tmp912, "tmp917": tmp917, "tmp925": tmp925, "tmp930": tmp930, "tmp935": tmp935, "tmp937": tmp937, "tmp944": tmp944, "tmp95": tmp95, "tmp956": tmp956, "tmp960": tmp960, "tmp961": tmp961, "tmp969": tmp969, "tmp971": tmp971, "tmp972": tmp972, "tmp98": tmp98, "tmp981": tmp981, "tmp983": tmp983, "tmp993": tmp993}

def hbar_matvec_ip(f=None, ints=None, r1=None, r2=None, r3=None, t1=None, t2=None, t3=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        ints: 
        r1: 
        r2: 
        r3: 
        t1: 
        t2: 
        t3: 
        v: 

    Returns:
        r1new: 
        r2new: 
        r3new: 
    """

    r1new = Namespace()
    r1new.a = einsum(r1.a, (0,), ints.tmp16, (0, 1), (1,)) * -1
    r1new.a += einsum(r2.aaa, (0, 1, 2), v.aaaa.ooov, (3, 0, 1, 2), (3,)) * -2
    r1new.a += einsum(f.aa.ov, (0, 1), r2.aaa, (2, 0, 1), (2,)) * 2
    tmp3 = einsum(r2.aaa, (0, 1, 2), ints.tmp5, (1, 3, 4, 2), (3, 0, 4))
    tmp5 = np.copy(tmp3) * 2
    del tmp3
    tmp4 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 4, 0, 2), (1, 3, 4)) * -1
    tmp5 += np.transpose(tmp4, (1, 0, 2)) * -1
    r1new.a += einsum(t1.aa, (0, 1), tmp5, (0, 2, 1), (2,)) * -1
    r1new.a += einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 0, 2, 1, 3), (4,)) * 3
    r1new.a += einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 0, 3, 1), (4,)) * 2
    r1new.a += einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 1, 0, 2), (3,))
    tmp0 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovov, (1, 2, 3, 4), (0, 3, 4))
    tmp2 = np.copy(tmp0) * 2
    tmp1 = einsum(r2.bab, (0, 1, 2), ints.tmp1, (0, 3, 4, 2), (1, 3, 4)) * -1
    tmp2 += tmp1 * -1
    r1new.a += einsum(t1.bb, (0, 1), tmp2, (2, 0, 1), (2,))
    r1new.a += einsum(f.bb.ov, (0, 1), r2.bab, (0, 2, 1), (2,)) * -1
    r1new.a += einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (0, 4, 2, 3, 1), (4,))
    tmp7 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (1, 3, 0, 2), (3,)) * -1
    tmp8 = np.copy(tmp7) * 0.5
    tmp6 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovov, (0, 2, 1, 3), (3,)) * -1
    tmp8 += tmp6
    r1new.a += einsum(tmp8, (0,), t1.aa, (1, 0), (1,)) * -2
    r1new.b = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (0, 2, 3, 1), (3,))
    r1new.b += einsum(f.aa.ov, (0, 1), r2.aba, (0, 2, 1), (2,)) * -1
    tmp9 = einsum(r2.aba, (0, 1, 2), ints.tmp21, (0, 3, 4, 2), (3, 1, 4))
    tmp11 = np.copy(tmp9) * -0.5
    tmp10 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovov, (3, 4, 1, 2), (3, 0, 4))
    tmp11 += tmp10
    r1new.b += einsum(t1.aa, (0, 1), tmp11, (0, 2, 1), (2,)) * 2
    r1new.b += einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (0, 2, 4, 1, 3), (4,))
    r1new.b += einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 2, 1, 3), (4,)) * 2
    r1new.b += einsum(r1.b, (0,), ints.tmp36, (0, 1), (1,)) * -1
    r1new.b += einsum(r2.bbb, (0, 1, 2), v.bbbb.ooov, (3, 1, 0, 2), (3,)) * 2
    tmp12 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (0, 2, 3, 4), (1, 3, 4))
    tmp14 = np.copy(tmp12) * -1
    tmp13 = einsum(r2.bbb, (0, 1, 2), ints.tmp24, (1, 3, 4, 2), (3, 0, 4))
    tmp14 += np.transpose(tmp13, (1, 0, 2)) * 2
    r1new.b += einsum(t1.bb, (0, 1), tmp14, (2, 0, 1), (2,))
    del tmp14
    r1new.b += einsum(f.bb.ov, (0, 1), r2.bbb, (2, 0, 1), (2,)) * 2
    r1new.b += einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 0, 2, 1, 3), (4,)) * 3
    tmp15 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (0, 2, 1, 3), (3,))
    tmp17 = np.copy(tmp15) * -0.5
    tmp16 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovov, (0, 3, 1, 2), (3,))
    tmp17 += tmp16
    r1new.b += einsum(tmp17, (0,), t1.bb, (1, 0), (1,)) * -2
    tmp19 = einsum(ints.tmp56, (0, 1), r2.aaa, (2, 1, 3), (0, 2, 3))
    r2new = Namespace()
    r2new.aaa = np.copy(tmp19) * 4
    r2new.aaa += einsum(r1.a, (0,), ints.tmp70, (1, 2), (0, 1, 2))
    tmp20 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ooov, (3, 0, 1, 4), (3, 2, 4))
    tmp23 = np.copy(tmp20) * -1
    tmp21 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 0, 2, 5, 1), (4, 5, 3)) * -1
    tmp23 += tmp21 * 3
    tmp22 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 0, 3, 5), (4, 5, 1))
    tmp23 += tmp22
    tmp24 = einsum(t1.aa, (0, 1), tmp23, (2, 3, 1), (0, 2, 3)) * 2
    r2new.aaa += tmp24
    r2new.aaa += tmp4
    r2new.aaa += einsum(r1.a, (0,), ints.tmp54, (1, 2, 0, 3), (1, 2, 3)) * -1
    tmp18 = einsum(r2.aaa, (0, 1, 2), ints.tmp40, (1, 3, 2, 4), (3, 0, 4))
    r2new.aaa += np.transpose(tmp18, (1, 0, 2)) * 2
    tmp25 = einsum(t1.aa, (0, 1), tmp5, (2, 3, 1), (0, 2, 3)) * 0.5
    tmp26 = einsum(t1.aa, (0, 1), tmp25, (2, 0, 3), (3, 2, 1)) * 2
    r2new.aaa += np.transpose(tmp26, (1, 0, 2)) * -1
    r2new.aaa += einsum(r1.a, (0,), ints.tmp68, (1, 2), (1, 0, 2))
    r2new.aaa += tmp18 * -2
    del tmp18
    r2new.aaa += einsum(r1.a, (0,), ints.tmp68, (1, 2), (0, 1, 2)) * -1
    r2new.aaa += tmp26
    del tmp26
    r2new.aaa += np.transpose(tmp19, (1, 0, 2)) * -4
    del tmp19
    r2new.aaa += np.transpose(tmp24, (1, 0, 2)) * -1
    del tmp24
    r2new.aaa += np.transpose(tmp4, (1, 0, 2)) * -1
    del tmp4
    r2new.aaa += einsum(r1.a, (0,), ints.tmp70, (1, 2), (1, 0, 2)) * -1
    r2new.aaa += einsum(r1.a, (0,), ints.tmp71, (0, 1, 2, 3), (2, 1, 3))
    tmp27 = einsum(r2.aaa, (0, 1, 2), ints.tmp78, (3, 1, 4, 2), (3, 0, 4))
    r2new.aaa += tmp27 * -2
    tmp29 = einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aaaaa, (4, 1, 2, 5, 3), (4, 0, 5))
    r2new.aaa += tmp29 * -6
    tmp30 = einsum(r2.bab, (0, 1, 2), ints.tmp76, (3, 0, 4, 2), (3, 1, 4)) * -1
    r2new.aaa += tmp30 * -2
    tmp31 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 2, 1, 3, 5), (4, 0, 5))
    r2new.aaa += tmp31 * -2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp102, (1, 2), (0, 1, 2)) * -1
    r2new.aaa += einsum(r1.a, (0,), ints.tmp85, (1, 0, 2, 3), (1, 2, 3)) * 2
    tmp28 = einsum(ints.tmp80, (0, 1), r2.aaa, (2, 0, 3), (1, 2, 3))
    r2new.aaa += np.transpose(tmp28, (1, 0, 2)) * -2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp98, (1, 2), (1, 0, 2)) * -2
    tmp32 = einsum(r2.aaa, (0, 1, 2), ints.tmp10, (3, 4, 1, 2), (3, 4, 0))
    tmp34 = np.copy(tmp32) * 2
    tmp33 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 4, 0, 2), (1, 3, 4)) * -1
    tmp34 += np.transpose(tmp33, (2, 1, 0)) * -1
    r2new.aaa += einsum(t1.aa, (0, 1), tmp34, (2, 0, 3), (3, 2, 1))
    del tmp34
    r2new.aaa += tmp28 * 2
    del tmp28
    r2new.aaa += einsum(r1.a, (0,), ints.tmp98, (1, 2), (0, 1, 2)) * 2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp112, (0, 1, 2, 3), (1, 2, 3))
    r2new.aaa += einsum(f.aa.ov, (0, 1), r3.aaaaa, (2, 3, 0, 4, 1), (2, 3, 4)) * 6
    tmp35 = einsum(ints.tmp21, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 2), (1, 4, 5, 3, 6))
    tmp37 = np.copy(np.transpose(tmp35, (0, 2, 1, 3, 4))) * -3
    tmp36 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 3, 6), (4, 5, 0, 6, 1))
    tmp37 += np.transpose(tmp36, (2, 1, 0, 4, 3))
    r2new.aaa += einsum(t1.aa, (0, 1), tmp37, (0, 2, 3, 1, 4), (2, 3, 4)) * -2
    r2new.aaa += einsum(f.bb.ov, (0, 1), r3.ababa, (2, 0, 3, 1, 4), (2, 3, 4)) * 2
    tmp39 = einsum(ints.tmp1, (0, 1, 2, 3), r3.ababa, (4, 0, 5, 3, 6), (4, 5, 1, 6, 2))
    tmp40 = np.copy(tmp39) * -0.3333333333333333
    tmp38 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 1), (4, 5, 2, 6, 3))
    tmp40 += tmp38
    r2new.aaa += einsum(t1.bb, (0, 1), tmp40, (2, 3, 0, 4, 1), (2, 3, 4)) * 6
    r2new.aaa += einsum(tmp8, (0,), t2.aaaa, (1, 2, 3, 0), (1, 2, 3)) * 4
    r2new.aaa += np.transpose(tmp27, (1, 0, 2)) * 2
    del tmp27
    r2new.aaa += np.transpose(tmp29, (1, 0, 2)) * 6
    del tmp29
    r2new.aaa += np.transpose(tmp30, (1, 0, 2)) * 2
    del tmp30
    r2new.aaa += np.transpose(tmp31, (1, 0, 2)) * 2
    del tmp31
    r2new.aaa += einsum(r1.a, (0,), ints.tmp102, (1, 2), (1, 0, 2))
    r2new.aaa += einsum(r2.aaa, (0, 1, 2), v.aaaa.oooo, (3, 1, 4, 0), (3, 4, 2)) * -2
    r2new.aaa += einsum(ints.tmp117, (0, 1), r2.aaa, (2, 3, 1), (2, 3, 0)) * -2
    tmp41 = einsum(ints.tmp14, (0, 1), r2.aaa, (2, 3, 1), (0, 2, 3))
    tmp44 = np.copy(np.transpose(tmp41, (0, 2, 1)))
    tmp44 += np.transpose(tmp33, (2, 0, 1)) * -0.5
    tmp44 += np.transpose(tmp32, (1, 2, 0))
    tmp42 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 2, 3, 1), (4, 5, 0)) * -1
    tmp44 += np.transpose(tmp42, (2, 1, 0)) * 3
    tmp43 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 3, 1), (4, 5, 0))
    tmp44 += np.transpose(tmp43, (2, 1, 0))
    r2new.aaa += einsum(t1.aa, (0, 1), tmp44, (0, 2, 3), (3, 2, 1)) * -2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp134, (1, 2), (0, 1, 2))
    r2new.aaa += einsum(r1.a, (0,), ints.tmp130, (1, 2, 0, 3), (2, 1, 3)) * 2
    tmp45 = einsum(r2.aaa, (0, 1, 2), ints.tmp124, (1, 3, 2, 4), (0, 3, 4))
    tmp47 = np.copy(tmp45)
    tmp46 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 4, 0, 2), (1, 3, 4)) * -1
    tmp47 += np.transpose(tmp46, (0, 2, 1)) * -0.5
    r2new.aaa += einsum(t1.aa, (0, 1), tmp47, (2, 1, 3), (2, 0, 3)) * -2
    r2new.aaa += einsum(r2.aaa, (0, 1, 2), ints.tmp118, (3, 4, 0, 1), (3, 4, 2)) * 2
    r2new.aaa += einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 1, 3), (4, 5, 2)) * -6
    r2new.aaa += einsum(ints.tmp122, (0, 1), r2.aaa, (2, 3, 0), (2, 3, 1)) * 2
    r2new.aaa += einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 3, 1), (4, 5, 0)) * 2
    tmp48 = np.copy(ints.tmp142) * -1
    tmp48 += ints.tmp138
    tmp49 = einsum(r1.a, (0,), tmp48, (1, 2, 0, 3), (1, 2, 3))
    del tmp48
    r2new.aaa += tmp49 * -1
    tmp51 = np.copy(tmp45)
    tmp51 += np.transpose(tmp46, (0, 2, 1)) * -0.5
    tmp50 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovov, (0, 3, 1, 4), (2, 4, 3)) * -1
    tmp51 += einsum(t1.aa, (0, 1), tmp50, (2, 1, 3), (0, 3, 2)) * -1
    r2new.aaa += einsum(t1.aa, (0, 1), tmp51, (2, 1, 3), (0, 2, 3)) * 2
    del tmp51
    r2new.aaa += einsum(r1.a, (0,), ints.tmp134, (1, 2), (1, 0, 2)) * -1
    r2new.aaa += np.transpose(tmp49, (1, 0, 2))
    del tmp49
    tmp82 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (1, 3, 4, 2), (0, 4, 3)) * -1
    tmp83 = einsum(t1.aa, (0, 1), tmp82, (2, 3, 1), (0, 2, 3))
    r2new.bab = einsum(t1.bb, (0, 1), tmp83, (2, 3, 0), (3, 2, 1)) * -1
    r2new.bab += np.transpose(tmp0, (1, 0, 2)) * -2
    r2new.bab += einsum(r1.a, (0,), ints.tmp223, (1, 2), (1, 0, 2)) * -1
    r2new.bab += einsum(r1.a, (0,), ints.tmp221, (1, 0, 2, 3), (2, 1, 3)) * 2
    r2new.bab += einsum(ints.tmp217, (0, 1), r2.bab, (2, 0, 3), (2, 1, 3)) * -2
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp212, (0, 3, 2, 4), (3, 1, 4))
    tmp84 = einsum(r2.bab, (0, 1, 2), v.aabb.ovoo, (1, 3, 4, 0), (4, 3, 2)) * -1
    tmp87 = np.copy(tmp84) * -0.5
    tmp85 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.ababa, (0, 4, 2, 5, 3), (4, 1, 5))
    tmp87 += tmp85
    tmp86 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 0, 2, 5, 3), (4, 1, 5)) * -1
    tmp87 += tmp86
    r2new.bab += einsum(t1.aa, (0, 1), tmp87, (2, 1, 3), (2, 0, 3)) * 2
    tmp90 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 1, 4, 2), (3, 0, 4)) * -1
    tmp92 = np.copy(tmp90) * -1
    tmp91 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 3, 1), (4, 5, 2))
    tmp92 += tmp91 * 2
    r2new.bab += einsum(t1.bb, (0, 1), tmp92, (2, 3, 0), (3, 2, 1))
    r2new.bab += einsum(r2.bab, (0, 1, 2), v.aabb.oooo, (3, 1, 4, 0), (4, 3, 2))
    r2new.bab += einsum(r1.a, (0,), ints.tmp248, (1, 2), (1, 0, 2)) * -2
    r2new.bab += einsum(r1.a, (0,), ints.tmp236, (0, 1, 2, 3), (2, 1, 3))
    r2new.bab += einsum(ints.tmp80, (0, 1), r2.bab, (2, 0, 3), (2, 1, 3)) * -1
    r2new.bab += einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babbb, (4, 1, 2, 5, 3), (4, 0, 5)) * -2
    r2new.bab += einsum(f.aa.ov, (0, 1), r3.ababa, (2, 3, 0, 4, 1), (3, 2, 4)) * -2
    tmp89 = einsum(ints.tmp21, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 3), (1, 4, 5, 2, 6))
    r2new.bab += einsum(t1.aa, (0, 1), tmp89, (0, 2, 3, 1, 4), (3, 2, 4)) * -2
    r2new.bab += einsum(r2.aaa, (0, 1, 2), ints.tmp229, (1, 3, 2, 4), (3, 0, 4)) * -4
    r2new.bab += einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.ababa, (2, 4, 1, 5, 3), (4, 0, 5)) * -2
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp227, (3, 0, 4, 2), (3, 1, 4))
    tmp88 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 1), (4, 5, 2, 6, 3))
    r2new.bab += einsum(t1.bb, (0, 1), tmp88, (2, 3, 0, 4, 1), (3, 2, 4)) * -2
    r2new.bab += einsum(tmp8, (0,), t2.abab, (1, 2, 0, 3), (2, 1, 3)) * 2
    r2new.bab += einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 3, 0, 5, 1), (2, 4, 5)) * 2
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp249, (3, 1, 4, 2), (0, 3, 4))
    r2new.bab += einsum(ints.tmp158, (0, 1), r2.bab, (0, 2, 3), (1, 2, 3)) * -1
    r2new.bab += einsum(f.bb.ov, (0, 1), r3.babbb, (2, 3, 0, 4, 1), (2, 3, 4)) * 2
    r2new.bab += einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.babbb, (2, 4, 1, 5, 3), (0, 4, 5)) * 2
    tmp95 = einsum(ints.tmp34, (0, 1), r2.bab, (2, 3, 1), (3, 0, 2)) * -1
    tmp99 = np.copy(tmp95) * 0.5
    tmp97 = einsum(r2.bab, (0, 1, 2), ints.tmp30, (0, 3, 4, 2), (1, 3, 4)) * -1
    tmp99 += np.transpose(tmp97, (0, 2, 1)) * -0.5
    tmp96 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovoo, (1, 2, 3, 4), (0, 3, 4))
    tmp99 += np.transpose(tmp96, (0, 2, 1))
    tmp98 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 3, 1), (5, 4, 0))
    tmp99 += np.transpose(tmp98, (0, 2, 1))
    r2new.bab += einsum(t1.bb, (0, 1), tmp99, (2, 0, 3), (3, 2, 1)) * 2
    del tmp99
    r2new.bab += einsum(r1.a, (0,), ints.tmp266, (1, 2), (1, 0, 2))
    r2new.bab += einsum(r1.a, (0,), ints.tmp262, (1, 0, 2, 3), (2, 1, 3)) * 2
    tmp93 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 3), (5, 0, 4, 1, 6)) * -1
    r2new.bab += einsum(t1.aa, (0, 1), tmp93, (2, 0, 3, 1, 4), (3, 2, 4)) * -2
    tmp94 = einsum(ints.tmp1, (0, 1, 2, 3), r3.babbb, (4, 5, 0, 6, 3), (5, 1, 4, 2, 6)) * -1
    r2new.bab += einsum(t1.bb, (0, 1), tmp94, (2, 0, 3, 1, 4), (3, 2, 4)) * 2
    r2new.bab += einsum(ints.tmp259, (0, 1), r2.bab, (2, 3, 1), (2, 3, 0)) * -1
    tmp100 = einsum(r2.bab, (0, 1, 2), v.aabb.ovvv, (1, 3, 4, 2), (0, 3, 4)) * -1
    r2new.bab += einsum(t1.aa, (0, 1), tmp100, (2, 1, 3), (2, 0, 3))
    r2new.bab += einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.babbb, (4, 5, 0, 1, 3), (4, 5, 2)) * -2
    r2new.bab += einsum(ints.tmp271, (0, 1), r2.bab, (2, 3, 0), (2, 3, 1))
    tmp104 = einsum(r2.bab, (0, 1, 2), ints.tmp269, (0, 3, 2, 4), (1, 3, 4)) * -1
    tmp105 = np.copy(tmp104) * -1
    tmp103 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovvv, (1, 2, 3, 4), (0, 3, 4))
    tmp105 += np.transpose(tmp103, (0, 2, 1)) * 2
    r2new.bab += einsum(t1.bb, (0, 1), tmp105, (2, 1, 3), (0, 2, 3)) * -1
    r2new.bab += einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 3, 1), (5, 4, 2)) * -2
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp184, (3, 1, 4, 0), (4, 3, 2))
    r2new.bab += einsum(r1.a, (0,), ints.tmp285, (1, 2), (1, 0, 2)) * -2
    r2new.bab += einsum(r1.a, (0,), ints.tmp281, (1, 0, 2, 3), (2, 1, 3))
    tmp101 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (1, 3, 0, 4), (3, 2, 4)) * -1
    tmp102 = einsum(t1.bb, (0, 1), tmp101, (2, 3, 1), (0, 2, 3))
    r2new.bab += einsum(t1.aa, (0, 1), tmp102, (2, 1, 3), (2, 0, 3)) * -1
    del tmp102
    r2new.bab += einsum(r2.bab, (0, 1, 2), v.aabb.oovv, (3, 1, 4, 2), (0, 3, 4)) * -1
    r2new.bab += einsum(ints.tmp291, (0, 1), r2.bab, (0, 2, 3), (1, 2, 3)) * -2
    tmp106 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 1, 0, 4), (3, 2, 4)) * -1
    tmp109 = np.copy(tmp106) * -0.5
    tmp107 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 0, 5, 1), (4, 5, 3))
    tmp109 += tmp107
    tmp108 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (0, 4, 2, 5, 3), (4, 5, 1)) * -1
    tmp109 += tmp108
    r2new.bab += einsum(t1.bb, (0, 1), tmp109, (2, 3, 1), (0, 2, 3)) * 2
    tmp110 = np.copy(tmp1) * -0.5
    del tmp1
    tmp110 += tmp0
    del tmp0
    tmp111 = einsum(t1.bb, (0, 1), tmp110, (2, 3, 1), (2, 0, 3)) * 2
    del tmp110
    r2new.bab += einsum(t1.bb, (0, 1), tmp111, (2, 3, 0), (3, 2, 1))
    r2new.bab += einsum(r1.a, (0,), ints.tmp299, (1, 2), (1, 0, 2))
    r2new.bab += einsum(r1.a, (0,), ints.tmp293, (0, 1, 2, 3), (2, 1, 3)) * -1
    r2new.aba = np.copy(tmp10) * -2
    r2new.aba += einsum(r1.b, (0,), ints.tmp155, (1, 0, 2, 3), (1, 2, 3))
    tmp52 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (3, 2, 1, 4), (0, 3, 4))
    tmp53 = einsum(t1.bb, (0, 1), tmp52, (2, 3, 1), (2, 3, 0))
    r2new.aba += einsum(t1.aa, (0, 1), tmp53, (2, 0, 3), (2, 3, 1))
    r2new.aba += einsum(r1.b, (0,), ints.tmp70, (1, 2), (1, 0, 2)) * -1
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp40, (0, 3, 2, 4), (3, 1, 4))
    r2new.aba += einsum(ints.tmp150, (0, 1), r2.aba, (2, 0, 3), (2, 1, 3)) * -1
    tmp54 = einsum(r2.aba, (0, 1, 2), v.aabb.ooov, (3, 0, 1, 4), (3, 2, 4))
    tmp57 = np.copy(tmp54) * 0.5
    tmp56 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babab, (0, 4, 2, 5, 3), (4, 5, 1)) * -1
    tmp57 += tmp56 * -1
    tmp55 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 0, 2, 5, 1), (4, 5, 3))
    tmp57 += tmp55
    r2new.aba += einsum(t1.bb, (0, 1), tmp57, (2, 3, 1), (2, 0, 3)) * 2
    tmp59 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 6, 3), (5, 0, 4, 6, 1)) * -1
    r2new.aba += einsum(t1.aa, (0, 1), tmp59, (2, 0, 3, 4, 1), (2, 3, 4)) * 2
    r2new.aba += einsum(r1.b, (0,), ints.tmp163, (1, 0, 2, 3), (1, 2, 3))
    tmp58 = einsum(ints.tmp1, (0, 1, 2, 3), r3.babab, (4, 5, 0, 6, 3), (5, 1, 4, 6, 2)) * -1
    r2new.aba += einsum(t1.bb, (0, 1), tmp58, (2, 0, 3, 4, 1), (2, 3, 4)) * -2
    tmp60 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (3, 2, 4, 1), (0, 3, 4))
    tmp62 = np.copy(tmp60) * -0.5
    tmp61 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 1, 3), (5, 0, 4)) * -1
    tmp62 += tmp61
    r2new.aba += einsum(t1.aa, (0, 1), tmp62, (2, 0, 3), (2, 3, 1)) * -2
    r2new.aba += einsum(r1.b, (0,), ints.tmp169, (1, 2), (1, 0, 2)) * -3
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp95, (3, 0, 4, 2), (3, 1, 4)) * 2
    r2new.aba += einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aabaa, (4, 0, 3, 5, 1), (4, 2, 5)) * 2
    r2new.aba += einsum(ints.tmp158, (0, 1), r2.aba, (2, 0, 3), (2, 1, 3)) * -1
    r2new.aba += einsum(f.bb.ov, (0, 1), r3.babab, (2, 3, 0, 4, 1), (3, 2, 4)) * -2
    r2new.aba += einsum(r2.bbb, (0, 1, 2), ints.tmp76, (3, 1, 4, 2), (3, 0, 4)) * -4
    r2new.aba += einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.babab, (2, 4, 1, 5, 3), (4, 0, 5)) * -2
    r2new.aba += einsum(ints.tmp80, (0, 1), r2.aba, (0, 2, 3), (1, 2, 3)) * -1
    r2new.aba += einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 1, 2, 5, 3), (0, 4, 5)) * 2
    r2new.aba += einsum(f.aa.ov, (0, 1), r3.aabaa, (2, 0, 3, 4, 1), (2, 3, 4)) * -2
    tmp63 = einsum(ints.tmp21, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 2), (1, 4, 5, 3, 6))
    r2new.aba += einsum(t1.aa, (0, 1), tmp63, (0, 2, 3, 1, 4), (2, 3, 4)) * 2
    r2new.aba += einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aabaa, (2, 1, 4, 5, 3), (0, 4, 5)) * -2
    r2new.aba += einsum(r1.b, (0,), ints.tmp182, (1, 0, 2, 3), (1, 2, 3))
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp170, (3, 1, 4, 2), (0, 3, 4))
    tmp64 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 1), (4, 5, 2, 6, 3))
    r2new.aba += einsum(t1.bb, (0, 1), tmp64, (2, 3, 0, 4, 1), (2, 3, 4)) * -2
    tmp65 = np.copy(tmp15) * -1
    del tmp15
    tmp65 += tmp16 * 2
    del tmp16
    r2new.aba += einsum(tmp65, (0,), t2.abab, (1, 2, 3, 0), (1, 2, 3))
    tmp66 = einsum(ints.tmp14, (0, 1), r2.aba, (2, 3, 1), (0, 2, 3))
    tmp70 = np.copy(tmp66) * -0.5
    tmp67 = einsum(r2.aba, (0, 1, 2), ints.tmp10, (3, 4, 0, 2), (3, 4, 1))
    tmp70 += np.transpose(tmp67, (1, 0, 2)) * 0.5
    tmp68 = einsum(r2.bbb, (0, 1, 2), v.aabb.ooov, (3, 4, 1, 2), (3, 4, 0))
    tmp70 += np.transpose(tmp68, (1, 0, 2))
    tmp69 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (4, 2, 5, 3, 1), (4, 0, 5)) * -1
    tmp70 += np.transpose(tmp69, (1, 0, 2))
    r2new.aba += einsum(t1.aa, (0, 1), tmp70, (0, 2, 3), (2, 3, 1)) * 2
    r2new.aba += einsum(r2.aba, (0, 1, 2), v.aabb.oooo, (3, 0, 4, 1), (3, 4, 2))
    r2new.aba += einsum(ints.tmp66, (0, 1), r2.aba, (2, 3, 1), (2, 3, 0)) * -2
    r2new.aba += einsum(r1.b, (0,), ints.tmp102, (1, 2), (1, 0, 2))
    r2new.aba += einsum(r1.b, (0,), ints.tmp187, (1, 2, 0, 3), (1, 2, 3))
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp184, (3, 0, 4, 1), (3, 4, 2))
    r2new.aba += einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 1, 3), (4, 5, 2)) * 2
    r2new.aba += einsum(ints.tmp122, (0, 1), r2.aba, (2, 3, 0), (2, 3, 1))
    tmp71 = einsum(r2.aba, (0, 1, 2), v.aabb.vvov, (3, 2, 1, 4), (0, 3, 4))
    r2new.aba += einsum(t1.bb, (0, 1), tmp71, (2, 3, 1), (2, 0, 3)) * -1
    r2new.aba += einsum(r1.b, (0,), ints.tmp198, (1, 0, 2, 3), (1, 2, 3))
    tmp72 = einsum(r2.aba, (0, 1, 2), ints.tmp190, (0, 2, 3, 4), (1, 3, 4))
    tmp75 = np.copy(tmp72) * 0.5
    tmp74 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (0, 3, 1, 4), (2, 3, 4))
    tmp75 += einsum(t1.bb, (0, 1), tmp74, (2, 3, 1), (0, 2, 3)) * 0.5
    tmp73 = einsum(r2.bbb, (0, 1, 2), v.aabb.vvov, (3, 4, 1, 2), (0, 3, 4))
    tmp75 += np.transpose(tmp73, (0, 2, 1)) * -1
    r2new.aba += einsum(t1.aa, (0, 1), tmp75, (2, 3, 1), (0, 2, 3)) * 2
    del tmp75
    r2new.aba += einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 1, 3), (5, 4, 0)) * -2
    r2new.aba += einsum(r2.aba, (0, 1, 2), v.aabb.vvoo, (3, 2, 4, 1), (0, 4, 3)) * -1
    r2new.aba += einsum(r1.b, (0,), ints.tmp134, (1, 2), (1, 0, 2)) * -1
    r2new.aba += einsum(ints.tmp62, (0, 1), r2.aba, (0, 2, 3), (1, 2, 3)) * -1
    r2new.aba += einsum(r1.b, (0,), ints.tmp209, (1, 0, 2, 3), (1, 2, 3)) * -1
    tmp76 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (0, 3, 4, 1), (4, 2, 3))
    tmp79 = np.copy(tmp76) * 0.5
    tmp78 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 2, 5, 3), (4, 5, 1)) * -1
    tmp79 += tmp78 * -1
    tmp77 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (0, 2, 4, 5, 3), (4, 5, 1))
    tmp79 += tmp77
    r2new.aba += einsum(t1.aa, (0, 1), tmp79, (2, 3, 1), (0, 2, 3)) * 2
    tmp80 = np.copy(tmp10) * 2
    del tmp10
    tmp80 += tmp9 * -1
    del tmp9
    tmp81 = einsum(t1.aa, (0, 1), tmp80, (2, 3, 1), (0, 2, 3)) * 0.5
    del tmp80
    r2new.aba += einsum(t1.aa, (0, 1), tmp81, (2, 0, 3), (2, 3, 1)) * 2
    r2new.aba += einsum(r1.b, (0,), ints.tmp68, (1, 2), (1, 0, 2))
    tmp112 = einsum(ints.tmp310, (0, 1), r2.bbb, (2, 1, 3), (0, 2, 3))
    r2new.bbb = np.copy(tmp112) * 2
    tmp114 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ooov, (3, 0, 1, 4), (3, 2, 4))
    tmp117 = np.copy(tmp114) * 0.3333333333333333
    tmp115 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 2, 1, 5), (4, 5, 3)) * -1
    tmp117 += tmp115 * 0.3333333333333333
    tmp116 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 0, 2, 5, 1), (4, 5, 3)) * -1
    tmp117 += tmp116 * -1
    tmp118 = einsum(t1.bb, (0, 1), tmp117, (2, 3, 1), (0, 2, 3)) * 6
    r2new.bbb += tmp118 * -1
    r2new.bbb += tmp12 * -1
    r2new.bbb += einsum(r1.b, (0,), ints.tmp223, (1, 2), (0, 1, 2))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp309, (1, 2, 0, 3), (1, 2, 3)) * -2
    tmp113 = einsum(r2.bbb, (0, 1, 2), ints.tmp212, (1, 3, 2, 4), (3, 0, 4))
    r2new.bbb += np.transpose(tmp113, (1, 0, 2)) * 2
    r2new.bbb += einsum(r1.b, (0,), ints.tmp316, (1, 2), (1, 0, 2)) * 2
    tmp119 = np.copy(tmp13) * 2
    tmp119 += np.transpose(tmp12, (1, 0, 2)) * -1
    tmp120 = einsum(t1.bb, (0, 1), tmp119, (2, 3, 1), (0, 2, 3))
    del tmp119
    tmp121 = einsum(t1.bb, (0, 1), tmp120, (2, 0, 3), (3, 2, 1))
    r2new.bbb += np.transpose(tmp121, (1, 0, 2))
    r2new.bbb += tmp113 * -2
    del tmp113
    r2new.bbb += tmp121 * -1
    del tmp121
    r2new.bbb += einsum(r1.b, (0,), ints.tmp316, (1, 2), (0, 1, 2)) * -2
    r2new.bbb += np.transpose(tmp112, (1, 0, 2)) * -2
    del tmp112
    r2new.bbb += einsum(r1.b, (0,), ints.tmp223, (1, 2), (1, 0, 2)) * -1
    r2new.bbb += np.transpose(tmp118, (1, 0, 2))
    del tmp118
    r2new.bbb += np.transpose(tmp12, (1, 0, 2))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp318, (0, 1, 2, 3), (2, 1, 3))
    tmp123 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 0, 3, 1, 5), (4, 2, 5)) * -1
    r2new.bbb += tmp123 * 2
    tmp124 = einsum(r2.aba, (0, 1, 2), ints.tmp229, (0, 3, 2, 4), (3, 1, 4))
    r2new.bbb += tmp124 * 2
    tmp125 = einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.bbbbb, (4, 1, 2, 5, 3), (4, 0, 5))
    r2new.bbb += tmp125 * -6
    tmp126 = einsum(r2.bbb, (0, 1, 2), ints.tmp322, (3, 1, 4, 2), (3, 0, 4))
    r2new.bbb += tmp126 * -4
    r2new.bbb += einsum(r1.b, (0,), ints.tmp266, (1, 2), (0, 1, 2)) * -1
    r2new.bbb += einsum(r1.b, (0,), ints.tmp329, (1, 0, 2, 3), (1, 2, 3))
    tmp122 = einsum(ints.tmp158, (0, 1), r2.bbb, (2, 0, 3), (1, 2, 3))
    r2new.bbb += np.transpose(tmp122, (1, 0, 2)) * -2
    r2new.bbb += einsum(r1.b, (0,), ints.tmp335, (1, 2), (1, 0, 2)) * -3
    tmp127 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (0, 2, 3, 4), (1, 3, 4))
    tmp129 = np.copy(np.transpose(tmp127, (0, 2, 1))) * -0.5
    tmp128 = einsum(r2.bbb, (0, 1, 2), ints.tmp161, (1, 3, 4, 2), (3, 4, 0))
    tmp129 += np.transpose(tmp128, (2, 1, 0))
    r2new.bbb += einsum(t1.bb, (0, 1), tmp129, (2, 0, 3), (2, 3, 1)) * -2
    r2new.bbb += tmp122 * 2
    del tmp122
    r2new.bbb += einsum(r1.b, (0,), ints.tmp335, (1, 2), (0, 1, 2)) * 3
    r2new.bbb += einsum(f.aa.ov, (0, 1), r3.babab, (2, 0, 3, 1, 4), (2, 3, 4)) * 2
    tmp133 = einsum(ints.tmp5, (0, 1, 2, 3), r3.babab, (4, 0, 5, 3, 6), (1, 4, 5, 2, 6)) * -1
    tmp135 = np.copy(np.transpose(tmp133, (0, 2, 1, 3, 4))) * -0.3333333333333333
    tmp134 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 3), (0, 4, 5, 1, 6))
    tmp135 += np.transpose(tmp134, (0, 2, 1, 3, 4)) * -1
    r2new.bbb += einsum(t1.aa, (0, 1), tmp135, (0, 2, 3, 1, 4), (2, 3, 4)) * 6
    r2new.bbb += einsum(r1.b, (0,), ints.tmp346, (0, 1, 2, 3), (1, 2, 3))
    r2new.bbb += einsum(f.bb.ov, (0, 1), r3.bbbbb, (2, 3, 0, 4, 1), (2, 3, 4)) * 6
    tmp130 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 5, 1, 6), (4, 5, 2, 6, 3)) * -1
    tmp132 = np.copy(tmp130) * -0.3333333333333333
    tmp131 = einsum(ints.tmp1, (0, 1, 2, 3), r3.bbbbb, (4, 5, 0, 6, 2), (1, 4, 5, 3, 6))
    tmp132 += np.transpose(tmp131, (1, 2, 0, 4, 3))
    r2new.bbb += einsum(t1.bb, (0, 1), tmp132, (2, 3, 0, 4, 1), (2, 3, 4)) * 6
    del tmp132
    r2new.bbb += einsum(tmp65, (0,), t2.bbbb, (1, 2, 3, 0), (1, 2, 3)) * 2
    r2new.bbb += np.transpose(tmp123, (1, 0, 2)) * -2
    del tmp123
    r2new.bbb += np.transpose(tmp124, (1, 0, 2)) * -2
    del tmp124
    r2new.bbb += np.transpose(tmp125, (1, 0, 2)) * 6
    del tmp125
    r2new.bbb += np.transpose(tmp126, (1, 0, 2)) * 4
    del tmp126
    r2new.bbb += einsum(r1.b, (0,), ints.tmp266, (1, 2), (1, 0, 2))
    r2new.bbb += einsum(r2.bbb, (0, 1, 2), v.bbbb.oooo, (3, 0, 4, 1), (3, 4, 2)) * 2
    r2new.bbb += einsum(ints.tmp352, (0, 1), r2.bbb, (2, 3, 1), (2, 3, 0)) * -4
    tmp136 = einsum(ints.tmp34, (0, 1), r2.bbb, (2, 3, 1), (0, 2, 3))
    tmp140 = np.copy(np.transpose(tmp136, (0, 2, 1)))
    tmp140 += np.transpose(tmp127, (2, 0, 1)) * 0.5
    tmp137 = einsum(r2.bbb, (0, 1, 2), ints.tmp30, (1, 3, 4, 2), (3, 4, 0))
    tmp140 += np.transpose(tmp137, (1, 2, 0))
    tmp138 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 5, 1, 3), (4, 5, 2)) * -1
    tmp140 += np.transpose(tmp138, (2, 1, 0)) * -1
    tmp139 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 3, 1), (4, 5, 0)) * -1
    tmp140 += np.transpose(tmp139, (2, 1, 0)) * 3
    r2new.bbb += einsum(t1.bb, (0, 1), tmp140, (0, 2, 3), (3, 2, 1)) * -2
    r2new.bbb += einsum(r1.b, (0,), ints.tmp363, (1, 2), (0, 1, 2))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp361, (1, 2, 0, 3), (2, 1, 3)) * 2
    tmp142 = einsum(r2.bbb, (0, 1, 2), ints.tmp356, (1, 3, 2, 4), (0, 3, 4))
    tmp143 = np.copy(tmp142) * 2
    tmp141 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (0, 2, 3, 4), (1, 3, 4))
    tmp143 += np.transpose(tmp141, (0, 2, 1)) * -1
    r2new.bbb += einsum(t1.bb, (0, 1), tmp143, (2, 1, 3), (2, 0, 3))
    r2new.bbb += einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 0, 5, 1, 3), (4, 5, 2)) * 2
    r2new.bbb += einsum(r2.bbb, (0, 1, 2), ints.tmp354, (3, 4, 0, 1), (3, 4, 2)) * 2
    r2new.bbb += einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.bbbbb, (4, 5, 0, 1, 3), (4, 5, 2)) * -6
    r2new.bbb += einsum(ints.tmp271, (0, 1), r2.bbb, (2, 3, 0), (2, 3, 1)) * 2
    tmp144 = np.copy(ints.tmp371) * -1
    tmp144 += ints.tmp367
    tmp145 = einsum(r1.b, (0,), tmp144, (1, 2, 0, 3), (1, 2, 3))
    del tmp144
    r2new.bbb += tmp145 * -1
    tmp147 = np.copy(tmp142) * -1
    tmp147 += np.transpose(tmp141, (0, 2, 1)) * 0.5
    tmp146 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovov, (0, 3, 1, 4), (2, 4, 3)) * -1
    tmp147 += einsum(t1.bb, (0, 1), tmp146, (2, 1, 3), (0, 3, 2)) * -1
    r2new.bbb += einsum(t1.bb, (0, 1), tmp147, (2, 1, 3), (0, 2, 3)) * 2
    del tmp147
    r2new.bbb += einsum(r1.b, (0,), ints.tmp285, (1, 2), (1, 0, 2)) * -2
    r2new.bbb += np.transpose(tmp145, (1, 0, 2))
    del tmp145
    tmp151 = einsum(r1.a, (0,), ints.tmp381, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new = Namespace()
    r3new.aaaaa = np.copy(np.transpose(tmp151, (0, 1, 2, 4, 3))) * -4
    tmp152 = einsum(r2.aaa, (0, 1, 2), ints.tmp384, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp152, (0, 1, 2, 4, 3)) * 12
    r3new.aaaaa += np.transpose(tmp36, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    tmp148 = einsum(ints.tmp40, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 2), (1, 4, 5, 3, 6))
    r3new.aaaaa += np.transpose(tmp148, (1, 2, 0, 3, 4)) * -6
    tmp149 = einsum(r2.aaa, (0, 1, 2), ints.tmp40, (3, 4, 2, 5), (3, 4, 0, 1, 5))
    tmp150 = einsum(t1.aa, (0, 1), tmp149, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp149
    r3new.aaaaa += np.transpose(tmp150, (1, 2, 0, 3, 4)) * 2
    tmp154 = einsum(tmp5, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (0, 1, 3, 4, 5)) * -0.5
    tmp155 = einsum(t1.aa, (0, 1), tmp154, (0, 2, 3, 4, 5), (2, 4, 3, 1, 5)) * 4
    del tmp154
    r3new.aaaaa += np.transpose(tmp155, (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp392, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 6
    tmp153 = einsum(tmp23, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (0, 3, 4, 1, 5)) * -4
    r3new.aaaaa += np.transpose(tmp153, (2, 1, 0, 3, 4))
    r3new.aaaaa += einsum(ints.tmp70, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 1, 4)) * -2
    r3new.aaaaa += np.transpose(tmp151, (0, 2, 1, 4, 3)) * 4
    r3new.aaaaa += np.transpose(tmp152, (0, 2, 1, 4, 3)) * -12
    r3new.aaaaa += np.transpose(tmp36, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp148, (1, 0, 2, 3, 4)) * 6
    r3new.aaaaa += np.transpose(tmp150, (1, 0, 2, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp395, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -4
    r3new.aaaaa += np.transpose(tmp155, (1, 0, 2, 3, 4))
    r3new.aaaaa += np.transpose(tmp153, (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += einsum(ints.tmp70, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    tmp156 = einsum(r1.a, (0,), ints.tmp402, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += tmp156 * 2
    tmp157 = einsum(r2.aaa, (0, 1, 2), ints.tmp398, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += tmp157 * -4
    r3new.aaaaa += tmp36 * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 1, 2, 3, 4))
    tmp158 = np.copy(tmp20) * -0.3333333333333333
    del tmp20
    tmp158 += tmp22 * 0.3333333333333333
    del tmp22
    tmp158 += tmp21
    del tmp21
    tmp159 = einsum(tmp158, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * -12
    r3new.aaaaa += np.transpose(tmp159, (1, 0, 2, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp148, (1, 2, 0, 4, 3)) * 6
    r3new.aaaaa += np.transpose(tmp150, (1, 2, 0, 4, 3)) * -2
    tmp160 = einsum(tmp5, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (0, 1, 3, 4, 5)) * -1
    tmp161 = einsum(t1.aa, (0, 1), tmp160, (0, 2, 3, 4, 5), (2, 4, 3, 1, 5)) * 2
    del tmp160
    r3new.aaaaa += np.transpose(tmp161, (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp392, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -6
    r3new.aaaaa += einsum(ints.tmp70, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 4, 1)) * 2
    r3new.aaaaa += np.transpose(tmp156, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp157, (0, 2, 1, 3, 4)) * 4
    r3new.aaaaa += np.transpose(tmp36, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp148, (1, 0, 2, 4, 3)) * -6
    r3new.aaaaa += np.transpose(tmp150, (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp161, (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp392, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 6
    r3new.aaaaa += einsum(ints.tmp70, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.aaaaa += np.transpose(tmp159, (1, 2, 0, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp406, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * 6
    r3new.aaaaa += np.transpose(tmp148, (0, 2, 1, 3, 4)) * 6
    r3new.aaaaa += np.transpose(tmp150, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp153, (0, 2, 1, 3, 4))
    del tmp153
    r3new.aaaaa += np.transpose(tmp155, (0, 2, 1, 3, 4))
    del tmp155
    r3new.aaaaa += einsum(ints.tmp70, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.aaaaa += np.transpose(tmp152, (2, 0, 1, 4, 3)) * 12
    del tmp152
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp151, (2, 1, 0, 4, 3)) * 4
    del tmp151
    tmp162 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ooov, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.aaaaa += np.transpose(tmp162, (2, 1, 0, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp36, (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp148, (0, 2, 1, 4, 3)) * -6
    del tmp148
    r3new.aaaaa += np.transpose(tmp150, (0, 2, 1, 4, 3)) * 2
    del tmp150
    r3new.aaaaa += np.transpose(tmp161, (0, 2, 1, 4, 3)) * -1
    del tmp161
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp392, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -6
    r3new.aaaaa += einsum(ints.tmp70, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 4, 1)) * 2
    r3new.aaaaa += np.transpose(tmp157, (2, 0, 1, 3, 4)) * -4
    del tmp157
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (2, 0, 1, 3, 4))
    r3new.aaaaa += np.transpose(tmp156, (2, 1, 0, 3, 4)) * -2
    del tmp156
    r3new.aaaaa += np.transpose(tmp159, (2, 1, 0, 3, 4)) * -1
    del tmp159
    r3new.aaaaa += np.transpose(tmp162, (2, 1, 0, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp36, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    tmp168 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ooov, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp169 = einsum(t1.aa, (0, 1), tmp168, (2, 3, 4, 5, 0), (3, 2, 5, 4, 1)) * -1
    del tmp168
    tmp170 = einsum(t1.aa, (0, 1), tmp169, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5)) * -1
    del tmp169
    r3new.aaaaa += tmp170 * -2
    tmp164 = einsum(r2.bab, (0, 1, 2), ints.tmp414, (3, 4, 0, 5, 6, 2), (3, 4, 1, 5, 6)) * -1
    r3new.aaaaa += np.transpose(tmp164, (0, 1, 2, 4, 3)) * -1
    tmp165 = einsum(r2.aaa, (0, 1, 2), ints.tmp418, (3, 4, 1, 5, 6, 2), (3, 4, 0, 5, 6))
    r3new.aaaaa += np.transpose(tmp165, (0, 1, 2, 4, 3)) * -12
    r3new.aaaaa += np.transpose(tmp170, (0, 1, 2, 4, 3)) * 2
    tmp166 = einsum(r1.a, (0,), ints.tmp424, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp166, (0, 1, 2, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    tmp171 = np.copy(tmp32)
    tmp171 += np.transpose(tmp33, (2, 1, 0)) * -0.5
    tmp172 = einsum(tmp171, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    r3new.aaaaa += np.transpose(tmp172, (2, 0, 1, 4, 3))
    tmp173 = einsum(ints.tmp83, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 3), (1, 2, 4, 5, 6))
    tmp175 = np.copy(np.transpose(tmp173, (0, 1, 3, 2, 4))) * -1
    tmp174 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 3, 6), (4, 5, 0, 1, 6))
    tmp175 += np.transpose(tmp174, (2, 3, 1, 0, 4)) * -0.3333333333333333
    tmp176 = einsum(t1.aa, (0, 1), tmp175, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 6
    del tmp175
    r3new.aaaaa += np.transpose(tmp176, (1, 2, 0, 4, 3)) * -1
    tmp163 = einsum(r2.aaa, (0, 1, 2), ints.tmp407, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.aaaaa += np.transpose(tmp163, (2, 1, 0, 4, 3)) * -4
    tmp167 = einsum(ints.tmp80, (0, 1), r3.aaaaa, (2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp167, (2, 1, 0, 4, 3)) * -6
    r3new.aaaaa += einsum(ints.tmp102, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 4, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp170, (0, 2, 1, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp165, (0, 2, 1, 4, 3)) * 12
    r3new.aaaaa += np.transpose(tmp166, (0, 2, 1, 4, 3)) * -1
    del tmp166
    r3new.aaaaa += np.transpose(tmp170, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp164, (0, 2, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp176, (1, 0, 2, 4, 3))
    del tmp176
    r3new.aaaaa += np.transpose(tmp163, (2, 0, 1, 4, 3)) * 4
    r3new.aaaaa += np.transpose(tmp167, (2, 0, 1, 4, 3)) * 6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp441, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += einsum(ints.tmp102, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.aaaaa += np.transpose(tmp172, (2, 1, 0, 4, 3)) * -1
    tmp185 = np.copy(tmp6) * 2
    del tmp6
    tmp185 += tmp7
    del tmp7
    r3new.aaaaa += einsum(tmp185, (0,), t3.aaaaaa, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5)) * -6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp450, (0, 1, 2, 3, 4, 5), (1, 2, 3, 5, 4))
    r3new.aaaaa += np.transpose(tmp163, (0, 2, 1, 4, 3)) * -4
    del tmp163
    r3new.aaaaa += np.transpose(tmp167, (0, 2, 1, 4, 3)) * -6
    del tmp167
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp441, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.aaaaa += einsum(ints.tmp102, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 4, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp164, (2, 0, 1, 4, 3)) * -1
    del tmp164
    r3new.aaaaa += np.transpose(tmp165, (2, 0, 1, 4, 3)) * -12
    del tmp165
    tmp181 = einsum(r2.aaa, (0, 1, 2), v.aaaa.oooo, (3, 4, 5, 1), (0, 3, 4, 5, 2))
    tmp182 = einsum(t1.aa, (0, 1), tmp181, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1))
    del tmp181
    r3new.aaaaa += np.transpose(tmp182, (1, 2, 0, 3, 4)) * 2
    tmp178 = einsum(v.aaaa.oooo, (0, 1, 2, 3), r3.aaaaa, (4, 3, 1, 5, 6), (4, 0, 2, 5, 6)) * -1
    r3new.aaaaa += np.transpose(tmp178, (1, 2, 0, 4, 3)) * -6
    tmp183 = np.copy(tmp32)
    del tmp32
    tmp183 += np.transpose(tmp42, (0, 2, 1)) * 3
    del tmp42
    tmp183 += np.transpose(tmp43, (0, 2, 1))
    del tmp43
    tmp183 += np.transpose(tmp41, (2, 0, 1)) * -1
    del tmp41
    tmp183 += np.transpose(tmp33, (2, 1, 0)) * -0.5
    del tmp33
    tmp184 = einsum(tmp183, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    del tmp183
    r3new.aaaaa += np.transpose(tmp184, (1, 2, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp170, (2, 1, 0, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp182, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp170, (2, 1, 0, 4, 3)) * -2
    del tmp170
    tmp177 = einsum(r2.aaa, (0, 1, 2), ints.tmp455, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.aaaaa += np.transpose(tmp177, (2, 1, 0, 4, 3)) * 12
    tmp179 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -1
    tmp180 = einsum(t1.aa, (0, 1), tmp179, (2, 3, 4, 5, 0), (2, 3, 4, 5, 1))
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp180, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5)) * 6
    del tmp180
    r3new.aaaaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp179, (4, 5, 6, 0, 1), (4, 5, 6, 2, 3)) * 6
    del tmp179
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r3.aaaaa, (2, 3, 4, 5, 1), (2, 3, 4, 5, 0)) * -12
    tmp186 = einsum(ints.tmp14, (0, 1), r3.aaaaa, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    tmp188 = np.copy(np.transpose(tmp186, (0, 2, 3, 1, 4)))
    tmp187 = einsum(ints.tmp111, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 3), (1, 2, 4, 5, 6))
    tmp188 += np.transpose(tmp187, (1, 3, 0, 2, 4)) * -1
    tmp188 += np.transpose(tmp174, (2, 1, 3, 0, 4)) * 0.3333333333333333
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp188, (0, 2, 3, 4, 5), (3, 4, 2, 5, 1)) * -6
    del tmp188
    tmp192 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -1
    tmp193 = einsum(t1.aa, (0, 1), tmp192, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp192
    r3new.aaaaa += np.transpose(tmp193, (0, 1, 2, 4, 3)) * 6
    tmp194 = einsum(r1.a, (0,), ints.tmp471, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp194, (0, 1, 2, 4, 3)) * -6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp476, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    tmp190 = einsum(ints.tmp122, (0, 1), r3.aaaaa, (2, 3, 4, 5, 0), (2, 3, 4, 1, 5))
    r3new.aaaaa += np.transpose(tmp190, (1, 2, 0, 3, 4)) * -6
    tmp191 = einsum(r2.aaa, (0, 1, 2), ints.tmp459, (3, 4, 5, 0, 1, 6), (3, 4, 5, 6, 2))
    r3new.aaaaa += np.transpose(tmp191, (1, 2, 0, 4, 3)) * 6
    tmp189 = einsum(r2.aaa, (0, 1, 2), ints.tmp464, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    r3new.aaaaa += np.transpose(tmp189, (2, 1, 0, 4, 3)) * -2
    tmp195 = einsum(tmp47, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -4
    r3new.aaaaa += np.transpose(tmp195, (2, 1, 0, 4, 3))
    r3new.aaaaa += tmp193 * -6
    del tmp193
    r3new.aaaaa += tmp194 * 6
    del tmp194
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp476, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp191, (1, 2, 0, 3, 4)) * -6
    del tmp191
    r3new.aaaaa += np.transpose(tmp190, (1, 2, 0, 4, 3)) * 6
    del tmp190
    r3new.aaaaa += np.transpose(tmp189, (2, 1, 0, 3, 4)) * 2
    tmp196 = np.copy(tmp45) * 2
    del tmp45
    tmp196 += np.transpose(tmp46, (0, 2, 1)) * -1
    del tmp46
    tmp197 = einsum(tmp196, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -2
    r3new.aaaaa += np.transpose(tmp197, (2, 1, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp431, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    tmp198 = einsum(r2.bab, (0, 1, 2), ints.tmp413, (3, 4, 0, 5, 6, 2), (3, 4, 1, 5, 6)) * -1
    r3new.aaaaa += np.transpose(tmp198, (1, 0, 2, 3, 4))
    tmp199 = einsum(r2.aaa, (0, 1, 2), ints.tmp416, (3, 4, 1, 5, 6, 2), (3, 4, 0, 5, 6))
    r3new.aaaaa += np.transpose(tmp199, (1, 0, 2, 4, 3)) * 2
    tmp200 = einsum(r1.a, (0,), ints.tmp422, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp200, (1, 0, 2, 4, 3)) * -1
    tmp201 = np.copy(np.transpose(tmp173, (0, 1, 3, 2, 4))) * -3
    del tmp173
    tmp201 += np.transpose(tmp174, (2, 3, 1, 0, 4)) * -1
    tmp202 = einsum(t1.aa, (0, 1), tmp201, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp201
    r3new.aaaaa += np.transpose(tmp202, (1, 2, 0, 3, 4))
    r3new.aaaaa += einsum(ints.tmp485, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 1, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp431, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp202, (1, 0, 2, 3, 4)) * -1
    del tmp202
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp488, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.aaaaa += einsum(ints.tmp485, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 1, 4)) * -4
    r3new.aaaaa += np.transpose(tmp198, (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp199, (1, 2, 0, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp200, (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp488, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(ints.tmp485, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp431, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp182, (1, 2, 0, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp198, (2, 1, 0, 3, 4))
    del tmp198
    r3new.aaaaa += np.transpose(tmp182, (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp199, (2, 1, 0, 4, 3)) * 2
    del tmp199
    r3new.aaaaa += np.transpose(tmp200, (2, 1, 0, 4, 3)) * -1
    del tmp200
    tmp203 = einsum(r2.aaa, (0, 1, 2), ints.tmp454, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.aaaaa += np.transpose(tmp203, (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += einsum(ints.tmp117, (0, 1), r3.aaaaa, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 6
    tmp204 = np.copy(np.transpose(tmp186, (0, 2, 3, 1, 4))) * 3
    del tmp186
    tmp204 += np.transpose(tmp187, (1, 3, 0, 2, 4)) * -3
    del tmp187
    tmp204 += np.transpose(tmp174, (2, 1, 3, 0, 4))
    del tmp174
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp204, (0, 2, 3, 4, 5), (3, 4, 2, 1, 5)) * 2
    del tmp204
    tmp205 = einsum(r2.aaa, (0, 1, 2), ints.tmp504, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    tmp206 = einsum(t1.aa, (0, 1), tmp205, (2, 3, 4, 1, 5), (2, 3, 4, 0, 5))
    del tmp205
    tmp207 = einsum(t1.aa, (0, 1), tmp206, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp206
    r3new.aaaaa += tmp207 * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    tmp209 = einsum(ints.tmp120, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 1), (4, 5, 2, 3, 6))
    tmp212 = np.copy(tmp209) * -3
    del tmp209
    tmp211 = einsum(tmp50, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -1
    tmp212 += np.transpose(tmp211, (0, 1, 2, 4, 3)) * 2
    del tmp211
    tmp210 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 3, 6), (4, 5, 6, 0, 1))
    tmp212 += np.transpose(tmp210, (0, 1, 4, 3, 2))
    del tmp210
    tmp213 = einsum(t1.aa, (0, 1), tmp212, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 2
    del tmp212
    r3new.aaaaa += np.transpose(tmp213, (1, 2, 0, 3, 4)) * -1
    tmp208 = einsum(r1.a, (0,), ints.tmp502, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp208, (1, 2, 0, 4, 3)) * 2
    r3new.aaaaa += einsum(ints.tmp134, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 1, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp207, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp213, (1, 0, 2, 3, 4))
    r3new.aaaaa += np.transpose(tmp208, (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(ints.tmp134, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    r3new.aaaaa += np.transpose(tmp207, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.aaaaa += np.transpose(tmp208, (1, 2, 0, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp213, (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(ints.tmp134, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 4, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp207, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp208, (1, 0, 2, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp213, (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(ints.tmp134, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.aaaaa += tmp213 * -1
    r3new.aaaaa += np.transpose(tmp208, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(ints.tmp134, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp207, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp213, (0, 1, 2, 4, 3))
    del tmp213
    r3new.aaaaa += np.transpose(tmp208, (0, 2, 1, 3, 4)) * 2
    del tmp208
    r3new.aaaaa += einsum(ints.tmp134, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 4, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.aaaaa += np.transpose(tmp207, (2, 1, 0, 4, 3)) * 2
    del tmp207
    tmp215 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovov, (3, 4, 5, 2), (0, 1, 3, 5, 4))
    tmp216 = einsum(t1.aa, (0, 1), tmp215, (2, 3, 4, 5, 1), (3, 2, 0, 5, 4)) * -1
    del tmp215
    tmp217 = einsum(t1.aa, (0, 1), tmp216, (2, 3, 4, 5, 0), (3, 2, 4, 5, 1)) * -1
    del tmp216
    tmp218 = einsum(t1.aa, (0, 1), tmp217, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp217
    r3new.aaaaa += tmp218 * 2
    r3new.aaaaa += np.transpose(tmp218, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp532, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    tmp227 = einsum(t1.aa, (0, 1), tmp5, (2, 3, 1), (0, 2, 3))
    tmp228 = einsum(tmp227, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 2, 0, 4, 5)) * -2
    del tmp227
    r3new.aaaaa += np.transpose(tmp228, (1, 0, 2, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp536, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(ints.tmp56, (0, 1), r3.aaaaa, (2, 3, 1, 4, 5), (2, 3, 0, 4, 5)) * -12
    tmp222 = einsum(r2.aaa, (0, 1, 2), ints.tmp52, (3, 1, 4, 5), (3, 4, 5, 0, 2))
    tmp225 = np.copy(tmp222) * 0.3333333333333333
    tmp223 = np.copy(np.transpose(tmp35, (0, 2, 1, 3, 4))) * -1
    del tmp35
    tmp223 += np.transpose(tmp36, (2, 1, 0, 4, 3)) * 0.3333333333333333
    tmp224 = einsum(t1.aa, (0, 1), tmp223, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    tmp225 += np.transpose(tmp224, (0, 2, 1, 3, 4))
    tmp226 = einsum(t1.aa, (0, 1), tmp225, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 6
    del tmp225
    r3new.aaaaa += np.transpose(tmp226, (1, 2, 0, 4, 3))
    tmp220 = einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aaaaa, (4, 1, 2, 5, 6), (4, 0, 5, 6, 3))
    tmp221 = np.copy(np.transpose(tmp220, (0, 1, 3, 2, 4))) * 1.5
    tmp219 = einsum(r2.aaa, (0, 1, 2), ints.tmp526, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp221 += np.transpose(tmp219, (1, 0, 2, 3, 4)) * -1
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp221, (2, 3, 4, 5, 1), (3, 2, 0, 4, 5)) * 4
    del tmp221
    tmp214 = einsum(r1.a, (0,), ints.tmp517, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp214, (2, 1, 0, 4, 3))
    r3new.aaaaa += einsum(ints.tmp68, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 4, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp540, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp218, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp218, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp226, (1, 0, 2, 4, 3)) * -1
    del tmp226
    r3new.aaaaa += np.transpose(tmp214, (2, 0, 1, 4, 3)) * -1
    del tmp214
    tmp229 = einsum(ints.tmp217, (0, 1), r3.aaaaa, (2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp229, (2, 0, 1, 4, 3)) * 12
    tmp230 = np.copy(np.transpose(tmp220, (0, 1, 3, 2, 4))) * -1.5
    tmp230 += np.transpose(tmp219, (1, 0, 3, 2, 4)) * -1
    del tmp219
    tmp231 = einsum(t1.aa, (0, 1), tmp230, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5)) * 4
    del tmp230
    r3new.aaaaa += np.transpose(tmp231, (2, 0, 1, 4, 3)) * -1
    r3new.aaaaa += einsum(ints.tmp68, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.aaaaa += np.transpose(tmp228, (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp536, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp229, (0, 2, 1, 4, 3)) * -12
    del tmp229
    r3new.aaaaa += np.transpose(tmp231, (0, 2, 1, 4, 3))
    del tmp231
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp541, (1, 2, 0, 3, 4, 5), (1, 3, 2, 5, 4)) * -1
    r3new.aaaaa += einsum(ints.tmp68, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 4, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp540, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp536, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp218, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp218, (2, 1, 0, 4, 3)) * 2
    del tmp218
    r3new.aaaaa += np.transpose(tmp228, (2, 1, 0, 4, 3))
    tmp232 = einsum(r2.aaa, (0, 1, 2), ints.tmp542, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp233 = np.copy(tmp232) * 0.3333333333333333
    tmp233 += np.transpose(tmp224, (0, 1, 3, 2, 4)) * -1
    del tmp224
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp233, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1)) * 6
    del tmp233
    r3new.aaaaa += np.transpose(tmp172, (0, 2, 1, 4, 3)) * -1
    del tmp172
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.aaaaa += tmp182 * 2
    tmp234 = einsum(r1.a, (0,), ints.tmp449, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp234, (0, 1, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp184, (0, 1, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp182, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp177, (0, 2, 1, 4, 3)) * 12
    r3new.aaaaa += np.transpose(tmp178, (0, 2, 1, 4, 3)) * 6
    r3new.aaaaa += np.transpose(tmp234, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp547, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp182, (1, 0, 2, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp178, (1, 0, 2, 4, 3)) * 6
    del tmp178
    r3new.aaaaa += np.transpose(tmp184, (1, 0, 2, 4, 3)) * -1
    del tmp184
    r3new.aaaaa += np.transpose(tmp234, (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp182, (2, 0, 1, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp177, (2, 0, 1, 4, 3)) * -12
    del tmp177
    r3new.aaaaa += np.transpose(tmp234, (2, 0, 1, 4, 3)) * 2
    del tmp234
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp547, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp476, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp195, (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp476, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp197, (1, 2, 0, 3, 4))
    r3new.aaaaa += np.transpose(tmp195, (1, 0, 2, 4, 3))
    del tmp195
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp548, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp197, (1, 0, 2, 3, 4)) * -1
    del tmp197
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp548, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    tmp235 = einsum(t2.abab, (0, 1, 2, 3), ints.tmp1, (4, 1, 3, 5), (0, 4, 2, 5))
    tmp236 = einsum(tmp235, (0, 1, 2, 3), r3.ababa, (4, 1, 5, 3, 6), (4, 5, 0, 6, 2))
    r3new.aaaaa += np.transpose(tmp236, (0, 1, 2, 4, 3)) * 2
    tmp237 = einsum(t2.abab, (0, 1, 2, 3), tmp38, (4, 5, 1, 6, 3), (4, 5, 0, 6, 2))
    r3new.aaaaa += np.transpose(tmp237, (0, 1, 2, 4, 3)) * -6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp162, (1, 2, 0, 3, 4)) * -2
    tmp238 = einsum(r2.aaa, (0, 1, 2), ints.tmp95, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp239 = einsum(t1.aa, (0, 1), tmp238, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp238
    r3new.aaaaa += np.transpose(tmp239, (1, 2, 0, 3, 4)) * 4
    tmp240 = einsum(r2.aaa, (0, 1, 2), ints.tmp85, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp240, (1, 2, 0, 3, 4)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp241 = einsum(t2.aaaa, (0, 1, 2, 3), tmp223, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6)) * 12
    r3new.aaaaa += np.transpose(tmp241, (1, 2, 0, 3, 4))
    r3new.aaaaa += einsum(ints.tmp98, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 1, 4)) * -4
    r3new.aaaaa += np.transpose(tmp236, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp237, (0, 2, 1, 4, 3)) * 6
    r3new.aaaaa += np.transpose(tmp162, (1, 0, 2, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp239, (1, 0, 2, 3, 4)) * -4
    r3new.aaaaa += np.transpose(tmp240, (1, 0, 2, 3, 4)) * 4
    r3new.aaaaa += np.transpose(tmp241, (1, 0, 2, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.aaaaa += einsum(ints.tmp98, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 1, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.aaaaa += tmp236 * -2
    r3new.aaaaa += tmp237 * 6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp568, (1, 2, 3, 4), (0, 1, 2, 3, 4))
    tmp242 = einsum(r1.a, (0,), ints.tmp560, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp242, (1, 0, 2, 3, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (2, 0, 1, 3, 4))
    r3new.aaaaa += np.transpose(tmp162, (1, 2, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp239, (1, 2, 0, 4, 3)) * -4
    tmp243 = einsum(r2.aaa, (0, 1, 2), ints.tmp558, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp243, (1, 2, 0, 4, 3)) * 2
    tmp244 = einsum(t2.aaaa, (0, 1, 2, 3), tmp37, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6)) * 4
    del tmp37
    r3new.aaaaa += np.transpose(tmp244, (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(ints.tmp564, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 4, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp568, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp236, (0, 2, 1, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp237, (0, 2, 1, 3, 4)) * -6
    r3new.aaaaa += np.transpose(tmp162, (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp239, (1, 0, 2, 4, 3)) * 4
    r3new.aaaaa += np.transpose(tmp243, (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp244, (1, 0, 2, 4, 3))
    r3new.aaaaa += einsum(ints.tmp564, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.aaaaa += np.transpose(tmp242, (1, 2, 0, 3, 4)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    r3new.aaaaa += tmp162 * -2
    r3new.aaaaa += tmp240 * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.aaaaa += tmp241
    del tmp241
    r3new.aaaaa += np.transpose(tmp239, (0, 2, 1, 3, 4)) * -4
    r3new.aaaaa += einsum(ints.tmp98, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp236, (2, 1, 0, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp237, (2, 1, 0, 4, 3)) * 6
    r3new.aaaaa += np.transpose(tmp162, (0, 1, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp243, (0, 1, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp244, (0, 1, 2, 4, 3)) * -1
    del tmp244
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp239, (0, 2, 1, 4, 3)) * 4
    del tmp239
    r3new.aaaaa += einsum(ints.tmp564, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 4, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp568, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp242, (2, 0, 1, 3, 4)) * -4
    del tmp242
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.aaaaa += np.transpose(tmp236, (2, 1, 0, 3, 4)) * 2
    del tmp236
    r3new.aaaaa += np.transpose(tmp237, (2, 1, 0, 3, 4)) * -6
    del tmp237
    r3new.aaaaa += np.transpose(tmp228, (0, 1, 2, 4, 3)) * -1
    tmp246 = einsum(r1.a, (0,), ints.tmp570, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp246, (0, 2, 1, 3, 4)) * 2
    tmp247 = einsum(t1.aa, (0, 1), tmp220, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp220
    r3new.aaaaa += np.transpose(tmp247, (0, 2, 1, 4, 3)) * -6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp536, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp540, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    tmp245 = einsum(t1.aa, (0, 1), tmp232, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    r3new.aaaaa += np.transpose(tmp245, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += tmp246 * -2
    r3new.aaaaa += np.transpose(tmp247, (0, 1, 2, 4, 3)) * 6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp536, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp228, (0, 2, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp245, (2, 0, 1, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp540, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp245, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp246, (1, 0, 2, 3, 4)) * 2
    del tmp246
    r3new.aaaaa += np.transpose(tmp247, (1, 0, 2, 4, 3)) * -6
    del tmp247
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp536, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp228, (2, 0, 1, 4, 3)) * -1
    del tmp228
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp540, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    tmp249 = einsum(t1.aa, (0, 1), tmp223, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 3
    del tmp223
    tmp250 = np.copy(np.transpose(tmp249, (1, 3, 2, 0, 4))) * -1
    tmp250 += np.transpose(tmp222, (2, 1, 3, 0, 4))
    del tmp222
    tmp251 = einsum(t1.aa, (0, 1), tmp250, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp250
    r3new.aaaaa += tmp251 * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp576, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    tmp248 = einsum(r1.a, (0,), ints.tmp574, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp248, (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(ints.tmp68, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 0, 1, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp576, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp251, (0, 2, 1, 3, 4))
    del tmp251
    r3new.aaaaa += np.transpose(tmp248, (2, 0, 1, 4, 3))
    r3new.aaaaa += einsum(ints.tmp68, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 1, 4)) * -2
    r3new.aaaaa += np.transpose(tmp248, (0, 2, 1, 4, 3)) * -1
    del tmp248
    r3new.aaaaa += einsum(ints.tmp68, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp576, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    tmp252 = np.copy(np.transpose(tmp232, (1, 3, 2, 0, 4)))
    del tmp232
    tmp252 += np.transpose(tmp249, (1, 3, 2, 0, 4))
    del tmp249
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp252, (0, 2, 3, 4, 5), (4, 3, 2, 1, 5)) * -2
    del tmp252
    tmp254 = einsum(r2.aaa, (0, 1, 2), ints.tmp584, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += tmp254 * 2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (0, 1, 3, 2, 4))
    tmp253 = einsum(r2.aaa, (0, 1, 2), ints.tmp582, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp253, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp254, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (0, 1, 3, 4, 2)) * -1
    tmp255 = einsum(r2.aaa, (0, 1, 2), ints.tmp586, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp255, (0, 2, 1, 3, 4)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp254, (1, 0, 2, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (1, 0, 3, 2, 4)) * -1
    r3new.aaaaa += np.transpose(tmp253, (2, 0, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp254, (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (1, 0, 3, 4, 2))
    r3new.aaaaa += np.transpose(tmp255, (2, 0, 1, 3, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp254, (1, 2, 0, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (1, 3, 0, 2, 4))
    r3new.aaaaa += np.transpose(tmp253, (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp254, (1, 2, 0, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (1, 3, 0, 4, 2)) * -1
    r3new.aaaaa += np.transpose(tmp255, (2, 1, 0, 3, 4)) * -4
    r3new.aaaaa += np.transpose(tmp162, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp162, (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp162, (0, 2, 1, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.aaaaa += np.transpose(tmp162, (2, 0, 1, 3, 4)) * -2
    del tmp162
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp405, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    tmp256 = einsum(r2.aaa, (0, 1, 2), ints.tmp118, (3, 4, 1, 5), (3, 4, 5, 0, 2))
    tmp257 = einsum(t1.aa, (0, 1), tmp256, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp256
    r3new.aaaaa += np.transpose(tmp257, (1, 0, 2, 4, 3)) * 4
    tmp258 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovvv, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp258, (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    tmp259 = einsum(ints.tmp118, (0, 1, 2, 3), r3.aaaaa, (4, 2, 3, 5, 6), (0, 1, 4, 5, 6))
    r3new.aaaaa += np.transpose(tmp259, (0, 1, 2, 4, 3)) * -6
    tmp260 = einsum(r1.a, (0,), ints.tmp594, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp260, (0, 1, 2, 4, 3)) * 4
    r3new.aaaaa += np.transpose(tmp257, (1, 0, 2, 3, 4)) * -4
    r3new.aaaaa += np.transpose(tmp258, (1, 0, 2, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp257, (1, 2, 0, 4, 3)) * -4
    r3new.aaaaa += np.transpose(tmp258, (1, 2, 0, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.aaaaa += np.transpose(tmp259, (0, 2, 1, 4, 3)) * 6
    r3new.aaaaa += np.transpose(tmp260, (0, 2, 1, 4, 3)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp598, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp257, (1, 2, 0, 3, 4)) * 4
    r3new.aaaaa += np.transpose(tmp258, (1, 2, 0, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp257, (2, 1, 0, 4, 3)) * 4
    r3new.aaaaa += np.transpose(tmp258, (2, 1, 0, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp598, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp259, (2, 0, 1, 4, 3)) * -6
    del tmp259
    r3new.aaaaa += np.transpose(tmp260, (2, 0, 1, 4, 3)) * 4
    del tmp260
    r3new.aaaaa += np.transpose(tmp257, (2, 1, 0, 3, 4)) * -4
    del tmp257
    r3new.aaaaa += np.transpose(tmp258, (2, 1, 0, 3, 4)) * 2
    del tmp258
    tmp261 = einsum(r2.aaa, (0, 1, 2), v.aaaa.vvvv, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp262 = einsum(t1.aa, (0, 1), tmp261, (2, 3, 4, 1, 5), (2, 3, 0, 5, 4))
    del tmp261
    r3new.aaaaa += tmp262 * 2
    r3new.aaaaa += np.transpose(tmp262, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp599, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(v.aaaa.vvvv, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -6
    tmp263 = einsum(r2.aaa, (0, 1, 2), ints.tmp141, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp264 = einsum(t1.aa, (0, 1), tmp263, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp263
    r3new.aaaaa += np.transpose(tmp264, (0, 1, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp264, (1, 0, 2, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += tmp264 * -2
    tmp268 = einsum(r1.a, (0,), ints.tmp607, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp268, (0, 1, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp264, (1, 0, 2, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.aaaaa += np.transpose(tmp268, (1, 0, 2, 4, 3)) * -2
    tmp265 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 0, 2, 5, 6), (4, 5, 6, 3, 1)) * -1
    tmp266 = einsum(t1.aa, (0, 1), tmp265, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5)) * -1
    del tmp265
    tmp267 = einsum(t1.aa, (0, 1), tmp266, (2, 3, 4, 5, 1), (2, 0, 3, 5, 4)) * -1
    del tmp266
    r3new.aaaaa += np.transpose(tmp267, (1, 2, 0, 4, 3)) * -6
    r3new.aaaaa += np.transpose(tmp264, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp264, (1, 2, 0, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp264, (0, 2, 1, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp268, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp267, (1, 0, 2, 4, 3)) * 6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp612, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp264, (1, 2, 0, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp268, (1, 2, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp264, (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp264, (2, 1, 0, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp612, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp267, (0, 2, 1, 4, 3)) * 6
    del tmp267
    r3new.aaaaa += np.transpose(tmp264, (2, 0, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp268, (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp264, (2, 1, 0, 3, 4)) * 2
    del tmp264
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp137, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.aaaaa += np.transpose(tmp268, (2, 1, 0, 4, 3)) * -2
    del tmp268
    r3new.aaaaa += np.transpose(tmp182, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp182, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp203, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp431, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp182, (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp182, (2, 0, 1, 4, 3)) * -2
    del tmp182
    r3new.aaaaa += np.transpose(tmp203, (2, 0, 1, 4, 3)) * -2
    del tmp203
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp431, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.aaaaa += np.transpose(tmp253, (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp254, (2, 0, 1, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.aaaaa += np.transpose(tmp253, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp254, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp255, (1, 0, 2, 3, 4)) * -4
    r3new.aaaaa += np.transpose(tmp254, (2, 0, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += tmp255 * 4
    r3new.aaaaa += np.transpose(tmp254, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp253, (1, 2, 0, 4, 3)) * -2
    del tmp253
    r3new.aaaaa += np.transpose(tmp254, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp588, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp255, (1, 2, 0, 3, 4)) * 4
    del tmp255
    r3new.aaaaa += np.transpose(tmp254, (2, 1, 0, 4, 3)) * 2
    del tmp254
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp614, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp614, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp262, (1, 2, 0, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp262, (1, 2, 0, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp614, (1, 2, 3, 4), (2, 0, 1, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp614, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp262, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp262, (2, 1, 0, 4, 3)) * 2
    del tmp262
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp599, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp240, (2, 0, 1, 3, 4)) * -4
    r3new.aaaaa += np.transpose(tmp240, (0, 2, 1, 3, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (0, 1, 2, 3, 4))
    r3new.aaaaa += np.transpose(tmp243, (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp568, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.aaaaa += np.transpose(tmp243, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp568, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp240, (2, 1, 0, 3, 4)) * 4
    del tmp240
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp556, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp568, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp243, (2, 1, 0, 4, 3)) * -2
    del tmp243
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp616, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -2
    tmp269 = einsum(r2.aaa, (0, 1, 2), ints.tmp128, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp269, (2, 1, 0, 3, 4)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp616, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp269, (1, 2, 0, 3, 4)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp616, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp269, (2, 1, 0, 4, 3)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp616, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp269, (1, 2, 0, 4, 3)) * -4
    r3new.aaaaa += np.transpose(tmp269, (1, 0, 2, 3, 4)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp616, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp269, (1, 0, 2, 4, 3)) * 4
    del tmp269
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp616, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp189, (2, 0, 1, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp189, (2, 0, 1, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp189, (0, 2, 1, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp189, (0, 2, 1, 3, 4)) * 2
    del tmp189
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp431, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp576, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp245, (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp245, (2, 0, 1, 4, 3)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp576, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.aaaaa += np.transpose(tmp245, (0, 2, 1, 4, 3)) * 2
    del tmp245
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp576, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    tmp270 = einsum(r2.aaa, (0, 1, 2), ints.tmp138, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.aaaaa += np.transpose(tmp270, (2, 0, 1, 3, 4)) * 2
    r3new.aaaaa += np.transpose(tmp270, (2, 1, 0, 3, 4)) * -2
    r3new.aaaaa += np.transpose(tmp270, (0, 2, 1, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.aaaaa += np.transpose(tmp270, (1, 2, 0, 3, 4)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.aaaaa += np.transpose(tmp270, (2, 0, 1, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp270, (2, 1, 0, 4, 3)) * 2
    r3new.aaaaa += np.transpose(tmp270, (0, 2, 1, 4, 3)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.aaaaa += np.transpose(tmp270, (1, 2, 0, 4, 3)) * -2
    r3new.aaaaa += tmp270 * 2
    r3new.aaaaa += np.transpose(tmp270, (1, 0, 2, 3, 4)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aaaaa += np.transpose(tmp270, (0, 1, 2, 4, 3)) * -2
    r3new.aaaaa += np.transpose(tmp270, (1, 0, 2, 4, 3)) * 2
    del tmp270
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp618, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    tmp1137 = einsum(r1.b, (0,), ints.tmp1937, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb = np.copy(np.transpose(tmp1137, (0, 1, 2, 4, 3))) * -2
    tmp1138 = einsum(r2.bbb, (0, 1, 2), ints.tmp1939, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += np.transpose(tmp1138, (0, 1, 2, 4, 3)) * 4
    r3new.bbbbb += np.transpose(tmp130, (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    tmp1134 = einsum(ints.tmp212, (0, 1, 2, 3), r3.bbbbb, (4, 5, 0, 6, 2), (1, 4, 5, 3, 6))
    r3new.bbbbb += np.transpose(tmp1134, (1, 2, 0, 3, 4)) * -6
    tmp1135 = einsum(r2.bbb, (0, 1, 2), ints.tmp212, (3, 4, 2, 5), (3, 4, 0, 1, 5))
    tmp1136 = einsum(t1.bb, (0, 1), tmp1135, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1135
    r3new.bbbbb += np.transpose(tmp1136, (1, 2, 0, 3, 4)) * 2
    tmp676 = np.copy(tmp13)
    tmp676 += np.transpose(tmp12, (1, 0, 2)) * -0.5
    tmp1140 = einsum(tmp676, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * -2
    tmp1141 = einsum(t1.bb, (0, 1), tmp1140, (2, 3, 0, 4, 5), (4, 3, 2, 1, 5)) * 2
    del tmp1140
    r3new.bbbbb += np.transpose(tmp1141, (1, 2, 0, 3, 4))
    tmp1139 = einsum(tmp117, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 3, 4, 1, 5)) * -12
    r3new.bbbbb += np.transpose(tmp1139, (2, 1, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1837, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.bbbbb += einsum(ints.tmp223, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 1, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1137, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1138, (0, 2, 1, 4, 3)) * -4
    r3new.bbbbb += np.transpose(tmp130, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1134, (1, 0, 2, 3, 4)) * 6
    r3new.bbbbb += np.transpose(tmp1136, (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1141, (1, 0, 2, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1948, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1139, (2, 0, 1, 3, 4))
    r3new.bbbbb += einsum(ints.tmp223, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    r3new.bbbbb += tmp1138 * -4
    tmp1142 = einsum(r1.b, (0,), ints.tmp1951, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += tmp1142 * 2
    r3new.bbbbb += tmp130 * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (0, 1, 2, 3, 4))
    tmp957 = np.copy(tmp116) * -3
    del tmp116
    tmp957 += tmp114
    del tmp114
    tmp957 += tmp115
    del tmp115
    tmp1143 = einsum(tmp957, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1143, (1, 0, 2, 3, 4))
    r3new.bbbbb += np.transpose(tmp1134, (1, 2, 0, 4, 3)) * 6
    r3new.bbbbb += np.transpose(tmp1136, (1, 2, 0, 4, 3)) * -2
    tmp1144 = einsum(tmp676, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * -1
    tmp1145 = einsum(t1.bb, (0, 1), tmp1144, (2, 3, 0, 4, 5), (4, 3, 2, 1, 5)) * 4
    del tmp1144
    r3new.bbbbb += np.transpose(tmp1145, (1, 2, 0, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1837, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(ints.tmp223, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 4, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1138, (0, 2, 1, 3, 4)) * 4
    r3new.bbbbb += np.transpose(tmp1142, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp130, (0, 2, 1, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1134, (1, 0, 2, 4, 3)) * -6
    r3new.bbbbb += np.transpose(tmp1136, (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1145, (1, 0, 2, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1837, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(ints.tmp223, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1143, (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1948, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1134, (0, 2, 1, 3, 4)) * 6
    r3new.bbbbb += np.transpose(tmp1136, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1139, (0, 2, 1, 3, 4)) * -1
    del tmp1139
    r3new.bbbbb += np.transpose(tmp1141, (0, 2, 1, 3, 4)) * -1
    del tmp1141
    r3new.bbbbb += einsum(ints.tmp223, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1138, (2, 0, 1, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1137, (2, 1, 0, 4, 3)) * 2
    del tmp1137
    tmp1146 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ooov, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.bbbbb += np.transpose(tmp1146, (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp130, (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1134, (0, 2, 1, 4, 3)) * -6
    del tmp1134
    r3new.bbbbb += np.transpose(tmp1136, (0, 2, 1, 4, 3)) * 2
    del tmp1136
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1837, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1145, (0, 2, 1, 4, 3))
    del tmp1145
    r3new.bbbbb += einsum(ints.tmp223, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 4, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1138, (2, 0, 1, 3, 4)) * -4
    del tmp1138
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (2, 0, 1, 3, 4))
    r3new.bbbbb += np.transpose(tmp1142, (2, 1, 0, 3, 4)) * -2
    del tmp1142
    r3new.bbbbb += np.transpose(tmp1146, (2, 1, 0, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp130, (2, 1, 0, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbbbb += np.transpose(tmp1143, (2, 1, 0, 3, 4))
    del tmp1143
    tmp1152 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ooov, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp1153 = einsum(t1.bb, (0, 1), tmp1152, (2, 3, 4, 5, 0), (3, 2, 5, 4, 1)) * -1
    del tmp1152
    tmp1154 = einsum(t1.bb, (0, 1), tmp1153, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5)) * -1
    del tmp1153
    r3new.bbbbb += tmp1154 * -2
    tmp1147 = einsum(r2.aba, (0, 1, 2), ints.tmp1717, (0, 3, 4, 2, 5, 6), (3, 4, 1, 5, 6))
    r3new.bbbbb += np.transpose(tmp1147, (0, 1, 2, 4, 3)) * 6
    tmp1149 = einsum(r2.bbb, (0, 1, 2), ints.tmp1961, (3, 4, 1, 5, 6, 2), (3, 4, 0, 5, 6))
    r3new.bbbbb += np.transpose(tmp1149, (0, 1, 2, 4, 3)) * -2
    tmp1150 = einsum(r1.b, (0,), ints.tmp1968, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1150, (0, 1, 2, 4, 3)) * 6
    r3new.bbbbb += np.transpose(tmp1154, (0, 1, 2, 4, 3)) * 2
    tmp1157 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 0, 5, 1, 6), (4, 5, 2, 3, 6)) * -1
    tmp1159 = np.copy(np.transpose(tmp1157, (0, 1, 3, 2, 4)))
    tmp1158 = einsum(ints.tmp30, (0, 1, 2, 3), r3.bbbbb, (4, 5, 0, 6, 3), (1, 2, 4, 5, 6))
    tmp1159 += np.transpose(tmp1158, (2, 3, 1, 0, 4)) * 3
    tmp1160 = einsum(t1.bb, (0, 1), tmp1159, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1159
    r3new.bbbbb += np.transpose(tmp1160, (0, 1, 2, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1804, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * 2
    tmp1155 = np.copy(tmp128) * 2
    tmp1155 += np.transpose(tmp127, (2, 1, 0)) * -1
    tmp1156 = einsum(tmp1155, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -2
    del tmp1155
    r3new.bbbbb += np.transpose(tmp1156, (2, 0, 1, 4, 3)) * -1
    tmp1148 = einsum(r2.bbb, (0, 1, 2), ints.tmp1727, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.bbbbb += np.transpose(tmp1148, (2, 1, 0, 4, 3)) * -4
    tmp1151 = einsum(ints.tmp158, (0, 1), r3.bbbbb, (2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1151, (2, 1, 0, 4, 3)) * -6
    r3new.bbbbb += einsum(ints.tmp266, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 4, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1804, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1154, (0, 2, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1147, (0, 2, 1, 4, 3)) * -6
    r3new.bbbbb += np.transpose(tmp1149, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1150, (0, 2, 1, 4, 3)) * -6
    del tmp1150
    r3new.bbbbb += np.transpose(tmp1154, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1160, (0, 2, 1, 4, 3)) * -1
    del tmp1160
    r3new.bbbbb += np.transpose(tmp1148, (2, 0, 1, 4, 3)) * 4
    r3new.bbbbb += np.transpose(tmp1151, (2, 0, 1, 4, 3)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1976, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(ints.tmp266, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1156, (2, 1, 0, 4, 3))
    del tmp1156
    r3new.bbbbb += einsum(tmp17, (0,), t3.bbbbbb, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5)) * -12
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1985, (0, 1, 2, 3, 4, 5), (1, 2, 3, 5, 4)) * 6
    r3new.bbbbb += np.transpose(tmp1148, (0, 2, 1, 4, 3)) * -4
    del tmp1148
    r3new.bbbbb += np.transpose(tmp1151, (0, 2, 1, 4, 3)) * -6
    del tmp1151
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1991, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += einsum(ints.tmp266, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 4, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1804, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1147, (2, 0, 1, 4, 3)) * 6
    del tmp1147
    r3new.bbbbb += np.transpose(tmp1149, (2, 0, 1, 4, 3)) * -2
    del tmp1149
    tmp1165 = einsum(r2.bbb, (0, 1, 2), v.bbbb.oooo, (3, 4, 5, 1), (0, 3, 4, 5, 2))
    tmp1166 = einsum(t1.bb, (0, 1), tmp1165, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1))
    del tmp1165
    r3new.bbbbb += np.transpose(tmp1166, (1, 2, 0, 3, 4)) * 2
    tmp1164 = einsum(v.bbbb.oooo, (0, 1, 2, 3), r3.bbbbb, (4, 1, 3, 5, 6), (4, 0, 2, 5, 6))
    r3new.bbbbb += np.transpose(tmp1164, (1, 2, 0, 4, 3)) * -6
    tmp1169 = einsum(ints.tmp34, (0, 1), r3.bbbbb, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    tmp1171 = np.copy(np.transpose(tmp1169, (0, 2, 3, 1, 4)))
    del tmp1169
    tmp1170 = einsum(ints.tmp345, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 3), (0, 1, 4, 5, 6))
    tmp1171 += np.transpose(tmp1170, (1, 3, 0, 2, 4)) * -1
    del tmp1170
    tmp1171 += np.transpose(tmp1157, (2, 1, 3, 0, 4)) * -0.3333333333333333
    tmp1172 = einsum(t1.bb, (0, 1), tmp1171, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 6
    del tmp1171
    r3new.bbbbb += np.transpose(tmp1172, (1, 2, 0, 4, 3)) * -1
    tmp1167 = np.copy(tmp137)
    del tmp137
    tmp1167 += np.transpose(tmp138, (0, 2, 1)) * -1
    del tmp138
    tmp1167 += np.transpose(tmp139, (0, 2, 1)) * 3
    del tmp139
    tmp1167 += np.transpose(tmp136, (2, 0, 1)) * -1
    del tmp136
    tmp1167 += np.transpose(tmp127, (2, 1, 0)) * 0.5
    tmp1168 = einsum(tmp1167, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    del tmp1167
    r3new.bbbbb += np.transpose(tmp1168, (1, 2, 0, 4, 3))
    r3new.bbbbb += np.transpose(tmp1154, (2, 1, 0, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1166, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1154, (2, 1, 0, 4, 3)) * -2
    del tmp1154
    tmp1163 = einsum(r2.bbb, (0, 1, 2), ints.tmp1849, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.bbbbb += np.transpose(tmp1163, (2, 1, 0, 4, 3)) * 2
    tmp1161 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 1, 3), (4, 5, 6, 0, 2))
    tmp1162 = einsum(t1.bb, (0, 1), tmp1161, (2, 3, 4, 5, 0), (2, 3, 4, 5, 1))
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1162, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5)) * 6
    del tmp1162
    r3new.bbbbb += einsum(t2.bbbb, (0, 1, 2, 3), tmp1161, (4, 5, 6, 0, 1), (4, 5, 6, 2, 3)) * 6
    del tmp1161
    r3new.bbbbb += einsum(ints.tmp259, (0, 1), r3.bbbbb, (2, 3, 4, 5, 1), (2, 3, 4, 5, 0)) * -6
    tmp1173 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -1
    tmp1174 = einsum(t1.bb, (0, 1), tmp1173, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp1173
    r3new.bbbbb += np.transpose(tmp1174, (0, 1, 2, 4, 3)) * 6
    tmp1178 = einsum(r1.b, (0,), ints.tmp2003, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1178, (0, 1, 2, 4, 3)) * -6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2006, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 6
    tmp1176 = einsum(ints.tmp271, (0, 1), r3.bbbbb, (2, 3, 4, 5, 0), (2, 3, 4, 1, 5))
    r3new.bbbbb += np.transpose(tmp1176, (1, 2, 0, 3, 4)) * -6
    tmp1177 = einsum(r2.bbb, (0, 1, 2), ints.tmp1992, (3, 4, 5, 0, 1, 6), (3, 4, 5, 6, 2))
    r3new.bbbbb += np.transpose(tmp1177, (1, 2, 0, 4, 3)) * 6
    tmp1175 = einsum(r2.bbb, (0, 1, 2), ints.tmp1998, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    r3new.bbbbb += np.transpose(tmp1175, (2, 1, 0, 4, 3)) * -4
    tmp1179 = einsum(tmp143, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -2
    r3new.bbbbb += np.transpose(tmp1179, (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += tmp1174 * -6
    del tmp1174
    r3new.bbbbb += tmp1178 * 6
    del tmp1178
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2006, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -6
    r3new.bbbbb += np.transpose(tmp1177, (1, 2, 0, 3, 4)) * -6
    del tmp1177
    r3new.bbbbb += np.transpose(tmp1176, (1, 2, 0, 4, 3)) * 6
    del tmp1176
    r3new.bbbbb += np.transpose(tmp1175, (2, 1, 0, 3, 4)) * 4
    tmp962 = np.copy(tmp142)
    del tmp142
    tmp962 += np.transpose(tmp141, (0, 2, 1)) * -0.5
    del tmp141
    tmp1180 = einsum(tmp962, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -4
    r3new.bbbbb += np.transpose(tmp1180, (2, 1, 0, 3, 4))
    tmp1182 = einsum(r2.bbb, (0, 1, 2), ints.tmp1713, (3, 4, 1, 5, 6, 2), (3, 4, 0, 5, 6))
    r3new.bbbbb += tmp1182 * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1786, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    tmp1181 = einsum(r2.aba, (0, 1, 2), ints.tmp1759, (0, 3, 4, 2, 5, 6), (3, 4, 1, 5, 6))
    r3new.bbbbb += np.transpose(tmp1181, (1, 0, 2, 3, 4))
    tmp1183 = einsum(r1.b, (0,), ints.tmp1966, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1183, (1, 0, 2, 4, 3)) * -1
    tmp1184 = np.copy(np.transpose(tmp1158, (0, 1, 3, 2, 4))) * -1
    del tmp1158
    tmp1184 += np.transpose(tmp1157, (2, 3, 1, 0, 4)) * -0.3333333333333333
    del tmp1157
    tmp1185 = einsum(t1.bb, (0, 1), tmp1184, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 6
    del tmp1184
    r3new.bbbbb += np.transpose(tmp1185, (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(ints.tmp266, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 1, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1182, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1786, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1185, (1, 0, 2, 3, 4))
    del tmp1185
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2012, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.bbbbb += einsum(ints.tmp266, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 1, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1181, (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1183, (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2012, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(ints.tmp266, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1182, (2, 0, 1, 3, 4)) * 2
    del tmp1182
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1786, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1172, (1, 2, 0, 3, 4))
    del tmp1172
    r3new.bbbbb += np.transpose(tmp1166, (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1181, (2, 1, 0, 3, 4))
    del tmp1181
    r3new.bbbbb += np.transpose(tmp1166, (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1183, (2, 1, 0, 4, 3)) * -1
    del tmp1183
    tmp1186 = einsum(r2.bbb, (0, 1, 2), ints.tmp1787, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.bbbbb += np.transpose(tmp1186, (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += einsum(ints.tmp352, (0, 1), r3.bbbbb, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 12
    tmp1187 = einsum(r2.bbb, (0, 1, 2), ints.tmp2027, (3, 2, 4, 5), (3, 0, 1, 4, 5))
    tmp1188 = einsum(t1.bb, (0, 1), tmp1187, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    del tmp1187
    tmp1189 = einsum(t1.bb, (0, 1), tmp1188, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1188
    r3new.bbbbb += tmp1189 * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -2
    tmp1190 = einsum(r1.b, (0,), ints.tmp2025, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1190, (1, 2, 0, 4, 3)) * 2
    tmp1191 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 0, 5, 1, 6), (4, 5, 6, 2, 3)) * -1
    tmp1194 = np.copy(np.transpose(tmp1191, (0, 1, 2, 4, 3))) * 0.5
    tmp1192 = einsum(ints.tmp269, (0, 1, 2, 3), r3.bbbbb, (4, 5, 0, 6, 2), (4, 5, 1, 3, 6))
    tmp1194 += np.transpose(tmp1192, (0, 1, 4, 2, 3)) * 1.5
    tmp1193 = einsum(tmp146, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -1
    tmp1194 += np.transpose(tmp1193, (0, 1, 3, 4, 2)) * -1
    tmp1195 = einsum(t1.bb, (0, 1), tmp1194, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 4
    del tmp1194
    r3new.bbbbb += np.transpose(tmp1195, (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(ints.tmp363, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 1, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1189, (0, 2, 1, 3, 4)) * -2
    tmp1196 = np.copy(tmp1192) * 1.5
    del tmp1192
    tmp1196 += np.transpose(tmp1193, (0, 1, 4, 2, 3)) * -1
    del tmp1193
    tmp1196 += np.transpose(tmp1191, (0, 1, 4, 3, 2)) * 0.5
    del tmp1191
    tmp1197 = einsum(t1.bb, (0, 1), tmp1196, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * 4
    del tmp1196
    r3new.bbbbb += np.transpose(tmp1197, (1, 0, 2, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1190, (1, 0, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(ints.tmp363, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1189, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1190, (1, 2, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1195, (1, 2, 0, 3, 4)) * -1
    del tmp1195
    r3new.bbbbb += einsum(ints.tmp285, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 4, 1)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1189, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1190, (1, 0, 2, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1197, (1, 0, 2, 4, 3))
    r3new.bbbbb += einsum(ints.tmp285, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * -4
    r3new.bbbbb += tmp1197
    r3new.bbbbb += np.transpose(tmp1190, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(ints.tmp363, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1189, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1197, (0, 1, 2, 4, 3)) * -1
    del tmp1197
    r3new.bbbbb += np.transpose(tmp1190, (0, 2, 1, 3, 4)) * 2
    del tmp1190
    r3new.bbbbb += einsum(ints.tmp285, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 4, 1)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1189, (2, 1, 0, 4, 3)) * 2
    del tmp1189
    tmp1198 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovov, (3, 4, 5, 2), (0, 1, 3, 5, 4))
    tmp1199 = einsum(t1.bb, (0, 1), tmp1198, (2, 3, 4, 5, 1), (3, 2, 0, 5, 4)) * -1
    del tmp1198
    tmp1200 = einsum(t1.bb, (0, 1), tmp1199, (2, 3, 4, 5, 0), (3, 2, 4, 5, 1)) * -1
    del tmp1199
    tmp1201 = einsum(t1.bb, (0, 1), tmp1200, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp1200
    r3new.bbbbb += tmp1201 * 2
    r3new.bbbbb += np.transpose(tmp1201, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1851, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * 4
    tmp1210 = np.copy(tmp12) * -0.5
    del tmp12
    tmp1210 += np.transpose(tmp13, (1, 0, 2))
    del tmp13
    tmp1211 = einsum(t1.bb, (0, 1), tmp1210, (2, 3, 1), (0, 2, 3))
    del tmp1210
    tmp1212 = einsum(tmp1211, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (3, 1, 0, 4, 5)) * -4
    del tmp1211
    r3new.bbbbb += np.transpose(tmp1212, (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1784, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(ints.tmp310, (0, 1), r3.bbbbb, (2, 3, 1, 4, 5), (2, 3, 0, 4, 5)) * -6
    tmp1205 = einsum(r2.bbb, (0, 1, 2), ints.tmp308, (3, 1, 4, 5), (3, 4, 5, 0, 2))
    tmp1208 = np.copy(tmp1205) * 0.3333333333333333
    tmp1206 = np.copy(np.transpose(tmp131, (0, 2, 1, 3, 4))) * -3
    tmp1206 += np.transpose(tmp130, (2, 1, 0, 4, 3))
    tmp1207 = einsum(t1.bb, (0, 1), tmp1206, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 0.3333333333333333
    tmp1208 += np.transpose(tmp1207, (0, 2, 1, 3, 4))
    del tmp1207
    tmp1209 = einsum(t1.bb, (0, 1), tmp1208, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 6
    del tmp1208
    r3new.bbbbb += np.transpose(tmp1209, (1, 2, 0, 4, 3)) * -1
    tmp1203 = einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.bbbbb, (4, 2, 1, 5, 6), (4, 0, 5, 6, 3)) * -1
    tmp1204 = np.copy(np.transpose(tmp1203, (0, 1, 3, 2, 4))) * 1.5
    tmp1202 = einsum(r2.bbb, (0, 1, 2), ints.tmp1773, (3, 4, 2, 5), (0, 1, 3, 4, 5))
    tmp1204 += np.transpose(tmp1202, (1, 0, 2, 3, 4))
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1204, (2, 3, 4, 5, 1), (3, 2, 0, 4, 5)) * 4
    del tmp1204
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2037, (1, 2, 3, 0, 4, 5), (3, 2, 1, 5, 4)) * 6
    r3new.bbbbb += einsum(ints.tmp316, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 4, 1)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1854, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1201, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1201, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(ints.tmp291, (0, 1), r3.bbbbb, (2, 3, 0, 4, 5), (2, 1, 3, 4, 5)) * 12
    r3new.bbbbb += np.transpose(tmp1209, (1, 0, 2, 4, 3))
    tmp1213 = np.copy(np.transpose(tmp1203, (0, 1, 3, 2, 4))) * -1.5
    tmp1213 += np.transpose(tmp1202, (1, 0, 3, 2, 4))
    del tmp1202
    tmp1214 = einsum(t1.bb, (0, 1), tmp1213, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5)) * 4
    del tmp1213
    r3new.bbbbb += np.transpose(tmp1214, (2, 0, 1, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2049, (1, 2, 3, 0, 4, 5), (3, 1, 2, 5, 4)) * -1
    r3new.bbbbb += einsum(ints.tmp299, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1212, (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1784, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(ints.tmp150, (0, 1), r3.bbbbb, (2, 3, 0, 4, 5), (1, 2, 3, 4, 5)) * -6
    r3new.bbbbb += np.transpose(tmp1209, (0, 1, 2, 4, 3)) * -1
    del tmp1209
    r3new.bbbbb += np.transpose(tmp1214, (0, 2, 1, 4, 3))
    del tmp1214
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2055, (1, 2, 0, 3, 4, 5), (1, 3, 2, 5, 4)) * -6
    r3new.bbbbb += einsum(ints.tmp316, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 4, 1)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1851, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1784, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1201, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1201, (2, 1, 0, 4, 3)) * 2
    del tmp1201
    r3new.bbbbb += np.transpose(tmp1212, (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1804, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    tmp1215 = np.copy(tmp128)
    del tmp128
    tmp1215 += np.transpose(tmp127, (2, 1, 0)) * -0.5
    del tmp127
    r3new.bbbbb += einsum(tmp1215, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 2, 0, 4, 5)) * 4
    del tmp1215
    r3new.bbbbb += tmp1166 * 2
    tmp1216 = einsum(r1.b, (0,), ints.tmp1984, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1216, (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1168, (0, 1, 2, 4, 3))
    r3new.bbbbb += np.transpose(tmp1166, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1163, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1164, (0, 2, 1, 4, 3)) * 6
    r3new.bbbbb += np.transpose(tmp1216, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2061, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1804, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1166, (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1164, (1, 0, 2, 4, 3)) * 6
    del tmp1164
    r3new.bbbbb += np.transpose(tmp1168, (1, 0, 2, 4, 3)) * -1
    del tmp1168
    r3new.bbbbb += np.transpose(tmp1216, (1, 0, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1166, (2, 0, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1163, (2, 0, 1, 4, 3)) * -2
    del tmp1163
    r3new.bbbbb += np.transpose(tmp1216, (2, 0, 1, 4, 3)) * 2
    del tmp1216
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2061, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1804, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2006, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -6
    r3new.bbbbb += np.transpose(tmp1179, (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2006, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 6
    r3new.bbbbb += np.transpose(tmp1180, (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1179, (1, 0, 2, 4, 3)) * -1
    del tmp1179
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2062, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 6
    r3new.bbbbb += np.transpose(tmp1180, (1, 0, 2, 3, 4))
    del tmp1180
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2062, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -6
    tmp1217 = einsum(t2.abab, (0, 1, 2, 3), tmp134, (0, 4, 5, 2, 6), (4, 5, 1, 6, 3))
    r3new.bbbbb += np.transpose(tmp1217, (0, 1, 2, 4, 3)) * -6
    tmp1221 = einsum(t2.abab, (0, 1, 2, 3), ints.tmp5, (4, 0, 2, 5), (4, 1, 5, 3))
    tmp1222 = einsum(tmp1221, (0, 1, 2, 3), r3.babab, (4, 0, 5, 2, 6), (4, 5, 1, 6, 3)) * -1
    del tmp1221
    r3new.bbbbb += np.transpose(tmp1222, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1146, (1, 2, 0, 3, 4)) * -2
    tmp1218 = einsum(r2.bbb, (0, 1, 2), ints.tmp227, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp1219 = einsum(t1.bb, (0, 1), tmp1218, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1218
    r3new.bbbbb += np.transpose(tmp1219, (1, 2, 0, 3, 4)) * 2
    tmp1220 = einsum(r2.bbb, (0, 1, 2), ints.tmp1698, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += np.transpose(tmp1220, (1, 2, 0, 3, 4)) * -4
    tmp1223 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1206, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6)) * 4
    r3new.bbbbb += np.transpose(tmp1223, (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(ints.tmp1035, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 1, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1217, (0, 2, 1, 4, 3)) * 6
    r3new.bbbbb += np.transpose(tmp1222, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1146, (1, 0, 2, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1219, (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1220, (1, 0, 2, 3, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.bbbbb += np.transpose(tmp1223, (1, 0, 2, 3, 4))
    r3new.bbbbb += einsum(ints.tmp248, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 1, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += tmp1217 * 6
    r3new.bbbbb += tmp1222 * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2077, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * 2
    tmp1224 = einsum(r1.b, (0,), ints.tmp2071, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1224, (1, 0, 2, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1146, (1, 2, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1219, (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1220, (1, 2, 0, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    tmp1225 = np.copy(np.transpose(tmp131, (0, 2, 1, 3, 4))) * -1
    del tmp131
    tmp1225 += np.transpose(tmp130, (2, 1, 0, 4, 3)) * 0.3333333333333333
    tmp1226 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1225, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6)) * 12
    del tmp1225
    r3new.bbbbb += np.transpose(tmp1226, (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(ints.tmp248, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 4, 1)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2077, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1217, (0, 2, 1, 3, 4)) * -6
    r3new.bbbbb += np.transpose(tmp1222, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1146, (1, 0, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1219, (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1220, (1, 0, 2, 4, 3)) * -4
    r3new.bbbbb += np.transpose(tmp1226, (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(ints.tmp248, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1224, (1, 2, 0, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += tmp1146 * -2
    r3new.bbbbb += tmp1220 * -4
    r3new.bbbbb += tmp1223 * -1
    del tmp1223
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1219, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += einsum(ints.tmp1035, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1217, (2, 1, 0, 4, 3)) * 6
    r3new.bbbbb += np.transpose(tmp1222, (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1146, (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1220, (0, 1, 2, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.bbbbb += np.transpose(tmp1226, (0, 1, 2, 4, 3))
    del tmp1226
    r3new.bbbbb += np.transpose(tmp1219, (0, 2, 1, 4, 3)) * 2
    del tmp1219
    r3new.bbbbb += einsum(ints.tmp248, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 4, 1)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2077, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1224, (2, 0, 1, 3, 4)) * -2
    del tmp1224
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1217, (2, 1, 0, 3, 4)) * -6
    del tmp1217
    r3new.bbbbb += np.transpose(tmp1222, (2, 1, 0, 3, 4)) * -2
    del tmp1222
    r3new.bbbbb += np.transpose(tmp1212, (0, 1, 2, 4, 3))
    tmp1229 = einsum(r1.b, (0,), ints.tmp2079, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1229, (0, 2, 1, 3, 4)) * 2
    tmp1230 = einsum(t1.bb, (0, 1), tmp1203, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp1203
    r3new.bbbbb += np.transpose(tmp1230, (0, 2, 1, 4, 3)) * -6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1784, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1854, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    tmp1227 = einsum(r2.bbb, (0, 1, 2), ints.tmp317, (3, 1, 4, 5), (3, 4, 5, 0, 2))
    tmp1228 = einsum(t1.bb, (0, 1), tmp1227, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1227
    r3new.bbbbb += np.transpose(tmp1228, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += tmp1229 * -2
    r3new.bbbbb += np.transpose(tmp1230, (0, 1, 2, 4, 3)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1784, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1212, (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1228, (2, 0, 1, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1851, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 4
    r3new.bbbbb += np.transpose(tmp1228, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1229, (1, 0, 2, 3, 4)) * 2
    del tmp1229
    r3new.bbbbb += np.transpose(tmp1230, (1, 0, 2, 4, 3)) * -6
    del tmp1230
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1784, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1212, (2, 0, 1, 4, 3))
    del tmp1212
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1854, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    tmp1233 = np.copy(np.transpose(tmp1205, (1, 3, 0, 2, 4)))
    tmp1232 = einsum(t1.bb, (0, 1), tmp1206, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp1206
    tmp1233 += np.transpose(tmp1232, (2, 3, 0, 1, 4))
    tmp1234 = einsum(t1.bb, (0, 1), tmp1233, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1233
    r3new.bbbbb += tmp1234
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1921, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp1231 = einsum(r1.b, (0,), ints.tmp2083, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1231, (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += einsum(ints.tmp299, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 0, 1, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1921, (1, 2, 3, 4), (0, 1, 2, 3, 4))
    r3new.bbbbb += np.transpose(tmp1234, (0, 2, 1, 3, 4)) * -1
    del tmp1234
    r3new.bbbbb += np.transpose(tmp1231, (2, 0, 1, 4, 3))
    r3new.bbbbb += einsum(ints.tmp299, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 1, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1231, (0, 2, 1, 4, 3)) * -1
    del tmp1231
    r3new.bbbbb += einsum(ints.tmp299, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1921, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp1235 = np.copy(np.transpose(tmp1205, (3, 1, 0, 2, 4)))
    del tmp1205
    tmp1235 += np.transpose(tmp1232, (2, 3, 0, 1, 4)) * -1
    del tmp1232
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1235, (2, 3, 4, 0, 5), (4, 3, 2, 1, 5)) * 2
    del tmp1235
    tmp1237 = einsum(r2.bbb, (0, 1, 2), ints.tmp1537, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += tmp1237 * 2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (0, 1, 3, 2, 4))
    tmp1236 = einsum(r2.bbb, (0, 1, 2), ints.tmp1502, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += np.transpose(tmp1236, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbbbb += np.transpose(tmp1237, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (0, 1, 3, 4, 2)) * -1
    tmp1238 = einsum(r2.bbb, (0, 1, 2), ints.tmp1503, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += np.transpose(tmp1238, (0, 2, 1, 3, 4)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1237, (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (1, 0, 3, 2, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1236, (2, 0, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.bbbbb += np.transpose(tmp1237, (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (1, 0, 3, 4, 2))
    r3new.bbbbb += np.transpose(tmp1238, (2, 0, 1, 3, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1237, (1, 2, 0, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (1, 3, 0, 2, 4))
    r3new.bbbbb += np.transpose(tmp1236, (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1237, (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (1, 3, 0, 4, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1238, (2, 1, 0, 3, 4)) * -4
    r3new.bbbbb += np.transpose(tmp1146, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1826, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1146, (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1826, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1146, (0, 2, 1, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1826, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1146, (2, 0, 1, 3, 4)) * -2
    del tmp1146
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1826, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    tmp1239 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovvv, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1239, (1, 0, 2, 4, 3)) * -2
    tmp1240 = einsum(r2.bbb, (0, 1, 2), ints.tmp354, (3, 4, 1, 5), (3, 4, 5, 0, 2))
    tmp1241 = einsum(t1.bb, (0, 1), tmp1240, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1240
    r3new.bbbbb += np.transpose(tmp1241, (1, 0, 2, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    tmp1242 = einsum(r1.b, (0,), ints.tmp2093, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1242, (0, 1, 2, 4, 3)) * 4
    tmp1243 = einsum(ints.tmp354, (0, 1, 2, 3), r3.bbbbb, (4, 3, 2, 5, 6), (0, 1, 4, 5, 6)) * -1
    r3new.bbbbb += np.transpose(tmp1243, (0, 1, 2, 4, 3)) * -6
    r3new.bbbbb += np.transpose(tmp1239, (1, 0, 2, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1241, (1, 0, 2, 3, 4)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1239, (1, 2, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1241, (1, 2, 0, 4, 3)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.bbbbb += np.transpose(tmp1242, (0, 2, 1, 4, 3)) * -4
    r3new.bbbbb += np.transpose(tmp1243, (0, 2, 1, 4, 3)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2097, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1239, (1, 2, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1241, (1, 2, 0, 3, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1239, (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1241, (2, 1, 0, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2097, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1242, (2, 0, 1, 4, 3)) * 4
    del tmp1242
    r3new.bbbbb += np.transpose(tmp1243, (2, 0, 1, 4, 3)) * -6
    del tmp1243
    r3new.bbbbb += np.transpose(tmp1239, (2, 1, 0, 3, 4)) * 2
    del tmp1239
    r3new.bbbbb += np.transpose(tmp1241, (2, 1, 0, 3, 4)) * -4
    del tmp1241
    tmp1244 = einsum(r2.bbb, (0, 1, 2), v.bbbb.vvvv, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp1245 = einsum(t1.bb, (0, 1), tmp1244, (2, 3, 4, 1, 5), (2, 3, 0, 5, 4))
    del tmp1244
    r3new.bbbbb += tmp1245 * 2
    r3new.bbbbb += np.transpose(tmp1245, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2098, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(v.bbbb.vvvv, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -6
    tmp1246 = einsum(r2.bbb, (0, 1, 2), ints.tmp370, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp1247 = einsum(t1.bb, (0, 1), tmp1246, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1246
    r3new.bbbbb += np.transpose(tmp1247, (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1247, (1, 0, 2, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += tmp1247 * -2
    tmp1251 = einsum(r1.b, (0,), ints.tmp2106, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1251, (0, 1, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1247, (1, 0, 2, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.bbbbb += np.transpose(tmp1251, (1, 0, 2, 4, 3)) * -2
    tmp1248 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 0, 2, 5, 6), (4, 5, 6, 3, 1)) * -1
    tmp1249 = einsum(t1.bb, (0, 1), tmp1248, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp1248
    tmp1250 = einsum(t1.bb, (0, 1), tmp1249, (2, 3, 4, 5, 1), (2, 0, 3, 5, 4)) * -1
    del tmp1249
    r3new.bbbbb += np.transpose(tmp1250, (1, 2, 0, 4, 3)) * -6
    r3new.bbbbb += np.transpose(tmp1247, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1247, (1, 2, 0, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbbbb += np.transpose(tmp1247, (0, 2, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1251, (0, 2, 1, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1250, (1, 0, 2, 4, 3)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2111, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1247, (1, 2, 0, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1251, (1, 2, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1247, (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1247, (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2111, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1250, (0, 2, 1, 4, 3)) * 6
    del tmp1250
    r3new.bbbbb += np.transpose(tmp1247, (2, 0, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1251, (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1247, (2, 1, 0, 3, 4)) * 2
    del tmp1247
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp366, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbbbb += np.transpose(tmp1251, (2, 1, 0, 4, 3)) * -2
    del tmp1251
    r3new.bbbbb += np.transpose(tmp1166, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1166, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1186, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1786, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbbbb += np.transpose(tmp1166, (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1166, (2, 0, 1, 4, 3)) * -2
    del tmp1166
    r3new.bbbbb += np.transpose(tmp1186, (2, 0, 1, 4, 3)) * -2
    del tmp1186
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1786, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.bbbbb += np.transpose(tmp1236, (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1237, (2, 0, 1, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbbbb += np.transpose(tmp1236, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1237, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1238, (1, 0, 2, 3, 4)) * -4
    r3new.bbbbb += np.transpose(tmp1237, (2, 0, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += tmp1238 * 4
    r3new.bbbbb += np.transpose(tmp1237, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1236, (1, 2, 0, 4, 3)) * -2
    del tmp1236
    r3new.bbbbb += np.transpose(tmp1237, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1891, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1238, (1, 2, 0, 3, 4)) * 4
    del tmp1238
    r3new.bbbbb += np.transpose(tmp1237, (2, 1, 0, 4, 3)) * 2
    del tmp1237
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1245, (1, 2, 0, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1245, (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (2, 0, 1, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1245, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1245, (2, 1, 0, 4, 3)) * 2
    del tmp1245
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1946, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1826, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2098, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1816, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1220, (2, 0, 1, 3, 4)) * -4
    r3new.bbbbb += np.transpose(tmp1220, (0, 2, 1, 3, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1816, (1, 2, 3, 4), (1, 0, 2, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1220, (2, 0, 1, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2077, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1220, (0, 2, 1, 4, 3)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2077, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1816, (1, 2, 3, 4), (0, 2, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1220, (2, 1, 0, 3, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2068, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2077, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1220, (2, 1, 0, 4, 3)) * -4
    del tmp1220
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1916, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -2
    tmp1252 = einsum(r2.bbb, (0, 1, 2), ints.tmp359, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += np.transpose(tmp1252, (2, 1, 0, 3, 4)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1916, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1252, (1, 2, 0, 3, 4)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1916, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1252, (2, 1, 0, 4, 3)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1916, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1252, (1, 2, 0, 4, 3)) * -4
    r3new.bbbbb += np.transpose(tmp1252, (1, 0, 2, 3, 4)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1916, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1252, (1, 0, 2, 4, 3)) * 4
    del tmp1252
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1916, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1175, (2, 0, 1, 4, 3)) * 4
    r3new.bbbbb += np.transpose(tmp1175, (2, 0, 1, 3, 4)) * -4
    r3new.bbbbb += np.transpose(tmp1175, (0, 2, 1, 4, 3)) * -4
    r3new.bbbbb += np.transpose(tmp1175, (0, 2, 1, 3, 4)) * 4
    del tmp1175
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1786, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2031, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1921, (1, 2, 3, 4), (2, 0, 1, 3, 4))
    r3new.bbbbb += np.transpose(tmp1228, (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1228, (2, 0, 1, 4, 3)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1921, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1228, (0, 2, 1, 4, 3)) * 2
    del tmp1228
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1921, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (0, 2, 1, 4, 3)) * -1
    tmp1253 = einsum(r2.bbb, (0, 1, 2), ints.tmp367, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.bbbbb += np.transpose(tmp1253, (2, 0, 1, 3, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1253, (2, 1, 0, 3, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1253, (0, 2, 1, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (1, 0, 2, 4, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.bbbbb += np.transpose(tmp1253, (1, 2, 0, 3, 4)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (0, 1, 2, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.bbbbb += np.transpose(tmp1253, (2, 0, 1, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1253, (2, 1, 0, 4, 3)) * 2
    r3new.bbbbb += np.transpose(tmp1253, (0, 2, 1, 4, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (2, 0, 1, 3, 4)) * -1
    r3new.bbbbb += np.transpose(tmp1253, (1, 2, 0, 4, 3)) * -2
    r3new.bbbbb += tmp1253 * 2
    r3new.bbbbb += np.transpose(tmp1253, (1, 0, 2, 3, 4)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1253, (0, 1, 2, 4, 3)) * -2
    r3new.bbbbb += np.transpose(tmp1253, (1, 0, 2, 4, 3)) * 2
    del tmp1253
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1925, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbabb = einsum(ints.tmp223, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 1, 4))
    tmp988 = einsum(r2.bab, (0, 1, 2), ints.tmp261, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp988, (1, 2, 0, 4, 3)) * 2
    tmp989 = einsum(ints.tmp212, (0, 1, 2, 3), r3.babbb, (4, 5, 0, 6, 2), (5, 1, 4, 3, 6)) * -1
    r3new.bbabb += np.transpose(tmp989, (2, 1, 0, 3, 4)) * -2
    tmp990 = einsum(r2.bab, (0, 1, 2), ints.tmp212, (3, 4, 2, 5), (1, 3, 4, 0, 5)) * -1
    tmp991 = einsum(t1.bb, (0, 1), tmp990, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp990
    r3new.bbabb += np.transpose(tmp991, (2, 1, 0, 3, 4))
    r3new.bbabb += einsum(ints.tmp223, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.bbabb += np.transpose(tmp988, (1, 2, 0, 3, 4)) * -2
    r3new.bbabb += np.transpose(tmp989, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp991, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(ints.tmp223, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * -1
    r3new.bbabb += np.transpose(tmp989, (1, 2, 0, 3, 4)) * 2
    r3new.bbabb += np.transpose(tmp991, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp988, (2, 1, 0, 4, 3)) * -2
    tmp992 = einsum(r2.bab, (0, 1, 2), v.bbbb.ooov, (3, 0, 4, 5), (1, 3, 4, 2, 5)) * -1
    r3new.bbabb += np.transpose(tmp992, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(ints.tmp223, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 4, 1))
    r3new.bbabb += np.transpose(tmp989, (1, 2, 0, 4, 3)) * -2
    del tmp989
    r3new.bbabb += np.transpose(tmp991, (1, 2, 0, 4, 3))
    del tmp991
    r3new.bbabb += np.transpose(tmp988, (2, 1, 0, 3, 4)) * 2
    del tmp988
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp992, (2, 1, 0, 3, 4))
    tmp994 = einsum(r2.bab, (0, 1, 2), v.aabb.oooo, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -1
    tmp996 = np.copy(np.transpose(tmp994, (0, 1, 3, 2, 4))) * -0.5
    tmp995 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babbb, (4, 1, 5, 6, 3), (0, 4, 5, 2, 6)) * -1
    tmp996 += np.transpose(tmp995, (0, 2, 3, 1, 4))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp996, (2, 3, 0, 4, 5), (4, 3, 2, 5, 1)) * 2
    del tmp996
    r3new.bbabb += einsum(ints.tmp80, (0, 1), r3.babbb, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    tmp519 = np.copy(tmp90) * -0.5
    del tmp90
    tmp519 += tmp91
    del tmp91
    r3new.bbabb += einsum(tmp519, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (1, 3, 0, 4, 5)) * 4
    r3new.bbabb += einsum(r2.aaa, (0, 1, 2), ints.tmp1717, (1, 3, 4, 2, 5, 6), (3, 4, 0, 6, 5)) * -12
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1714, (3, 4, 0, 5, 6, 2), (3, 4, 1, 6, 5)) * 6
    tmp993 = einsum(v.aabb.oooo, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 6), (0, 4, 2, 5, 6)) * -1
    r3new.bbabb += np.transpose(tmp993, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1719, (0, 1, 2, 3, 4, 5), (3, 2, 1, 5, 4)) * 2
    r3new.bbabb += einsum(ints.tmp266, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1))
    tmp1003 = einsum(r2.bab, (0, 1, 2), v.bbbb.ooov, (3, 4, 5, 2), (1, 0, 3, 4, 5)) * -1
    tmp1004 = einsum(t1.bb, (0, 1), tmp1003, (2, 3, 4, 5, 0), (2, 3, 5, 4, 1))
    del tmp1003
    tmp1005 = einsum(t1.bb, (0, 1), tmp1004, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1004
    r3new.bbabb += np.transpose(tmp1005, (1, 2, 0, 3, 4)) * -1
    tmp998 = einsum(r2.bab, (0, 1, 2), ints.tmp1723, (3, 1, 4, 5, 6, 2), (3, 4, 0, 5, 6)) * -1
    r3new.bbabb += np.transpose(tmp998, (1, 2, 0, 3, 4))
    tmp1002 = einsum(r1.a, (0,), ints.tmp1725, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1002, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1005, (1, 2, 0, 4, 3))
    tmp1000 = einsum(ints.tmp327, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 3), (5, 0, 1, 4, 6)) * -1
    tmp1001 = einsum(t1.bb, (0, 1), tmp1000, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1000
    r3new.bbabb += np.transpose(tmp1001, (2, 1, 0, 3, 4)) * -2
    tmp997 = einsum(ints.tmp158, (0, 1), r3.babbb, (2, 3, 0, 4, 5), (3, 1, 2, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp997, (2, 1, 0, 4, 3)) * 2
    tmp999 = einsum(r2.bab, (0, 1, 2), ints.tmp1727, (3, 4, 5, 2), (1, 3, 0, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp999, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(v.bbbb.oooo, (0, 1, 2, 3), r3.babbb, (1, 4, 3, 5, 6), (0, 2, 4, 5, 6)) * -2
    r3new.bbabb += einsum(ints.tmp266, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 4, 1)) * -1
    r3new.bbabb += np.transpose(tmp1001, (1, 2, 0, 3, 4)) * 2
    tmp1006 = einsum(r2.bab, (0, 1, 2), v.bbbb.oooo, (3, 4, 5, 0), (1, 3, 4, 5, 2)) * -1
    tmp1007 = einsum(t1.bb, (0, 1), tmp1006, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1))
    del tmp1006
    r3new.bbabb += np.transpose(tmp1007, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp997, (1, 2, 0, 4, 3)) * -2
    del tmp997
    r3new.bbabb += np.transpose(tmp999, (1, 2, 0, 4, 3)) * -2
    del tmp999
    r3new.bbabb += np.transpose(tmp1007, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp998, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1005, (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1005, (2, 1, 0, 4, 3)) * -1
    del tmp1005
    r3new.bbabb += np.transpose(tmp1002, (2, 1, 0, 4, 3))
    tmp1011 = einsum(tmp100, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.bbabb += np.transpose(tmp1011, (1, 2, 0, 4, 3)) * -1
    tmp1012 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 3, 1), (5, 4, 6, 0, 2))
    tmp1013 = einsum(t1.bb, (0, 1), tmp1012, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp1012
    r3new.bbabb += np.transpose(tmp1013, (1, 2, 0, 4, 3)) * 2
    tmp1014 = einsum(r1.a, (0,), ints.tmp1748, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1014, (1, 2, 0, 4, 3)) * 2
    tmp1010 = einsum(ints.tmp271, (0, 1), r3.babbb, (2, 3, 4, 5, 0), (3, 2, 4, 1, 5)) * -1
    r3new.bbabb += np.transpose(tmp1010, (2, 1, 0, 3, 4)) * 2
    tmp1008 = einsum(r2.bab, (0, 1, 2), ints.tmp1331, (3, 1, 4, 5, 0, 6), (3, 4, 5, 6, 2)) * -1
    r3new.bbabb += np.transpose(tmp1008, (2, 1, 0, 4, 3)) * 2
    tmp1009 = einsum(r2.bab, (0, 1, 2), ints.tmp1744, (3, 4, 2, 5), (1, 3, 0, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1009, (2, 1, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1013, (1, 2, 0, 3, 4)) * -2
    del tmp1013
    r3new.bbabb += np.transpose(tmp1014, (1, 2, 0, 3, 4)) * -2
    del tmp1014
    r3new.bbabb += np.transpose(tmp1011, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1008, (2, 1, 0, 3, 4)) * -2
    del tmp1008
    r3new.bbabb += np.transpose(tmp1009, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1010, (2, 1, 0, 4, 3)) * -2
    del tmp1010
    r3new.bbabb += einsum(ints.tmp1621, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 1, 4)) * -2
    r3new.bbabb += np.transpose(tmp998, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1002, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1001, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(ints.tmp1621, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.bbabb += np.transpose(tmp1001, (1, 2, 0, 4, 3)) * -2
    del tmp1001
    r3new.bbabb += np.transpose(tmp1007, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp998, (2, 1, 0, 3, 4)) * -1
    del tmp998
    r3new.bbabb += np.transpose(tmp1002, (2, 1, 0, 4, 3))
    del tmp1002
    r3new.bbabb += np.transpose(tmp1007, (2, 1, 0, 4, 3))
    del tmp1007
    r3new.bbabb += einsum(ints.tmp285, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    tmp1015 = einsum(ints.tmp356, (0, 1, 2, 3), r3.babbb, (4, 5, 0, 6, 2), (5, 4, 1, 3, 6)) * -1
    tmp1016 = einsum(t1.bb, (0, 1), tmp1015, (2, 3, 1, 4, 5), (2, 3, 0, 4, 5))
    del tmp1015
    r3new.bbabb += np.transpose(tmp1016, (1, 2, 0, 3, 4)) * -2
    tmp1017 = einsum(r2.bab, (0, 1, 2), ints.tmp356, (3, 4, 2, 5), (1, 3, 0, 4, 5)) * -1
    tmp1018 = einsum(t1.bb, (0, 1), tmp1017, (2, 3, 4, 1, 5), (2, 3, 4, 0, 5))
    del tmp1017
    tmp1019 = einsum(t1.bb, (0, 1), tmp1018, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1018
    r3new.bbabb += np.transpose(tmp1019, (1, 2, 0, 3, 4))
    r3new.bbabb += einsum(ints.tmp363, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.bbabb += np.transpose(tmp1016, (1, 2, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp1019, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += einsum(ints.tmp285, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.bbabb += np.transpose(tmp1016, (2, 1, 0, 3, 4)) * 2
    r3new.bbabb += np.transpose(tmp1019, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += einsum(ints.tmp363, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 4, 1))
    r3new.bbabb += np.transpose(tmp1016, (2, 1, 0, 4, 3)) * -2
    del tmp1016
    r3new.bbabb += np.transpose(tmp1019, (2, 1, 0, 4, 3))
    del tmp1019
    tmp1023 = einsum(r2.bab, (0, 1, 2), ints.tmp206, (3, 1, 4, 5), (3, 4, 5, 0, 2)) * -1
    tmp1026 = np.copy(tmp1023) * -1
    tmp1024 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 0, 5, 6, 3), (4, 5, 2, 1, 6)) * -1
    tmp1025 = einsum(t1.aa, (0, 1), tmp1024, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    tmp1026 += np.transpose(tmp1025, (0, 2, 3, 1, 4)) * -2
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1026, (2, 3, 0, 4, 5), (3, 4, 2, 5, 1))
    del tmp1026
    r3new.bbabb += einsum(ints.tmp217, (0, 1), r3.babbb, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 4
    tmp1020 = einsum(tmp83, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1020, (1, 2, 0, 4, 3)) * 2
    tmp1021 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babbb, (4, 0, 3, 5, 6), (4, 2, 1, 5, 6)) * -1
    tmp1022 = einsum(t1.aa, (0, 1), tmp1021, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp1021
    r3new.bbabb += np.transpose(tmp1022, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1761, (1, 0, 2, 3, 4, 5), (3, 2, 1, 5, 4)) * 6
    tmp1032 = einsum(r2.bab, (0, 1, 2), ints.tmp1773, (3, 4, 5, 2), (1, 0, 3, 4, 5)) * -1
    tmp1034 = np.copy(tmp1032)
    tmp1033 = einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.babbb, (1, 4, 2, 5, 6), (4, 0, 5, 6, 3)) * -1
    tmp1034 += np.transpose(tmp1033, (0, 1, 3, 2, 4))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1034, (2, 3, 4, 5, 1), (3, 0, 2, 4, 5)) * -2
    del tmp1034
    r3new.bbabb += einsum(ints.tmp1430, (0, 1), r3.babbb, (2, 3, 1, 4, 5), (2, 0, 3, 4, 5)) * 4
    r3new.bbabb += einsum(ints.tmp299, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1))
    tmp1035 = einsum(r2.bab, (0, 1, 2), ints.tmp317, (3, 0, 4, 5), (1, 3, 4, 5, 2)) * -1
    tmp1037 = np.copy(tmp1035) * -1
    tmp1036 = einsum(t1.bb, (0, 1), tmp94, (2, 3, 4, 1, 5), (2, 3, 4, 0, 5))
    tmp1037 += np.transpose(tmp1036, (0, 3, 2, 1, 4)) * 2
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1037, (2, 3, 4, 0, 5), (4, 3, 2, 5, 1))
    del tmp1037
    tmp1028 = einsum(r2.bab, (0, 1, 2), v.bbbb.ovov, (3, 4, 5, 2), (1, 0, 3, 5, 4)) * -1
    tmp1029 = einsum(t1.bb, (0, 1), tmp1028, (2, 3, 4, 5, 1), (2, 3, 0, 5, 4))
    del tmp1028
    tmp1030 = einsum(t1.bb, (0, 1), tmp1029, (2, 3, 4, 5, 0), (2, 3, 4, 5, 1))
    del tmp1029
    tmp1031 = einsum(t1.bb, (0, 1), tmp1030, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp1030
    r3new.bbabb += np.transpose(tmp1031, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1031, (1, 2, 0, 4, 3)) * -1
    tmp1027 = einsum(r1.a, (0,), ints.tmp1766, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1027, (2, 1, 0, 3, 4))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1784, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    tmp1038 = np.copy(np.transpose(tmp1033, (0, 1, 3, 2, 4))) * -1
    del tmp1033
    tmp1038 += np.transpose(tmp1032, (0, 1, 3, 2, 4))
    del tmp1032
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1038, (2, 3, 4, 5, 1), (0, 3, 2, 5, 4)) * 2
    del tmp1038
    r3new.bbabb += einsum(ints.tmp310, (0, 1), r3.babbb, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * -2
    r3new.bbabb += einsum(ints.tmp316, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 4, 1)) * -2
    tmp1039 = einsum(r2.bab, (0, 1, 2), ints.tmp308, (3, 4, 5, 0), (1, 3, 4, 5, 2)) * -1
    tmp1040 = np.copy(tmp1039) * -1
    tmp1040 += np.transpose(tmp1036, (0, 3, 1, 2, 4)) * 2
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1040, (2, 3, 0, 4, 5), (3, 4, 2, 5, 1)) * -1
    del tmp1040
    r3new.bbabb += np.transpose(tmp1027, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1784, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp1031, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1031, (2, 1, 0, 4, 3))
    del tmp1031
    r3new.bbabb += einsum(ints.tmp259, (0, 1), r3.babbb, (2, 3, 4, 5, 1), (2, 4, 3, 0, 5)) * -2
    tmp1044 = einsum(ints.tmp34, (0, 1), r3.babbb, (2, 3, 4, 5, 1), (3, 0, 2, 4, 5)) * -1
    tmp1046 = np.copy(np.transpose(tmp1044, (0, 1, 3, 2, 4))) * -1
    del tmp1044
    tmp1045 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 1), (4, 5, 2, 3, 6))
    tmp1046 += np.transpose(tmp1045, (0, 3, 1, 2, 4))
    tmp1047 = einsum(t1.bb, (0, 1), tmp1046, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1046
    r3new.bbabb += np.transpose(tmp1047, (2, 1, 0, 3, 4)) * -1
    tmp1041 = einsum(r2.bab, (0, 1, 2), ints.tmp1787, (3, 4, 5, 2), (1, 3, 0, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1041, (2, 1, 0, 3, 4))
    tmp1042 = einsum(r1.a, (0,), ints.tmp1794, (0, 1, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1042, (2, 1, 0, 3, 4))
    tmp1043 = einsum(tmp8, (0,), t3.babbab, (1, 2, 3, 4, 0, 5), (2, 1, 3, 4, 5)) * 2
    del tmp8
    r3new.bbabb += np.transpose(tmp1043, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1786, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    tmp1049 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 3, 1), (5, 4, 6, 0, 2))
    tmp1050 = einsum(t1.bb, (0, 1), tmp1049, (2, 3, 4, 5, 0), (2, 3, 4, 5, 1))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1050, (2, 3, 4, 0, 5), (3, 4, 2, 1, 5)) * 2
    del tmp1050
    r3new.bbabb += einsum(t2.bbbb, (0, 1, 2, 3), tmp1049, (4, 5, 6, 0, 1), (5, 6, 4, 2, 3)) * 2
    del tmp1049
    r3new.bbabb += einsum(ints.tmp352, (0, 1), r3.babbb, (2, 3, 4, 5, 1), (2, 4, 3, 5, 0)) * 4
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1804, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbabb += np.transpose(tmp1042, (2, 1, 0, 3, 4))
    del tmp1042
    r3new.bbabb += np.transpose(tmp1043, (2, 1, 0, 4, 3)) * -1
    del tmp1043
    tmp1048 = einsum(r2.bab, (0, 1, 2), ints.tmp1800, (3, 4, 5, 2), (1, 3, 0, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1048, (2, 1, 0, 4, 3)) * -6
    r3new.bbabb += np.transpose(tmp1047, (2, 1, 0, 4, 3))
    del tmp1047
    tmp1051 = np.copy(tmp97) * -0.5
    tmp1051 += tmp98
    tmp1051 += np.transpose(tmp95, (0, 2, 1)) * 0.5
    tmp1051 += np.transpose(tmp96, (0, 2, 1))
    tmp1052 = einsum(tmp1051, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (0, 3, 1, 4, 5)) * -4
    del tmp1051
    r3new.bbabb += np.transpose(tmp1052, (2, 1, 0, 4, 3))
    tmp1053 = einsum(t1.bb, (0, 1), tmp1045, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1045
    r3new.bbabb += np.transpose(tmp1053, (1, 2, 0, 3, 4)) * -2
    r3new.bbabb += np.transpose(tmp1048, (1, 2, 0, 4, 3)) * 6
    del tmp1048
    r3new.bbabb += np.transpose(tmp1052, (1, 2, 0, 4, 3)) * -1
    del tmp1052
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1804, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1809, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.bbabb += einsum(tmp105, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 2, 5)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1809, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    tmp934 = np.copy(tmp104) * -0.5
    del tmp104
    tmp934 += np.transpose(tmp103, (0, 2, 1))
    del tmp103
    r3new.bbabb += einsum(tmp934, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * 4
    r3new.bbabb += einsum(ints.tmp248, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    tmp1057 = einsum(ints.tmp1, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 2), (0, 4, 3, 5))
    tmp1058 = einsum(tmp1057, (0, 1, 2, 3), r3.babbb, (4, 5, 0, 6, 2), (5, 4, 1, 6, 3)) * -1
    del tmp1057
    r3new.bbabb += np.transpose(tmp1058, (1, 2, 0, 4, 3)) * 4
    tmp1059 = einsum(t2.abab, (0, 1, 2, 3), tmp93, (4, 0, 5, 2, 6), (4, 5, 1, 6, 3))
    r3new.bbabb += np.transpose(tmp1059, (1, 2, 0, 4, 3)) * -2
    tmp1056 = einsum(r2.bab, (0, 1, 2), ints.tmp1698, (3, 0, 4, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1056, (2, 1, 0, 3, 4)) * 2
    tmp1054 = einsum(r2.bab, (0, 1, 2), ints.tmp227, (3, 4, 5, 2), (1, 3, 4, 0, 5)) * -1
    tmp1055 = einsum(t1.bb, (0, 1), tmp1054, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1054
    r3new.bbabb += np.transpose(tmp1055, (2, 1, 0, 3, 4))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1816, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.bbabb += einsum(ints.tmp248, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.bbabb += np.transpose(tmp1058, (1, 2, 0, 3, 4)) * -4
    r3new.bbabb += np.transpose(tmp1059, (1, 2, 0, 3, 4)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1816, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1055, (2, 1, 0, 4, 3)) * -1
    tmp1060 = einsum(r2.bab, (0, 1, 2), ints.tmp329, (3, 0, 4, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1060, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(ints.tmp248, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.bbabb += np.transpose(tmp1055, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1056, (1, 2, 0, 3, 4)) * -2
    del tmp1056
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1816, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1058, (2, 1, 0, 4, 3)) * -4
    r3new.bbabb += np.transpose(tmp1059, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(ints.tmp248, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 4, 1)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1816, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1055, (1, 2, 0, 4, 3))
    del tmp1055
    r3new.bbabb += np.transpose(tmp1060, (1, 2, 0, 4, 3))
    del tmp1060
    r3new.bbabb += np.transpose(tmp1058, (2, 1, 0, 3, 4)) * 4
    del tmp1058
    r3new.bbabb += np.transpose(tmp1059, (2, 1, 0, 3, 4)) * -2
    del tmp1059
    tmp1061 = einsum(tmp82, (0, 1, 2), t2.abab, (3, 4, 2, 5), (3, 0, 4, 1, 5))
    tmp1062 = einsum(t1.bb, (0, 1), tmp1061, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp1061
    r3new.bbabb += np.transpose(tmp1062, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp88, (2, 1, 0, 3, 4)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1826, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -2
    tmp1063 = einsum(r1.a, (0,), ints.tmp1823, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1063, (2, 1, 0, 3, 4))
    tmp1064 = einsum(r2.bab, (0, 1, 2), ints.tmp1062, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1064, (2, 1, 0, 3, 4))
    tmp434 = np.copy(tmp84) * -1
    del tmp84
    tmp434 += tmp85 * 2
    del tmp85
    tmp434 += tmp86 * 2
    del tmp86
    tmp1065 = einsum(tmp434, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.bbabb += np.transpose(tmp1065, (2, 1, 0, 3, 4))
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1066, (1, 3, 4, 5), (4, 0, 3, 5, 2))
    r3new.bbabb += np.transpose(tmp1063, (1, 2, 0, 3, 4)) * -1
    del tmp1063
    r3new.bbabb += np.transpose(tmp1065, (1, 2, 0, 3, 4)) * -1
    del tmp1065
    r3new.bbabb += np.transpose(tmp88, (1, 2, 0, 3, 4)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1826, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.bbabb += np.transpose(tmp1062, (2, 1, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1062, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1064, (2, 1, 0, 4, 3)) * -1
    tmp1066 = einsum(r1.a, (0,), ints.tmp1829, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1066, (2, 1, 0, 4, 3)) * -1
    tmp1067 = einsum(tmp87, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 5, 2)) * 2
    r3new.bbabb += np.transpose(tmp1067, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp88, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1826, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp88, (1, 2, 0, 4, 3)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1826, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbabb += np.transpose(tmp1064, (1, 2, 0, 4, 3))
    del tmp1064
    r3new.bbabb += np.transpose(tmp1066, (1, 2, 0, 4, 3))
    del tmp1066
    r3new.bbabb += np.transpose(tmp1067, (1, 2, 0, 4, 3))
    del tmp1067
    r3new.bbabb += np.transpose(tmp1062, (2, 1, 0, 3, 4)) * -1
    del tmp1062
    tmp1070 = einsum(tmp2, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 3, 4, 1, 5)) * 0.5
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1070, (2, 3, 4, 0, 5), (3, 4, 2, 5, 1)) * -4
    del tmp1070
    tmp1069 = einsum(v.aabb.oovv, (0, 1, 2, 3), r3.babbb, (4, 1, 5, 6, 3), (0, 4, 5, 6, 2)) * -1
    r3new.bbabb += np.transpose(tmp1069, (1, 2, 0, 3, 4)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1836, (0, 1, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * -2
    tmp1068 = einsum(r2.bab, (0, 1, 2), ints.tmp1668, (0, 3, 4, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1068, (2, 1, 0, 3, 4)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1837, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbabb += einsum(tmp109, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * -4
    tmp1071 = einsum(tmp2, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 3, 4, 1, 5))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1071, (2, 3, 4, 0, 5), (3, 4, 2, 1, 5)) * 2
    del tmp1071
    r3new.bbabb += np.transpose(tmp1069, (1, 2, 0, 4, 3)) * 2
    del tmp1069
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1838, (0, 1, 2, 3, 4, 5), (2, 3, 1, 5, 4)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1837, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.bbabb += np.transpose(tmp1068, (2, 1, 0, 4, 3)) * 2
    del tmp1068
    tmp544 = np.copy(tmp106) * -1
    del tmp106
    tmp544 += tmp107 * 2
    del tmp107
    tmp544 += tmp108 * 2
    del tmp108
    r3new.bbabb += einsum(tmp544, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * 2
    tmp1072 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babbb, (4, 1, 2, 5, 6), (0, 4, 5, 6, 3)) * -1
    tmp1073 = einsum(t1.bb, (0, 1), tmp1072, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp1072
    r3new.bbabb += np.transpose(tmp1073, (1, 2, 0, 4, 3)) * -2
    tmp1075 = einsum(t1.bb, (0, 1), tmp2, (2, 3, 1), (2, 0, 3)) * 0.5
    tmp1076 = einsum(tmp1075, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (0, 3, 1, 4, 5)) * -4
    del tmp1075
    r3new.bbabb += np.transpose(tmp1076, (1, 2, 0, 4, 3)) * -1
    tmp1074 = einsum(r1.a, (0,), ints.tmp1841, (0, 1, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1074, (2, 1, 0, 4, 3)) * -2
    tmp1077 = einsum(r2.bab, (0, 1, 2), ints.tmp151, (3, 1, 4, 5), (3, 4, 5, 0, 2)) * -1
    tmp1079 = np.copy(tmp1077) * -0.5
    tmp1078 = einsum(t1.bb, (0, 1), tmp88, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    tmp1079 += np.transpose(tmp1078, (0, 2, 3, 1, 4))
    tmp1080 = einsum(t1.bb, (0, 1), tmp1079, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1079
    r3new.bbabb += np.transpose(tmp1080, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1851, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 4
    r3new.bbabb += np.transpose(tmp1074, (1, 2, 0, 4, 3)) * 2
    del tmp1074
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1854, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    r3new.bbabb += np.transpose(tmp1080, (1, 2, 0, 4, 3))
    del tmp1080
    r3new.bbabb += np.transpose(tmp1073, (2, 1, 0, 4, 3)) * 2
    del tmp1073
    r3new.bbabb += np.transpose(tmp1076, (2, 1, 0, 4, 3))
    del tmp1076
    r3new.bbabb += einsum(ints.tmp299, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 1, 4)) * -1
    tmp1081 = np.copy(tmp1036)
    tmp1081 += np.transpose(tmp1035, (0, 3, 2, 1, 4)) * -0.5
    del tmp1035
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1081, (2, 0, 3, 4, 5), (3, 4, 2, 1, 5)) * -2
    del tmp1081
    r3new.bbabb += np.transpose(tmp1027, (2, 1, 0, 3, 4))
    r3new.bbabb += einsum(ints.tmp299, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4))
    tmp1082 = np.copy(tmp1036)
    del tmp1036
    tmp1082 += np.transpose(tmp1039, (0, 2, 3, 1, 4)) * -0.5
    del tmp1039
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1082, (2, 0, 3, 4, 5), (4, 3, 2, 1, 5)) * 2
    del tmp1082
    r3new.bbabb += np.transpose(tmp1027, (1, 2, 0, 3, 4)) * -1
    del tmp1027
    tmp1084 = einsum(r2.bab, (0, 1, 2), ints.tmp1165, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1084, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), v.bbbb.ovov, (1, 2, 3, 4), (1, 3, 0, 2, 4))
    tmp1083 = einsum(r2.bab, (0, 1, 2), ints.tmp1108, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1083, (2, 1, 0, 4, 3)) * -2
    r3new.bbabb += np.transpose(tmp1084, (1, 2, 0, 4, 3))
    r3new.bbabb += einsum(r1.a, (0,), v.bbbb.ovov, (1, 2, 3, 4), (1, 3, 0, 4, 2)) * -1
    tmp1085 = einsum(r2.bab, (0, 1, 2), ints.tmp1111, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1085, (2, 1, 0, 3, 4))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1868, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -4
    tmp1087 = einsum(r2.bab, (0, 1, 2), ints.tmp1040, (1, 3, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1087, (1, 2, 0, 4, 3))
    tmp1088 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 1, 4, 5), (3, 0, 4, 2, 5)) * -1
    r3new.bbabb += np.transpose(tmp1088, (1, 2, 0, 4, 3))
    tmp1086 = einsum(t2.bbbb, (0, 1, 2, 3), tmp88, (4, 5, 1, 6, 3), (4, 5, 0, 6, 2))
    r3new.bbabb += np.transpose(tmp1086, (2, 1, 0, 3, 4)) * -4
    tmp1089 = einsum(r1.a, (0,), ints.tmp1863, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1089, (2, 1, 0, 3, 4)) * 2
    tmp1090 = einsum(t2.abab, (0, 1, 2, 3), tmp89, (0, 4, 5, 2, 6), (4, 5, 1, 6, 3))
    r3new.bbabb += np.transpose(tmp1090, (2, 1, 0, 3, 4)) * -2
    r3new.bbabb += np.transpose(tmp1086, (1, 2, 0, 3, 4)) * 4
    r3new.bbabb += np.transpose(tmp1089, (1, 2, 0, 3, 4)) * -2
    del tmp1089
    r3new.bbabb += np.transpose(tmp1090, (1, 2, 0, 3, 4)) * 2
    r3new.bbabb += np.transpose(tmp1087, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1088, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1868, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 4
    r3new.bbabb += np.transpose(tmp1087, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1088, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1086, (2, 1, 0, 4, 3)) * 4
    r3new.bbabb += np.transpose(tmp1090, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp1086, (1, 2, 0, 4, 3)) * -4
    del tmp1086
    r3new.bbabb += np.transpose(tmp1090, (1, 2, 0, 4, 3)) * -2
    del tmp1090
    r3new.bbabb += np.transpose(tmp1087, (2, 1, 0, 3, 4))
    del tmp1087
    r3new.bbabb += np.transpose(tmp1088, (2, 1, 0, 3, 4))
    del tmp1088
    tmp1091 = einsum(t2.abab, (0, 1, 2, 3), tmp1024, (4, 5, 1, 2, 6), (0, 4, 5, 6, 3))
    del tmp1024
    r3new.bbabb += np.transpose(tmp1091, (1, 2, 0, 3, 4)) * 2
    tmp1092 = einsum(r2.bab, (0, 1, 2), ints.tmp260, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1092, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp992, (1, 2, 0, 4, 3))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1870, (1, 0, 2, 3, 4, 5), (3, 2, 1, 4, 5)) * -2
    r3new.bbabb += np.transpose(tmp992, (1, 2, 0, 3, 4)) * -1
    del tmp992
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1092, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1091, (1, 2, 0, 4, 3)) * -2
    del tmp1091
    tmp1093 = einsum(r2.bab, (0, 1, 2), v.bbbb.ovvv, (3, 4, 5, 2), (1, 0, 3, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1093, (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1093, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1093, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1093, (2, 1, 0, 3, 4))
    del tmp1093
    tmp1094 = einsum(t1.bb, (0, 1), tmp994, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.bbabb += np.transpose(tmp1094, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp993, (1, 2, 0, 4, 3)) * -2
    del tmp993
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1718, (0, 1, 2, 3, 4, 5), (2, 3, 1, 5, 4)) * -2
    r3new.bbabb += einsum(tmp92, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (3, 1, 0, 4, 5)) * -2
    del tmp92
    r3new.bbabb += einsum(v.bbbb.vvvv, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 3, 1), (4, 6, 5, 0, 2)) * 2
    tmp1095 = einsum(r2.bab, (0, 1, 2), v.bbbb.vvvv, (3, 4, 5, 2), (1, 0, 3, 4, 5)) * -1
    tmp1096 = einsum(t1.bb, (0, 1), tmp1095, (2, 3, 4, 1, 5), (2, 3, 0, 5, 4))
    del tmp1095
    r3new.bbabb += np.transpose(tmp1096, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1096, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp366, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    tmp1097 = einsum(r2.bab, (0, 1, 2), ints.tmp280, (3, 1, 4, 5), (3, 4, 5, 0, 2)) * -1
    tmp1098 = einsum(t1.bb, (0, 1), tmp1097, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1097
    r3new.bbabb += np.transpose(tmp1098, (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1098, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp366, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp1103 = einsum(ints.tmp184, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 6), (0, 2, 4, 5, 6)) * -1
    r3new.bbabb += np.transpose(tmp1103, (1, 2, 0, 4, 3)) * 2
    tmp1102 = einsum(r1.a, (0,), ints.tmp1882, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1102, (2, 1, 0, 3, 4)) * 2
    tmp1099 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 0, 2, 5, 6), (4, 1, 5, 6, 3)) * -1
    tmp1100 = einsum(t1.bb, (0, 1), tmp1099, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp1099
    tmp1101 = einsum(t1.aa, (0, 1), tmp1100, (2, 3, 1, 4, 5), (0, 2, 3, 5, 4)) * -1
    del tmp1100
    r3new.bbabb += np.transpose(tmp1101, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp1098, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp366, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1102, (1, 2, 0, 3, 4)) * -2
    del tmp1102
    r3new.bbabb += np.transpose(tmp1101, (1, 2, 0, 4, 3)) * -2
    del tmp1101
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp366, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1098, (2, 1, 0, 3, 4))
    del tmp1098
    r3new.bbabb += np.transpose(tmp1103, (2, 1, 0, 4, 3)) * -2
    del tmp1103
    r3new.bbabb += np.transpose(tmp1094, (1, 2, 0, 4, 3)) * -1
    del tmp1094
    tmp1104 = np.copy(np.transpose(tmp995, (0, 2, 1, 3, 4))) * -2
    del tmp995
    tmp1104 += np.transpose(tmp994, (0, 3, 1, 2, 4)) * -1
    del tmp994
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1104, (2, 3, 4, 0, 5), (3, 4, 2, 1, 5)) * -1
    del tmp1104
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1884, (0, 1, 2, 3, 4, 5), (2, 3, 1, 5, 4))
    r3new.bbabb += einsum(r2.aaa, (0, 1, 2), ints.tmp1759, (1, 3, 4, 2, 5, 6), (4, 3, 0, 5, 6)) * -2
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1713, (3, 4, 0, 5, 6, 2), (4, 3, 1, 5, 6))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1888, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    tmp1105 = einsum(r2.bab, (0, 1, 2), ints.tmp1156, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1105, (2, 1, 0, 3, 4))
    tmp1106 = einsum(r2.bab, (0, 1, 2), ints.tmp1503, (3, 4, 0, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1106, (2, 1, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp1105, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1888, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.bbabb += np.transpose(tmp1106, (1, 2, 0, 4, 3)) * -2
    r3new.bbabb += np.transpose(tmp1106, (2, 1, 0, 3, 4)) * -2
    r3new.bbabb += np.transpose(tmp1105, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1888, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbabb += np.transpose(tmp1106, (1, 2, 0, 3, 4)) * 2
    del tmp1106
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1888, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    r3new.bbabb += np.transpose(tmp1105, (1, 2, 0, 4, 3))
    del tmp1105
    r3new.bbabb += np.transpose(tmp1083, (1, 2, 0, 4, 3)) * 2
    del tmp1083
    r3new.bbabb += np.transpose(tmp1084, (2, 1, 0, 3, 4))
    tmp1108 = einsum(r2.bab, (0, 1, 2), ints.tmp1537, (3, 0, 4, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1108, (1, 2, 0, 3, 4))
    tmp1107 = einsum(r2.bab, (0, 1, 2), ints.tmp1151, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1107, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1891, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1085, (1, 2, 0, 3, 4)) * -1
    del tmp1085
    r3new.bbabb += np.transpose(tmp1084, (2, 1, 0, 4, 3)) * -1
    del tmp1084
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1891, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1107, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1108, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1108, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1891, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1107, (2, 1, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1107, (2, 1, 0, 3, 4)) * -1
    del tmp1107
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1891, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1108, (2, 1, 0, 4, 3))
    del tmp1108
    r3new.bbabb += np.transpose(tmp1096, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1096, (2, 1, 0, 4, 3))
    del tmp1096
    r3new.bbabb += np.transpose(tmp1041, (1, 2, 0, 3, 4)) * -1
    del tmp1041
    r3new.bbabb += np.transpose(tmp1053, (1, 2, 0, 4, 3)) * 2
    del tmp1053
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1786, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1022, (1, 2, 0, 4, 3)) * -2
    del tmp1022
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1758, (1, 0, 2, 3, 4, 5), (2, 3, 1, 5, 4)) * -2
    tmp1109 = einsum(t1.bb, (0, 1), tmp1023, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.bbabb += np.transpose(tmp1109, (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1020, (2, 1, 0, 4, 3)) * -2
    del tmp1020
    tmp1110 = einsum(r1.a, (0,), ints.tmp1900, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1110, (1, 2, 0, 4, 3)) * 2
    tmp1111 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babbb, (4, 0, 5, 6, 3), (4, 5, 1, 6, 2)) * -1
    tmp1113 = np.copy(tmp1111)
    del tmp1111
    tmp1112 = einsum(tmp101, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp1113 += np.transpose(tmp1112, (0, 1, 2, 4, 3)) * -1
    del tmp1112
    tmp1114 = einsum(t1.aa, (0, 1), tmp1113, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * 2
    del tmp1113
    r3new.bbabb += np.transpose(tmp1114, (1, 2, 0, 4, 3))
    tmp1116 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 1), (4, 5, 6, 2, 3))
    tmp1118 = np.copy(np.transpose(tmp1116, (0, 1, 2, 4, 3))) * 2
    tmp1117 = einsum(tmp101, (0, 1, 2), t2.abab, (3, 4, 0, 5), (3, 4, 1, 5, 2))
    tmp1118 += np.transpose(tmp1117, (0, 1, 3, 4, 2))
    tmp1119 = einsum(t1.bb, (0, 1), tmp1118, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp1118
    r3new.bbabb += np.transpose(tmp1119, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1911, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    tmp1115 = einsum(r1.a, (0,), ints.tmp1909, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1115, (2, 1, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1110, (1, 2, 0, 3, 4)) * -2
    del tmp1110
    r3new.bbabb += np.transpose(tmp1114, (1, 2, 0, 3, 4)) * -1
    del tmp1114
    r3new.bbabb += np.transpose(tmp1115, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1911, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1119, (2, 1, 0, 3, 4))
    del tmp1119
    tmp1120 = np.copy(tmp1117)
    del tmp1117
    tmp1120 += np.transpose(tmp1116, (0, 1, 4, 2, 3)) * 2
    del tmp1116
    tmp1121 = einsum(t1.bb, (0, 1), tmp1120, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp1120
    r3new.bbabb += np.transpose(tmp1121, (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1115, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1911, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1911, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1115, (1, 2, 0, 3, 4))
    del tmp1115
    r3new.bbabb += np.transpose(tmp1121, (1, 2, 0, 4, 3)) * -1
    del tmp1121
    r3new.bbabb += np.transpose(tmp1092, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1092, (2, 1, 0, 4, 3))
    del tmp1092
    tmp1122 = einsum(r2.bab, (0, 1, 2), ints.tmp1220, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1122, (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1122, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1122, (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1122, (1, 2, 0, 4, 3))
    del tmp1122
    tmp1123 = einsum(r2.bab, (0, 1, 2), ints.tmp359, (3, 4, 0, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1123, (2, 1, 0, 3, 4)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1916, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1916, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.bbabb += np.transpose(tmp1123, (2, 1, 0, 4, 3)) * 2
    del tmp1123
    r3new.bbabb += np.transpose(tmp1009, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1011, (2, 1, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1009, (1, 2, 0, 3, 4))
    del tmp1009
    r3new.bbabb += np.transpose(tmp1011, (2, 1, 0, 3, 4)) * -1
    del tmp1011
    r3new.bbabb += einsum(ints.tmp354, (0, 1, 2, 3), r3.babbb, (2, 4, 3, 5, 6), (0, 1, 4, 5, 6)) * -2
    tmp1124 = einsum(r2.bab, (0, 1, 2), ints.tmp354, (3, 4, 0, 5), (1, 3, 4, 5, 2)) * -1
    tmp1125 = einsum(t1.bb, (0, 1), tmp1124, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1124
    r3new.bbabb += np.transpose(tmp1125, (2, 1, 0, 3, 4)) * -2
    r3new.bbabb += np.transpose(tmp1125, (2, 1, 0, 4, 3)) * 2
    del tmp1125
    tmp1126 = np.copy(np.transpose(tmp1025, (0, 2, 1, 3, 4))) * -1
    del tmp1025
    tmp1126 += np.transpose(tmp1023, (0, 2, 3, 1, 4)) * -0.5
    del tmp1023
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1126, (2, 3, 4, 0, 5), (3, 4, 2, 1, 5)) * -2
    del tmp1126
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1919, (1, 0, 2, 3, 4, 5), (2, 3, 1, 5, 4))
    tmp1127 = np.copy(tmp1078)
    del tmp1078
    tmp1127 += np.transpose(tmp1077, (0, 3, 1, 2, 4)) * -0.5
    del tmp1077
    tmp1128 = einsum(t1.bb, (0, 1), tmp1127, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1127
    r3new.bbabb += np.transpose(tmp1128, (1, 2, 0, 3, 4))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1921, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1921, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1128, (2, 1, 0, 3, 4)) * -1
    del tmp1128
    r3new.bbabb += np.transpose(tmp1109, (2, 1, 0, 4, 3)) * -1
    del tmp1109
    tmp1129 = einsum(r2.bab, (0, 1, 2), ints.tmp367, (3, 4, 0, 5), (1, 3, 4, 5, 2)) * -1
    r3new.bbabb += np.transpose(tmp1129, (1, 2, 0, 3, 4))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1925, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1129, (2, 1, 0, 3, 4)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1925, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1925, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1129, (1, 2, 0, 4, 3)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1925, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1129, (2, 1, 0, 4, 3))
    del tmp1129
    tmp1130 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (0, 4, 2, 5, 6), (4, 5, 6, 3, 1))
    tmp1131 = einsum(t1.bb, (0, 1), tmp1130, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5)) * -1
    del tmp1130
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1131, (2, 3, 4, 5, 1), (0, 3, 2, 4, 5)) * 2
    del tmp1131
    tmp1132 = einsum(r2.bab, (0, 1, 2), ints.tmp370, (3, 4, 5, 0), (1, 3, 4, 5, 2)) * -1
    tmp1133 = einsum(t1.bb, (0, 1), tmp1132, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1132
    r3new.bbabb += np.transpose(tmp1133, (1, 2, 0, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1133, (2, 1, 0, 3, 4))
    r3new.bbabb += np.transpose(tmp1133, (1, 2, 0, 4, 3))
    r3new.bbabb += np.transpose(tmp1133, (2, 1, 0, 4, 3)) * -1
    del tmp1133
    tmp277 = einsum(r2.aba, (0, 1, 2), ints.tmp625, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa = np.copy(np.transpose(tmp277, (0, 1, 2, 4, 3))) * -2
    tmp276 = einsum(r1.b, (0,), ints.tmp630, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp276, (0, 1, 2, 4, 3))
    tmp273 = einsum(ints.tmp40, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 2), (1, 4, 5, 3, 6))
    r3new.aabaa += np.transpose(tmp273, (1, 0, 2, 3, 4)) * -2
    tmp274 = einsum(r2.aba, (0, 1, 2), ints.tmp40, (3, 4, 2, 5), (3, 4, 0, 1, 5))
    tmp275 = einsum(t1.aa, (0, 1), tmp274, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp274
    r3new.aabaa += np.transpose(tmp275, (1, 0, 2, 3, 4)) * -1
    tmp271 = einsum(tmp52, (0, 1, 2), t2.abab, (3, 4, 5, 2), (0, 3, 1, 4, 5))
    tmp272 = einsum(t1.aa, (0, 1), tmp271, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp271
    r3new.aabaa += np.transpose(tmp272, (1, 0, 2, 3, 4))
    tmp278 = einsum(tmp57, (0, 1, 2), t2.abab, (3, 4, 5, 2), (0, 3, 4, 1, 5)) * 2
    r3new.aabaa += np.transpose(tmp278, (1, 0, 2, 3, 4))
    r3new.aabaa += einsum(ints.tmp70, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 1, 4))
    tmp279 = einsum(r1.b, (0,), ints.tmp638, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += tmp279 * -1
    tmp280 = np.copy(tmp55) * 2
    del tmp55
    tmp280 += tmp56 * -2
    del tmp56
    tmp280 += tmp54
    del tmp54
    tmp281 = einsum(tmp280, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 0, 4, 5, 1))
    del tmp280
    r3new.aabaa += tmp281 * -1
    r3new.aabaa += np.transpose(tmp272, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp273, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp275, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(ints.tmp70, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.aabaa += einsum(r2.aba, (0, 1, 2), ints.tmp636, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += tmp272 * -1
    r3new.aabaa += tmp273 * 2
    r3new.aabaa += tmp275
    r3new.aabaa += einsum(ints.tmp70, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * -1
    r3new.aabaa += np.transpose(tmp276, (1, 0, 2, 4, 3)) * -1
    del tmp276
    r3new.aabaa += np.transpose(tmp277, (1, 0, 2, 4, 3)) * 2
    del tmp277
    r3new.aabaa += np.transpose(tmp281, (1, 0, 2, 4, 3)) * -1
    del tmp281
    tmp282 = einsum(r2.aba, (0, 1, 2), v.aaaa.ooov, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.aabaa += np.transpose(tmp282, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp405, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp273, (0, 1, 2, 4, 3)) * -2
    del tmp273
    r3new.aabaa += np.transpose(tmp275, (0, 1, 2, 4, 3)) * -1
    del tmp275
    r3new.aabaa += np.transpose(tmp272, (0, 1, 2, 4, 3))
    del tmp272
    r3new.aabaa += np.transpose(tmp278, (0, 1, 2, 4, 3))
    del tmp278
    r3new.aabaa += einsum(ints.tmp70, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 4, 1))
    r3new.aabaa += einsum(r2.aba, (0, 1, 2), ints.tmp641, (3, 4, 1, 5), (0, 3, 4, 5, 2)) * -1
    r3new.aabaa += np.transpose(tmp282, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp279, (1, 0, 2, 3, 4))
    del tmp279
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp405, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    tmp283 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aabaa, (4, 5, 3, 6, 1), (4, 5, 0, 2, 6))
    tmp284 = einsum(t1.aa, (0, 1), tmp283, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp283
    r3new.aabaa += tmp284 * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp645, (1, 2, 0, 3, 4, 5), (1, 2, 3, 5, 4))
    tmp285 = einsum(tmp62, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    del tmp62
    r3new.aabaa += np.transpose(tmp285, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += einsum(ints.tmp158, (0, 1), r3.aabaa, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * -2
    r3new.aabaa += einsum(r2.aba, (0, 1, 2), ints.tmp418, (3, 4, 0, 5, 6, 2), (3, 4, 1, 6, 5)) * 6
    r3new.aabaa += einsum(r2.bbb, (0, 1, 2), ints.tmp438, (3, 4, 1, 5, 6, 2), (3, 4, 0, 6, 5)) * -12
    tmp292 = einsum(r2.aba, (0, 1, 2), v.aaaa.ooov, (3, 4, 5, 2), (0, 3, 4, 5, 1))
    tmp293 = einsum(t1.aa, (0, 1), tmp292, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1))
    del tmp292
    tmp294 = einsum(t1.aa, (0, 1), tmp293, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp293
    r3new.aabaa += tmp294
    tmp289 = einsum(r1.b, (0,), ints.tmp651, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp289, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp294, (0, 1, 2, 4, 3)) * -1
    tmp286 = einsum(r2.aba, (0, 1, 2), ints.tmp648, (3, 4, 1, 5, 6, 2), (3, 0, 4, 5, 6))
    r3new.aabaa += np.transpose(tmp286, (0, 1, 2, 4, 3))
    tmp290 = einsum(ints.tmp83, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 3), (1, 2, 4, 5, 6))
    tmp291 = einsum(t1.aa, (0, 1), tmp290, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp290
    r3new.aabaa += np.transpose(tmp291, (1, 0, 2, 3, 4)) * -2
    tmp287 = einsum(ints.tmp80, (0, 1), r3.aabaa, (2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp287, (1, 0, 2, 4, 3)) * 2
    tmp288 = einsum(r2.aba, (0, 1, 2), ints.tmp407, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.aabaa += np.transpose(tmp288, (1, 0, 2, 4, 3)) * -2
    r3new.aabaa += einsum(ints.tmp102, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1))
    tmp297 = einsum(r2.aba, (0, 1, 2), v.aaaa.oooo, (3, 4, 5, 0), (3, 4, 5, 1, 2))
    tmp298 = einsum(t1.aa, (0, 1), tmp297, (2, 0, 3, 4, 5), (3, 2, 4, 5, 1))
    del tmp297
    r3new.aabaa += tmp298 * -1
    r3new.aabaa += einsum(v.aaaa.oooo, (0, 1, 2, 3), r3.aabaa, (3, 1, 4, 5, 6), (0, 2, 4, 5, 6)) * -2
    r3new.aabaa += np.transpose(tmp287, (0, 1, 2, 4, 3)) * -2
    del tmp287
    r3new.aabaa += np.transpose(tmp288, (0, 1, 2, 4, 3)) * 2
    del tmp288
    r3new.aabaa += einsum(ints.tmp102, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 4, 1)) * -1
    r3new.aabaa += np.transpose(tmp294, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp298, (1, 0, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp286, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp289, (1, 0, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp294, (1, 0, 2, 4, 3))
    del tmp294
    tmp299 = einsum(ints.tmp14, (0, 1), r3.aabaa, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    tmp301 = np.copy(np.transpose(tmp299, (0, 2, 1, 3, 4))) * -1
    del tmp299
    tmp300 = einsum(ints.tmp233, (0, 1, 2, 3), r3.aabaa, (4, 2, 5, 6, 3), (0, 1, 4, 5, 6))
    tmp301 += np.transpose(tmp300, (1, 2, 0, 3, 4))
    del tmp300
    tmp302 = einsum(t1.aa, (0, 1), tmp301, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp301
    r3new.aabaa += np.transpose(tmp302, (1, 0, 2, 4, 3))
    tmp295 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 3, 1), (4, 5, 0, 2, 6)) * -1
    tmp296 = einsum(t1.aa, (0, 1), tmp295, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp296, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp296
    r3new.aabaa += einsum(ints.tmp66, (0, 1), r3.aabaa, (2, 3, 4, 5, 1), (2, 3, 4, 5, 0)) * -4
    r3new.aabaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp295, (4, 5, 0, 1, 6), (4, 5, 6, 2, 3)) * 2
    del tmp295
    tmp305 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 3, 1), (4, 5, 0, 6, 2)) * -1
    tmp306 = einsum(t1.aa, (0, 1), tmp305, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp305
    r3new.aabaa += np.transpose(tmp306, (0, 1, 2, 4, 3)) * 2
    tmp303 = einsum(tmp71, (0, 1, 2), t2.abab, (3, 4, 5, 2), (0, 3, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp303, (0, 1, 2, 4, 3))
    tmp304 = einsum(ints.tmp122, (0, 1), r3.aabaa, (2, 3, 4, 5, 0), (2, 3, 4, 1, 5))
    r3new.aabaa += np.transpose(tmp304, (1, 0, 2, 3, 4)) * 2
    r3new.aabaa += tmp303 * -1
    r3new.aabaa += tmp306 * -2
    del tmp306
    r3new.aabaa += np.transpose(tmp304, (1, 0, 2, 4, 3)) * -2
    del tmp304
    r3new.aabaa += np.transpose(tmp289, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp286, (0, 1, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp291, (1, 0, 2, 4, 3)) * 2
    del tmp291
    r3new.aabaa += einsum(ints.tmp102, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 1, 4)) * -1
    r3new.aabaa += np.transpose(tmp298, (0, 1, 2, 4, 3))
    r3new.aabaa += einsum(ints.tmp485, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.aabaa += np.transpose(tmp302, (1, 0, 2, 3, 4)) * -1
    del tmp302
    r3new.aabaa += np.transpose(tmp286, (1, 0, 2, 4, 3)) * -1
    del tmp286
    r3new.aabaa += np.transpose(tmp298, (1, 0, 2, 4, 3)) * -1
    del tmp298
    r3new.aabaa += np.transpose(tmp289, (1, 0, 2, 4, 3))
    del tmp289
    r3new.aabaa += einsum(ints.tmp117, (0, 1), r3.aabaa, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 2
    tmp308 = einsum(r2.aba, (0, 1, 2), ints.tmp504, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    tmp309 = einsum(t1.aa, (0, 1), tmp308, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5))
    del tmp308
    tmp310 = einsum(t1.aa, (0, 1), tmp309, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp309
    r3new.aabaa += tmp310 * -1
    tmp311 = einsum(ints.tmp190, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 1), (4, 5, 2, 3, 6))
    tmp313 = np.copy(tmp311) * 2
    del tmp311
    tmp312 = einsum(tmp74, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 5, 1))
    tmp313 += np.transpose(tmp312, (0, 1, 2, 4, 3)) * -1
    del tmp312
    tmp314 = einsum(t1.aa, (0, 1), tmp313, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp313
    r3new.aabaa += np.transpose(tmp314, (1, 0, 2, 3, 4)) * -1
    tmp307 = einsum(r1.b, (0,), ints.tmp679, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp307, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(ints.tmp134, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 1, 4))
    r3new.aabaa += np.transpose(tmp310, (0, 1, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp307, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp314, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(ints.tmp134, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.aabaa += tmp314
    r3new.aabaa += np.transpose(tmp307, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += einsum(ints.tmp134, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * -1
    r3new.aabaa += np.transpose(tmp310, (1, 0, 2, 3, 4))
    r3new.aabaa += tmp307
    del tmp307
    r3new.aabaa += np.transpose(tmp314, (0, 1, 2, 4, 3)) * -1
    del tmp314
    r3new.aabaa += einsum(ints.tmp134, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 4, 1))
    r3new.aabaa += np.transpose(tmp310, (1, 0, 2, 4, 3)) * -1
    del tmp310
    tmp317 = einsum(tmp53, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (0, 3, 2, 4, 5))
    r3new.aabaa += np.transpose(tmp317, (0, 1, 2, 4, 3)) * -2
    tmp315 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.aabaa, (4, 1, 2, 5, 6), (4, 0, 5, 6, 3))
    tmp316 = einsum(t1.bb, (0, 1), tmp315, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp315
    r3new.aabaa += np.transpose(tmp316, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp688, (1, 2, 3, 0, 4, 5), (2, 1, 3, 5, 4))
    tmp318 = einsum(r2.aba, (0, 1, 2), ints.tmp151, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp321 = np.copy(tmp318) * 0.5
    tmp319 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 5, 2, 6, 1), (4, 5, 0, 6, 3))
    tmp320 = einsum(t1.bb, (0, 1), tmp319, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp321 += np.transpose(tmp320, (2, 1, 0, 3, 4)) * -1
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp321, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp321
    r3new.aabaa += einsum(ints.tmp150, (0, 1), r3.aabaa, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * -2
    tmp324 = einsum(r2.aba, (0, 1, 2), v.aaaa.ovov, (3, 4, 5, 2), (0, 3, 5, 1, 4))
    tmp325 = einsum(t1.aa, (0, 1), tmp324, (2, 3, 4, 5, 1), (2, 0, 4, 3, 5))
    del tmp324
    tmp326 = einsum(t1.aa, (0, 1), tmp325, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp325
    tmp327 = einsum(t1.aa, (0, 1), tmp326, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp326
    r3new.aabaa += tmp327 * -1
    r3new.aabaa += np.transpose(tmp327, (0, 1, 2, 4, 3))
    tmp328 = einsum(r2.aba, (0, 1, 2), ints.tmp526, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp330 = np.copy(tmp328)
    tmp329 = einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aabaa, (1, 2, 4, 5, 6), (0, 4, 5, 6, 3))
    tmp330 += np.transpose(tmp329, (0, 1, 3, 2, 4)) * -1
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp330, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5)) * 2
    del tmp330
    tmp322 = einsum(ints.tmp531, (0, 1), r3.aabaa, (2, 1, 3, 4, 5), (0, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp322, (1, 0, 2, 4, 3)) * 2
    tmp323 = einsum(r1.b, (0,), ints.tmp693, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp323, (1, 0, 2, 4, 3)) * -1
    tmp331 = einsum(r2.aba, (0, 1, 2), ints.tmp52, (3, 0, 4, 5), (3, 4, 5, 1, 2))
    tmp333 = np.copy(tmp331) * 0.5
    tmp332 = einsum(t1.aa, (0, 1), tmp63, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5))
    tmp333 += np.transpose(tmp332, (2, 1, 0, 3, 4))
    tmp334 = einsum(t1.aa, (0, 1), tmp333, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp333
    r3new.aabaa += np.transpose(tmp334, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(ints.tmp709, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp536, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.aabaa += np.transpose(tmp322, (0, 1, 2, 4, 3)) * -2
    del tmp322
    r3new.aabaa += np.transpose(tmp334, (0, 1, 2, 4, 3)) * -1
    del tmp334
    r3new.aabaa += np.transpose(tmp323, (0, 1, 2, 4, 3))
    tmp335 = np.copy(np.transpose(tmp328, (0, 1, 3, 2, 4))) * -1
    del tmp328
    tmp335 += np.transpose(tmp329, (0, 1, 3, 2, 4)) * -1
    del tmp329
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp335, (2, 3, 4, 5, 1), (0, 2, 3, 5, 4)) * 2
    del tmp335
    r3new.aabaa += einsum(ints.tmp709, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 4, 1)) * -2
    r3new.aabaa += np.transpose(tmp327, (1, 0, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp327, (1, 0, 2, 4, 3)) * -1
    del tmp327
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp536, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    tmp336 = einsum(r2.aba, (0, 1, 2), ints.tmp455, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.aabaa += np.transpose(tmp336, (0, 1, 2, 4, 3)) * -6
    tmp337 = einsum(v.aabb.oooo, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 6), (4, 0, 2, 5, 6))
    r3new.aabaa += np.transpose(tmp337, (0, 1, 2, 4, 3)) * -2
    tmp338 = np.copy(tmp67) * 0.5
    del tmp67
    tmp338 += tmp69
    del tmp69
    tmp338 += np.transpose(tmp66, (1, 0, 2)) * -0.5
    del tmp66
    tmp338 += np.transpose(tmp68, (1, 0, 2))
    del tmp68
    tmp339 = einsum(tmp338, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    del tmp338
    r3new.aabaa += np.transpose(tmp339, (0, 1, 2, 4, 3)) * -1
    tmp340 = einsum(r2.aba, (0, 1, 2), v.aabb.oooo, (3, 4, 5, 1), (0, 3, 4, 5, 2))
    tmp342 = np.copy(np.transpose(tmp340, (0, 2, 1, 3, 4))) * -1
    tmp341 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 6, 3), (5, 0, 1, 4, 6)) * -1
    tmp342 += np.transpose(tmp341, (0, 2, 1, 3, 4)) * 2
    tmp343 = einsum(t1.aa, (0, 1), tmp342, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp342
    r3new.aabaa += np.transpose(tmp343, (0, 1, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp712, (1, 2, 0, 3, 4, 5), (1, 2, 3, 5, 4)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp720, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp336, (1, 0, 2, 4, 3)) * 6
    del tmp336
    r3new.aabaa += np.transpose(tmp337, (1, 0, 2, 4, 3)) * 2
    del tmp337
    r3new.aabaa += np.transpose(tmp343, (1, 0, 2, 4, 3)) * -1
    del tmp343
    tmp344 = einsum(tmp17, (0,), t3.abaaba, (1, 2, 3, 4, 0, 5), (1, 3, 2, 4, 5)) * 2
    del tmp17
    r3new.aabaa += np.transpose(tmp344, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp339, (1, 0, 2, 4, 3))
    del tmp339
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp722, (1, 2, 0, 3, 4, 5), (2, 1, 3, 5, 4))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp720, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    tmp345 = einsum(v.aabb.vvoo, (0, 1, 2, 3), r3.aabaa, (4, 5, 3, 6, 1), (4, 5, 2, 6, 0))
    r3new.aabaa += np.transpose(tmp345, (0, 1, 2, 4, 3)) * 2
    tmp346 = einsum(r1.b, (0,), ints.tmp725, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp346, (1, 0, 2, 4, 3)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp548, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    tmp347 = np.copy(tmp72) * -1
    tmp347 += np.transpose(tmp73, (0, 2, 1)) * 2
    r3new.aabaa += einsum(tmp347, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * -2
    r3new.aabaa += tmp345 * -2
    del tmp345
    r3new.aabaa += np.transpose(tmp346, (1, 0, 2, 3, 4)) * 2
    del tmp346
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp548, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    tmp348 = np.copy(tmp72) * -0.5
    tmp348 += np.transpose(tmp73, (0, 2, 1))
    r3new.aabaa += einsum(tmp348, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * 4
    tmp350 = einsum(ints.tmp21, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 4, 2, 5))
    tmp351 = einsum(tmp350, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 2), (4, 1, 5, 6, 3))
    del tmp350
    r3new.aabaa += np.transpose(tmp351, (0, 1, 2, 4, 3)) * 4
    tmp352 = einsum(t2.abab, (0, 1, 2, 3), tmp64, (4, 5, 1, 6, 3), (4, 0, 5, 6, 2))
    r3new.aabaa += np.transpose(tmp352, (0, 1, 2, 4, 3)) * -2
    tmp349 = einsum(r2.aba, (0, 1, 2), ints.tmp85, (3, 0, 4, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += np.transpose(tmp349, (1, 0, 2, 3, 4)) * -2
    tmp353 = einsum(r2.aba, (0, 1, 2), ints.tmp95, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp354 = einsum(t1.aa, (0, 1), tmp353, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp353
    r3new.aabaa += np.transpose(tmp354, (1, 0, 2, 3, 4)) * -2
    r3new.aabaa += einsum(ints.tmp98, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 1, 4)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp556, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.aabaa += tmp351 * -4
    r3new.aabaa += tmp352 * 2
    tmp356 = einsum(r1.b, (0,), ints.tmp737, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += tmp356 * -2
    r3new.aabaa += np.transpose(tmp354, (1, 0, 2, 4, 3)) * 2
    tmp355 = einsum(r2.aba, (0, 1, 2), ints.tmp558, (3, 0, 4, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += np.transpose(tmp355, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(ints.tmp169, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * -3
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp556, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    r3new.aabaa += tmp349 * 2
    del tmp349
    r3new.aabaa += tmp354 * 2
    r3new.aabaa += einsum(ints.tmp98, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.aabaa += np.transpose(tmp351, (1, 0, 2, 4, 3)) * -4
    r3new.aabaa += np.transpose(tmp352, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp556, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp354, (0, 1, 2, 4, 3)) * -2
    del tmp354
    r3new.aabaa += np.transpose(tmp355, (0, 1, 2, 4, 3)) * -1
    del tmp355
    r3new.aabaa += einsum(ints.tmp169, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 4, 1)) * 3
    r3new.aabaa += np.transpose(tmp351, (1, 0, 2, 3, 4)) * 4
    del tmp351
    r3new.aabaa += np.transpose(tmp352, (1, 0, 2, 3, 4)) * -2
    del tmp352
    r3new.aabaa += np.transpose(tmp356, (1, 0, 2, 3, 4)) * 2
    del tmp356
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp556, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp357 = einsum(r2.aba, (0, 1, 2), ints.tmp391, (0, 3, 4, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += np.transpose(tmp357, (1, 0, 2, 3, 4)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp740, (1, 2, 0, 3, 4, 5), (2, 1, 3, 5, 4)) * -2
    tmp359 = einsum(tmp11, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (0, 3, 4, 1, 5))
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp359, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1)) * -4
    del tmp359
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp392, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -6
    tmp358 = np.copy(tmp77) * 2
    del tmp77
    tmp358 += tmp78 * -2
    del tmp78
    tmp358 += tmp76
    del tmp76
    r3new.aabaa += einsum(tmp358, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp746, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5)) * -2
    r3new.aabaa += np.transpose(tmp357, (1, 0, 2, 4, 3)) * -2
    del tmp357
    tmp360 = einsum(tmp11, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (0, 3, 4, 1, 5)) * 2
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp360, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp360
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp747, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.aabaa += einsum(tmp79, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * 4
    tmp361 = einsum(r2.aba, (0, 1, 2), ints.tmp454, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.aabaa += np.transpose(tmp361, (1, 0, 2, 3, 4)) * -1
    tmp362 = np.copy(np.transpose(tmp340, (0, 2, 1, 3, 4))) * -0.5
    del tmp340
    tmp362 += np.transpose(tmp341, (0, 2, 1, 3, 4))
    del tmp341
    tmp363 = einsum(t1.aa, (0, 1), tmp362, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp362
    r3new.aabaa += np.transpose(tmp363, (1, 0, 2, 3, 4))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp721, (1, 2, 0, 3, 4, 5), (2, 1, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp344, (1, 0, 2, 4, 3)) * -1
    del tmp344
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp431, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    tmp364 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aabaa, (4, 0, 3, 5, 6), (4, 2, 5, 6, 1))
    tmp365 = einsum(t1.aa, (0, 1), tmp364, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp364
    r3new.aabaa += np.transpose(tmp365, (0, 1, 2, 4, 3)) * -2
    tmp367 = einsum(tmp81, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    r3new.aabaa += np.transpose(tmp367, (0, 1, 2, 4, 3)) * -1
    tmp366 = einsum(r1.b, (0,), ints.tmp752, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp366, (1, 0, 2, 4, 3)) * -2
    tmp368 = einsum(r2.aba, (0, 1, 2), ints.tmp206, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp370 = np.copy(tmp368) * -1
    tmp369 = einsum(t1.aa, (0, 1), tmp59, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp370 += np.transpose(tmp369, (1, 2, 0, 3, 4)) * 2
    tmp371 = einsum(t1.aa, (0, 1), tmp370, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp370
    r3new.aabaa += np.transpose(tmp371, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp540, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp366, (0, 1, 2, 4, 3)) * 2
    del tmp366
    r3new.aabaa += np.transpose(tmp371, (0, 1, 2, 4, 3)) * -1
    del tmp371
    r3new.aabaa += np.transpose(tmp365, (1, 0, 2, 4, 3)) * 2
    del tmp365
    r3new.aabaa += np.transpose(tmp367, (1, 0, 2, 4, 3))
    del tmp367
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp540, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -2
    tmp372 = np.copy(tmp332) * 2
    del tmp332
    tmp372 += np.transpose(tmp331, (2, 1, 0, 3, 4))
    del tmp331
    tmp373 = einsum(t1.aa, (0, 1), tmp372, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp372
    r3new.aabaa += tmp373 * -1
    r3new.aabaa += np.transpose(tmp323, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += einsum(ints.tmp68, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 1, 4)) * -1
    r3new.aabaa += np.transpose(tmp323, (0, 1, 2, 4, 3))
    del tmp323
    r3new.aabaa += einsum(ints.tmp68, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4))
    r3new.aabaa += np.transpose(tmp373, (1, 0, 2, 3, 4))
    del tmp373
    tmp375 = einsum(r2.aba, (0, 1, 2), ints.tmp193, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += tmp375
    tmp374 = einsum(r2.aba, (0, 1, 2), ints.tmp764, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp374, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), v.aaaa.ovov, (1, 2, 3, 4), (1, 3, 0, 2, 4))
    r3new.aabaa += np.transpose(tmp375, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp374, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += einsum(r1.b, (0,), v.aaaa.ovov, (1, 2, 3, 4), (1, 3, 0, 4, 2)) * -1
    tmp376 = einsum(r2.aba, (0, 1, 2), ints.tmp160, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp376, (0, 1, 2, 4, 3)) * -2
    tmp377 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (3, 4, 5, 1), (0, 3, 5, 2, 4))
    r3new.aabaa += np.transpose(tmp377, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp59, (0, 1, 2, 4, 3)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp376, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp59, (1, 0, 2, 4, 3)) * -2
    r3new.aabaa += np.transpose(tmp377, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.aabaa += tmp376 * 2
    r3new.aabaa += tmp59 * -2
    r3new.aabaa += tmp377
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.aabaa += np.transpose(tmp376, (1, 0, 2, 3, 4)) * -2
    del tmp376
    r3new.aabaa += np.transpose(tmp377, (1, 0, 2, 3, 4)) * -1
    del tmp377
    r3new.aabaa += np.transpose(tmp59, (1, 0, 2, 3, 4)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    tmp378 = einsum(t2.abab, (0, 1, 2, 3), tmp319, (4, 5, 0, 6, 3), (4, 5, 1, 6, 2))
    del tmp319
    r3new.aabaa += tmp378 * 2
    r3new.aabaa += np.transpose(tmp282, (0, 1, 2, 4, 3)) * -1
    tmp379 = einsum(r2.aba, (0, 1, 2), ints.tmp179, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp379, (0, 1, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp745, (1, 2, 3, 0, 4, 5), (2, 1, 3, 4, 5)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp405, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aabaa += tmp379 * -1
    r3new.aabaa += tmp282
    del tmp282
    r3new.aabaa += np.transpose(tmp378, (0, 1, 2, 4, 3)) * -2
    del tmp378
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp405, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp380 = einsum(r2.aba, (0, 1, 2), v.aaaa.ovvv, (3, 4, 5, 2), (0, 3, 1, 4, 5))
    r3new.aabaa += np.transpose(tmp380, (0, 1, 2, 4, 3)) * -1
    tmp381 = einsum(r2.aba, (0, 1, 2), ints.tmp184, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp382 = einsum(t1.aa, (0, 1), tmp381, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp381
    r3new.aabaa += np.transpose(tmp382, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += tmp380
    r3new.aabaa += tmp382
    tmp384 = einsum(ints.tmp184, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 6), (0, 4, 2, 5, 6))
    r3new.aabaa += np.transpose(tmp384, (0, 1, 2, 4, 3)) * 2
    tmp383 = einsum(r1.b, (0,), ints.tmp774, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp383, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp380, (1, 0, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp382, (1, 0, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp383, (0, 1, 2, 4, 3)) * -2
    del tmp383
    r3new.aabaa += np.transpose(tmp380, (1, 0, 2, 3, 4)) * -1
    del tmp380
    r3new.aabaa += np.transpose(tmp382, (1, 0, 2, 3, 4)) * -1
    del tmp382
    r3new.aabaa += np.transpose(tmp384, (1, 0, 2, 4, 3)) * -2
    del tmp384
    r3new.aabaa += einsum(v.aaaa.vvvv, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -2
    tmp385 = einsum(r2.aba, (0, 1, 2), ints.tmp194, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp386 = einsum(t1.aa, (0, 1), tmp385, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp385
    r3new.aabaa += np.transpose(tmp386, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp137, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aabaa += tmp386
    tmp390 = einsum(r1.b, (0,), ints.tmp781, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp390, (0, 1, 2, 4, 3)) * 2
    tmp387 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 0, 2, 5, 6), (4, 5, 6, 1, 3))
    tmp388 = einsum(t1.aa, (0, 1), tmp387, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp387
    tmp389 = einsum(t1.bb, (0, 1), tmp388, (2, 3, 4, 5, 1), (2, 3, 0, 5, 4)) * -1
    del tmp388
    r3new.aabaa += np.transpose(tmp389, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp137, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp386, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp137, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp389, (0, 1, 2, 4, 3)) * -2
    del tmp389
    r3new.aabaa += np.transpose(tmp386, (1, 0, 2, 3, 4)) * -1
    del tmp386
    r3new.aabaa += np.transpose(tmp390, (1, 0, 2, 4, 3)) * -2
    del tmp390
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp137, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.aabaa += tmp363 * -1
    del tmp363
    r3new.aabaa += tmp361
    del tmp361
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp431, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    tmp391 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 6, 3), (5, 4, 6, 0, 1)) * -1
    tmp392 = einsum(t1.aa, (0, 1), tmp391, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp391
    r3new.aabaa += np.transpose(tmp392, (0, 1, 2, 4, 3)) * 2
    tmp393 = einsum(r2.aba, (0, 1, 2), ints.tmp785, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp393, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp510, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aabaa += tmp393
    r3new.aabaa += np.transpose(tmp392, (1, 0, 2, 4, 3)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp510, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aabaa += tmp392 * -2
    r3new.aabaa += np.transpose(tmp393, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp510, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    r3new.aabaa += np.transpose(tmp393, (0, 1, 2, 4, 3)) * -1
    del tmp393
    r3new.aabaa += np.transpose(tmp392, (1, 0, 2, 3, 4)) * 2
    del tmp392
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp510, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp374, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp375, (1, 0, 2, 3, 4)) * -1
    tmp395 = einsum(r2.aba, (0, 1, 2), ints.tmp584, (3, 0, 4, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += tmp395 * -1
    tmp394 = einsum(r2.aba, (0, 1, 2), ints.tmp208, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp394, (0, 1, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp588, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aabaa += tmp374
    del tmp374
    r3new.aabaa += np.transpose(tmp375, (1, 0, 2, 4, 3))
    del tmp375
    r3new.aabaa += tmp394 * -1
    r3new.aabaa += np.transpose(tmp395, (0, 1, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp588, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp395, (1, 0, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp394, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp588, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp394, (1, 0, 2, 3, 4))
    del tmp394
    r3new.aabaa += np.transpose(tmp395, (1, 0, 2, 4, 3)) * -1
    del tmp395
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp588, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    tmp396 = einsum(r2.aba, (0, 1, 2), v.aaaa.vvvv, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp397 = einsum(t1.aa, (0, 1), tmp396, (2, 3, 4, 1, 5), (2, 0, 3, 5, 4))
    del tmp396
    r3new.aabaa += tmp397 * -1
    r3new.aabaa += np.transpose(tmp397, (0, 1, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp397, (1, 0, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp397, (1, 0, 2, 4, 3)) * -1
    del tmp397
    r3new.aabaa += np.transpose(tmp284, (0, 1, 2, 4, 3)) * -2
    del tmp284
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp644, (1, 2, 3, 0, 4, 5), (2, 1, 3, 4, 5))
    r3new.aabaa += einsum(r2.aba, (0, 1, 2), ints.tmp416, (3, 4, 0, 5, 6, 2), (4, 3, 1, 5, 6))
    r3new.aabaa += einsum(r2.bbb, (0, 1, 2), ints.tmp413, (3, 4, 1, 5, 6, 2), (4, 3, 0, 5, 6)) * 2
    r3new.aabaa += np.transpose(tmp316, (0, 1, 2, 4, 3)) * -2
    del tmp316
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp687, (1, 2, 3, 0, 4, 5), (1, 2, 3, 5, 4)) * -2
    tmp398 = einsum(t1.aa, (0, 1), tmp318, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp398, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp317, (1, 0, 2, 4, 3)) * 2
    del tmp317
    tmp399 = einsum(r1.b, (0,), ints.tmp801, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp399, (0, 1, 2, 4, 3)) * 2
    tmp400 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.aabaa, (4, 5, 2, 6, 1), (4, 5, 6, 0, 3))
    tmp402 = np.copy(tmp400)
    del tmp400
    tmp401 = einsum(tmp74, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp402 += np.transpose(tmp401, (0, 1, 3, 2, 4))
    del tmp401
    tmp403 = einsum(t1.bb, (0, 1), tmp402, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5)) * 2
    del tmp402
    r3new.aabaa += np.transpose(tmp403, (0, 1, 2, 4, 3))
    r3new.aabaa += tmp399 * -2
    del tmp399
    r3new.aabaa += tmp403 * -1
    del tmp403
    tmp404 = einsum(tmp235, (0, 1, 2, 3), r3.babab, (4, 5, 1, 6, 3), (5, 0, 4, 6, 2)) * -1
    del tmp235
    r3new.aabaa += np.transpose(tmp404, (0, 1, 2, 4, 3)) * -2
    tmp406 = einsum(t2.aaaa, (0, 1, 2, 3), tmp59, (4, 1, 5, 6, 3), (4, 0, 5, 6, 2))
    r3new.aabaa += np.transpose(tmp406, (0, 1, 2, 4, 3)) * 4
    tmp405 = einsum(r2.aba, (0, 1, 2), ints.tmp805, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp405, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += tmp405
    r3new.aabaa += np.transpose(tmp404, (1, 0, 2, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp406, (1, 0, 2, 4, 3)) * -4
    r3new.aabaa += tmp404 * 2
    r3new.aabaa += tmp406 * -4
    r3new.aabaa += np.transpose(tmp405, (1, 0, 2, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp809, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 4
    r3new.aabaa += np.transpose(tmp405, (0, 1, 2, 4, 3)) * -1
    del tmp405
    r3new.aabaa += np.transpose(tmp404, (1, 0, 2, 3, 4)) * -2
    del tmp404
    r3new.aabaa += np.transpose(tmp406, (1, 0, 2, 3, 4)) * 4
    del tmp406
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp809, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * -4
    r3new.aabaa += np.transpose(tmp285, (0, 1, 2, 4, 3))
    del tmp285
    r3new.aabaa += np.transpose(tmp379, (1, 0, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp379, (1, 0, 2, 4, 3)) * -1
    del tmp379
    tmp407 = einsum(r2.aba, (0, 1, 2), ints.tmp185, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp407, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += tmp407
    r3new.aabaa += np.transpose(tmp407, (1, 0, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp407, (0, 1, 2, 4, 3)) * -1
    del tmp407
    tmp408 = einsum(r2.aba, (0, 1, 2), ints.tmp128, (3, 4, 0, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += np.transpose(tmp408, (1, 0, 2, 3, 4)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp616, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.aabaa += np.transpose(tmp408, (1, 0, 2, 4, 3)) * -2
    del tmp408
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp616, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    tmp409 = einsum(r1.b, (0,), ints.tmp817, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp409, (0, 1, 2, 4, 3)) * 2
    tmp410 = einsum(r2.aba, (0, 1, 2), ints.tmp464, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    r3new.aabaa += np.transpose(tmp410, (1, 0, 2, 4, 3)) * -1
    tmp411 = einsum(r2.aba, (0, 1, 2), ints.tmp812, (3, 4, 0, 5, 1, 6), (3, 4, 5, 6, 2))
    r3new.aabaa += np.transpose(tmp411, (1, 0, 2, 4, 3)) * -2
    r3new.aabaa += tmp409 * -2
    del tmp409
    r3new.aabaa += np.transpose(tmp411, (1, 0, 2, 3, 4)) * 2
    del tmp411
    r3new.aabaa += np.transpose(tmp410, (1, 0, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp410, (0, 1, 2, 4, 3))
    r3new.aabaa += tmp410 * -1
    del tmp410
    r3new.aabaa += np.transpose(tmp303, (1, 0, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp303, (1, 0, 2, 3, 4))
    del tmp303
    r3new.aabaa += einsum(ints.tmp118, (0, 1, 2, 3), r3.aabaa, (2, 3, 4, 5, 6), (0, 1, 4, 5, 6)) * 2
    tmp412 = einsum(r2.aba, (0, 1, 2), ints.tmp118, (3, 4, 0, 5), (3, 4, 5, 1, 2))
    tmp413 = einsum(t1.aa, (0, 1), tmp412, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp412
    r3new.aabaa += np.transpose(tmp413, (1, 0, 2, 3, 4)) * 2
    tmp414 = einsum(r2.aba, (0, 1, 2), ints.tmp586, (3, 4, 0, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += np.transpose(tmp414, (1, 0, 2, 3, 4)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp822, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.aabaa += np.transpose(tmp414, (1, 0, 2, 4, 3)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp822, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * 2
    r3new.aabaa += tmp414 * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp822, (1, 2, 3, 4), (1, 2, 0, 4, 3)) * 2
    r3new.aabaa += np.transpose(tmp414, (0, 1, 2, 4, 3)) * 2
    del tmp414
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp822, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.aabaa += np.transpose(tmp413, (1, 0, 2, 4, 3)) * -2
    del tmp413
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp823, (1, 2, 3, 0, 4, 5), (1, 2, 3, 5, 4))
    tmp415 = np.copy(tmp320)
    del tmp320
    tmp415 += np.transpose(tmp318, (0, 2, 1, 3, 4)) * 0.5
    del tmp318
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp415, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * -2
    del tmp415
    tmp416 = np.copy(tmp369)
    tmp416 += np.transpose(tmp368, (2, 0, 1, 3, 4)) * -0.5
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp416, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * -2
    del tmp416
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp576, (1, 2, 3, 4), (2, 1, 0, 3, 4)) * -1
    tmp417 = np.copy(tmp369) * 2
    del tmp369
    tmp417 += np.transpose(tmp368, (2, 0, 1, 3, 4)) * -1
    del tmp368
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp417, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5))
    del tmp417
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp576, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.aabaa += np.transpose(tmp398, (1, 0, 2, 4, 3))
    del tmp398
    tmp418 = einsum(r2.aba, (0, 1, 2), ints.tmp825, (3, 4, 1, 5), (3, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp418, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += tmp418
    r3new.aabaa += np.transpose(tmp418, (1, 0, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp418, (0, 1, 2, 4, 3)) * -1
    del tmp418
    tmp419 = einsum(r2.aba, (0, 1, 2), ints.tmp138, (3, 4, 0, 5), (3, 4, 1, 5, 2))
    r3new.aabaa += tmp419 * -1
    r3new.aabaa += np.transpose(tmp419, (1, 0, 2, 3, 4))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp618, (1, 2, 3, 4), (1, 2, 0, 4, 3))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp618, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp419, (0, 1, 2, 4, 3))
    r3new.aabaa += np.transpose(tmp419, (1, 0, 2, 4, 3)) * -1
    del tmp419
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp618, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp618, (1, 2, 3, 4), (2, 1, 0, 3, 4))
    tmp422 = einsum(r2.aba, (0, 1, 2), ints.tmp141, (3, 4, 5, 0), (3, 4, 5, 1, 2))
    tmp423 = einsum(t1.aa, (0, 1), tmp422, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp422
    r3new.aabaa += tmp423
    tmp420 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (0, 2, 4, 5, 6), (4, 5, 6, 3, 1)) * -1
    tmp421 = einsum(t1.aa, (0, 1), tmp420, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * -1
    del tmp420
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp421, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5)) * 2
    del tmp421
    r3new.aabaa += np.transpose(tmp423, (1, 0, 2, 3, 4)) * -1
    r3new.aabaa += np.transpose(tmp423, (0, 1, 2, 4, 3)) * -1
    r3new.aabaa += np.transpose(tmp423, (1, 0, 2, 4, 3))
    del tmp423
    tmp427 = einsum(r2.aaa, (0, 1, 2), ints.tmp261, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab = np.copy(np.transpose(tmp427, (0, 2, 1, 3, 4))) * -4
    r3new.abaab += np.transpose(tmp93, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp834, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp424 = einsum(r2.bab, (0, 1, 2), v.aabb.ovoo, (3, 4, 5, 0), (1, 3, 5, 4, 2)) * -1
    r3new.abaab += np.transpose(tmp424, (0, 2, 1, 3, 4))
    tmp425 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 4, 5, 2), (1, 3, 0, 5, 4)) * -1
    tmp426 = einsum(t1.bb, (0, 1), tmp425, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abaab += np.transpose(tmp426, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp838, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(ints.tmp70, (0, 1), r2.bab, (2, 3, 4), (3, 2, 0, 1, 4))
    r3new.abaab += np.transpose(tmp38, (0, 2, 1, 3, 4)) * -6
    tmp431 = einsum(tmp82, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    del tmp82
    tmp432 = einsum(t1.bb, (0, 1), tmp431, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp431
    r3new.abaab += np.transpose(tmp432, (0, 2, 1, 3, 4)) * 2
    tmp433 = einsum(ints.tmp212, (0, 1, 2, 3), r3.ababa, (4, 0, 5, 2, 6), (4, 5, 1, 6, 3))
    r3new.abaab += np.transpose(tmp433, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp849, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp847, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -2
    tmp428 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovov, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp429 = einsum(t1.aa, (0, 1), tmp428, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    r3new.abaab += np.transpose(tmp429, (1, 2, 0, 3, 4)) * -2
    tmp430 = einsum(r2.bab, (0, 1, 2), ints.tmp391, (1, 3, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp430, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(ints.tmp223, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.abaab += einsum(tmp434, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 0, 4, 5, 2)) * -2
    del tmp434
    r3new.abaab += einsum(r1.a, (0,), ints.tmp838, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(ints.tmp70, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * -1
    r3new.abaab += np.transpose(tmp424, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp426, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp427, (1, 2, 0, 3, 4)) * 4
    r3new.abaab += np.transpose(tmp93, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp834, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp435 = einsum(r2.aaa, (0, 1, 2), ints.tmp852, (1, 3, 4, 2, 5, 6), (3, 0, 4, 5, 6))
    r3new.abaab += np.transpose(tmp435, (0, 2, 1, 3, 4)) * 2
    tmp436 = einsum(r1.a, (0,), ints.tmp855, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp436, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp861, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp440 = einsum(r2.bab, (0, 1, 2), ints.tmp850, (3, 4, 0, 5, 6, 2), (3, 1, 4, 5, 6)) * -1
    r3new.abaab += np.transpose(tmp440, (0, 2, 1, 3, 4))
    tmp437 = einsum(ints.tmp80, (0, 1), r3.ababa, (2, 3, 0, 4, 5), (1, 2, 3, 5, 4))
    r3new.abaab += np.transpose(tmp437, (1, 2, 0, 3, 4)) * 2
    tmp438 = einsum(ints.tmp233, (0, 1, 2, 3), r3.ababa, (4, 5, 2, 6, 3), (0, 1, 4, 5, 6))
    tmp439 = einsum(t1.aa, (0, 1), tmp438, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp438
    r3new.abaab += np.transpose(tmp439, (1, 2, 0, 3, 4)) * 2
    tmp441 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 6, 1), (4, 5, 0, 2, 6))
    tmp442 = einsum(t1.aa, (0, 1), tmp441, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp441
    r3new.abaab += np.transpose(tmp442, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp875, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp443 = einsum(r1.a, (0,), ints.tmp862, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp443, (1, 2, 0, 3, 4)) * -1
    tmp444 = einsum(r2.bab, (0, 1, 2), ints.tmp866, (3, 4, 1, 5, 6, 2), (3, 4, 0, 5, 6)) * -1
    r3new.abaab += np.transpose(tmp444, (1, 2, 0, 3, 4)) * -1
    tmp446 = einsum(ints.tmp158, (0, 1), r3.ababa, (2, 0, 3, 4, 5), (2, 3, 1, 5, 4))
    r3new.abaab += np.transpose(tmp446, (1, 2, 0, 3, 4)) * -2
    tmp445 = einsum(r2.bab, (0, 1, 2), ints.tmp870, (3, 4, 5, 2), (3, 1, 0, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp445, (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp437, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp439, (0, 2, 1, 3, 4)) * -2
    tmp447 = einsum(v.aaaa.oooo, (0, 1, 2, 3), r3.ababa, (3, 4, 1, 5, 6), (0, 2, 4, 6, 5)) * -1
    r3new.abaab += np.transpose(tmp447, (0, 2, 1, 3, 4)) * -2
    tmp449 = einsum(r2.bab, (0, 1, 2), v.aaaa.oooo, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -1
    tmp450 = einsum(t1.aa, (0, 1), tmp449, (2, 0, 3, 4, 5), (3, 2, 4, 1, 5))
    del tmp449
    r3new.abaab += np.transpose(tmp450, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp887, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp435, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp440, (1, 2, 0, 3, 4)) * -1
    tmp448 = einsum(r2.aaa, (0, 1, 2), ints.tmp881, (3, 4, 2, 5), (0, 1, 3, 4, 5))
    r3new.abaab += np.transpose(tmp448, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp861, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp450, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp883, (1, 0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    tmp452 = einsum(r1.a, (0,), ints.tmp896, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp452, (0, 2, 1, 3, 4)) * 2
    tmp454 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 1), (4, 6, 5, 2, 0))
    tmp455 = einsum(t1.bb, (0, 1), tmp454, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp454
    r3new.abaab += np.transpose(tmp455, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp890, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -2
    tmp451 = einsum(r2.aaa, (0, 1, 2), ints.tmp888, (3, 4, 0, 1, 5, 6), (3, 4, 5, 2, 6))
    r3new.abaab += np.transpose(tmp451, (1, 2, 0, 3, 4)) * 2
    tmp453 = einsum(ints.tmp122, (0, 1), r3.ababa, (2, 3, 4, 5, 0), (2, 4, 3, 1, 5))
    r3new.abaab += np.transpose(tmp453, (1, 2, 0, 3, 4)) * 2
    tmp456 = einsum(r1.a, (0,), ints.tmp905, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp456, (0, 2, 1, 3, 4)) * -2
    tmp457 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 1), (4, 6, 0, 5, 2))
    tmp458 = einsum(t1.aa, (0, 1), tmp457, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp457
    r3new.abaab += np.transpose(tmp458, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp898, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    tmp459 = einsum(ints.tmp271, (0, 1), r3.ababa, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1))
    r3new.abaab += np.transpose(tmp459, (1, 2, 0, 3, 4)) * 2
    tmp460 = einsum(r2.bab, (0, 1, 2), ints.tmp812, (3, 4, 1, 5, 0, 6), (3, 4, 5, 6, 2)) * -1
    r3new.abaab += np.transpose(tmp460, (1, 2, 0, 3, 4)) * -2
    tmp461 = einsum(r2.aaa, (0, 1, 2), ints.tmp909, (3, 1, 4, 5, 2, 6), (3, 0, 4, 5, 6))
    r3new.abaab += np.transpose(tmp461, (0, 2, 1, 3, 4)) * 2
    tmp462 = einsum(r1.a, (0,), ints.tmp907, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp462, (0, 2, 1, 3, 4)) * -1
    tmp463 = einsum(r2.bab, (0, 1, 2), ints.tmp912, (3, 0, 4, 5, 2, 6), (3, 1, 4, 5, 6)) * -1
    r3new.abaab += np.transpose(tmp463, (0, 2, 1, 3, 4)) * -1
    tmp464 = einsum(v.aabb.oooo, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 6), (4, 0, 2, 6, 5))
    r3new.abaab += np.transpose(tmp464, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(ints.tmp485, (0, 1), r2.bab, (2, 3, 4), (3, 2, 0, 1, 4)) * -2
    tmp465 = einsum(r2.bab, (0, 1, 2), v.aabb.oooo, (3, 4, 5, 0), (1, 3, 4, 5, 2)) * -1
    tmp467 = np.copy(np.transpose(tmp465, (0, 2, 1, 3, 4))) * -0.5
    tmp466 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 3), (5, 0, 1, 4, 6)) * -1
    tmp467 += np.transpose(tmp466, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(t1.aa, (0, 1), tmp467, (2, 0, 3, 4, 5), (2, 4, 3, 1, 5)) * 2
    del tmp467
    r3new.abaab += einsum(r1.a, (0,), ints.tmp925, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp443, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp444, (1, 2, 0, 3, 4)) * -1
    tmp468 = einsum(r2.aaa, (0, 1, 2), ints.tmp917, (3, 4, 2, 5), (0, 1, 3, 4, 5))
    r3new.abaab += np.transpose(tmp468, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp445, (1, 2, 0, 3, 4))
    tmp469 = np.copy(tmp95)
    del tmp95
    tmp469 += np.transpose(tmp96, (0, 2, 1)) * 2
    del tmp96
    tmp469 += np.transpose(tmp97, (0, 2, 1)) * -1
    del tmp97
    tmp469 += np.transpose(tmp98, (0, 2, 1)) * 2
    del tmp98
    tmp470 = einsum(tmp469, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 2, 4, 5))
    del tmp469
    r3new.abaab += np.transpose(tmp470, (1, 2, 0, 3, 4))
    tmp471 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 1), (4, 5, 2, 3, 6))
    tmp475 = np.copy(np.transpose(tmp471, (0, 1, 3, 2, 4))) * 3
    tmp472 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovoo, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp473 = einsum(t1.aa, (0, 1), tmp472, (2, 3, 0, 4, 5), (2, 3, 5, 4, 1))
    del tmp472
    tmp475 += np.transpose(tmp473, (0, 1, 3, 2, 4)) * -1
    tmp474 = einsum(ints.tmp161, (0, 1, 2, 3), r3.ababa, (4, 0, 5, 3, 6), (4, 5, 1, 2, 6))
    tmp475 += np.transpose(tmp474, (0, 1, 3, 2, 4))
    r3new.abaab += einsum(t1.bb, (0, 1), tmp475, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1)) * 2
    del tmp475
    r3new.abaab += einsum(ints.tmp266, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp935, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp930, (0, 1, 2, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    r3new.abaab += einsum(ints.tmp485, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.abaab += np.transpose(tmp461, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp464, (1, 2, 0, 3, 4)) * 2
    tmp476 = einsum(tmp185, (0,), t3.abaaba, (1, 2, 3, 0, 4, 5), (1, 3, 2, 5, 4))
    del tmp185
    r3new.abaab += np.transpose(tmp476, (1, 2, 0, 3, 4)) * -1
    tmp478 = np.copy(np.transpose(tmp465, (0, 2, 1, 3, 4))) * -0.5
    tmp478 += np.transpose(tmp466, (0, 2, 1, 3, 4))
    tmp477 = einsum(ints.tmp14, (0, 1), r3.ababa, (2, 3, 4, 5, 1), (0, 2, 4, 3, 5))
    tmp478 += np.transpose(tmp477, (2, 0, 1, 3, 4)) * -1
    del tmp477
    tmp479 = einsum(t1.aa, (0, 1), tmp478, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp478
    r3new.abaab += np.transpose(tmp479, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp463, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(ints.tmp117, (0, 1), r3.ababa, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 2
    tmp480 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 3), (5, 4, 0, 1, 6)) * -1
    tmp481 = einsum(t1.aa, (0, 1), tmp480, (2, 3, 1, 4, 5), (2, 0, 3, 4, 5))
    del tmp480
    r3new.abaab += np.transpose(tmp481, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp937, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp482 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 4, 5, 2), (1, 0, 5, 3, 4)) * -1
    tmp483 = einsum(t1.aa, (0, 1), tmp482, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp482
    tmp484 = einsum(t1.bb, (0, 1), tmp483, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp483
    r3new.abaab += np.transpose(tmp484, (0, 2, 1, 3, 4))
    tmp485 = einsum(r2.bab, (0, 1, 2), ints.tmp785, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp485, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(ints.tmp944, (0, 1), r2.bab, (2, 3, 4), (3, 2, 0, 1, 4)) * 2
    tmp486 = einsum(r1.a, (0,), ints.tmp956, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp486, (0, 2, 1, 3, 4)) * -2
    tmp487 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovvv, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp488 = einsum(t1.bb, (0, 1), tmp487, (2, 3, 4, 5, 1), (3, 2, 4, 0, 5)) * -1
    del tmp487
    tmp489 = einsum(t1.aa, (0, 1), tmp488, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5)) * -1
    del tmp488
    r3new.abaab += np.transpose(tmp489, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp961, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp491 = einsum(ints.tmp269, (0, 1, 2, 3), r3.ababa, (4, 0, 5, 2, 6), (4, 5, 6, 1, 3))
    tmp493 = np.copy(tmp491)
    del tmp491
    tmp490 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 1), (4, 5, 6, 2, 3))
    tmp493 += np.transpose(tmp490, (0, 1, 2, 4, 3)) * -3
    del tmp490
    tmp492 = einsum(tmp101, (0, 1, 2), t2.aaaa, (3, 4, 5, 0), (3, 4, 5, 1, 2))
    tmp493 += np.transpose(tmp492, (0, 1, 2, 4, 3))
    del tmp492
    tmp494 = einsum(t1.bb, (0, 1), tmp493, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5)) * 2
    del tmp493
    r3new.abaab += np.transpose(tmp494, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(ints.tmp285, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * -4
    r3new.abaab += np.transpose(tmp485, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(ints.tmp944, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.abaab += np.transpose(tmp481, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp484, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp937, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp971, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp495 = einsum(r1.a, (0,), ints.tmp969, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp495, (1, 2, 0, 3, 4)) * -1
    tmp496 = einsum(ints.tmp56, (0, 1), r3.ababa, (2, 3, 1, 4, 5), (0, 2, 3, 5, 4))
    r3new.abaab += np.transpose(tmp496, (1, 2, 0, 3, 4)) * 4
    tmp497 = einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.ababa, (1, 4, 2, 5, 6), (0, 4, 6, 3, 5))
    tmp498 = einsum(t1.aa, (0, 1), tmp497, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp497
    r3new.abaab += np.transpose(tmp498, (1, 2, 0, 3, 4)) * -2
    tmp499 = einsum(r2.bab, (0, 1, 2), ints.tmp52, (3, 1, 4, 5), (3, 4, 5, 0, 2)) * -1
    tmp501 = np.copy(tmp499)
    tmp500 = einsum(t1.aa, (0, 1), tmp89, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5))
    del tmp89
    tmp501 += np.transpose(tmp500, (2, 1, 0, 3, 4)) * 2
    tmp502 = einsum(t1.aa, (0, 1), tmp501, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp501
    r3new.abaab += np.transpose(tmp502, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp981, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp503 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 2, 1, 5, 6), (4, 0, 6, 5, 3))
    tmp504 = einsum(t1.bb, (0, 1), tmp503, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp503
    r3new.abaab += np.transpose(tmp504, (1, 2, 0, 3, 4)) * 2
    tmp505 = einsum(r1.a, (0,), ints.tmp972, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp505, (1, 2, 0, 3, 4)) * -1
    tmp506 = einsum(ints.tmp291, (0, 1), r3.ababa, (2, 0, 3, 4, 5), (2, 3, 1, 5, 4))
    r3new.abaab += np.transpose(tmp506, (1, 2, 0, 3, 4)) * -4
    tmp507 = einsum(r2.bab, (0, 1, 2), ints.tmp151, (3, 4, 5, 0), (3, 4, 1, 5, 2)) * -1
    tmp510 = np.copy(tmp507) * -0.5
    tmp508 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 6, 1), (4, 5, 0, 6, 3))
    tmp509 = einsum(t1.bb, (0, 1), tmp508, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp510 += np.transpose(tmp509, (2, 1, 0, 3, 4)) * -1
    r3new.abaab += einsum(t1.aa, (0, 1), tmp510, (0, 2, 3, 4, 5), (2, 4, 3, 1, 5)) * -2
    del tmp510
    r3new.abaab += np.transpose(tmp496, (0, 2, 1, 3, 4)) * -4
    r3new.abaab += np.transpose(tmp498, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp502, (0, 2, 1, 3, 4)) * -1
    del tmp502
    r3new.abaab += np.transpose(tmp495, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp971, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp512 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 1), (4, 6, 0, 5, 2))
    tmp513 = einsum(t2.abab, (0, 1, 2, 3), tmp512, (4, 5, 0, 6, 1), (4, 5, 6, 2, 3))
    r3new.abaab += np.transpose(tmp513, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp935, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp511 = einsum(r2.bab, (0, 1, 2), ints.tmp983, (3, 4, 5, 2), (3, 1, 0, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp511, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp461, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp476, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp463, (1, 2, 0, 3, 4))
    tmp520 = einsum(tmp519, (0, 1, 2), t2.abab, (3, 2, 4, 5), (3, 0, 1, 4, 5)) * 2
    del tmp519
    r3new.abaab += np.transpose(tmp520, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp993, (1, 2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * -1
    r3new.abaab += einsum(ints.tmp259, (0, 1), r3.ababa, (2, 3, 4, 1, 5), (2, 3, 4, 5, 0)) * 2
    tmp514 = einsum(r2.aaa, (0, 1, 2), v.aabb.oooo, (3, 1, 4, 5), (0, 3, 4, 5, 2))
    tmp518 = np.copy(np.transpose(tmp514, (0, 1, 3, 2, 4))) * -1
    tmp515 = einsum(ints.tmp34, (0, 1), r3.ababa, (2, 3, 4, 1, 5), (2, 4, 0, 3, 5))
    tmp518 += np.transpose(tmp515, (1, 0, 2, 3, 4)) * -1
    tmp516 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 4, 5, 2), (1, 3, 4, 0, 5)) * -1
    tmp517 = np.copy(np.transpose(tmp516, (0, 2, 1, 3, 4))) * 0.5
    tmp517 += np.transpose(tmp512, (0, 2, 1, 3, 4))
    del tmp512
    tmp518 += einsum(t1.aa, (0, 1), tmp517, (2, 0, 3, 4, 5), (2, 3, 5, 4, 1)) * -1
    r3new.abaab += einsum(t1.bb, (0, 1), tmp518, (2, 3, 0, 4, 5), (3, 4, 2, 5, 1)) * -2
    del tmp518
    r3new.abaab += np.transpose(tmp435, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp436, (0, 2, 1, 3, 4)) * -1
    tmp521 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 3, 6), (4, 0, 5, 2, 6))
    tmp522 = einsum(t1.bb, (0, 1), tmp521, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp521
    r3new.abaab += np.transpose(tmp522, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1000, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp440, (0, 2, 1, 3, 4))
    tmp523 = einsum(tmp171, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 2, 3, 4, 5)) * 2
    del tmp171
    r3new.abaab += np.transpose(tmp523, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp445, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp470, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp925, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1005, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp435, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp440, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp448, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp522, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1000, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp524 = einsum(tmp44, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 2, 3, 4, 5)) * 2
    del tmp44
    r3new.abaab += np.transpose(tmp524, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1003, (1, 2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1012, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp525 = einsum(tmp47, (0, 1, 2), t2.abab, (3, 4, 1, 5), (0, 3, 4, 2, 5)) * 2
    del tmp47
    r3new.abaab += np.transpose(tmp525, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r2.aaa, (0, 1, 2), ints.tmp1008, (3, 2, 4, 5), (0, 3, 1, 4, 5)) * -4
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1018, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp526 = einsum(r2.aaa, (0, 1, 2), ints.tmp1013, (3, 4, 2, 5), (0, 1, 3, 4, 5))
    r3new.abaab += np.transpose(tmp526, (1, 2, 0, 3, 4)) * -2
    tmp527 = einsum(tmp105, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 0, 4, 5, 2))
    del tmp105
    r3new.abaab += np.transpose(tmp527, (1, 2, 0, 3, 4)) * -1
    tmp528 = einsum(tmp196, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 0, 4, 2, 5))
    del tmp196
    r3new.abaab += np.transpose(tmp528, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1012, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp527, (0, 2, 1, 3, 4))
    del tmp527
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1018, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp532 = einsum(t2.aaaa, (0, 1, 2, 3), tmp93, (4, 1, 5, 3, 6), (4, 0, 5, 2, 6))
    r3new.abaab += np.transpose(tmp532, (0, 2, 1, 3, 4)) * -4
    tmp533 = einsum(t2.abab, (0, 1, 2, 3), tmp94, (4, 1, 5, 3, 6), (4, 0, 5, 2, 6))
    del tmp94
    r3new.abaab += np.transpose(tmp533, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1024, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    tmp530 = einsum(r2.bab, (0, 1, 2), ints.tmp76, (3, 4, 5, 2), (3, 1, 4, 0, 5)) * -1
    tmp531 = einsum(t1.bb, (0, 1), tmp530, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp530
    r3new.abaab += np.transpose(tmp531, (1, 2, 0, 3, 4)) * 2
    tmp529 = einsum(r2.bab, (0, 1, 2), ints.tmp805, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp529, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(ints.tmp564, (0, 1), r2.bab, (2, 3, 4), (3, 2, 0, 1, 4))
    tmp534 = einsum(r2.aaa, (0, 1, 2), ints.tmp245, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    tmp535 = einsum(t1.aa, (0, 1), tmp534, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp534
    r3new.abaab += np.transpose(tmp535, (0, 2, 1, 3, 4)) * 2
    tmp537 = einsum(r2.aaa, (0, 1, 2), ints.tmp1028, (1, 3, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp537, (0, 2, 1, 3, 4)) * -4
    tmp538 = einsum(t2.abab, (0, 1, 2, 3), ints.tmp21, (4, 0, 5, 2), (4, 1, 5, 3))
    tmp539 = einsum(tmp538, (0, 1, 2, 3), r3.aaaaa, (4, 5, 0, 6, 2), (4, 5, 1, 6, 3))
    del tmp538
    r3new.abaab += np.transpose(tmp539, (0, 2, 1, 3, 4)) * 6
    tmp540 = einsum(t2.abab, (0, 1, 2, 3), tmp36, (4, 5, 0, 6, 2), (4, 5, 1, 6, 3))
    del tmp36
    r3new.abaab += np.transpose(tmp540, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1039, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -2
    tmp536 = einsum(r2.bab, (0, 1, 2), v.aaaa.ooov, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp536, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1030, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(ints.tmp1035, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    tmp541 = np.copy(tmp38) * 3
    tmp541 += tmp39 * -1
    del tmp39
    r3new.abaab += einsum(t2.bbbb, (0, 1, 2, 3), tmp541, (4, 5, 1, 6, 3), (4, 0, 5, 6, 2)) * -4
    del tmp541
    r3new.abaab += np.transpose(tmp529, (0, 2, 1, 3, 4)) * -1
    del tmp529
    r3new.abaab += np.transpose(tmp531, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(ints.tmp564, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4)) * -1
    r3new.abaab += np.transpose(tmp532, (1, 2, 0, 3, 4)) * 4
    r3new.abaab += np.transpose(tmp533, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1024, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1052, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp546 = einsum(tmp2, (0, 1, 2), t2.abab, (3, 4, 5, 2), (0, 3, 1, 4, 5))
    tmp547 = einsum(t1.bb, (0, 1), tmp546, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp546
    r3new.abaab += np.transpose(tmp547, (0, 2, 1, 3, 4))
    tmp542 = einsum(v.aabb.oovv, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 3, 6), (4, 0, 5, 6, 2))
    r3new.abaab += np.transpose(tmp542, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1043, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp543 = einsum(r2.bab, (0, 1, 2), ints.tmp641, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp543, (1, 2, 0, 3, 4))
    tmp545 = einsum(tmp544, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 0, 4, 5, 1))
    del tmp544
    r3new.abaab += np.transpose(tmp545, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1051, (1, 2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    tmp548 = einsum(ints.tmp40, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 2), (1, 4, 5, 3, 6))
    r3new.abaab += np.transpose(tmp548, (0, 2, 1, 3, 4)) * 2
    tmp552 = einsum(tmp5, (0, 1, 2), t2.abab, (3, 4, 2, 5), (0, 1, 3, 4, 5)) * 0.5
    tmp553 = einsum(t1.aa, (0, 1), tmp552, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp552
    r3new.abaab += np.transpose(tmp553, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1069, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp551 = einsum(tmp23, (0, 1, 2), t2.abab, (3, 4, 2, 5), (0, 3, 4, 1, 5)) * 2
    del tmp23
    r3new.abaab += np.transpose(tmp551, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp536, (1, 2, 0, 3, 4)) * -1
    tmp549 = einsum(r2.aaa, (0, 1, 2), ints.tmp1062, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp549, (1, 2, 0, 3, 4)) * 2
    tmp550 = einsum(r1.a, (0,), ints.tmp1060, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp550, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1071, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp542, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp545, (0, 2, 1, 3, 4)) * -1
    del tmp545
    tmp554 = einsum(r2.bab, (0, 1, 2), ints.tmp636, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp554, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1043, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1051, (1, 0, 2, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp547, (1, 2, 0, 3, 4)) * -1
    del tmp547
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1052, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp549, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1071, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp550, (0, 2, 1, 3, 4))
    del tmp550
    r3new.abaab += np.transpose(tmp548, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp551, (1, 2, 0, 3, 4)) * -1
    del tmp551
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1067, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp553, (1, 2, 0, 3, 4))
    del tmp553
    tmp555 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 3, 6), (4, 5, 2, 6, 1))
    tmp556 = einsum(t1.aa, (0, 1), tmp555, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp557 = einsum(t1.bb, (0, 1), tmp556, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp556
    r3new.abaab += np.transpose(tmp557, (0, 2, 1, 3, 4)) * -2
    tmp558 = einsum(tmp25, (0, 1, 2), t2.abab, (1, 3, 4, 5), (2, 0, 3, 4, 5)) * 2
    del tmp25
    r3new.abaab += np.transpose(tmp558, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1080, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1077, (1, 2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * -1
    tmp559 = einsum(r2.aaa, (0, 1, 2), ints.tmp1081, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp560 = einsum(t1.bb, (0, 1), tmp559, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp559
    r3new.abaab += np.transpose(tmp560, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1092, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1095, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp565 = einsum(tmp111, (0, 1, 2), t2.abab, (3, 2, 4, 5), (3, 0, 1, 4, 5))
    del tmp111
    r3new.abaab += np.transpose(tmp565, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1090, (1, 2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * -1
    tmp564 = einsum(t1.bb, (0, 1), tmp40, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5)) * 3
    tmp562 = einsum(t1.bb, (0, 1), tmp428, (2, 3, 4, 5, 1), (3, 2, 4, 0, 5)) * -1
    del tmp428
    tmp563 = einsum(t1.aa, (0, 1), tmp562, (2, 3, 0, 4, 5), (3, 2, 4, 5, 1)) * -1
    del tmp562
    tmp564 += tmp563 * -1
    tmp561 = einsum(r2.aaa, (0, 1, 2), ints.tmp151, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    tmp564 += tmp561
    r3new.abaab += einsum(t1.bb, (0, 1), tmp564, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1)) * 2
    del tmp564
    r3new.abaab += einsum(ints.tmp299, (0, 1), r2.aaa, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.abaab += np.transpose(tmp565, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1095, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp566 = einsum(r1.a, (0,), ints.tmp1089, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp566, (0, 2, 1, 3, 4))
    tmp567 = einsum(t1.bb, (0, 1), tmp561, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abaab += np.transpose(tmp567, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1092, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp568 = einsum(r1.a, (0,), ints.tmp1098, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp568, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp557, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1080, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp558, (1, 2, 0, 3, 4))
    tmp569 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 3, 0, 5, 6), (4, 2, 6, 1, 5))
    tmp570 = einsum(t1.aa, (0, 1), tmp569, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp569
    r3new.abaab += np.transpose(tmp570, (0, 2, 1, 3, 4)) * -2
    tmp571 = einsum(r1.a, (0,), ints.tmp1100, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp571, (1, 2, 0, 3, 4)) * -1
    tmp572 = einsum(r2.bab, (0, 1, 2), ints.tmp206, (3, 4, 5, 0), (3, 4, 1, 5, 2)) * -1
    tmp574 = np.copy(tmp572) * -0.5
    tmp573 = einsum(t1.aa, (0, 1), tmp93, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    tmp574 += np.transpose(tmp573, (1, 2, 0, 3, 4))
    tmp575 = einsum(t1.aa, (0, 1), tmp574, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp574
    r3new.abaab += np.transpose(tmp575, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(ints.tmp68, (0, 1), r2.bab, (2, 3, 4), (3, 2, 0, 1, 4)) * -1
    r3new.abaab += np.transpose(tmp575, (0, 2, 1, 3, 4)) * -1
    del tmp575
    r3new.abaab += np.transpose(tmp571, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(ints.tmp68, (0, 1), r2.bab, (2, 3, 4), (0, 2, 3, 1, 4))
    r3new.abaab += np.transpose(tmp570, (1, 2, 0, 3, 4)) * 2
    tmp577 = einsum(r2.aaa, (0, 1, 2), ints.tmp1108, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp577, (0, 2, 1, 3, 4)) * -4
    tmp576 = einsum(r2.bab, (0, 1, 2), ints.tmp584, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp576, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1112, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (0, 3, 1, 2, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1112, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp576, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp577, (1, 2, 0, 3, 4)) * 4
    del tmp577
    r3new.abaab += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (1, 3, 0, 2, 4))
    tmp581 = einsum(r2.aaa, (0, 1, 2), v.aabb.ooov, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.abaab += np.transpose(tmp581, (0, 2, 1, 3, 4)) * 2
    tmp582 = einsum(r2.bab, (0, 1, 2), ints.tmp85, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp582, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1114, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp578 = einsum(ints.tmp21, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 2), (0, 4, 3, 5))
    tmp579 = einsum(tmp578, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 2), (4, 1, 5, 3, 6))
    del tmp578
    r3new.abaab += np.transpose(tmp579, (1, 2, 0, 3, 4)) * 4
    tmp580 = einsum(t2.abab, (0, 1, 2, 3), tmp88, (4, 5, 1, 6, 3), (4, 0, 5, 2, 6))
    del tmp88
    r3new.abaab += np.transpose(tmp580, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp579, (0, 2, 1, 3, 4)) * -4
    r3new.abaab += np.transpose(tmp580, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp581, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp582, (1, 2, 0, 3, 4)) * 2
    del tmp582
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1114, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp584 = einsum(r2.bab, (0, 1, 2), v.aabb.ovvv, (3, 4, 5, 2), (1, 3, 0, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp584, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1118, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    tmp583 = einsum(r2.aaa, (0, 1, 2), ints.tmp194, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    r3new.abaab += einsum(t1.bb, (0, 1), tmp583, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1)) * 2
    del tmp583
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1122, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp585 = einsum(r2.aaa, (0, 1, 2), v.aabb.vvov, (3, 2, 4, 5), (0, 1, 4, 3, 5))
    r3new.abaab += np.transpose(tmp585, (1, 2, 0, 3, 4)) * 2
    tmp586 = einsum(r2.bab, (0, 1, 2), ints.tmp128, (3, 4, 1, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp586, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp584, (1, 2, 0, 3, 4))
    tmp587 = einsum(v.aabb.vvoo, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 6, 1), (4, 5, 2, 0, 6))
    r3new.abaab += np.transpose(tmp587, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp588 = einsum(r2.aaa, (0, 1, 2), v.aabb.vvoo, (3, 2, 4, 5), (0, 1, 4, 5, 3))
    tmp589 = einsum(t1.bb, (0, 1), tmp588, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp588
    r3new.abaab += np.transpose(tmp589, (1, 2, 0, 3, 4)) * -2
    tmp590 = einsum(r2.bab, (0, 1, 2), ints.tmp1128, (3, 4, 5, 2), (3, 1, 0, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp590, (1, 2, 0, 3, 4))
    tmp591 = einsum(v.aabb.vvvv, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 1), (4, 6, 5, 0, 2))
    r3new.abaab += np.transpose(tmp591, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp278, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1132, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    tmp592 = einsum(r2.aaa, (0, 1, 2), ints.tmp184, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    r3new.abaab += einsum(t1.bb, (0, 1), tmp592, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1)) * 2
    del tmp592
    tmp593 = einsum(r2.bab, (0, 1, 2), ints.tmp138, (3, 4, 1, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp593, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp593, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1122, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1143, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp594 = einsum(r1.a, (0,), ints.tmp1134, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp594, (0, 2, 1, 3, 4))
    tmp595 = einsum(r2.aaa, (0, 1, 2), ints.tmp280, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    tmp596 = einsum(t1.bb, (0, 1), tmp595, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp595
    r3new.abaab += np.transpose(tmp596, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp278, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp461, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp463, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp520, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1150, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp597 = einsum(r1.a, (0,), ints.tmp1144, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp597, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp511, (1, 2, 0, 3, 4)) * -1
    tmp598 = einsum(t1.aa, (0, 1), tmp516, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp516
    tmp599 = np.copy(np.transpose(tmp598, (0, 1, 3, 2, 4))) * 0.5
    tmp599 += np.transpose(tmp514, (0, 1, 3, 2, 4))
    r3new.abaab += einsum(t1.bb, (0, 1), tmp599, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1)) * -2
    del tmp599
    tmp601 = einsum(r2.aaa, (0, 1, 2), ints.tmp1151, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp601, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1155, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1153, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp600 = einsum(r2.bab, (0, 1, 2), ints.tmp193, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp600, (1, 2, 0, 3, 4))
    tmp602 = einsum(r2.bab, (0, 1, 2), ints.tmp764, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp602, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1158, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp603 = einsum(r2.aaa, (0, 1, 2), ints.tmp1156, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp603, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    tmp604 = einsum(r2.bab, (0, 1, 2), ints.tmp160, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp604, (0, 2, 1, 3, 4)) * -2
    tmp605 = einsum(r2.bab, (0, 1, 2), v.aabb.oovv, (3, 4, 5, 2), (1, 3, 4, 0, 5)) * -1
    tmp606 = einsum(t1.aa, (0, 1), tmp605, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp605
    r3new.abaab += np.transpose(tmp606, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1162, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1167, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp607 = einsum(r2.aaa, (0, 1, 2), ints.tmp1165, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp607, (1, 2, 0, 3, 4)) * 2
    tmp608 = einsum(r2.bab, (0, 1, 2), ints.tmp586, (3, 4, 1, 5), (3, 4, 0, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp608, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp607, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp608, (0, 2, 1, 3, 4)) * 2
    del tmp608
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1167, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp600, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1153, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp601, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1155, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp603, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1158, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp602, (1, 2, 0, 3, 4))
    del tmp602
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1162, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp604, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp606, (1, 2, 0, 3, 4)) * -1
    tmp609 = einsum(r2.bab, (0, 1, 2), v.aabb.vvvv, (3, 4, 5, 2), (1, 0, 3, 4, 5)) * -1
    tmp610 = einsum(t1.aa, (0, 1), tmp609, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp609
    r3new.abaab += np.transpose(tmp610, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1176, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp611 = einsum(r2.aaa, (0, 1, 2), v.aabb.vvvv, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp612 = einsum(t1.bb, (0, 1), tmp611, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp611
    r3new.abaab += np.transpose(tmp612, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp610, (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp504, (0, 2, 1, 3, 4)) * -2
    tmp613 = einsum(t1.aa, (0, 1), tmp507, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abaab += np.transpose(tmp613, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp981, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1192, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp614 = einsum(r1.a, (0,), ints.tmp1188, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp614, (1, 2, 0, 3, 4)) * -1
    tmp615 = einsum(ints.tmp124, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 6, 2), (4, 5, 1, 3, 6))
    tmp617 = np.copy(tmp615)
    del tmp615
    tmp616 = einsum(tmp50, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 2, 5)) * -1
    del tmp50
    tmp617 += np.transpose(tmp616, (0, 1, 3, 2, 4))
    del tmp616
    tmp618 = einsum(t1.aa, (0, 1), tmp617, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * 2
    del tmp617
    r3new.abaab += np.transpose(tmp618, (1, 2, 0, 3, 4))
    tmp619 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 6, 1), (4, 5, 0, 6, 3))
    tmp620 = einsum(t1.bb, (0, 1), tmp619, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp619
    r3new.abaab += np.transpose(tmp620, (0, 2, 1, 3, 4)) * 2
    tmp621 = einsum(t1.bb, (0, 1), tmp585, (2, 3, 4, 5, 1), (3, 2, 0, 4, 5)) * -1
    tmp622 = einsum(t1.bb, (0, 1), tmp621, (2, 3, 4, 0, 5), (3, 2, 4, 5, 1)) * -1
    del tmp621
    r3new.abaab += np.transpose(tmp622, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1195, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp623 = einsum(r1.a, (0,), ints.tmp1206, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp623, (1, 2, 0, 3, 4)) * -1
    tmp624 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 5, 0, 3, 6), (4, 5, 6, 1, 2))
    tmp626 = np.copy(tmp624) * 2
    del tmp624
    tmp625 = einsum(tmp101, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    del tmp101
    tmp626 += tmp625
    del tmp625
    tmp627 = einsum(t1.aa, (0, 1), tmp626, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp626
    r3new.abaab += np.transpose(tmp627, (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp618, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp614, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1192, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp627, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp623, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp590, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp849, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp628 = einsum(r2.bab, (0, 1, 2), ints.tmp179, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp628, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp537, (1, 2, 0, 3, 4)) * 4
    del tmp537
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1039, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1213, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp629 = einsum(r2.bab, (0, 1, 2), ints.tmp249, (3, 4, 5, 2), (3, 4, 1, 0, 5)) * -1
    tmp630 = einsum(t1.aa, (0, 1), tmp629, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp629
    r3new.abaab += np.transpose(tmp630, (1, 2, 0, 3, 4)) * -1
    tmp631 = einsum(r2.aaa, (0, 1, 2), ints.tmp260, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp631, (1, 2, 0, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp631, (0, 2, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp630, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1213, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp632 = einsum(r2.aaa, (0, 1, 2), ints.tmp170, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp633 = einsum(t1.bb, (0, 1), tmp632, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp632
    r3new.abaab += np.transpose(tmp633, (0, 2, 1, 3, 4)) * -2
    tmp634 = einsum(t2.abab, (0, 1, 2, 3), tmp508, (4, 5, 0, 6, 3), (4, 5, 1, 2, 6))
    del tmp508
    r3new.abaab += np.transpose(tmp634, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += np.transpose(tmp628, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1219, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp635 = einsum(r2.bab, (0, 1, 2), ints.tmp1217, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp635, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1222, (1, 2, 3, 4), (0, 2, 1, 3, 4))
    tmp636 = einsum(r2.aaa, (0, 1, 2), ints.tmp1220, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.abaab += np.transpose(tmp636, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r2.bab, (0, 1, 2), ints.tmp185, (3, 4, 0, 5), (3, 4, 1, 5, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1223, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1224, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r2.aaa, (0, 1, 2), ints.tmp277, (3, 1, 4, 5), (3, 4, 0, 2, 5)) * -2
    tmp637 = einsum(tmp100, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    del tmp100
    r3new.abaab += np.transpose(tmp637, (0, 2, 1, 3, 4)) * -2
    tmp638 = einsum(r2.bab, (0, 1, 2), ints.tmp1227, (3, 4, 2, 5), (3, 1, 0, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp638, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp638, (0, 2, 1, 3, 4))
    tmp639 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 2, 0, 5, 6), (4, 6, 1, 5, 3))
    tmp640 = einsum(t1.aa, (0, 1), tmp639, (2, 3, 1, 4, 5), (2, 0, 3, 4, 5))
    del tmp639
    tmp641 = einsum(t1.bb, (0, 1), tmp640, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp640
    r3new.abaab += np.transpose(tmp641, (0, 2, 1, 3, 4)) * -2
    tmp642 = einsum(ints.tmp184, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 6), (0, 4, 2, 6, 5))
    r3new.abaab += np.transpose(tmp642, (1, 2, 0, 3, 4)) * -2
    tmp643 = einsum(r2.bab, (0, 1, 2), ints.tmp280, (3, 4, 5, 0), (3, 4, 1, 5, 2)) * -1
    tmp644 = einsum(t1.aa, (0, 1), tmp643, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp643
    r3new.abaab += np.transpose(tmp644, (1, 2, 0, 3, 4)) * -1
    tmp645 = einsum(ints.tmp118, (0, 1, 2, 3), r3.ababa, (2, 4, 3, 5, 6), (0, 1, 4, 6, 5))
    r3new.abaab += np.transpose(tmp645, (0, 2, 1, 3, 4)) * -2
    tmp646 = einsum(r2.bab, (0, 1, 2), ints.tmp118, (3, 4, 1, 5), (3, 4, 5, 0, 2)) * -1
    tmp647 = einsum(t1.aa, (0, 1), tmp646, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp646
    r3new.abaab += np.transpose(tmp647, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp642, (0, 2, 1, 3, 4)) * 2
    tmp648 = einsum(r2.bab, (0, 1, 2), ints.tmp184, (3, 4, 5, 0), (3, 4, 1, 5, 2)) * -1
    r3new.abaab += einsum(t1.aa, (0, 1), tmp648, (2, 0, 3, 4, 5), (2, 4, 3, 1, 5))
    del tmp648
    tmp649 = einsum(t2.abab, (0, 1, 2, 3), tmp555, (4, 5, 1, 6, 2), (4, 0, 5, 6, 3))
    del tmp555
    r3new.abaab += np.transpose(tmp649, (0, 2, 1, 3, 4)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1242, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp650 = einsum(r1.a, (0,), ints.tmp1240, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp650, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp649, (1, 2, 0, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp650, (1, 2, 0, 3, 4)) * -1
    del tmp650
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1242, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp445, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp875, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp890, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp898, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    tmp652 = einsum(r2.bab, (0, 1, 2), ints.tmp1081, (3, 4, 5, 2), (1, 0, 3, 4, 5)) * -1
    tmp653 = einsum(t1.aa, (0, 1), tmp652, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp652
    r3new.abaab += np.transpose(tmp653, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1256, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp655 = einsum(r2.aaa, (0, 1, 2), ints.tmp206, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    tmp658 = np.copy(tmp655)
    tmp656 = einsum(t1.aa, (0, 1), tmp425, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp425
    tmp657 = einsum(t1.aa, (0, 1), tmp656, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp656
    tmp658 += np.transpose(tmp657, (1, 0, 3, 2, 4)) * 0.5
    tmp659 = einsum(t1.bb, (0, 1), tmp658, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp658
    r3new.abaab += np.transpose(tmp659, (1, 2, 0, 3, 4)) * -1
    tmp651 = einsum(r1.a, (0,), ints.tmp1247, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp651, (1, 2, 0, 3, 4))
    tmp654 = einsum(tmp83, (0, 1, 2), t2.abab, (3, 2, 4, 5), (0, 3, 1, 4, 5))
    del tmp83
    r3new.abaab += np.transpose(tmp654, (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp651, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp654, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp659, (0, 2, 1, 3, 4))
    del tmp659
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1256, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += np.transpose(tmp653, (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1195, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp961, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1258, (1, 2, 3, 4), (0, 2, 1, 3, 4)) * -1
    tmp660 = einsum(r2.bab, (0, 1, 2), ints.tmp208, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.abaab += np.transpose(tmp660, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp660, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1258, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp661 = einsum(t1.aa, (0, 1), tmp584, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    tmp662 = einsum(t1.aa, (0, 1), tmp661, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp661
    r3new.abaab += np.transpose(tmp662, (0, 2, 1, 3, 4))
    r3new.abaab += einsum(r2.bab, (0, 1, 2), ints.tmp825, (3, 4, 0, 5), (3, 4, 1, 5, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1261, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1262, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abaab += einsum(r2.aaa, (0, 1, 2), ints.tmp279, (3, 1, 4, 5), (3, 4, 0, 2, 5)) * -2
    r3new.abaab += np.transpose(tmp662, (1, 2, 0, 3, 4)) * -1
    tmp663 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.ababa, (0, 4, 2, 5, 6), (4, 6, 3, 1, 5)) * -1
    tmp664 = einsum(t1.aa, (0, 1), tmp663, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * -1
    del tmp663
    tmp665 = einsum(t1.aa, (0, 1), tmp664, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp664
    r3new.abaab += np.transpose(tmp665, (0, 2, 1, 3, 4)) * -2
    tmp666 = einsum(r2.bab, (0, 1, 2), ints.tmp141, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -1
    tmp667 = einsum(t1.aa, (0, 1), tmp666, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp666
    r3new.abaab += np.transpose(tmp667, (0, 2, 1, 3, 4))
    r3new.abaab += np.transpose(tmp667, (1, 2, 0, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp641, (1, 2, 0, 3, 4)) * 2
    tmp668 = einsum(r2.bab, (0, 1, 2), ints.tmp194, (3, 4, 5, 0), (3, 4, 1, 5, 2)) * -1
    r3new.abaab += einsum(t1.aa, (0, 1), tmp668, (2, 0, 3, 4, 5), (2, 4, 3, 1, 5))
    del tmp668
    tmp669 = einsum(r1.a, (0,), ints.tmp1269, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp669, (0, 2, 1, 3, 4)) * -2
    tmp670 = einsum(r1.a, (0,), ints.tmp1271, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp670, (0, 2, 1, 3, 4)) * -1
    r3new.abaab += np.transpose(tmp670, (1, 2, 0, 3, 4))
    r3new.baaba = np.copy(np.transpose(tmp427, (2, 0, 1, 4, 3))) * -4
    r3new.baaba += np.transpose(tmp93, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp834, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp424, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp426, (2, 0, 1, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp838, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(ints.tmp70, (0, 1), r2.bab, (2, 3, 4), (2, 3, 0, 4, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp838, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.baaba += einsum(ints.tmp70, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.baaba += np.transpose(tmp424, (2, 1, 0, 4, 3)) * -1
    del tmp424
    r3new.baaba += np.transpose(tmp426, (2, 1, 0, 4, 3)) * -1
    del tmp426
    r3new.baaba += np.transpose(tmp427, (2, 1, 0, 4, 3)) * 4
    del tmp427
    r3new.baaba += np.transpose(tmp93, (2, 1, 0, 4, 3)) * 2
    del tmp93
    r3new.baaba += einsum(r1.a, (0,), ints.tmp834, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp849, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp38, (2, 1, 0, 4, 3)) * 6
    del tmp38
    r3new.baaba += np.transpose(tmp429, (2, 1, 0, 4, 3)) * -2
    del tmp429
    r3new.baaba += np.transpose(tmp430, (2, 1, 0, 4, 3)) * -2
    del tmp430
    r3new.baaba += np.transpose(tmp432, (2, 1, 0, 4, 3)) * -2
    del tmp432
    r3new.baaba += np.transpose(tmp433, (2, 1, 0, 4, 3)) * 2
    del tmp433
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1614, (1, 2, 0, 3, 4, 5), (3, 2, 1, 5, 4)) * 2
    r3new.baaba += einsum(ints.tmp223, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.baaba += einsum(tmp87, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (0, 3, 4, 2, 5)) * -4
    del tmp87
    r3new.baaba += np.transpose(tmp435, (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp436, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp861, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp440, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp437, (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp439, (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp437, (2, 0, 1, 4, 3)) * -2
    del tmp437
    r3new.baaba += np.transpose(tmp439, (2, 0, 1, 4, 3)) * -2
    del tmp439
    r3new.baaba += np.transpose(tmp450, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1615, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp435, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp440, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp447, (2, 1, 0, 4, 3)) * 2
    del tmp447
    r3new.baaba += np.transpose(tmp448, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp861, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp436, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp450, (2, 1, 0, 4, 3))
    del tmp450
    r3new.baaba += einsum(r1.a, (0,), ints.tmp875, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp442, (2, 1, 0, 4, 3)) * 2
    del tmp442
    r3new.baaba += np.transpose(tmp443, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp444, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp446, (2, 1, 0, 4, 3)) * -2
    del tmp446
    r3new.baaba += np.transpose(tmp445, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(t1.bb, (0, 1), tmp473, (2, 3, 0, 4, 5), (4, 3, 2, 1, 5)) * 2
    del tmp473
    r3new.baaba += einsum(r1.a, (0,), ints.tmp898, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp456, (2, 1, 0, 4, 3)) * 2
    del tmp456
    r3new.baaba += np.transpose(tmp458, (2, 1, 0, 4, 3)) * -2
    del tmp458
    r3new.baaba += np.transpose(tmp459, (2, 1, 0, 4, 3)) * 2
    del tmp459
    r3new.baaba += np.transpose(tmp460, (2, 1, 0, 4, 3)) * -2
    del tmp460
    r3new.baaba += einsum(r1.a, (0,), ints.tmp890, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp451, (2, 1, 0, 4, 3)) * 2
    del tmp451
    r3new.baaba += np.transpose(tmp452, (2, 1, 0, 4, 3)) * -2
    del tmp452
    r3new.baaba += np.transpose(tmp453, (2, 1, 0, 4, 3)) * 2
    del tmp453
    r3new.baaba += np.transpose(tmp455, (2, 1, 0, 4, 3)) * -2
    del tmp455
    r3new.baaba += np.transpose(tmp461, (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp462, (2, 0, 1, 4, 3)) * -1
    del tmp462
    r3new.baaba += np.transpose(tmp463, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp464, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1149, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(ints.tmp102, (0, 1), r2.bab, (2, 3, 4), (2, 3, 0, 4, 1)) * -1
    r3new.baaba += einsum(t1.bb, (0, 1), tmp598, (2, 3, 4, 0, 5), (4, 2, 3, 1, 5)) * -1
    del tmp598
    tmp927 = np.copy(np.transpose(tmp465, (0, 2, 1, 3, 4))) * -1
    del tmp465
    tmp927 += np.transpose(tmp466, (0, 2, 1, 3, 4)) * 2
    del tmp466
    r3new.baaba += einsum(t1.aa, (0, 1), tmp927, (2, 0, 3, 4, 5), (4, 2, 3, 5, 1))
    del tmp927
    r3new.baaba += einsum(r1.a, (0,), ints.tmp935, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(ints.tmp102, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1))
    r3new.baaba += np.transpose(tmp461, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp464, (2, 1, 0, 4, 3)) * 2
    del tmp464
    r3new.baaba += np.transpose(tmp476, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp479, (2, 1, 0, 4, 3)) * -1
    del tmp479
    r3new.baaba += np.transpose(tmp463, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1617, (0, 1, 2, 3, 4, 5), (3, 2, 1, 5, 4))
    r3new.baaba += einsum(ints.tmp66, (0, 1), r3.ababa, (2, 3, 4, 5, 1), (3, 2, 4, 5, 0)) * 4
    tmp928 = einsum(t1.aa, (0, 1), tmp517, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp517
    r3new.baaba += einsum(t1.bb, (0, 1), tmp928, (2, 3, 4, 0, 5), (4, 3, 2, 1, 5))
    del tmp928
    r3new.baaba += einsum(r1.a, (0,), ints.tmp925, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp443, (2, 1, 0, 4, 3)) * -1
    del tmp443
    r3new.baaba += np.transpose(tmp444, (2, 1, 0, 4, 3)) * -1
    del tmp444
    r3new.baaba += np.transpose(tmp468, (2, 1, 0, 4, 3)) * 2
    del tmp468
    r3new.baaba += np.transpose(tmp445, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp470, (2, 1, 0, 4, 3))
    tmp929 = np.copy(tmp474) * 0.3333333333333333
    del tmp474
    tmp929 += np.transpose(tmp471, (0, 1, 3, 2, 4))
    del tmp471
    r3new.baaba += einsum(t1.bb, (0, 1), tmp929, (2, 3, 4, 0, 5), (4, 3, 2, 1, 5)) * -6
    del tmp929
    r3new.baaba += einsum(ints.tmp1621, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * 4
    r3new.baaba += np.transpose(tmp481, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp937, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp484, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp485, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(ints.tmp944, (0, 1), r2.bab, (2, 3, 4), (2, 3, 0, 4, 1)) * 2
    r3new.baaba += np.transpose(tmp485, (2, 0, 1, 4, 3)) * -1
    del tmp485
    r3new.baaba += einsum(ints.tmp944, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.baaba += np.transpose(tmp481, (2, 1, 0, 4, 3)) * 2
    del tmp481
    r3new.baaba += np.transpose(tmp484, (2, 1, 0, 4, 3)) * -1
    del tmp484
    r3new.baaba += einsum(r1.a, (0,), ints.tmp937, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp961, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp494, (2, 0, 1, 4, 3))
    del tmp494
    r3new.baaba += np.transpose(tmp486, (2, 1, 0, 4, 3)) * 2
    del tmp486
    r3new.baaba += np.transpose(tmp489, (2, 1, 0, 4, 3)) * -2
    del tmp489
    r3new.baaba += einsum(ints.tmp363, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp971, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp495, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp496, (2, 1, 0, 4, 3)) * 4
    r3new.baaba += np.transpose(tmp498, (2, 1, 0, 4, 3)) * -2
    tmp930 = np.copy(tmp499) * 0.5
    del tmp499
    tmp930 += np.transpose(tmp500, (2, 1, 0, 3, 4))
    del tmp500
    tmp931 = einsum(t1.aa, (0, 1), tmp930, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp930
    r3new.baaba += np.transpose(tmp931, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp496, (2, 0, 1, 4, 3)) * -4
    del tmp496
    r3new.baaba += np.transpose(tmp498, (2, 0, 1, 4, 3)) * 2
    del tmp498
    r3new.baaba += np.transpose(tmp931, (2, 0, 1, 4, 3)) * -1
    del tmp931
    r3new.baaba += np.transpose(tmp495, (2, 0, 1, 4, 3))
    del tmp495
    r3new.baaba += einsum(r1.a, (0,), ints.tmp971, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp981, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp504, (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp505, (2, 1, 0, 4, 3)) * -1
    del tmp505
    r3new.baaba += np.transpose(tmp506, (2, 1, 0, 4, 3)) * -4
    del tmp506
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1094, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += einsum(t1.bb, (0, 1), tmp563, (2, 3, 4, 0, 5), (4, 3, 2, 1, 5)) * 2
    del tmp563
    tmp932 = np.copy(tmp507)
    del tmp507
    tmp932 += np.transpose(tmp509, (2, 1, 0, 3, 4)) * 2
    del tmp509
    r3new.baaba += einsum(t1.aa, (0, 1), tmp932, (0, 2, 3, 4, 5), (4, 2, 3, 5, 1))
    del tmp932
    r3new.baaba += einsum(r1.a, (0,), ints.tmp935, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp511, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp461, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp476, (2, 1, 0, 4, 3)) * -1
    del tmp476
    r3new.baaba += np.transpose(tmp513, (2, 1, 0, 4, 3)) * 2
    del tmp513
    r3new.baaba += np.transpose(tmp463, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp520, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1623, (1, 0, 2, 3, 4, 5), (3, 2, 1, 5, 4))
    r3new.baaba += einsum(ints.tmp352, (0, 1), r3.ababa, (2, 3, 4, 1, 5), (3, 2, 4, 0, 5)) * 4
    tmp933 = np.copy(np.transpose(tmp514, (0, 1, 3, 2, 4)))
    tmp933 += np.transpose(tmp515, (1, 0, 2, 3, 4))
    del tmp515
    r3new.baaba += einsum(t1.bb, (0, 1), tmp933, (2, 3, 0, 4, 5), (4, 3, 2, 1, 5)) * 2
    del tmp933
    r3new.baaba += np.transpose(tmp435, (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp436, (2, 0, 1, 4, 3)) * -1
    del tmp436
    r3new.baaba += np.transpose(tmp522, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1000, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp440, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp523, (2, 1, 0, 4, 3)) * -1
    del tmp523
    r3new.baaba += einsum(r1.a, (0,), ints.tmp887, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp435, (2, 1, 0, 4, 3)) * -2
    del tmp435
    r3new.baaba += np.transpose(tmp440, (2, 1, 0, 4, 3)) * -1
    del tmp440
    r3new.baaba += np.transpose(tmp448, (2, 1, 0, 4, 3)) * -2
    del tmp448
    r3new.baaba += np.transpose(tmp522, (2, 1, 0, 4, 3)) * 2
    del tmp522
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1000, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp524, (2, 1, 0, 4, 3))
    del tmp524
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1625, (1, 0, 2, 3, 4, 5), (3, 2, 1, 5, 4))
    r3new.baaba += np.transpose(tmp445, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp470, (2, 0, 1, 4, 3)) * -1
    del tmp470
    r3new.baaba += einsum(r1.a, (0,), ints.tmp925, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1018, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp526, (2, 1, 0, 4, 3)) * -2
    del tmp526
    tmp935 = einsum(tmp934, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 0, 4, 5, 2)) * 2
    del tmp934
    r3new.baaba += np.transpose(tmp935, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1627, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r2.aaa, (0, 1, 2), ints.tmp1191, (3, 2, 4, 5), (3, 0, 1, 5, 4)) * -2
    r3new.baaba += np.transpose(tmp528, (2, 1, 0, 4, 3))
    del tmp528
    r3new.baaba += np.transpose(tmp935, (2, 0, 1, 4, 3))
    del tmp935
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1018, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp525, (2, 1, 0, 4, 3)) * -1
    del tmp525
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1627, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp532, (2, 0, 1, 4, 3)) * -4
    r3new.baaba += np.transpose(tmp533, (2, 0, 1, 4, 3)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1024, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp531, (2, 1, 0, 4, 3)) * 2
    tmp936 = einsum(r2.bab, (0, 1, 2), ints.tmp1629, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -1
    r3new.baaba += np.transpose(tmp936, (2, 1, 0, 4, 3)) * 2
    r3new.baaba += einsum(ints.tmp98, (0, 1), r2.bab, (2, 3, 4), (2, 3, 0, 4, 1)) * 2
    r3new.baaba += np.transpose(tmp531, (2, 0, 1, 4, 3)) * -2
    del tmp531
    r3new.baaba += np.transpose(tmp936, (2, 0, 1, 4, 3)) * -2
    del tmp936
    r3new.baaba += einsum(ints.tmp98, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.baaba += np.transpose(tmp532, (2, 1, 0, 4, 3)) * 4
    del tmp532
    r3new.baaba += np.transpose(tmp533, (2, 1, 0, 4, 3)) * -2
    del tmp533
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1024, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    tmp937 = einsum(r2.aaa, (0, 1, 2), ints.tmp1040, (1, 3, 4, 5), (3, 0, 4, 2, 5))
    r3new.baaba += np.transpose(tmp937, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp536, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp535, (2, 1, 0, 4, 3)) * -2
    del tmp535
    r3new.baaba += np.transpose(tmp539, (2, 1, 0, 4, 3)) * -6
    del tmp539
    r3new.baaba += np.transpose(tmp540, (2, 1, 0, 4, 3)) * 2
    del tmp540
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(ints.tmp1035, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.baaba += einsum(t2.bbbb, (0, 1, 2, 3), tmp40, (4, 5, 1, 6, 3), (0, 4, 5, 2, 6)) * -12
    r3new.baaba += np.transpose(tmp548, (2, 0, 1, 4, 3)) * 2
    tmp940 = einsum(tmp5, (0, 1, 2), t2.abab, (3, 4, 2, 5), (0, 1, 3, 4, 5))
    del tmp5
    tmp941 = einsum(t1.aa, (0, 1), tmp940, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp940
    r3new.baaba += np.transpose(tmp941, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1067, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp536, (2, 1, 0, 4, 3)) * -1
    del tmp536
    r3new.baaba += np.transpose(tmp549, (2, 1, 0, 4, 3)) * 2
    tmp938 = einsum(r1.a, (0,), ints.tmp1636, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.baaba += np.transpose(tmp938, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1071, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    tmp939 = einsum(tmp158, (0, 1, 2), t2.abab, (3, 4, 2, 5), (3, 0, 4, 1, 5)) * 6
    del tmp158
    r3new.baaba += np.transpose(tmp939, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1644, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    tmp944 = einsum(tmp2, (0, 1, 2), t2.abab, (3, 4, 5, 2), (0, 3, 1, 4, 5)) * 0.5
    del tmp2
    tmp945 = einsum(t1.bb, (0, 1), tmp944, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp944
    r3new.baaba += np.transpose(tmp945, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp542, (2, 1, 0, 4, 3)) * -2
    tmp942 = einsum(r1.a, (0,), ints.tmp1640, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.baaba += np.transpose(tmp942, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1043, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp543, (2, 1, 0, 4, 3))
    del tmp543
    tmp943 = einsum(tmp109, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 0, 4, 5, 1)) * 2
    del tmp109
    r3new.baaba += np.transpose(tmp943, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp549, (2, 0, 1, 4, 3)) * -2
    del tmp549
    r3new.baaba += np.transpose(tmp939, (2, 0, 1, 4, 3)) * -1
    del tmp939
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1071, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp938, (2, 0, 1, 4, 3))
    del tmp938
    r3new.baaba += np.transpose(tmp548, (2, 1, 0, 4, 3)) * -2
    del tmp548
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1067, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp941, (2, 1, 0, 4, 3))
    del tmp941
    r3new.baaba += np.transpose(tmp542, (2, 0, 1, 4, 3)) * 2
    del tmp542
    r3new.baaba += np.transpose(tmp554, (2, 0, 1, 4, 3)) * -1
    del tmp554
    r3new.baaba += np.transpose(tmp943, (2, 0, 1, 4, 3)) * -1
    del tmp943
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1043, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp942, (2, 0, 1, 4, 3))
    del tmp942
    r3new.baaba += np.transpose(tmp945, (2, 1, 0, 4, 3)) * -1
    del tmp945
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1052, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp557, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp558, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1080, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp568, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp568, (2, 0, 1, 4, 3))
    del tmp568
    r3new.baaba += np.transpose(tmp557, (2, 1, 0, 4, 3)) * 2
    del tmp557
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1080, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp558, (2, 1, 0, 4, 3))
    del tmp558
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1092, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp560, (2, 1, 0, 4, 3)) * 2
    del tmp560
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1093, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp565, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1646, (1, 0, 2, 3, 4, 5), (3, 2, 1, 5, 4)) * -1
    tmp946 = einsum(t1.bb, (0, 1), tmp40, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp40
    tmp946 += tmp561 * 0.3333333333333333
    del tmp561
    r3new.baaba += einsum(t1.bb, (0, 1), tmp946, (2, 3, 4, 0, 5), (4, 2, 3, 1, 5)) * 6
    del tmp946
    r3new.baaba += einsum(ints.tmp299, (0, 1), r2.aaa, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.baaba += np.transpose(tmp565, (2, 0, 1, 4, 3)) * -1
    del tmp565
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1093, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp566, (2, 0, 1, 4, 3))
    del tmp566
    r3new.baaba += np.transpose(tmp567, (2, 1, 0, 4, 3)) * -2
    del tmp567
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1092, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp570, (2, 0, 1, 4, 3)) * -2
    tmp947 = einsum(t1.bb, (0, 1), tmp657, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp657
    r3new.baaba += np.transpose(tmp947, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1255, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp571, (2, 1, 0, 4, 3)) * -1
    tmp948 = np.copy(tmp572) * -1
    del tmp572
    tmp948 += np.transpose(tmp573, (1, 2, 0, 3, 4)) * 2
    del tmp573
    tmp949 = einsum(t1.aa, (0, 1), tmp948, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp948
    r3new.baaba += np.transpose(tmp949, (2, 1, 0, 4, 3))
    r3new.baaba += einsum(ints.tmp68, (0, 1), r2.bab, (2, 3, 4), (2, 3, 0, 4, 1)) * -1
    r3new.baaba += np.transpose(tmp949, (2, 0, 1, 4, 3)) * -1
    del tmp949
    r3new.baaba += np.transpose(tmp571, (2, 0, 1, 4, 3))
    del tmp571
    r3new.baaba += einsum(ints.tmp68, (0, 1), r2.bab, (2, 3, 4), (2, 0, 3, 4, 1))
    r3new.baaba += np.transpose(tmp570, (2, 1, 0, 4, 3)) * 2
    del tmp570
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1255, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp947, (2, 1, 0, 4, 3))
    del tmp947
    tmp950 = einsum(r2.aaa, (0, 1, 2), ints.tmp1111, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.baaba += np.transpose(tmp950, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp576, (2, 0, 1, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1112, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (3, 0, 1, 4, 2)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1112, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp576, (2, 1, 0, 4, 3)) * -1
    del tmp576
    r3new.baaba += np.transpose(tmp950, (2, 1, 0, 4, 3)) * 2
    del tmp950
    r3new.baaba += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (3, 1, 0, 4, 2))
    r3new.baaba += np.transpose(tmp581, (2, 0, 1, 4, 3)) * 2
    tmp951 = einsum(r2.bab, (0, 1, 2), ints.tmp558, (3, 1, 4, 5), (3, 4, 0, 5, 2)) * -1
    r3new.baaba += np.transpose(tmp951, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1114, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp579, (2, 1, 0, 4, 3)) * 4
    r3new.baaba += np.transpose(tmp580, (2, 1, 0, 4, 3)) * 2
    tmp952 = einsum(r1.a, (0,), ints.tmp1652, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.baaba += np.transpose(tmp952, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1039, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp579, (2, 0, 1, 4, 3)) * -4
    del tmp579
    r3new.baaba += np.transpose(tmp580, (2, 0, 1, 4, 3)) * -2
    del tmp580
    r3new.baaba += np.transpose(tmp952, (2, 0, 1, 4, 3)) * 2
    del tmp952
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1039, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp581, (2, 1, 0, 4, 3)) * -2
    del tmp581
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1114, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp951, (2, 1, 0, 4, 3))
    del tmp951
    r3new.baaba += np.transpose(tmp584, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp584, (2, 1, 0, 4, 3))
    del tmp584
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1122, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp585, (2, 1, 0, 4, 3)) * 2
    del tmp585
    r3new.baaba += np.transpose(tmp586, (2, 1, 0, 4, 3)) * -2
    del tmp586
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp587, (2, 1, 0, 4, 3)) * -2
    del tmp587
    r3new.baaba += np.transpose(tmp589, (2, 1, 0, 4, 3)) * -2
    del tmp589
    r3new.baaba += np.transpose(tmp590, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp591, (2, 1, 0, 4, 3)) * 2
    del tmp591
    r3new.baaba += np.transpose(tmp596, (2, 0, 1, 4, 3)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp278, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp594, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1654, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp594, (2, 0, 1, 4, 3))
    del tmp594
    r3new.baaba += np.transpose(tmp596, (2, 1, 0, 4, 3)) * -2
    del tmp596
    r3new.baaba += einsum(r1.a, (0,), ints.tmp278, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp593, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp593, (2, 1, 0, 4, 3)) * -1
    del tmp593
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1122, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp461, (2, 0, 1, 4, 3)) * 2
    del tmp461
    r3new.baaba += np.transpose(tmp463, (2, 0, 1, 4, 3)) * -1
    del tmp463
    r3new.baaba += np.transpose(tmp520, (2, 0, 1, 4, 3)) * -1
    del tmp520
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1148, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp597, (2, 0, 1, 4, 3))
    del tmp597
    r3new.baaba += np.transpose(tmp511, (2, 1, 0, 4, 3)) * -1
    del tmp511
    r3new.baaba += einsum(t1.bb, (0, 1), tmp514, (2, 3, 4, 0, 5), (4, 2, 3, 1, 5)) * -2
    del tmp514
    tmp953 = einsum(r2.bab, (0, 1, 2), ints.tmp1656, (3, 4, 0, 5), (3, 1, 4, 5, 2)) * -1
    r3new.baaba += np.transpose(tmp953, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1158, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp603, (2, 1, 0, 4, 3)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp601, (2, 0, 1, 4, 3)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1155, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1153, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp600, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp604, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp606, (2, 0, 1, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1162, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1162, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp604, (2, 1, 0, 4, 3)) * 2
    del tmp604
    r3new.baaba += np.transpose(tmp606, (2, 1, 0, 4, 3)) * -1
    del tmp606
    r3new.baaba += np.transpose(tmp603, (2, 0, 1, 4, 3)) * -2
    del tmp603
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp953, (2, 1, 0, 4, 3)) * 2
    del tmp953
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1158, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp600, (2, 0, 1, 4, 3)) * -1
    del tmp600
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1153, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp601, (2, 1, 0, 4, 3)) * -2
    del tmp601
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1155, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1167, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp607, (2, 1, 0, 4, 3)) * 2
    tmp954 = einsum(r2.bab, (0, 1, 2), ints.tmp582, (3, 4, 1, 5), (3, 4, 0, 5, 2)) * -1
    r3new.baaba += np.transpose(tmp954, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp607, (2, 0, 1, 4, 3)) * -2
    del tmp607
    r3new.baaba += np.transpose(tmp954, (2, 0, 1, 4, 3))
    del tmp954
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1167, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp610, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp610, (2, 1, 0, 4, 3))
    del tmp610
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1176, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp612, (2, 1, 0, 4, 3)) * 2
    del tmp612
    r3new.baaba += np.transpose(tmp504, (2, 0, 1, 4, 3)) * -2
    del tmp504
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1094, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp613, (2, 1, 0, 4, 3)) * -1
    del tmp613
    r3new.baaba += einsum(r1.a, (0,), ints.tmp981, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp623, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp627, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp627, (2, 0, 1, 4, 3)) * -1
    del tmp627
    r3new.baaba += np.transpose(tmp623, (2, 0, 1, 4, 3))
    del tmp623
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1192, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp614, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp618, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp618, (2, 0, 1, 4, 3)) * -1
    del tmp618
    r3new.baaba += np.transpose(tmp614, (2, 0, 1, 4, 3))
    del tmp614
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1192, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1195, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp620, (2, 1, 0, 4, 3)) * -2
    del tmp620
    r3new.baaba += np.transpose(tmp622, (2, 1, 0, 4, 3)) * -2
    del tmp622
    r3new.baaba += einsum(r1.a, (0,), ints.tmp849, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp590, (2, 0, 1, 4, 3)) * -1
    del tmp590
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1659, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp937, (2, 1, 0, 4, 3)) * 2
    del tmp937
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp628, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1242, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1242, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp628, (2, 0, 1, 4, 3))
    del tmp628
    r3new.baaba += np.transpose(tmp633, (2, 1, 0, 4, 3)) * 2
    del tmp633
    r3new.baaba += np.transpose(tmp634, (2, 1, 0, 4, 3)) * 2
    del tmp634
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1213, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp630, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp631, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp631, (2, 0, 1, 4, 3)) * 2
    del tmp631
    r3new.baaba += np.transpose(tmp630, (2, 0, 1, 4, 3))
    del tmp630
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1213, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1222, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp636, (2, 1, 0, 4, 3)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1219, (1, 2, 3, 4), (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp635, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp636, (2, 0, 1, 4, 3)) * -2
    del tmp636
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1222, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp635, (2, 0, 1, 4, 3)) * -1
    del tmp635
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1219, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp637, (2, 1, 0, 4, 3)) * 2
    del tmp637
    r3new.baaba += np.transpose(tmp638, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp638, (2, 0, 1, 4, 3))
    del tmp638
    r3new.baaba += np.transpose(tmp645, (2, 0, 1, 4, 3)) * -2
    del tmp645
    r3new.baaba += np.transpose(tmp647, (2, 1, 0, 4, 3)) * 2
    del tmp647
    r3new.baaba += np.transpose(tmp641, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1142, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp642, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp644, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp642, (2, 0, 1, 4, 3)) * 2
    del tmp642
    r3new.baaba += np.transpose(tmp644, (2, 0, 1, 4, 3))
    del tmp644
    r3new.baaba += np.transpose(tmp641, (2, 1, 0, 4, 3)) * 2
    del tmp641
    r3new.baaba += np.transpose(tmp649, (2, 0, 1, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp649, (2, 1, 0, 4, 3)) * 2
    del tmp649
    r3new.baaba += np.transpose(tmp445, (2, 0, 1, 4, 3)) * -1
    del tmp445
    r3new.baaba += einsum(r1.a, (0,), ints.tmp875, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp898, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp890, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.baaba += np.transpose(tmp653, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1254, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    tmp955 = einsum(t1.bb, (0, 1), tmp655, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp655
    r3new.baaba += np.transpose(tmp955, (2, 1, 0, 4, 3)) * -2
    r3new.baaba += np.transpose(tmp651, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp654, (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp651, (2, 0, 1, 4, 3)) * -1
    del tmp651
    r3new.baaba += np.transpose(tmp654, (2, 0, 1, 4, 3)) * -1
    del tmp654
    r3new.baaba += np.transpose(tmp955, (2, 0, 1, 4, 3)) * 2
    del tmp955
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1254, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp653, (2, 1, 0, 4, 3))
    del tmp653
    r3new.baaba += einsum(r1.a, (0,), ints.tmp961, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1195, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1258, (1, 2, 3, 4), (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp660, (2, 1, 0, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp660, (2, 0, 1, 4, 3))
    del tmp660
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1258, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.baaba += np.transpose(tmp662, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp662, (2, 1, 0, 4, 3)) * -1
    del tmp662
    r3new.baaba += np.transpose(tmp667, (2, 0, 1, 4, 3))
    r3new.baaba += np.transpose(tmp665, (2, 1, 0, 4, 3)) * 2
    del tmp665
    r3new.baaba += np.transpose(tmp667, (2, 1, 0, 4, 3)) * -1
    del tmp667
    r3new.baaba += np.transpose(tmp669, (2, 0, 1, 4, 3)) * -2
    del tmp669
    r3new.baaba += np.transpose(tmp670, (2, 0, 1, 4, 3)) * -1
    r3new.baaba += np.transpose(tmp670, (2, 1, 0, 4, 3))
    del tmp670
    r3new.abbab = einsum(r1.b, (0,), ints.tmp1052, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp64 * -2
    tmp672 = einsum(r2.bbb, (0, 1, 2), ints.tmp641, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp672 * -2
    tmp673 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (3, 2, 4, 5), (0, 3, 1, 4, 5))
    tmp674 = einsum(t1.aa, (0, 1), tmp673, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += tmp674 * -1
    tmp671 = einsum(r1.b, (0,), ints.tmp1281, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp671
    tmp675 = einsum(tmp117, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * 6
    del tmp117
    r3new.abbab += tmp675
    tmp677 = einsum(tmp676, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * 2
    tmp678 = einsum(t1.bb, (0, 1), tmp677, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1))
    del tmp677
    r3new.abbab += np.transpose(tmp678, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(ints.tmp223, (0, 1), r2.aba, (2, 3, 4), (2, 3, 0, 4, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1052, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += tmp678
    del tmp678
    r3new.abbab += np.transpose(tmp64, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp671, (0, 2, 1, 3, 4)) * -1
    del tmp671
    r3new.abbab += np.transpose(tmp672, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp675, (0, 2, 1, 3, 4)) * -1
    del tmp675
    r3new.abbab += np.transpose(tmp674, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(ints.tmp223, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1300, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp834, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp134, (0, 2, 1, 3, 4)) * 6
    tmp679 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovoo, (3, 4, 5, 1), (3, 0, 5, 4, 2))
    r3new.abbab += np.transpose(tmp679, (0, 2, 1, 3, 4)) * -2
    tmp680 = einsum(tmp52, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    del tmp52
    tmp681 = einsum(t1.aa, (0, 1), tmp680, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp680
    r3new.abbab += np.transpose(tmp681, (0, 2, 1, 3, 4)) * 2
    tmp682 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovov, (3, 4, 5, 2), (3, 0, 1, 5, 4))
    tmp683 = einsum(t1.bb, (0, 1), tmp682, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp683, (0, 2, 1, 3, 4)) * -2
    tmp684 = einsum(ints.tmp40, (0, 1, 2, 3), r3.babab, (4, 0, 5, 2, 6), (1, 4, 5, 3, 6)) * -1
    r3new.abbab += np.transpose(tmp684, (0, 2, 1, 3, 4)) * -2
    tmp685 = einsum(tmp57, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 3, 4, 1, 5)) * -4
    del tmp57
    r3new.abbab += np.transpose(tmp685, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1298, (1, 2, 3, 0, 4, 5), (1, 3, 2, 4, 5)) * 2
    r3new.abbab += einsum(ints.tmp70, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.abbab += einsum(r2.aba, (0, 1, 2), ints.tmp1294, (1, 3, 4, 5), (0, 4, 3, 2, 5)) * 6
    r3new.abbab += einsum(r1.b, (0,), ints.tmp925, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp686 = einsum(r1.b, (0,), ints.tmp1305, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp686 * -1
    tmp690 = einsum(r2.bbb, (0, 1, 2), ints.tmp912, (3, 1, 4, 5, 2, 6), (3, 4, 0, 5, 6))
    r3new.abbab += tmp690 * -2
    tmp691 = einsum(r2.aba, (0, 1, 2), ints.tmp909, (3, 0, 4, 5, 2, 6), (3, 4, 1, 5, 6))
    r3new.abbab += tmp691 * -1
    tmp692 = einsum(tmp129, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * 2
    del tmp129
    r3new.abbab += tmp692
    tmp687 = einsum(ints.tmp158, (0, 1), r3.babab, (2, 3, 0, 4, 5), (3, 1, 2, 4, 5)) * -1
    r3new.abbab += np.transpose(tmp687, (0, 2, 1, 3, 4)) * -2
    tmp688 = einsum(ints.tmp161, (0, 1, 2, 3), r3.babab, (4, 5, 0, 6, 3), (5, 1, 2, 4, 6)) * -1
    tmp689 = einsum(t1.bb, (0, 1), tmp688, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp688
    r3new.abbab += np.transpose(tmp689, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp935, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp925, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp687 * 2
    r3new.abbab += tmp689 * 2
    tmp695 = einsum(r2.aba, (0, 1, 2), v.bbbb.oooo, (3, 4, 5, 1), (0, 3, 4, 5, 2))
    tmp696 = einsum(t1.bb, (0, 1), tmp695, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1))
    del tmp695
    r3new.abbab += tmp696
    r3new.abbab += np.transpose(tmp690, (0, 2, 1, 3, 4)) * 2
    tmp693 = einsum(r2.bbb, (0, 1, 2), ints.tmp870, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.abbab += np.transpose(tmp693, (0, 2, 1, 3, 4)) * -2
    tmp694 = einsum(v.bbbb.oooo, (0, 1, 2, 3), r3.babab, (1, 4, 3, 5, 6), (4, 0, 2, 5, 6)) * -1
    r3new.abbab += np.transpose(tmp694, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp696, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp691, (0, 2, 1, 3, 4))
    tmp697 = einsum(tmp140, (0, 1, 2), t2.abab, (3, 0, 4, 5), (3, 1, 2, 4, 5)) * 2
    del tmp140
    r3new.abbab += np.transpose(tmp697, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1315, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1000, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp698 = einsum(v.aabb.oooo, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 6), (0, 4, 2, 5, 6)) * -1
    r3new.abbab += np.transpose(tmp698, (0, 2, 1, 3, 4)) * -2
    tmp700 = einsum(r2.bbb, (0, 1, 2), ints.tmp983, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.abbab += np.transpose(tmp700, (0, 2, 1, 3, 4)) * 2
    tmp703 = einsum(r2.aba, (0, 1, 2), ints.tmp881, (3, 4, 2, 5), (0, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp703, (0, 2, 1, 3, 4)) * -1
    tmp704 = einsum(ints.tmp80, (0, 1), r3.babab, (2, 0, 3, 4, 5), (1, 2, 3, 4, 5)) * -1
    r3new.abbab += np.transpose(tmp704, (0, 2, 1, 3, 4)) * 2
    tmp699 = einsum(r2.aba, (0, 1, 2), ints.tmp1320, (3, 4, 1, 5, 2, 6), (0, 3, 4, 5, 6))
    r3new.abbab += np.transpose(tmp699, (0, 2, 1, 3, 4))
    tmp705 = einsum(tmp70, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 3, 2, 4, 5)) * 2
    del tmp70
    r3new.abbab += np.transpose(tmp705, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1327, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    tmp706 = einsum(r2.aba, (0, 1, 2), v.aabb.oooo, (3, 0, 4, 5), (3, 1, 4, 5, 2))
    tmp708 = np.copy(np.transpose(tmp706, (0, 1, 3, 2, 4))) * 0.5
    tmp707 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 1, 5, 6, 3), (0, 4, 5, 2, 6)) * -1
    tmp708 += np.transpose(tmp707, (0, 2, 3, 1, 4)) * -1
    r3new.abbab += einsum(t1.bb, (0, 1), tmp708, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1)) * -2
    del tmp708
    tmp701 = einsum(r2.bbb, (0, 1, 2), v.aabb.ooov, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp702 = einsum(t1.bb, (0, 1), tmp701, (2, 3, 4, 5, 0), (3, 2, 4, 5, 1))
    del tmp701
    r3new.abbab += einsum(t1.aa, (0, 1), tmp702, (0, 2, 3, 4, 5), (2, 4, 3, 1, 5)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1012, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp709 = einsum(r2.aba, (0, 1, 2), ints.tmp1331, (3, 0, 4, 5, 1, 6), (3, 4, 5, 2, 6))
    r3new.abbab += np.transpose(tmp709, (0, 2, 1, 3, 4)) * 2
    tmp710 = einsum(ints.tmp122, (0, 1), r3.babab, (2, 3, 4, 0, 5), (3, 2, 4, 1, 5)) * -1
    r3new.abbab += np.transpose(tmp710, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1338, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5))
    tmp711 = einsum(r2.aba, (0, 1, 2), v.aabb.vvoo, (3, 2, 4, 5), (0, 1, 4, 5, 3))
    tmp713 = np.copy(np.transpose(tmp711, (0, 1, 3, 2, 4))) * 0.5
    tmp712 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 3), (5, 4, 6, 2, 0)) * -1
    tmp713 += np.transpose(tmp712, (0, 2, 3, 1, 4)) * -1
    r3new.abbab += einsum(t1.bb, (0, 1), tmp713, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1)) * 2
    del tmp713
    r3new.abbab += einsum(tmp347, (0, 1, 2), t2.abab, (3, 4, 2, 5), (3, 0, 4, 1, 5)) * -1
    del tmp347
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1354, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    tmp714 = einsum(r1.b, (0,), ints.tmp1351, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp714, (0, 2, 1, 3, 4)) * -2
    tmp715 = einsum(ints.tmp271, (0, 1), r3.babab, (2, 3, 4, 5, 0), (3, 2, 4, 5, 1)) * -1
    r3new.abbab += np.transpose(tmp715, (0, 2, 1, 3, 4)) * -2
    tmp716 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 3), (5, 0, 4, 6, 2)) * -1
    tmp717 = einsum(t1.aa, (0, 1), tmp716, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp716
    r3new.abbab += np.transpose(tmp717, (0, 2, 1, 3, 4)) * 2
    tmp718 = einsum(r2.bbb, (0, 1, 2), ints.tmp1345, (3, 4, 5, 0, 1, 6), (3, 4, 5, 6, 2))
    r3new.abbab += np.transpose(tmp718, (0, 2, 1, 3, 4)) * 2
    tmp719 = einsum(tmp143, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    del tmp143
    r3new.abbab += np.transpose(tmp719, (0, 2, 1, 3, 4)) * -1
    tmp720 = einsum(r1.b, (0,), ints.tmp1356, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp720 * -1
    tmp721 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 1), (4, 5, 2, 3, 6))
    tmp722 = einsum(t1.bb, (0, 1), tmp721, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += tmp722 * 2
    tmp727 = einsum(r2.bbb, (0, 1, 2), ints.tmp850, (3, 4, 1, 5, 6, 2), (3, 4, 0, 5, 6))
    r3new.abbab += tmp727 * 2
    tmp728 = einsum(r2.aba, (0, 1, 2), ints.tmp852, (0, 3, 4, 2, 5, 6), (3, 4, 1, 5, 6))
    r3new.abbab += tmp728 * -1
    tmp723 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (3, 2, 4, 5), (0, 3, 1, 4, 5))
    tmp724 = einsum(t1.bb, (0, 1), tmp723, (2, 3, 4, 5, 0), (2, 3, 4, 5, 1))
    tmp725 = einsum(t1.aa, (0, 1), tmp724, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp724
    r3new.abbab += tmp725
    tmp729 = np.copy(tmp60) * -1
    del tmp60
    tmp729 += tmp61 * 2
    del tmp61
    tmp730 = einsum(tmp729, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 2, 4, 5))
    del tmp729
    r3new.abbab += tmp730
    tmp726 = einsum(r2.aba, (0, 1, 2), ints.tmp917, (3, 4, 2, 5), (0, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp726, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(ints.tmp266, (0, 1), r2.aba, (2, 3, 4), (2, 3, 0, 4, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1379, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.abbab += tmp726 * -1
    r3new.abbab += np.transpose(tmp727, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp730, (0, 2, 1, 3, 4)) * -1
    tmp732 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 3), (5, 0, 4, 6, 2)) * -1
    tmp733 = einsum(t2.abab, (0, 1, 2, 3), tmp732, (4, 0, 5, 6, 1), (4, 5, 6, 2, 3))
    r3new.abbab += np.transpose(tmp733, (0, 2, 1, 3, 4)) * -2
    tmp734 = einsum(tmp65, (0,), t3.babbab, (1, 2, 3, 0, 4, 5), (2, 1, 3, 4, 5))
    del tmp65
    r3new.abbab += np.transpose(tmp734, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp728, (0, 2, 1, 3, 4))
    tmp731 = einsum(r1.b, (0,), ints.tmp1369, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp731, (0, 2, 1, 3, 4))
    tmp737 = einsum(ints.tmp34, (0, 1), r3.babab, (2, 3, 4, 5, 1), (3, 0, 2, 4, 5)) * -1
    tmp738 = np.copy(np.transpose(tmp737, (0, 1, 3, 2, 4))) * -1
    del tmp737
    tmp738 += np.transpose(tmp721, (0, 3, 1, 2, 4)) * -1
    del tmp721
    tmp739 = einsum(t1.bb, (0, 1), tmp738, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp738
    r3new.abbab += np.transpose(tmp739, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(ints.tmp266, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1))
    r3new.abbab += einsum(ints.tmp352, (0, 1), r3.babab, (2, 3, 4, 5, 1), (3, 2, 4, 5, 0)) * 4
    tmp735 = np.copy(np.transpose(tmp723, (0, 1, 2, 4, 3))) * -0.5
    del tmp723
    tmp735 += np.transpose(tmp732, (0, 1, 3, 4, 2))
    del tmp732
    tmp736 = einsum(t1.bb, (0, 1), tmp735, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1)) * -1
    r3new.abbab += einsum(t1.aa, (0, 1), tmp736, (2, 0, 3, 4, 5), (2, 4, 3, 1, 5)) * -2
    del tmp736
    r3new.abbab += einsum(r1.b, (0,), ints.tmp861, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += np.transpose(tmp703, (0, 2, 1, 3, 4)) * -1
    tmp740 = einsum(r1.b, (0,), ints.tmp1326, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp740, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp699, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(ints.tmp102, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    tmp742 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 3), (0, 1, 4, 5, 6))
    tmp743 = np.copy(np.transpose(tmp742, (0, 1, 3, 2, 4))) * -3
    tmp741 = einsum(r2.bbb, (0, 1, 2), v.aabb.oooo, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp743 += np.transpose(tmp741, (1, 0, 2, 3, 4)) * -1
    tmp743 += einsum(ints.tmp10, (0, 1, 2, 3), r3.babab, (4, 2, 5, 3, 6), (1, 0, 4, 5, 6)) * -1
    r3new.abbab += einsum(t1.aa, (0, 1), tmp743, (0, 2, 3, 4, 5), (2, 4, 3, 1, 5)) * -2
    del tmp743
    tmp744 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (3, 2, 4, 5), (0, 3, 1, 4, 5))
    tmp745 = einsum(t1.bb, (0, 1), tmp744, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    del tmp744
    tmp746 = einsum(t1.aa, (0, 1), tmp745, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp745
    r3new.abbab += tmp746 * -1
    tmp747 = einsum(r1.b, (0,), ints.tmp1397, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp747, (0, 2, 1, 3, 4)) * -1
    tmp749 = einsum(tmp146, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -1
    del tmp146
    tmp750 = np.copy(np.transpose(tmp749, (0, 1, 2, 4, 3))) * -1
    tmp748 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 0, 5, 6, 1), (4, 5, 6, 2, 3))
    tmp750 += np.transpose(tmp748, (0, 1, 2, 4, 3))
    tmp751 = einsum(t1.bb, (0, 1), tmp750, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5)) * 2
    del tmp750
    r3new.abbab += np.transpose(tmp751, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(ints.tmp363, (0, 1), r2.aba, (2, 3, 4), (2, 3, 0, 4, 1))
    tmp752 = np.copy(tmp749)
    del tmp749
    tmp752 += np.transpose(tmp748, (0, 1, 2, 4, 3)) * -1
    del tmp748
    tmp753 = einsum(t1.bb, (0, 1), tmp752, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5)) * 2
    del tmp752
    r3new.abbab += tmp753 * -1
    r3new.abbab += tmp747
    r3new.abbab += np.transpose(tmp746, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(ints.tmp363, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1417, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp937, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp755 = einsum(r2.bbb, (0, 1, 2), ints.tmp785, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp755 * -2
    tmp759 = einsum(ints.tmp120, (0, 1, 2, 3), r3.babab, (4, 0, 5, 1, 6), (4, 5, 2, 3, 6)) * -1
    tmp762 = np.copy(tmp759) * 0.3333333333333333
    del tmp759
    tmp761 = einsum(tmp74, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp762 += tmp761 * 0.3333333333333333
    del tmp761
    tmp760 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 3), (4, 5, 0, 1, 6))
    tmp762 += np.transpose(tmp760, (0, 1, 3, 2, 4))
    del tmp760
    tmp763 = einsum(t1.aa, (0, 1), tmp762, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 6
    del tmp762
    r3new.abbab += tmp763 * -1
    tmp754 = einsum(r1.b, (0,), ints.tmp1415, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp754, (0, 2, 1, 3, 4)) * 2
    tmp756 = einsum(r2.bbb, (0, 1, 2), v.aabb.vvov, (3, 4, 5, 2), (0, 1, 5, 3, 4))
    tmp757 = einsum(t1.aa, (0, 1), tmp756, (2, 3, 4, 5, 1), (0, 3, 2, 4, 5)) * -1
    del tmp756
    tmp758 = einsum(t1.bb, (0, 1), tmp757, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1)) * -1
    del tmp757
    r3new.abbab += np.transpose(tmp758, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(ints.tmp944, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * -4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1092, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp768 = einsum(tmp120, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 2, 0, 4, 5))
    del tmp120
    r3new.abbab += tmp768
    tmp764 = einsum(r1.b, (0,), ints.tmp1423, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp764, (0, 2, 1, 3, 4)) * -1
    tmp765 = einsum(ints.tmp310, (0, 1), r3.babab, (2, 3, 1, 4, 5), (3, 0, 2, 4, 5)) * -1
    r3new.abbab += np.transpose(tmp765, (0, 2, 1, 3, 4)) * -2
    tmp766 = einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.babab, (1, 4, 2, 5, 6), (4, 0, 5, 6, 3)) * -1
    tmp767 = einsum(t1.bb, (0, 1), tmp766, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp766
    r3new.abbab += np.transpose(tmp767, (0, 2, 1, 3, 4)) * 2
    tmp769 = einsum(r2.aba, (0, 1, 2), ints.tmp308, (3, 4, 5, 1), (0, 3, 4, 5, 2))
    tmp771 = np.copy(tmp769) * -1
    tmp770 = einsum(t1.bb, (0, 1), tmp58, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp771 += np.transpose(tmp770, (0, 3, 1, 2, 4)) * 2
    r3new.abbab += einsum(t1.bb, (0, 1), tmp771, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1))
    del tmp771
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1092, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp767 * -2
    r3new.abbab += tmp764
    r3new.abbab += np.transpose(tmp768, (0, 2, 1, 3, 4)) * -1
    tmp772 = einsum(r2.aba, (0, 1, 2), ints.tmp317, (3, 1, 4, 5), (0, 3, 4, 5, 2))
    tmp773 = np.copy(tmp772) * -1
    tmp773 += np.transpose(tmp770, (0, 3, 2, 1, 4)) * 2
    r3new.abbab += einsum(t1.bb, (0, 1), tmp773, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1)) * -1
    del tmp773
    r3new.abbab += einsum(ints.tmp1430, (0, 1), r3.babab, (2, 3, 1, 4, 5), (3, 0, 2, 4, 5)) * -4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1080, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1256, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp774 = einsum(ints.tmp62, (0, 1), r3.babab, (2, 0, 3, 4, 5), (1, 2, 3, 4, 5)) * -1
    r3new.abbab += np.transpose(tmp774, (0, 2, 1, 3, 4)) * 2
    tmp778 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 0, 3, 5, 6), (4, 2, 5, 1, 6)) * -1
    tmp779 = np.copy(tmp778) * -1
    tmp777 = einsum(r2.bbb, (0, 1, 2), ints.tmp1081, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp779 += np.transpose(tmp777, (1, 0, 2, 3, 4)) * -1
    del tmp777
    tmp780 = einsum(t1.aa, (0, 1), tmp779, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 2
    del tmp779
    r3new.abbab += np.transpose(tmp780, (0, 2, 1, 3, 4))
    tmp781 = einsum(tmp81, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 2, 4, 5)) * 2
    r3new.abbab += np.transpose(tmp781, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1442, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    tmp782 = einsum(r2.aba, (0, 1, 2), ints.tmp206, (3, 0, 4, 5), (3, 4, 5, 1, 2))
    tmp785 = np.copy(tmp782) * 0.5
    tmp783 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 5, 6, 3), (4, 5, 2, 6, 1)) * -1
    tmp784 = einsum(t1.aa, (0, 1), tmp783, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    tmp785 += np.transpose(tmp784, (0, 3, 2, 1, 4))
    r3new.abbab += einsum(t1.bb, (0, 1), tmp785, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1)) * -2
    del tmp785
    tmp775 = einsum(t1.aa, (0, 1), tmp682, (2, 3, 4, 5, 1), (0, 2, 4, 3, 5)) * -1
    del tmp682
    tmp776 = einsum(t1.bb, (0, 1), tmp775, (2, 3, 4, 5, 0), (2, 3, 5, 4, 1)) * -1
    del tmp775
    r3new.abbab += einsum(t1.aa, (0, 1), tmp776, (2, 0, 3, 4, 5), (2, 4, 3, 1, 5)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp887, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp727, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp734, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp728, (0, 2, 1, 3, 4))
    r3new.abbab += np.transpose(tmp731, (0, 2, 1, 3, 4))
    del tmp731
    r3new.abbab += einsum(ints.tmp117, (0, 1), r3.babab, (2, 3, 4, 1, 5), (3, 2, 4, 0, 5)) * 2
    tmp786 = einsum(ints.tmp14, (0, 1), r3.babab, (2, 3, 4, 1, 5), (0, 3, 2, 4, 5)) * -1
    r3new.abbab += einsum(t1.aa, (0, 1), tmp786, (0, 2, 3, 4, 5), (2, 4, 3, 1, 5)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1150, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1000, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp698 * 2
    r3new.abbab += tmp705 * -1
    r3new.abbab += tmp703
    tmp787 = einsum(t1.bb, (0, 1), tmp706, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abbab += tmp787
    tmp788 = einsum(r1.b, (0,), ints.tmp1325, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp788
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1012, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp789 = einsum(r1.b, (0,), ints.tmp1335, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp789 * -1
    tmp790 = einsum(t1.bb, (0, 1), tmp711, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abbab += tmp790 * -1
    tmp791 = np.copy(np.transpose(tmp72, (0, 2, 1))) * -1
    tmp791 += np.transpose(tmp73, (0, 2, 1)) * 2
    r3new.abbab += einsum(tmp791, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 2, 5))
    del tmp791
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1354, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abbab += tmp719
    del tmp719
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1041, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    tmp792 = einsum(r1.b, (0,), ints.tmp1455, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp792 * 2
    tmp793 = einsum(t2.abab, (0, 1, 2, 3), tmp63, (0, 4, 5, 2, 6), (4, 5, 1, 6, 3))
    del tmp63
    r3new.abbab += tmp793 * 2
    tmp795 = einsum(t2.bbbb, (0, 1, 2, 3), tmp64, (4, 5, 1, 6, 3), (4, 5, 0, 6, 2))
    r3new.abbab += tmp795 * -4
    tmp794 = einsum(r2.aba, (0, 1, 2), ints.tmp1028, (0, 3, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp794, (0, 2, 1, 3, 4)) * -2
    tmp796 = einsum(r2.aba, (0, 1, 2), ints.tmp245, (3, 4, 2, 5), (3, 0, 4, 1, 5))
    tmp797 = einsum(t1.aa, (0, 1), tmp796, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp796
    r3new.abbab += np.transpose(tmp797, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(ints.tmp335, (0, 1), r2.aba, (2, 3, 4), (2, 3, 0, 4, 1)) * 3
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1041, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abbab += tmp794 * 2
    del tmp794
    r3new.abbab += tmp797
    r3new.abbab += np.transpose(tmp792, (0, 2, 1, 3, 4)) * -2
    del tmp792
    r3new.abbab += np.transpose(tmp793, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp795, (0, 2, 1, 3, 4)) * 4
    r3new.abbab += einsum(ints.tmp335, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * -3
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1024, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    tmp798 = einsum(r2.bbb, (0, 1, 2), ints.tmp805, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp798 * -2
    tmp799 = einsum(r2.aba, (0, 1, 2), v.bbbb.ooov, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.abbab += tmp799 * -1
    tmp800 = einsum(t2.abab, (0, 1, 2, 3), ints.tmp1, (4, 1, 5, 3), (0, 4, 2, 5))
    tmp801 = einsum(tmp800, (0, 1, 2, 3), r3.bbbbb, (4, 5, 1, 6, 3), (0, 4, 5, 2, 6))
    del tmp800
    r3new.abbab += np.transpose(tmp801, (0, 2, 1, 3, 4)) * 6
    tmp802 = einsum(r2.bbb, (0, 1, 2), ints.tmp76, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp803 = einsum(t1.bb, (0, 1), tmp802, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp802
    r3new.abbab += np.transpose(tmp803, (0, 2, 1, 3, 4)) * -4
    tmp804 = einsum(t2.abab, (0, 1, 2, 3), tmp130, (4, 5, 1, 6, 3), (0, 4, 5, 2, 6))
    del tmp130
    r3new.abbab += np.transpose(tmp804, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(ints.tmp98, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * -4
    tmp805 = np.copy(np.transpose(tmp133, (0, 2, 1, 3, 4))) * -1
    del tmp133
    tmp805 += np.transpose(tmp134, (0, 2, 1, 3, 4)) * -3
    r3new.abbab += einsum(t2.aaaa, (0, 1, 2, 3), tmp805, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6)) * -4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1069, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp808 = einsum(tmp11, (0, 1, 2), t2.abab, (3, 4, 2, 5), (0, 3, 1, 4, 5)) * 2
    tmp809 = einsum(t1.aa, (0, 1), tmp808, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp808
    r3new.abbab += tmp809
    tmp806 = einsum(r2.aba, (0, 1, 2), ints.tmp1062, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp806, (0, 2, 1, 3, 4)) * -1
    tmp807 = einsum(tmp358, (0, 1, 2), t2.abab, (3, 4, 2, 5), (3, 4, 0, 1, 5))
    del tmp358
    r3new.abbab += np.transpose(tmp807, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1473, (1, 2, 0, 3, 4, 5), (1, 3, 2, 4, 5)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1067, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp807 * -1
    del tmp807
    tmp810 = einsum(r2.aba, (0, 1, 2), ints.tmp1066, (0, 3, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += tmp810
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1476, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp809, (0, 2, 1, 3, 4)) * -1
    del tmp809
    r3new.abbab += einsum(r1.b, (0,), ints.tmp935, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp875, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp690, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp693, (0, 2, 1, 3, 4)) * -2
    tmp811 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 5, 3, 1, 6), (5, 0, 4, 2, 6)) * -1
    tmp812 = einsum(t1.aa, (0, 1), tmp811, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp811
    r3new.abbab += np.transpose(tmp812, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp686, (0, 2, 1, 3, 4))
    r3new.abbab += np.transpose(tmp691, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1256, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1080, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp815 = einsum(t1.aa, (0, 1), tmp778, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp778
    r3new.abbab += tmp815 * 2
    tmp816 = einsum(tmp81, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 2, 4, 5)) * 2
    del tmp81
    r3new.abbab += tmp816 * -1
    tmp814 = einsum(r1.b, (0,), ints.tmp1440, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp814
    tmp813 = einsum(t1.bb, (0, 1), tmp782, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp813, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1095, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp819 = einsum(t1.bb, (0, 1), tmp673, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    del tmp673
    tmp820 = einsum(t1.bb, (0, 1), tmp819, (2, 3, 4, 5, 0), (2, 3, 4, 5, 1))
    del tmp819
    tmp821 = einsum(t1.aa, (0, 1), tmp820, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += tmp821
    tmp818 = einsum(tmp53, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 2, 3, 4, 5))
    del tmp53
    r3new.abbab += np.transpose(tmp818, (0, 2, 1, 3, 4)) * -1
    tmp817 = einsum(r1.b, (0,), ints.tmp1492, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp817, (0, 2, 1, 3, 4))
    tmp822 = einsum(r2.aba, (0, 1, 2), ints.tmp1081, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp824 = np.copy(tmp822) * 0.5
    del tmp822
    tmp823 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 1, 2, 5, 6), (0, 4, 5, 6, 3)) * -1
    tmp824 += tmp823
    del tmp823
    tmp825 = einsum(t1.bb, (0, 1), tmp824, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5)) * 2
    del tmp824
    r3new.abbab += np.transpose(tmp825, (0, 2, 1, 3, 4))
    tmp826 = einsum(r2.aba, (0, 1, 2), ints.tmp151, (3, 0, 4, 5), (3, 4, 5, 1, 2))
    tmp828 = np.copy(tmp826) * 0.5
    tmp827 = einsum(t1.bb, (0, 1), tmp64, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    tmp828 += np.transpose(tmp827, (0, 2, 3, 1, 4))
    tmp829 = einsum(t1.bb, (0, 1), tmp828, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp828
    r3new.abbab += np.transpose(tmp829, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(ints.tmp299, (0, 1), r2.aba, (2, 3, 4), (2, 3, 0, 4, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1095, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abbab += tmp817 * -1
    r3new.abbab += tmp825 * -1
    r3new.abbab += tmp829 * -1
    del tmp829
    r3new.abbab += tmp818
    r3new.abbab += np.transpose(tmp821, (0, 2, 1, 3, 4)) * -1
    del tmp821
    r3new.abbab += einsum(ints.tmp316, (0, 1), r2.aba, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp971, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp830 = einsum(r1.b, (0,), ints.tmp1441, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp830, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(ints.tmp68, (0, 1), r2.bbb, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    tmp831 = einsum(r2.bbb, (0, 1, 2), ints.tmp206, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp833 = np.copy(tmp831) * -1
    tmp832 = einsum(t1.aa, (0, 1), tmp805, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp805
    tmp833 += np.transpose(tmp832, (0, 1, 3, 2, 4))
    r3new.abbab += einsum(t1.aa, (0, 1), tmp833, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * -2
    del tmp833
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1155, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp834 = einsum(r2.bbb, (0, 1, 2), ints.tmp193, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp834 * -2
    r3new.abbab += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (1, 0, 3, 2, 4)) * -1
    r3new.abbab += einsum(r2.aba, (0, 1, 2), ints.tmp1502, (3, 4, 1, 5), (0, 3, 4, 2, 5)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1155, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += np.transpose(tmp834, (0, 2, 1, 3, 4)) * 2
    tmp835 = einsum(r2.aba, (0, 1, 2), ints.tmp1503, (3, 4, 1, 5), (0, 3, 4, 2, 5))
    r3new.abbab += np.transpose(tmp835, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (1, 3, 0, 2, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp834, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1300, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abbab += tmp679 * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1162, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1508, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp837 = einsum(ints.tmp212, (0, 1, 2, 3), r3.babab, (4, 5, 0, 6, 2), (5, 1, 4, 6, 3)) * -1
    r3new.abbab += tmp837 * -2
    tmp836 = einsum(r2.bbb, (0, 1, 2), ints.tmp160, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += np.transpose(tmp836, (0, 2, 1, 3, 4)) * 4
    r3new.abbab += np.transpose(tmp799, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1114, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp838 = einsum(r2.aba, (0, 1, 2), v.aabb.ooov, (3, 0, 4, 5), (3, 1, 4, 2, 5))
    r3new.abbab += tmp838 * -1
    tmp839 = einsum(r2.aba, (0, 1, 2), ints.tmp170, (3, 4, 5, 2), (0, 3, 4, 1, 5))
    tmp840 = einsum(t1.bb, (0, 1), tmp839, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp839
    r3new.abbab += tmp840 * -1
    tmp841 = einsum(r2.bbb, (0, 1, 2), ints.tmp179, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp841 * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1114, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp841, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp838, (0, 2, 1, 3, 4))
    r3new.abbab += np.transpose(tmp840, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1223, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp843 = einsum(r2.bbb, (0, 1, 2), ints.tmp185, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp843 * -2
    tmp842 = einsum(r2.aba, (0, 1, 2), v.aabb.vvov, (3, 2, 4, 5), (0, 1, 4, 3, 5))
    r3new.abbab += tmp842
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1223, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += np.transpose(tmp842, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp843, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp278, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp844 = einsum(r1.b, (0,), ints.tmp1518, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += tmp844 * -2
    tmp845 = einsum(ints.tmp354, (0, 1, 2, 3), r3.babab, (2, 4, 3, 5, 6), (4, 0, 1, 5, 6)) * -1
    r3new.abbab += tmp845 * 2
    tmp846 = einsum(r2.aba, (0, 1, 2), ints.tmp354, (3, 4, 1, 5), (0, 3, 4, 5, 2))
    tmp847 = einsum(t1.bb, (0, 1), tmp846, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp846
    r3new.abbab += np.transpose(tmp847, (0, 2, 1, 3, 4)) * -2
    tmp848 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovvv, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.abbab += np.transpose(tmp848, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp890, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    tmp849 = einsum(v.aabb.vvoo, (0, 1, 2, 3), r3.babab, (4, 5, 3, 1, 6), (5, 4, 2, 0, 6)) * -1
    r3new.abbab += tmp849 * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp890, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp849, (0, 2, 1, 3, 4)) * 2
    tmp850 = einsum(r2.bbb, (0, 1, 2), ints.tmp1128, (3, 4, 5, 2), (3, 0, 1, 4, 5))
    r3new.abbab += np.transpose(tmp850, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1508, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1162, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abbab += tmp836 * -4
    r3new.abbab += np.transpose(tmp837, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1043, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp851 = einsum(v.aabb.oovv, (0, 1, 2, 3), r3.babab, (4, 1, 5, 6, 3), (0, 4, 5, 6, 2)) * -1
    r3new.abbab += np.transpose(tmp851, (0, 2, 1, 3, 4)) * 2
    tmp852 = einsum(r2.bbb, (0, 1, 2), v.aabb.oovv, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp853 = einsum(t1.aa, (0, 1), tmp852, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp852
    r3new.abbab += np.transpose(tmp853, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1173, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp854 = einsum(v.aabb.vvvv, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 3), (5, 4, 6, 0, 2)) * -1
    r3new.abbab += np.transpose(tmp854, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1261, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp855 = einsum(r2.bbb, (0, 1, 2), ints.tmp825, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp855 * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1261, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abbab += np.transpose(tmp855, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp278, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp859 = einsum(r1.b, (0,), ints.tmp1531, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    tmp862 = np.copy(tmp859)
    del tmp859
    tmp860 = einsum(r2.aba, (0, 1, 2), ints.tmp370, (3, 4, 5, 1), (0, 3, 4, 5, 2))
    tmp861 = einsum(t1.bb, (0, 1), tmp860, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp860
    tmp862 += tmp861
    del tmp861
    r3new.abbab += tmp862 * -1
    tmp856 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babab, (0, 4, 2, 5, 6), (4, 5, 6, 3, 1))
    tmp857 = einsum(t1.bb, (0, 1), tmp856, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5)) * -1
    del tmp856
    tmp858 = einsum(t1.bb, (0, 1), tmp857, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp857
    r3new.abbab += np.transpose(tmp858, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += np.transpose(tmp862, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp861, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp863 = einsum(t1.aa, (0, 1), tmp741, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += tmp863 * -2
    r3new.abbab += tmp703
    r3new.abbab += einsum(r1.b, (0,), ints.tmp937, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1417, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp755, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1160, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    tmp864 = einsum(r2.bbb, (0, 1, 2), ints.tmp764, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp864 * -2
    tmp865 = einsum(r2.aba, (0, 1, 2), ints.tmp1537, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.abbab += tmp865 * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1167, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1258, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp867 = einsum(r2.bbb, (0, 1, 2), ints.tmp208, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    r3new.abbab += tmp867 * 2
    tmp866 = einsum(r2.aba, (0, 1, 2), ints.tmp1165, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp866, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1160, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp864, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp865, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1258, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1167, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp866
    r3new.abbab += np.transpose(tmp867, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1158, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp868 = einsum(r2.aba, (0, 1, 2), ints.tmp1156, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp868, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1158, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp868
    tmp869 = einsum(r2.aba, (0, 1, 2), v.aabb.vvvv, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp870 = einsum(t1.bb, (0, 1), tmp869, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp869
    r3new.abbab += tmp870
    r3new.abbab += np.transpose(tmp870, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1175, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp871 = einsum(r2.bbb, (0, 1, 2), v.aabb.vvvv, (3, 4, 5, 2), (0, 1, 3, 4, 5))
    tmp872 = einsum(t1.aa, (0, 1), tmp871, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp871
    r3new.abbab += np.transpose(tmp872, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp875, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += tmp686 * -1
    r3new.abbab += tmp690 * -2
    r3new.abbab += tmp691 * -1
    r3new.abbab += tmp812 * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1195, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp873 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 1, 6), (5, 4, 0, 6, 3)) * -1
    tmp874 = einsum(t1.bb, (0, 1), tmp873, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp873
    r3new.abbab += tmp874 * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1195, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp874, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1550, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    tmp875 = einsum(ints.tmp356, (0, 1, 2, 3), r3.babab, (4, 5, 0, 6, 2), (5, 4, 6, 1, 3)) * -1
    tmp876 = einsum(t1.bb, (0, 1), tmp875, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5))
    del tmp875
    r3new.abbab += tmp876 * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1550, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    r3new.abbab += np.transpose(tmp876, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp877 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 0, 5, 6, 3), (4, 5, 6, 1, 2)) * -1
    tmp878 = einsum(t1.aa, (0, 1), tmp877, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp877
    r3new.abbab += np.transpose(tmp878, (0, 2, 1, 3, 4)) * 2
    tmp879 = einsum(t1.aa, (0, 1), tmp848, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    tmp880 = einsum(t1.aa, (0, 1), tmp879, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp879
    r3new.abbab += np.transpose(tmp880, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1043, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1555, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    r3new.abbab += np.transpose(tmp798, (0, 2, 1, 3, 4)) * 2
    del tmp798
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1039, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * 2
    tmp882 = einsum(r2.aba, (0, 1, 2), ints.tmp329, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.abbab += tmp882
    tmp881 = einsum(t2.abab, (0, 1, 2, 3), tmp59, (4, 0, 5, 6, 2), (4, 5, 1, 6, 3))
    del tmp59
    r3new.abbab += np.transpose(tmp881, (0, 2, 1, 3, 4)) * -2
    tmp883 = einsum(t2.bbbb, (0, 1, 2, 3), tmp58, (4, 1, 5, 6, 3), (4, 5, 0, 6, 2))
    del tmp58
    r3new.abbab += np.transpose(tmp883, (0, 2, 1, 3, 4)) * 4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1213, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1242, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    tmp884 = einsum(r2.aba, (0, 1, 2), ints.tmp260, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp884, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1039, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -2
    r3new.abbab += tmp881 * 2
    r3new.abbab += tmp883 * -4
    r3new.abbab += np.transpose(tmp882, (0, 2, 1, 3, 4)) * -1
    del tmp882
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1242, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1213, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abbab += tmp884 * -1
    tmp885 = einsum(r2.bbb, (0, 1, 2), ints.tmp249, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp886 = einsum(t1.aa, (0, 1), tmp885, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp885
    r3new.abbab += np.transpose(tmp886, (0, 2, 1, 3, 4)) * 2
    tmp887 = einsum(t2.abab, (0, 1, 2, 3), tmp783, (4, 5, 1, 6, 2), (0, 4, 5, 6, 3))
    del tmp783
    r3new.abbab += np.transpose(tmp887, (0, 2, 1, 3, 4)) * -2
    tmp888 = einsum(r2.aba, (0, 1, 2), ints.tmp359, (3, 4, 1, 5), (0, 3, 4, 2, 5))
    r3new.abbab += np.transpose(tmp888, (0, 2, 1, 3, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1224, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp889 = einsum(r2.aba, (0, 1, 2), ints.tmp277, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp889, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1224, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp889
    tmp890 = einsum(r2.aba, (0, 1, 2), ints.tmp1008, (3, 2, 4, 5), (0, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp890, (0, 2, 1, 3, 4)) * 2
    tmp891 = einsum(tmp71, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 3, 4, 1, 5))
    del tmp71
    r3new.abbab += np.transpose(tmp891, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += tmp890 * -2
    tmp892 = einsum(r2.aba, (0, 1, 2), ints.tmp1013, (3, 4, 2, 5), (0, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp892, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += tmp892
    r3new.abbab += einsum(r1.b, (0,), ints.tmp898, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    tmp893 = einsum(r2.bbb, (0, 1, 2), ints.tmp960, (3, 4, 2, 5), (3, 0, 1, 4, 5))
    r3new.abbab += np.transpose(tmp893, (0, 2, 1, 3, 4)) * 4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1575, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp894 = einsum(ints.tmp184, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 6), (0, 2, 4, 5, 6)) * -1
    r3new.abbab += np.transpose(tmp894, (0, 2, 1, 3, 4)) * 2
    tmp895 = einsum(r2.aba, (0, 1, 2), ints.tmp184, (3, 0, 4, 5), (3, 4, 5, 1, 2))
    tmp896 = einsum(t1.bb, (0, 1), tmp895, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp895
    r3new.abbab += np.transpose(tmp896, (0, 2, 1, 3, 4))
    tmp897 = einsum(r1.b, (0,), ints.tmp1570, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp897, (0, 2, 1, 3, 4))
    r3new.abbab += tmp894 * -2
    r3new.abbab += tmp896 * -1
    r3new.abbab += tmp897 * -1
    tmp898 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 2, 1, 6), (5, 0, 4, 6, 3)) * -1
    tmp899 = einsum(t2.abab, (0, 1, 2, 3), tmp898, (4, 0, 5, 6, 3), (4, 5, 1, 2, 6))
    r3new.abbab += tmp899 * 2
    r3new.abbab += np.transpose(tmp899, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += tmp720 * -1
    r3new.abbab += tmp727 * 2
    r3new.abbab += tmp728 * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp898, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp838, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    tmp900 = einsum(r2.aba, (0, 1, 2), ints.tmp261, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp900, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp838, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abbab += tmp900 * 2
    tmp901 = einsum(t1.bb, (0, 1), tmp842, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    tmp902 = einsum(t1.bb, (0, 1), tmp901, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp901
    r3new.abbab += tmp902 * -1
    tmp903 = einsum(r1.b, (0,), ints.tmp1588, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp903, (0, 2, 1, 3, 4)) * -1
    tmp904 = einsum(tmp74, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    del tmp74
    tmp905 = einsum(t1.bb, (0, 1), tmp904, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp904
    r3new.abbab += np.transpose(tmp905, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += tmp903
    r3new.abbab += tmp905
    r3new.abbab += np.transpose(tmp902, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1153, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp906 = einsum(r2.aba, (0, 1, 2), ints.tmp1151, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp906, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1153, (1, 2, 3, 4), (1, 2, 0, 3, 4))
    r3new.abbab += tmp906 * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1112, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * 2
    tmp907 = einsum(r2.aba, (0, 1, 2), ints.tmp1108, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp907, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1112, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -2
    r3new.abbab += tmp907 * 2
    del tmp907
    tmp908 = einsum(r2.bbb, (0, 1, 2), ints.tmp184, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp909 = einsum(t1.aa, (0, 1), tmp908, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp908
    r3new.abbab += np.transpose(tmp909, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += tmp909 * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp981, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp911 = einsum(t1.bb, (0, 1), tmp898, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5))
    del tmp898
    tmp912 = einsum(t1.aa, (0, 1), tmp911, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp911
    r3new.abbab += tmp912 * 2
    tmp910 = einsum(r1.b, (0,), ints.tmp1421, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp910, (0, 2, 1, 3, 4)) * -1
    tmp913 = einsum(r2.bbb, (0, 1, 2), ints.tmp151, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp914 = einsum(t1.aa, (0, 1), tmp913, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += np.transpose(tmp914, (0, 2, 1, 3, 4)) * -2
    tmp915 = einsum(r1.b, (0,), ints.tmp1491, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp915, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp981, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp910
    r3new.abbab += np.transpose(tmp912, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += tmp914 * 2
    del tmp914
    r3new.abbab += tmp915
    r3new.abbab += einsum(r1.b, (0,), ints.tmp971, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    tmp916 = einsum(t1.aa, (0, 1), tmp831, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += np.transpose(tmp916, (0, 2, 1, 3, 4)) * -2
    tmp917 = einsum(r2.aba, (0, 1, 2), ints.tmp367, (3, 4, 1, 5), (0, 3, 4, 2, 5))
    r3new.abbab += tmp917 * -1
    r3new.abbab += np.transpose(tmp917, (0, 2, 1, 3, 4))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1262, (1, 2, 3, 4), (1, 0, 2, 3, 4))
    tmp918 = einsum(r2.aba, (0, 1, 2), ints.tmp279, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.abbab += np.transpose(tmp918, (0, 2, 1, 3, 4)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1262, (1, 2, 3, 4), (1, 2, 0, 3, 4)) * -1
    r3new.abbab += tmp918
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1611, (1, 2, 3, 4), (1, 0, 2, 3, 4)) * -1
    tmp922 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 0, 2, 5, 6), (4, 5, 1, 6, 3)) * -1
    tmp923 = einsum(t1.bb, (0, 1), tmp922, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp922
    tmp924 = einsum(t1.aa, (0, 1), tmp923, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp923
    r3new.abbab += tmp924 * 2
    tmp919 = einsum(r2.aba, (0, 1, 2), ints.tmp194, (3, 0, 4, 5), (3, 4, 5, 1, 2))
    tmp920 = einsum(t1.bb, (0, 1), tmp919, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp919
    r3new.abbab += np.transpose(tmp920, (0, 2, 1, 3, 4))
    tmp921 = einsum(r1.b, (0,), ints.tmp1606, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp921, (0, 2, 1, 3, 4))
    r3new.abbab += tmp920 * -1
    r3new.abbab += tmp921 * -1
    r3new.abbab += np.transpose(tmp924, (0, 2, 1, 3, 4)) * -2
    tmp925 = einsum(r2.bbb, (0, 1, 2), ints.tmp194, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    tmp926 = einsum(t1.aa, (0, 1), tmp925, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp925
    r3new.abbab += np.transpose(tmp926, (0, 2, 1, 3, 4)) * -2
    r3new.abbab += tmp926 * 2
    r3new.babba = einsum(r1.b, (0,), ints.tmp1052, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp64, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp672, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp674, (1, 0, 2, 4, 3)) * -1
    tmp956 = einsum(r1.b, (0,), ints.tmp1665, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.babba += np.transpose(tmp956, (1, 0, 2, 4, 3)) * 2
    tmp958 = einsum(tmp957, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * 2
    del tmp957
    r3new.babba += np.transpose(tmp958, (1, 0, 2, 4, 3))
    tmp959 = einsum(tmp676, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    del tmp676
    tmp960 = einsum(t1.bb, (0, 1), tmp959, (2, 3, 0, 4, 5), (2, 4, 3, 5, 1)) * 2
    del tmp959
    r3new.babba += np.transpose(tmp960, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(ints.tmp223, (0, 1), r2.aba, (2, 3, 4), (3, 2, 0, 1, 4))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1300, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp834, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp134, (1, 0, 2, 4, 3)) * -6
    del tmp134
    r3new.babba += np.transpose(tmp681, (1, 0, 2, 4, 3)) * -2
    del tmp681
    r3new.babba += np.transpose(tmp684, (1, 0, 2, 4, 3)) * 2
    del tmp684
    r3new.babba += einsum(r1.b, (0,), ints.tmp1669, (1, 2, 3, 0, 4, 5), (2, 1, 3, 5, 4)) * -2
    r3new.babba += np.transpose(tmp679, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp683, (2, 0, 1, 4, 3)) * -2
    del tmp683
    r3new.babba += np.transpose(tmp685, (2, 0, 1, 4, 3)) * -1
    del tmp685
    r3new.babba += einsum(ints.tmp70, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.babba += einsum(r2.aba, (0, 1, 2), ints.tmp1668, (1, 3, 4, 5), (4, 0, 3, 5, 2)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1670, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp960, (1, 0, 2, 4, 3))
    del tmp960
    r3new.babba += np.transpose(tmp64, (2, 0, 1, 4, 3)) * 2
    del tmp64
    r3new.babba += np.transpose(tmp672, (2, 0, 1, 4, 3)) * 2
    del tmp672
    r3new.babba += np.transpose(tmp956, (2, 0, 1, 4, 3)) * -2
    del tmp956
    r3new.babba += np.transpose(tmp958, (2, 0, 1, 4, 3)) * -1
    del tmp958
    r3new.babba += np.transpose(tmp674, (2, 0, 1, 4, 3))
    del tmp674
    r3new.babba += einsum(ints.tmp223, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp925, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp686, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp690, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp691, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp692, (1, 0, 2, 4, 3))
    del tmp692
    r3new.babba += np.transpose(tmp687, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp689, (2, 0, 1, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1000, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp698, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp700, (2, 0, 1, 4, 3)) * 2
    del tmp700
    r3new.babba += np.transpose(tmp703, (2, 0, 1, 4, 3)) * -1
    r3new.babba += np.transpose(tmp704, (2, 0, 1, 4, 3)) * 2
    del tmp704
    r3new.babba += np.transpose(tmp699, (2, 0, 1, 4, 3))
    r3new.babba += np.transpose(tmp705, (2, 0, 1, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1671, (1, 2, 3, 0, 4, 5), (3, 1, 2, 5, 4)) * -1
    tmp961 = np.copy(np.transpose(tmp706, (0, 1, 3, 2, 4))) * -1
    del tmp706
    tmp961 += np.transpose(tmp707, (0, 2, 3, 1, 4)) * 2
    del tmp707
    r3new.babba += einsum(t1.bb, (0, 1), tmp961, (2, 3, 0, 4, 5), (4, 2, 3, 1, 5))
    del tmp961
    r3new.babba += einsum(r1.b, (0,), ints.tmp935, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp925, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp687, (1, 0, 2, 4, 3)) * 2
    del tmp687
    r3new.babba += np.transpose(tmp689, (1, 0, 2, 4, 3)) * 2
    del tmp689
    r3new.babba += np.transpose(tmp694, (1, 0, 2, 4, 3)) * 2
    del tmp694
    r3new.babba += np.transpose(tmp696, (1, 0, 2, 4, 3))
    r3new.babba += np.transpose(tmp690, (2, 0, 1, 4, 3)) * 2
    r3new.babba += np.transpose(tmp693, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp696, (2, 0, 1, 4, 3)) * -1
    del tmp696
    r3new.babba += np.transpose(tmp691, (2, 0, 1, 4, 3))
    r3new.babba += np.transpose(tmp697, (2, 0, 1, 4, 3))
    del tmp697
    r3new.babba += einsum(r1.b, (0,), ints.tmp1674, (1, 2, 3, 0, 4, 5), (3, 1, 2, 5, 4))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1354, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp714, (1, 0, 2, 4, 3)) * 2
    del tmp714
    r3new.babba += np.transpose(tmp717, (1, 0, 2, 4, 3)) * -2
    del tmp717
    r3new.babba += np.transpose(tmp715, (2, 0, 1, 4, 3)) * -2
    del tmp715
    r3new.babba += np.transpose(tmp718, (2, 0, 1, 4, 3)) * 2
    del tmp718
    tmp963 = einsum(tmp962, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * 2
    del tmp962
    r3new.babba += np.transpose(tmp963, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1012, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp709, (2, 0, 1, 4, 3)) * 2
    del tmp709
    r3new.babba += np.transpose(tmp710, (2, 0, 1, 4, 3)) * -2
    del tmp710
    r3new.babba += einsum(r1.b, (0,), ints.tmp1677, (1, 2, 3, 0, 4, 5), (3, 1, 2, 5, 4))
    tmp964 = np.copy(np.transpose(tmp711, (0, 1, 3, 2, 4))) * -1
    del tmp711
    tmp964 += np.transpose(tmp712, (0, 2, 3, 1, 4)) * 2
    del tmp712
    r3new.babba += einsum(t1.bb, (0, 1), tmp964, (2, 3, 0, 4, 5), (4, 2, 3, 1, 5)) * -1
    del tmp964
    r3new.babba += einsum(tmp348, (0, 1, 2), t2.abab, (3, 4, 2, 5), (0, 3, 4, 5, 1)) * -2
    del tmp348
    r3new.babba += np.transpose(tmp720, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp722, (1, 0, 2, 4, 3)) * 2
    del tmp722
    r3new.babba += np.transpose(tmp727, (1, 0, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp728, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp730, (1, 0, 2, 4, 3))
    r3new.babba += np.transpose(tmp726, (2, 0, 1, 4, 3))
    r3new.babba += einsum(ints.tmp1621, (0, 1), r2.aba, (2, 3, 4), (3, 2, 0, 1, 4)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp861, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp703, (2, 0, 1, 4, 3)) * -1
    r3new.babba += np.transpose(tmp740, (2, 0, 1, 4, 3)) * -1
    del tmp740
    r3new.babba += np.transpose(tmp699, (2, 0, 1, 4, 3))
    del tmp699
    r3new.babba += einsum(ints.tmp485, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * 4
    tmp965 = np.copy(np.transpose(tmp702, (0, 1, 3, 2, 4))) * -0.3333333333333333
    del tmp702
    tmp965 += np.transpose(tmp742, (0, 1, 3, 2, 4))
    del tmp742
    tmp965 += np.transpose(tmp741, (1, 0, 2, 3, 4)) * 0.3333333333333333
    del tmp741
    tmp965 += einsum(ints.tmp233, (0, 1, 2, 3), r3.babab, (4, 2, 5, 3, 6), (1, 0, 4, 5, 6)) * -0.3333333333333333
    r3new.babba += einsum(t1.aa, (0, 1), tmp965, (0, 2, 3, 4, 5), (4, 2, 3, 5, 1)) * 6
    del tmp965
    r3new.babba += einsum(r1.b, (0,), ints.tmp887, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp726, (1, 0, 2, 4, 3)) * -1
    del tmp726
    r3new.babba += np.transpose(tmp733, (1, 0, 2, 4, 3)) * 2
    del tmp733
    tmp966 = einsum(r1.b, (0,), ints.tmp1679, (1, 0, 2, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.babba += np.transpose(tmp966, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp727, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp730, (2, 0, 1, 4, 3)) * -1
    del tmp730
    r3new.babba += np.transpose(tmp734, (2, 0, 1, 4, 3)) * -1
    r3new.babba += np.transpose(tmp728, (2, 0, 1, 4, 3))
    r3new.babba += np.transpose(tmp739, (2, 0, 1, 4, 3))
    del tmp739
    r3new.babba += einsum(ints.tmp1621, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * 2
    r3new.babba += einsum(ints.tmp259, (0, 1), r3.babab, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 2
    r3new.babba += np.transpose(tmp746, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp747, (2, 0, 1, 4, 3)) * -1
    r3new.babba += np.transpose(tmp751, (2, 0, 1, 4, 3)) * -1
    del tmp751
    r3new.babba += einsum(ints.tmp285, (0, 1), r2.aba, (2, 3, 4), (3, 2, 0, 1, 4)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1417, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp937, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp754, (1, 0, 2, 4, 3)) * -2
    del tmp754
    r3new.babba += np.transpose(tmp755, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp758, (1, 0, 2, 4, 3)) * 2
    del tmp758
    r3new.babba += np.transpose(tmp763, (1, 0, 2, 4, 3)) * -1
    del tmp763
    r3new.babba += einsum(ints.tmp134, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.babba += np.transpose(tmp753, (1, 0, 2, 4, 3)) * -1
    del tmp753
    r3new.babba += np.transpose(tmp747, (1, 0, 2, 4, 3))
    del tmp747
    r3new.babba += np.transpose(tmp746, (2, 0, 1, 4, 3))
    del tmp746
    r3new.babba += einsum(ints.tmp285, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1092, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp768, (1, 0, 2, 4, 3))
    r3new.babba += np.transpose(tmp765, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp767, (2, 0, 1, 4, 3)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1681, (1, 2, 3, 0, 4, 5), (3, 1, 2, 5, 4)) * -1
    tmp967 = np.copy(tmp772) * -0.5
    del tmp772
    tmp967 += np.transpose(tmp770, (0, 3, 2, 1, 4))
    r3new.babba += einsum(t1.bb, (0, 1), tmp967, (2, 3, 4, 0, 5), (4, 2, 3, 1, 5)) * 2
    del tmp967
    r3new.babba += einsum(r1.b, (0,), ints.tmp1080, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1254, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp774, (2, 0, 1, 4, 3)) * 2
    del tmp774
    r3new.babba += np.transpose(tmp780, (2, 0, 1, 4, 3))
    del tmp780
    r3new.babba += np.transpose(tmp781, (2, 0, 1, 4, 3))
    del tmp781
    r3new.babba += einsum(r1.b, (0,), ints.tmp1683, (1, 2, 3, 0, 4, 5), (3, 1, 2, 5, 4)) * -1
    tmp968 = np.copy(tmp782) * -1
    del tmp782
    tmp968 += np.transpose(tmp784, (0, 2, 3, 1, 4)) * -2
    del tmp784
    r3new.babba += einsum(t1.bb, (0, 1), tmp968, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5))
    del tmp968
    r3new.babba += einsum(r1.b, (0,), ints.tmp1092, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp765, (1, 0, 2, 4, 3)) * 2
    del tmp765
    r3new.babba += np.transpose(tmp767, (1, 0, 2, 4, 3)) * -2
    del tmp767
    r3new.babba += np.transpose(tmp764, (1, 0, 2, 4, 3))
    del tmp764
    r3new.babba += np.transpose(tmp768, (2, 0, 1, 4, 3)) * -1
    del tmp768
    tmp969 = np.copy(tmp769) * -0.5
    del tmp769
    tmp969 += np.transpose(tmp770, (0, 3, 1, 2, 4))
    del tmp770
    r3new.babba += einsum(t1.bb, (0, 1), tmp969, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5)) * -2
    del tmp969
    r3new.babba += einsum(r1.b, (0,), ints.tmp1615, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp966, (1, 0, 2, 4, 3)) * -1
    del tmp966
    r3new.babba += np.transpose(tmp727, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp734, (2, 0, 1, 4, 3)) * -1
    del tmp734
    r3new.babba += np.transpose(tmp728, (2, 0, 1, 4, 3))
    r3new.babba += einsum(ints.tmp66, (0, 1), r3.babab, (2, 3, 4, 1, 5), (2, 3, 4, 5, 0)) * 4
    tmp970 = einsum(t1.bb, (0, 1), tmp735, (2, 3, 4, 0, 5), (3, 2, 4, 5, 1)) * 2
    del tmp735
    tmp970 += np.transpose(tmp786, (0, 1, 3, 2, 4)) * -2
    del tmp786
    r3new.babba += einsum(t1.aa, (0, 1), tmp970, (0, 2, 3, 4, 5), (4, 2, 3, 5, 1))
    del tmp970
    r3new.babba += einsum(r1.b, (0,), ints.tmp1148, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1000, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp698, (1, 0, 2, 4, 3)) * 2
    del tmp698
    r3new.babba += np.transpose(tmp705, (1, 0, 2, 4, 3)) * -1
    del tmp705
    r3new.babba += np.transpose(tmp703, (1, 0, 2, 4, 3))
    r3new.babba += np.transpose(tmp787, (1, 0, 2, 4, 3))
    del tmp787
    r3new.babba += np.transpose(tmp788, (1, 0, 2, 4, 3))
    del tmp788
    r3new.babba += einsum(r1.b, (0,), ints.tmp1354, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.babba += np.transpose(tmp963, (1, 0, 2, 4, 3))
    del tmp963
    r3new.babba += einsum(r1.b, (0,), ints.tmp1012, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp789, (1, 0, 2, 4, 3)) * -1
    del tmp789
    r3new.babba += np.transpose(tmp790, (1, 0, 2, 4, 3)) * -1
    del tmp790
    tmp971 = np.copy(np.transpose(tmp72, (0, 2, 1))) * -0.5
    del tmp72
    tmp971 += np.transpose(tmp73, (0, 2, 1))
    del tmp73
    r3new.babba += einsum(tmp971, (0, 1, 2), t2.abab, (3, 4, 1, 5), (4, 3, 0, 5, 2)) * 2
    del tmp971
    r3new.babba += einsum(r1.b, (0,), ints.tmp1659, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp793, (1, 0, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp795, (1, 0, 2, 4, 3)) * -4
    r3new.babba += np.transpose(tmp797, (2, 0, 1, 4, 3)) * -1
    tmp972 = einsum(r2.aba, (0, 1, 2), ints.tmp1040, (0, 3, 4, 5), (3, 4, 1, 2, 5))
    r3new.babba += np.transpose(tmp972, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(ints.tmp248, (0, 1), r2.aba, (2, 3, 4), (3, 2, 0, 1, 4)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1039, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1024, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.babba += np.transpose(tmp799, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp801, (1, 0, 2, 4, 3)) * -6
    del tmp801
    r3new.babba += np.transpose(tmp803, (1, 0, 2, 4, 3)) * 4
    del tmp803
    r3new.babba += np.transpose(tmp804, (1, 0, 2, 4, 3)) * 2
    del tmp804
    tmp973 = einsum(r2.bbb, (0, 1, 2), ints.tmp1629, (3, 1, 4, 5), (3, 4, 0, 5, 2))
    r3new.babba += np.transpose(tmp973, (1, 0, 2, 4, 3)) * -4
    r3new.babba += einsum(r1.b, (0,), ints.tmp1688, (1, 2, 3, 0, 4, 5), (2, 1, 3, 5, 4)) * -2
    r3new.babba += einsum(ints.tmp564, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * -2
    r3new.babba += einsum(t2.aaaa, (0, 1, 2, 3), tmp135, (1, 4, 5, 3, 6), (4, 0, 5, 6, 2)) * -12
    del tmp135
    r3new.babba += einsum(r1.b, (0,), ints.tmp1659, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp797, (1, 0, 2, 4, 3))
    del tmp797
    r3new.babba += np.transpose(tmp972, (1, 0, 2, 4, 3))
    del tmp972
    r3new.babba += np.transpose(tmp793, (2, 0, 1, 4, 3)) * -2
    del tmp793
    r3new.babba += np.transpose(tmp795, (2, 0, 1, 4, 3)) * 4
    del tmp795
    r3new.babba += einsum(ints.tmp248, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1067, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    tmp976 = einsum(tmp11, (0, 1, 2), t2.abab, (3, 4, 2, 5), (0, 3, 1, 4, 5))
    del tmp11
    tmp977 = einsum(t1.aa, (0, 1), tmp976, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp976
    r3new.babba += np.transpose(tmp977, (1, 0, 2, 4, 3))
    r3new.babba += np.transpose(tmp806, (2, 0, 1, 4, 3)) * -1
    del tmp806
    tmp974 = einsum(r1.b, (0,), ints.tmp1471, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.babba += np.transpose(tmp974, (2, 0, 1, 4, 3)) * -1
    tmp975 = einsum(tmp79, (0, 1, 2), t2.abab, (3, 4, 2, 5), (3, 4, 0, 1, 5)) * 2
    del tmp79
    r3new.babba += np.transpose(tmp975, (2, 0, 1, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1067, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp975, (1, 0, 2, 4, 3)) * -1
    del tmp975
    r3new.babba += np.transpose(tmp810, (1, 0, 2, 4, 3))
    del tmp810
    r3new.babba += np.transpose(tmp974, (1, 0, 2, 4, 3))
    del tmp974
    r3new.babba += np.transpose(tmp977, (2, 0, 1, 4, 3)) * -1
    del tmp977
    r3new.babba += einsum(r1.b, (0,), ints.tmp935, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp875, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1673, (1, 0, 2, 3, 4, 5), (2, 1, 3, 5, 4))
    r3new.babba += np.transpose(tmp690, (2, 0, 1, 4, 3)) * 2
    r3new.babba += np.transpose(tmp693, (2, 0, 1, 4, 3)) * -2
    del tmp693
    r3new.babba += np.transpose(tmp812, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp691, (2, 0, 1, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1254, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1080, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp815, (1, 0, 2, 4, 3)) * 2
    del tmp815
    r3new.babba += np.transpose(tmp816, (1, 0, 2, 4, 3)) * -1
    del tmp816
    r3new.babba += np.transpose(tmp814, (1, 0, 2, 4, 3))
    del tmp814
    r3new.babba += np.transpose(tmp813, (2, 0, 1, 4, 3))
    del tmp813
    r3new.babba += einsum(r1.b, (0,), ints.tmp1093, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp818, (2, 0, 1, 4, 3)) * -1
    r3new.babba += np.transpose(tmp817, (2, 0, 1, 4, 3))
    r3new.babba += np.transpose(tmp825, (2, 0, 1, 4, 3))
    tmp978 = np.copy(tmp826)
    del tmp826
    tmp978 += np.transpose(tmp827, (0, 2, 3, 1, 4)) * 2
    del tmp827
    tmp979 = einsum(t1.bb, (0, 1), tmp978, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp978
    r3new.babba += np.transpose(tmp979, (2, 0, 1, 4, 3))
    r3new.babba += einsum(ints.tmp299, (0, 1), r2.aba, (2, 3, 4), (3, 2, 0, 1, 4)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp971, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1255, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp830, (2, 0, 1, 4, 3)) * -1
    del tmp830
    r3new.babba += einsum(ints.tmp68, (0, 1), r2.bbb, (2, 3, 4), (2, 0, 3, 4, 1)) * 2
    tmp980 = np.copy(tmp831)
    del tmp831
    tmp980 += np.transpose(tmp832, (0, 1, 3, 2, 4)) * -1
    del tmp832
    tmp980 += np.transpose(tmp776, (0, 1, 3, 2, 4))
    del tmp776
    r3new.babba += einsum(t1.aa, (0, 1), tmp980, (2, 0, 3, 4, 5), (3, 2, 4, 5, 1)) * 2
    del tmp980
    r3new.babba += einsum(r1.b, (0,), ints.tmp1093, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp817, (1, 0, 2, 4, 3)) * -1
    del tmp817
    r3new.babba += np.transpose(tmp825, (1, 0, 2, 4, 3)) * -1
    del tmp825
    r3new.babba += np.transpose(tmp979, (1, 0, 2, 4, 3)) * -1
    del tmp979
    r3new.babba += np.transpose(tmp818, (1, 0, 2, 4, 3))
    del tmp818
    r3new.babba += einsum(ints.tmp299, (0, 1), r2.aba, (2, 3, 4), (0, 2, 3, 1, 4))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1155, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp834, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp835, (1, 0, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (0, 1, 3, 4, 2)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1155, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp834, (2, 0, 1, 4, 3)) * 2
    del tmp834
    r3new.babba += np.transpose(tmp835, (2, 0, 1, 4, 3)) * 2
    del tmp835
    r3new.babba += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (3, 1, 0, 4, 2))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1114, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp838, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp840, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp841, (1, 0, 2, 4, 3)) * 2
    tmp981 = einsum(r1.b, (0,), ints.tmp1472, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.babba += np.transpose(tmp981, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1162, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1508, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp837, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp836, (2, 0, 1, 4, 3)) * 4
    r3new.babba += np.transpose(tmp799, (2, 0, 1, 4, 3))
    del tmp799
    r3new.babba += einsum(r1.b, (0,), ints.tmp834, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1300, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.babba += np.transpose(tmp679, (1, 0, 2, 4, 3)) * 2
    del tmp679
    r3new.babba += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1114, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp981, (1, 0, 2, 4, 3))
    del tmp981
    r3new.babba += np.transpose(tmp841, (2, 0, 1, 4, 3)) * -2
    del tmp841
    r3new.babba += np.transpose(tmp838, (2, 0, 1, 4, 3))
    del tmp838
    r3new.babba += np.transpose(tmp840, (2, 0, 1, 4, 3))
    del tmp840
    r3new.babba += einsum(r1.b, (0,), ints.tmp1219, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp842, (1, 0, 2, 4, 3))
    r3new.babba += einsum(r2.bbb, (0, 1, 2), ints.tmp1217, (3, 4, 1, 5), (4, 3, 0, 2, 5)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp278, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp844, (1, 0, 2, 4, 3)) * -2
    del tmp844
    r3new.babba += np.transpose(tmp845, (1, 0, 2, 4, 3)) * 2
    del tmp845
    r3new.babba += np.transpose(tmp847, (2, 0, 1, 4, 3)) * -2
    del tmp847
    r3new.babba += np.transpose(tmp848, (2, 0, 1, 4, 3)) * 2
    del tmp848
    r3new.babba += einsum(r1.b, (0,), ints.tmp1223, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp842, (2, 0, 1, 4, 3)) * -1
    del tmp842
    r3new.babba += np.transpose(tmp843, (2, 0, 1, 4, 3)) * 2
    del tmp843
    r3new.babba += einsum(r1.b, (0,), ints.tmp1508, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1162, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.babba += np.transpose(tmp836, (1, 0, 2, 4, 3)) * -4
    del tmp836
    r3new.babba += np.transpose(tmp837, (2, 0, 1, 4, 3)) * 2
    del tmp837
    r3new.babba += einsum(r1.b, (0,), ints.tmp1043, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp851, (1, 0, 2, 4, 3)) * -2
    del tmp851
    r3new.babba += np.transpose(tmp853, (2, 0, 1, 4, 3)) * -2
    del tmp853
    r3new.babba += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp890, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.babba += np.transpose(tmp849, (1, 0, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp890, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp849, (2, 0, 1, 4, 3)) * 2
    del tmp849
    r3new.babba += np.transpose(tmp850, (2, 0, 1, 4, 3)) * -2
    del tmp850
    r3new.babba += einsum(r1.b, (0,), ints.tmp1173, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp854, (1, 0, 2, 4, 3)) * 2
    del tmp854
    r3new.babba += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp278, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp858, (1, 0, 2, 4, 3)) * 2
    del tmp858
    r3new.babba += np.transpose(tmp862, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp862, (2, 0, 1, 4, 3))
    del tmp862
    r3new.babba += einsum(r1.b, (0,), ints.tmp1261, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp855, (2, 0, 1, 4, 3)) * 2
    del tmp855
    r3new.babba += einsum(r1.b, (0,), ints.tmp1149, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp861, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp863, (1, 0, 2, 4, 3)) * -2
    del tmp863
    r3new.babba += np.transpose(tmp703, (1, 0, 2, 4, 3))
    del tmp703
    r3new.babba += einsum(r1.b, (0,), ints.tmp1167, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1258, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp867, (1, 0, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp866, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1696, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp864, (1, 0, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp865, (1, 0, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp937, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1417, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.babba += np.transpose(tmp755, (2, 0, 1, 4, 3)) * 2
    del tmp755
    r3new.babba += einsum(r1.b, (0,), ints.tmp1158, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp868, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1158, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp868, (1, 0, 2, 4, 3))
    del tmp868
    r3new.babba += einsum(r1.b, (0,), ints.tmp1696, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp864, (2, 0, 1, 4, 3)) * 2
    del tmp864
    r3new.babba += np.transpose(tmp865, (2, 0, 1, 4, 3))
    del tmp865
    r3new.babba += einsum(r1.b, (0,), ints.tmp1258, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1167, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp866, (1, 0, 2, 4, 3))
    del tmp866
    r3new.babba += np.transpose(tmp867, (2, 0, 1, 4, 3)) * -2
    del tmp867
    r3new.babba += np.transpose(tmp870, (1, 0, 2, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1175, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp872, (2, 0, 1, 4, 3)) * 2
    del tmp872
    r3new.babba += np.transpose(tmp870, (2, 0, 1, 4, 3)) * -1
    del tmp870
    r3new.babba += einsum(r1.b, (0,), ints.tmp875, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp686, (1, 0, 2, 4, 3)) * -1
    del tmp686
    r3new.babba += np.transpose(tmp690, (1, 0, 2, 4, 3)) * -2
    del tmp690
    r3new.babba += np.transpose(tmp691, (1, 0, 2, 4, 3)) * -1
    del tmp691
    r3new.babba += np.transpose(tmp812, (1, 0, 2, 4, 3)) * 2
    del tmp812
    r3new.babba += einsum(r1.b, (0,), ints.tmp1550, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -2
    r3new.babba += np.transpose(tmp876, (1, 0, 2, 4, 3)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp878, (1, 0, 2, 4, 3)) * -2
    del tmp878
    r3new.babba += np.transpose(tmp880, (1, 0, 2, 4, 3)) * 2
    del tmp880
    r3new.babba += einsum(r1.b, (0,), ints.tmp1195, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp874, (1, 0, 2, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1550, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.babba += np.transpose(tmp876, (2, 0, 1, 4, 3)) * -2
    del tmp876
    r3new.babba += einsum(r1.b, (0,), ints.tmp1195, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp874, (2, 0, 1, 4, 3)) * 2
    del tmp874
    r3new.babba += einsum(r1.b, (0,), ints.tmp1043, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1213, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp884, (2, 0, 1, 4, 3))
    tmp982 = einsum(r2.aba, (0, 1, 2), ints.tmp1698, (3, 1, 4, 5), (0, 3, 4, 2, 5))
    r3new.babba += np.transpose(tmp982, (1, 0, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp881, (2, 0, 1, 4, 3)) * -2
    r3new.babba += np.transpose(tmp883, (2, 0, 1, 4, 3)) * 4
    r3new.babba += einsum(r1.b, (0,), ints.tmp1024, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1039, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * 2
    r3new.babba += np.transpose(tmp973, (2, 0, 1, 4, 3)) * 4
    del tmp973
    r3new.babba += np.transpose(tmp881, (1, 0, 2, 4, 3)) * 2
    del tmp881
    r3new.babba += np.transpose(tmp883, (1, 0, 2, 4, 3)) * -4
    del tmp883
    r3new.babba += np.transpose(tmp982, (2, 0, 1, 4, 3)) * -2
    del tmp982
    r3new.babba += einsum(r1.b, (0,), ints.tmp1213, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp884, (1, 0, 2, 4, 3)) * -1
    del tmp884
    r3new.babba += np.transpose(tmp886, (1, 0, 2, 4, 3)) * -2
    del tmp886
    r3new.babba += np.transpose(tmp887, (1, 0, 2, 4, 3)) * 2
    del tmp887
    r3new.babba += einsum(r1.b, (0,), ints.tmp1224, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp889, (2, 0, 1, 4, 3)) * -1
    del tmp889
    r3new.babba += np.transpose(tmp888, (2, 0, 1, 4, 3)) * 2
    del tmp888
    r3new.babba += einsum(r1.b, (0,), ints.tmp1222, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += einsum(r2.aba, (0, 1, 2), ints.tmp1220, (3, 0, 4, 5), (4, 3, 1, 5, 2))
    r3new.babba += np.transpose(tmp892, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp898, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp893, (2, 0, 1, 4, 3)) * 4
    del tmp893
    r3new.babba += np.transpose(tmp891, (1, 0, 2, 4, 3)) * 2
    del tmp891
    r3new.babba += np.transpose(tmp890, (2, 0, 1, 4, 3)) * 2
    r3new.babba += np.transpose(tmp892, (1, 0, 2, 4, 3))
    del tmp892
    r3new.babba += np.transpose(tmp890, (1, 0, 2, 4, 3)) * -2
    del tmp890
    r3new.babba += einsum(r1.b, (0,), ints.tmp1138, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp894, (2, 0, 1, 4, 3)) * 2
    r3new.babba += np.transpose(tmp896, (2, 0, 1, 4, 3))
    del tmp896
    r3new.babba += np.transpose(tmp897, (2, 0, 1, 4, 3))
    del tmp897
    r3new.babba += np.transpose(tmp894, (1, 0, 2, 4, 3)) * -2
    del tmp894
    r3new.babba += einsum(r1.b, (0,), ints.tmp1700, (1, 2, 3, 0, 4, 5), (2, 1, 3, 5, 4)) * -1
    r3new.babba += np.transpose(tmp924, (2, 0, 1, 4, 3)) * -2
    tmp983 = einsum(r2.aba, (0, 1, 2), ints.tmp280, (3, 0, 4, 5), (3, 4, 5, 1, 2))
    r3new.babba += einsum(t1.bb, (0, 1), tmp983, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5)) * -1
    del tmp983
    r3new.babba += einsum(r1.b, (0,), ints.tmp1242, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp899, (1, 0, 2, 4, 3)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1242, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp899, (2, 0, 1, 4, 3)) * -2
    del tmp899
    r3new.babba += np.transpose(tmp720, (1, 0, 2, 4, 3)) * -1
    del tmp720
    r3new.babba += np.transpose(tmp727, (1, 0, 2, 4, 3)) * 2
    del tmp727
    r3new.babba += np.transpose(tmp728, (1, 0, 2, 4, 3)) * -1
    del tmp728
    r3new.babba += np.transpose(tmp725, (1, 0, 2, 4, 3))
    del tmp725
    r3new.babba += einsum(r1.b, (0,), ints.tmp898, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp838, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp900, (2, 0, 1, 4, 3)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp838, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.babba += np.transpose(tmp900, (1, 0, 2, 4, 3)) * 2
    del tmp900
    r3new.babba += np.transpose(tmp902, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp903, (2, 0, 1, 4, 3)) * -1
    r3new.babba += np.transpose(tmp905, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp903, (1, 0, 2, 4, 3))
    del tmp903
    r3new.babba += np.transpose(tmp905, (1, 0, 2, 4, 3))
    del tmp905
    r3new.babba += np.transpose(tmp902, (2, 0, 1, 4, 3))
    del tmp902
    r3new.babba += einsum(r1.b, (0,), ints.tmp1153, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp906, (2, 0, 1, 4, 3))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1112, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * 2
    tmp984 = einsum(r2.aba, (0, 1, 2), ints.tmp1111, (3, 0, 4, 5), (3, 4, 1, 2, 5))
    r3new.babba += np.transpose(tmp984, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1112, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -2
    r3new.babba += np.transpose(tmp984, (1, 0, 2, 4, 3))
    del tmp984
    r3new.babba += einsum(r1.b, (0,), ints.tmp1153, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp906, (1, 0, 2, 4, 3)) * -1
    del tmp906
    r3new.babba += einsum(r1.b, (0,), ints.tmp1574, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp909, (2, 0, 1, 4, 3)) * -2
    del tmp909
    tmp985 = einsum(r2.bbb, (0, 1, 2), ints.tmp280, (3, 4, 5, 1), (3, 4, 5, 0, 2))
    r3new.babba += einsum(t1.aa, (0, 1), tmp985, (2, 0, 3, 4, 5), (3, 2, 4, 5, 1)) * 2
    del tmp985
    r3new.babba += einsum(r1.b, (0,), ints.tmp981, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp912, (1, 0, 2, 4, 3)) * 2
    r3new.babba += np.transpose(tmp910, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1094, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp915, (2, 0, 1, 4, 3)) * -1
    tmp986 = np.copy(tmp913) * 2
    del tmp913
    tmp986 += np.transpose(tmp820, (0, 1, 3, 2, 4)) * -1
    del tmp820
    tmp987 = einsum(t1.aa, (0, 1), tmp986, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp986
    r3new.babba += np.transpose(tmp987, (2, 0, 1, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1255, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp971, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp916, (2, 0, 1, 4, 3)) * -2
    del tmp916
    r3new.babba += einsum(r1.b, (0,), ints.tmp981, (1, 2, 3, 4), (2, 1, 0, 4, 3)) * -1
    r3new.babba += np.transpose(tmp910, (1, 0, 2, 4, 3))
    del tmp910
    r3new.babba += np.transpose(tmp912, (2, 0, 1, 4, 3)) * -2
    del tmp912
    r3new.babba += einsum(r1.b, (0,), ints.tmp1094, (1, 2, 3, 4), (2, 1, 0, 4, 3))
    r3new.babba += np.transpose(tmp915, (1, 0, 2, 4, 3))
    del tmp915
    r3new.babba += np.transpose(tmp987, (1, 0, 2, 4, 3))
    del tmp987
    r3new.babba += einsum(r1.b, (0,), ints.tmp1262, (1, 2, 3, 4), (0, 1, 2, 4, 3))
    r3new.babba += np.transpose(tmp918, (2, 0, 1, 4, 3)) * -1
    del tmp918
    r3new.babba += np.transpose(tmp917, (1, 0, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp917, (2, 0, 1, 4, 3))
    del tmp917
    r3new.babba += einsum(r1.b, (0,), ints.tmp1140, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp924, (1, 0, 2, 4, 3)) * 2
    del tmp924
    r3new.babba += np.transpose(tmp920, (2, 0, 1, 4, 3))
    del tmp920
    r3new.babba += np.transpose(tmp921, (2, 0, 1, 4, 3))
    del tmp921
    r3new.babba += einsum(r1.b, (0,), ints.tmp1610, (1, 2, 3, 4), (0, 1, 2, 4, 3)) * -1
    r3new.babba += np.transpose(tmp926, (2, 0, 1, 4, 3)) * -2
    del tmp926

    return {"r1new": r1new, "r2new": r2new, "r3new": r3new}

def hbar_matvec_ea_intermediates(f=None, t1=None, t2=None, t3=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        t1: 
        t2: 
        t3: 
        v: 

    Returns:
        tmp1: 
        tmp10: 
        tmp1005: 
        tmp1009: 
        tmp101: 
        tmp1011: 
        tmp1016: 
        tmp1019: 
        tmp1021: 
        tmp1026: 
        tmp1030: 
        tmp1031: 
        tmp1038: 
        tmp1040: 
        tmp1041: 
        tmp1045: 
        tmp1049: 
        tmp1051: 
        tmp1056: 
        tmp106: 
        tmp1069: 
        tmp1070: 
        tmp1075: 
        tmp1077: 
        tmp108: 
        tmp1085: 
        tmp1087: 
        tmp1097: 
        tmp11: 
        tmp110: 
        tmp1100: 
        tmp1101: 
        tmp1103: 
        tmp1107: 
        tmp1119: 
        tmp1120: 
        tmp1121: 
        tmp1122: 
        tmp1124: 
        tmp1125: 
        tmp1133: 
        tmp1134: 
        tmp1136: 
        tmp1137: 
        tmp114: 
        tmp1142: 
        tmp1147: 
        tmp1149: 
        tmp115: 
        tmp1158: 
        tmp1159: 
        tmp1160: 
        tmp1161: 
        tmp1163: 
        tmp1164: 
        tmp1172: 
        tmp1173: 
        tmp1176: 
        tmp1177: 
        tmp1181: 
        tmp1183: 
        tmp1189: 
        tmp1191: 
        tmp1198: 
        tmp120: 
        tmp1206: 
        tmp1209: 
        tmp1210: 
        tmp1217: 
        tmp1222: 
        tmp1224: 
        tmp1225: 
        tmp1227: 
        tmp1228: 
        tmp1229: 
        tmp123: 
        tmp1238: 
        tmp1243: 
        tmp1244: 
        tmp125: 
        tmp1250: 
        tmp1251: 
        tmp1252: 
        tmp1253: 
        tmp1260: 
        tmp1262: 
        tmp1268: 
        tmp1269: 
        tmp1272: 
        tmp1277: 
        tmp1285: 
        tmp1287: 
        tmp129: 
        tmp1290: 
        tmp1293: 
        tmp1302: 
        tmp1303: 
        tmp1320: 
        tmp1328: 
        tmp136: 
        tmp1377: 
        tmp1386: 
        tmp1398: 
        tmp1414: 
        tmp1421: 
        tmp1428: 
        tmp1432: 
        tmp1436: 
        tmp1442: 
        tmp1445: 
        tmp1447: 
        tmp1459: 
        tmp147: 
        tmp1473: 
        tmp1488: 
        tmp149: 
        tmp1494: 
        tmp151: 
        tmp153: 
        tmp1533: 
        tmp1535: 
        tmp1555: 
        tmp1557: 
        tmp156: 
        tmp1591: 
        tmp1595: 
        tmp16: 
        tmp1606: 
        tmp1626: 
        tmp1640: 
        tmp1641: 
        tmp1644: 
        tmp1646: 
        tmp1648: 
        tmp1650: 
        tmp1651: 
        tmp1654: 
        tmp1659: 
        tmp1661: 
        tmp1663: 
        tmp1665: 
        tmp1669: 
        tmp167: 
        tmp1673: 
        tmp1674: 
        tmp1676: 
        tmp1678: 
        tmp1679: 
        tmp1682: 
        tmp1689: 
        tmp169: 
        tmp1697: 
        tmp1698: 
        tmp170: 
        tmp1702: 
        tmp1707: 
        tmp1709: 
        tmp1711: 
        tmp1715: 
        tmp1717: 
        tmp1723: 
        tmp1726: 
        tmp1727: 
        tmp1728: 
        tmp1739: 
        tmp174: 
        tmp1743: 
        tmp1751: 
        tmp1754: 
        tmp1755: 
        tmp1757: 
        tmp1763: 
        tmp1764: 
        tmp1768: 
        tmp1771: 
        tmp1772: 
        tmp1783: 
        tmp179: 
        tmp1793: 
        tmp1794: 
        tmp1807: 
        tmp181: 
        tmp1811: 
        tmp1815: 
        tmp1816: 
        tmp1819: 
        tmp1820: 
        tmp1828: 
        tmp1829: 
        tmp1831: 
        tmp1833: 
        tmp1835: 
        tmp1841: 
        tmp1848: 
        tmp185: 
        tmp1851: 
        tmp1852: 
        tmp1857: 
        tmp1859: 
        tmp1860: 
        tmp1873: 
        tmp1875: 
        tmp1876: 
        tmp1884: 
        tmp1887: 
        tmp1889: 
        tmp1896: 
        tmp1903: 
        tmp191: 
        tmp192: 
        tmp1922: 
        tmp1927: 
        tmp1930: 
        tmp1934: 
        tmp1945: 
        tmp1963: 
        tmp1964: 
        tmp1969: 
        tmp198: 
        tmp1999: 
        tmp2002: 
        tmp201: 
        tmp2012: 
        tmp2024: 
        tmp2028: 
        tmp2029: 
        tmp2033: 
        tmp2035: 
        tmp2040: 
        tmp2047: 
        tmp2048: 
        tmp2055: 
        tmp2069: 
        tmp2071: 
        tmp2082: 
        tmp2087: 
        tmp2088: 
        tmp210: 
        tmp2100: 
        tmp2101: 
        tmp211: 
        tmp2113: 
        tmp2122: 
        tmp2123: 
        tmp2129: 
        tmp213: 
        tmp2132: 
        tmp2133: 
        tmp219: 
        tmp220: 
        tmp223: 
        tmp227: 
        tmp23: 
        tmp234: 
        tmp244: 
        tmp245: 
        tmp249: 
        tmp255: 
        tmp259: 
        tmp263: 
        tmp270: 
        tmp273: 
        tmp274: 
        tmp275: 
        tmp277: 
        tmp283: 
        tmp286: 
        tmp289: 
        tmp29: 
        tmp292: 
        tmp299: 
        tmp30: 
        tmp301: 
        tmp310: 
        tmp311: 
        tmp312: 
        tmp325: 
        tmp326: 
        tmp328: 
        tmp337: 
        tmp338: 
        tmp339: 
        tmp340: 
        tmp343: 
        tmp345: 
        tmp35: 
        tmp359: 
        tmp364: 
        tmp370: 
        tmp372: 
        tmp375: 
        tmp380: 
        tmp394: 
        tmp396: 
        tmp4: 
        tmp401: 
        tmp407: 
        tmp409: 
        tmp413: 
        tmp415: 
        tmp416: 
        tmp418: 
        tmp419: 
        tmp429: 
        tmp43: 
        tmp433: 
        tmp435: 
        tmp442: 
        tmp445: 
        tmp447: 
        tmp45: 
        tmp451: 
        tmp453: 
        tmp455: 
        tmp456: 
        tmp460: 
        tmp464: 
        tmp465: 
        tmp47: 
        tmp476: 
        tmp48: 
        tmp483: 
        tmp489: 
        tmp490: 
        tmp494: 
        tmp496: 
        tmp505: 
        tmp506: 
        tmp508: 
        tmp510: 
        tmp511: 
        tmp513: 
        tmp52: 
        tmp520: 
        tmp530: 
        tmp532: 
        tmp544: 
        tmp546: 
        tmp550: 
        tmp552: 
        tmp554: 
        tmp562: 
        tmp567: 
        tmp572: 
        tmp577: 
        tmp578: 
        tmp58: 
        tmp587: 
        tmp595: 
        tmp596: 
        tmp60: 
        tmp606: 
        tmp608: 
        tmp610: 
        tmp622: 
        tmp624: 
        tmp625: 
        tmp629: 
        tmp633: 
        tmp637: 
        tmp638: 
        tmp64: 
        tmp642: 
        tmp643: 
        tmp644: 
        tmp66: 
        tmp660: 
        tmp67: 
        tmp672: 
        tmp674: 
        tmp68: 
        tmp683: 
        tmp69: 
        tmp692: 
        tmp694: 
        tmp695: 
        tmp710: 
        tmp711: 
        tmp714: 
        tmp72: 
        tmp722: 
        tmp726: 
        tmp732: 
        tmp74: 
        tmp746: 
        tmp748: 
        tmp761: 
        tmp770: 
        tmp773: 
        tmp785: 
        tmp794: 
        tmp801: 
        tmp831: 
        tmp846: 
        tmp856: 
        tmp857: 
        tmp865: 
        tmp867: 
        tmp869: 
        tmp873: 
        tmp878: 
        tmp88: 
        tmp880: 
        tmp886: 
        tmp888: 
        tmp889: 
        tmp899: 
        tmp90: 
        tmp900: 
        tmp906: 
        tmp907: 
        tmp908: 
        tmp914: 
        tmp92: 
        tmp922: 
        tmp930: 
        tmp933: 
        tmp934: 
        tmp941: 
        tmp945: 
        tmp957: 
        tmp960: 
        tmp97: 
        tmp975: 
        tmp976: 
        tmp977: 
        tmp978: 
        tmp986: 
        tmp988: 
        tmp993: 
        tmp997: 
        tmp999: 
    """

    tmp359 = np.copy(v.bbbb.ovvv)
    tmp359 += np.transpose(v.bbbb.ovvv, (0, 2, 3, 1)) * -1
    tmp415 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.vvvv, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp435 = np.copy(v.aaaa.ooov)
    tmp435 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1)) * -1
    tmp907 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oovv, (4, 0, 5, 3), (4, 1, 2, 5))
    tmp1377 = einsum(t2.abab, (0, 1, 2, 3), v.bbbb.vvvv, (4, 5, 6, 3), (0, 1, 2, 4, 5, 6))
    tmp2040 = np.copy(v.bbbb.ooov) * -1
    tmp2040 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3))
    tmp170 = einsum(t1.aa, (0, 1), v.aabb.vvov, (2, 1, 3, 4), (0, 3, 2, 4))
    tmp185 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp29 = np.copy(v.bbbb.ovvv) * -1
    tmp29 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3))
    tmp364 = einsum(t1.bb, (0, 1), tmp29, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp465 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.vvvv, (4, 5, 6, 3), (0, 1, 2, 4, 5, 6))
    tmp10 = np.copy(v.aaaa.ovvv)
    tmp10 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1)) * -1
    tmp483 = einsum(t2.aaaa, (0, 1, 2, 3), tmp10, (4, 3, 5, 6), (0, 1, 4, 2, 5, 6)) * -1
    tmp490 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 6, 3), (0, 1, 4, 6, 2, 5))
    tmp508 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp672 = einsum(v.aabb.vvvv, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 6, 0, 2, 3))
    tmp674 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 2, 6, 0, 3))
    tmp695 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 2, 6, 3))
    tmp726 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 7, 1), (4, 5, 0, 6, 7, 3))
    tmp732 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 7, 1), (4, 5, 6, 0, 7, 3))
    tmp746 = einsum(tmp29, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 2, 7), (4, 5, 6, 7, 1, 3)) * -1
    tmp748 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.abaaba, (4, 2, 1, 5, 6, 7), (4, 0, 5, 7, 6, 3))
    tmp770 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 0, 6, 2, 3))
    tmp960 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 3), (5, 4, 0, 6))
    tmp978 = einsum(t1.bb, (0, 1), v.aabb.ovoo, (2, 3, 4, 0), (2, 4, 3, 1))
    tmp997 = einsum(t2.abab, (0, 1, 2, 3), v.aaaa.vvvv, (4, 5, 6, 2), (0, 1, 4, 5, 6, 3))
    tmp999 = einsum(t2.abab, (0, 1, 2, 3), v.aaaa.ovov, (4, 5, 6, 2), (0, 4, 6, 1, 5, 3))
    tmp1021 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 5, 6, 3), (0, 4, 1, 2, 5, 6))
    tmp1041 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 3, 6, 1), (5, 4, 6, 2)) * -1
    tmp1075 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 4, 7, 0, 1, 6))
    tmp1103 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.abaaba, (2, 4, 1, 5, 6, 7), (0, 4, 7, 5, 3, 6))
    tmp1107 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 6, 3), (0, 4, 1, 6, 2, 5))
    tmp1163 = einsum(t1.aa, (0, 1), v.aabb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1191 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvoo, (4, 2, 5, 1), (0, 5, 4, 3))
    tmp1238 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 5, 6, 3), (0, 1, 6, 2, 4, 5))
    tmp1244 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvvv, (4, 5, 6, 3), (0, 1, 2, 4, 5, 6))
    tmp1253 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.abaaba, (4, 3, 0, 5, 6, 7), (4, 2, 5, 7, 1, 6))
    tmp1260 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 7), (4, 5, 6, 7, 1, 2))
    tmp1262 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 7), (4, 5, 2, 6, 7, 1))
    tmp1386 = einsum(t2.abab, (0, 1, 2, 3), tmp29, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6))
    tmp1398 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 6), (0, 4, 1, 3, 5, 6))
    tmp1428 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 6), (0, 4, 1, 5, 3, 6))
    tmp1432 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvvv, (4, 2, 5, 6), (0, 1, 4, 3, 5, 6))
    tmp1436 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 5, 6), (0, 1, 5, 4, 3, 6))
    tmp1459 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 1), (4, 5, 6, 7, 2, 3))
    tmp1473 = einsum(tmp29, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 6, 7, 2), (5, 4, 7, 1, 3, 6))
    tmp1494 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.babbab, (2, 4, 1, 5, 6, 7), (4, 0, 6, 7, 5, 3))
    tmp1557 = einsum(t2.abab, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 6, 3), (0, 1, 4, 6, 2, 5))
    tmp1591 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 7), (5, 0, 4, 6, 7, 3))
    tmp1595 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 7), (5, 4, 0, 6, 7, 3))
    tmp1727 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.vvvv, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp1772 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 4, 5, 1, 6, 2))
    tmp1794 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (0, 4, 5, 2, 1, 6))
    tmp1835 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 7, 3), (4, 5, 2, 7, 1, 6))
    tmp1841 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 7, 3), (4, 5, 7, 1, 6, 2))
    tmp1852 = einsum(t1.bb, (0, 1), v.bbbb.ooov, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1876 = einsum(v.aabb.vvvv, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 1, 6, 2))
    tmp1884 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 2, 0, 1, 6))
    tmp2012 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.vvvv, (4, 5, 6, 3), (0, 1, 2, 4, 5, 6))
    tmp2024 = einsum(t2.bbbb, (0, 1, 2, 3), tmp29, (4, 5, 3, 6), (0, 1, 4, 2, 5, 6)) * -1
    tmp2029 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 5, 6, 3), (0, 1, 4, 6, 2, 5))
    tmp67 = np.copy(v.aaaa.ovvv)
    tmp47 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 3, 6), (4, 5, 6, 1))
    tmp67 += np.transpose(tmp47, (0, 2, 3, 1))
    tmp88 = np.copy(v.aaaa.ovvv) * -1
    tmp88 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3))
    tmp101 = einsum(t1.aa, (0, 1), tmp88, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp400 = einsum(t1.aa, (0, 1), v.aaaa.ooov, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp401 = np.copy(np.transpose(tmp400, (0, 2, 1, 3))) * -1
    tmp401 += np.transpose(tmp400, (0, 3, 2, 1))
    tmp72 = einsum(t1.aa, (0, 1), v.aaaa.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp451 = einsum(t1.aa, (0, 1), tmp72, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp174 = einsum(t1.aa, (0, 1), v.aabb.ovov, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp873 = einsum(t1.aa, (0, 1), tmp174, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp115 = np.copy(v.aaaa.ovvv)
    tmp115 += np.transpose(v.aaaa.ovvv, (0, 2, 1, 3)) * -1
    tmp1011 = einsum(t2.abab, (0, 1, 2, 3), tmp115, (4, 5, 2, 6), (0, 4, 1, 5, 6, 3))
    tmp90 = np.copy(v.aaaa.ovvv) * -1
    tmp90 += np.transpose(v.aaaa.ovvv, (0, 2, 3, 1))
    tmp1056 = einsum(tmp90, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 1), (4, 5, 6, 2, 3, 7))
    tmp1124 = einsum(t1.aa, (0, 1), v.aabb.vvoo, (2, 1, 3, 4), (0, 3, 4, 2))
    tmp1125 = einsum(t1.bb, (0, 1), tmp1124, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp249 = einsum(t1.bb, (0, 1), v.aabb.ovov, (2, 3, 4, 1), (2, 0, 4, 3))
    tmp1173 = einsum(t1.bb, (0, 1), tmp249, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp167 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 5), (2, 4, 3, 5))
    tmp1189 = einsum(t2.abab, (0, 1, 2, 3), tmp167, (4, 5, 6, 3), (0, 1, 2, 4, 5, 6))
    tmp312 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 5, 3), (1, 5, 2, 4))
    tmp1210 = einsum(t2.abab, (0, 1, 2, 3), tmp312, (4, 1, 5, 2), (0, 4, 5, 3))
    tmp1722 = einsum(t1.bb, (0, 1), v.bbbb.ooov, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1723 = np.copy(np.transpose(tmp1722, (0, 2, 1, 3))) * -1
    tmp1723 += np.transpose(tmp1722, (0, 3, 2, 1))
    tmp343 = einsum(t1.bb, (0, 1), v.bbbb.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1755 = einsum(t1.bb, (0, 1), tmp343, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1848 = einsum(tmp90, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 3, 2, 6, 7))
    tmp11 = np.copy(f.aa.vv) * -1
    tmp7 = einsum(t1.bb, (0, 1), v.aabb.vvov, (2, 3, 0, 1), (2, 3))
    tmp11 += np.transpose(tmp7, (1, 0)) * -1
    tmp8 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (0, 3, 1, 4), (2, 4)) * -1
    tmp11 += np.transpose(tmp8, (1, 0)) * 2
    tmp9 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 4, 1, 3), (2, 4))
    tmp11 += np.transpose(tmp9, (1, 0))
    tmp11 += einsum(t1.aa, (0, 1), tmp10, (0, 1, 2, 3), (3, 2)) * -1
    tmp338 = np.copy(v.bbbb.ovvv)
    tmp326 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 1, 6), (4, 5, 6, 3))
    tmp338 += np.transpose(tmp326, (0, 2, 3, 1))
    tmp395 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 2, 5, 6, 7), (4, 5, 6, 7, 3, 1)) * -1
    tmp396 = einsum(t1.aa, (0, 1), tmp395, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6)) * -1
    del tmp395
    tmp43 = np.copy(v.aaaa.oovv) * -1
    tmp43 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp407 = einsum(t1.aa, (0, 1), tmp43, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp409 = einsum(t1.aa, (0, 1), tmp407, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp416 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovvv, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp418 = einsum(t1.aa, (0, 1), tmp416, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp394 = einsum(t1.aa, (0, 1), v.aaaa.ovvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp453 = einsum(t1.aa, (0, 1), tmp394, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp455 = einsum(t1.aa, (0, 1), tmp453, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp46 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 2, 5, 1, 6), (4, 5, 6, 3))
    tmp562 = np.copy(np.transpose(tmp46, (0, 2, 1, 3))) * -6
    tmp562 += np.transpose(tmp47, (0, 2, 1, 3)) * -1
    tmp794 = einsum(tmp167, (0, 1, 2, 3), t2.aaaa, (4, 5, 6, 1), (4, 5, 6, 0, 2, 3))
    tmp800 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 6, 7), (4, 5, 7, 1, 6, 3))
    tmp801 = einsum(t1.aa, (0, 1), tmp800, (2, 3, 4, 1, 5, 6), (0, 2, 3, 4, 5, 6))
    tmp857 = einsum(t1.bb, (0, 1), tmp800, (2, 3, 4, 5, 6, 1), (2, 0, 3, 4, 5, 6))
    del tmp800
    tmp879 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 5, 6, 7), (4, 7, 5, 3, 1, 6))
    tmp880 = einsum(t1.aa, (0, 1), tmp879, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6))
    del tmp879
    tmp933 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp934 = einsum(t1.aa, (0, 1), tmp933, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp311 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 4, 5, 3), (1, 2, 4, 5))
    tmp1142 = einsum(t1.aa, (0, 1), tmp311, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp213 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 1, 5), (0, 4, 3, 5))
    tmp1149 = einsum(t1.bb, (0, 1), tmp213, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp68 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (0, 4, 1, 5), (2, 3, 5, 4)) * -1
    tmp1164 = einsum(t2.abab, (0, 1, 2, 3), tmp68, (4, 5, 6, 2), (0, 1, 4, 5, 6, 3))
    tmp1181 = einsum(t1.bb, (0, 1), v.aabb.oovv, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp1183 = einsum(t1.aa, (0, 1), tmp1181, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp945 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 5, 3), (0, 1, 5, 4))
    tmp1217 = einsum(t1.bb, (0, 1), tmp945, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1319 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 6, 7), (4, 6, 1, 5, 7, 3))
    tmp1320 = einsum(t1.aa, (0, 1), tmp1319, (2, 3, 1, 4, 5, 6), (0, 2, 3, 4, 5, 6))
    tmp1327 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 5, 6, 7), (4, 6, 7, 5, 3, 1))
    tmp1328 = einsum(t1.bb, (0, 1), tmp1327, (2, 3, 4, 5, 6, 1), (2, 0, 3, 4, 5, 6))
    del tmp1327
    tmp1421 = np.copy(v.aabb.oovv)
    tmp211 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 5), (0, 4, 3, 5))
    tmp1421 += np.transpose(tmp211, (0, 1, 3, 2)) * -1
    tmp168 = np.copy(v.aabb.vvvv)
    tmp168 += np.transpose(tmp167, (1, 0, 2, 3))
    tmp1447 = einsum(t2.abab, (0, 1, 2, 3), tmp168, (2, 4, 5, 6), (0, 1, 4, 3, 6, 5))
    tmp339 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (0, 4, 1, 5), (2, 3, 5, 4)) * -1
    tmp1555 = einsum(t2.abab, (0, 1, 2, 3), tmp339, (4, 5, 6, 3), (0, 1, 2, 4, 5, 6))
    tmp1717 = einsum(t1.bb, (0, 1), tmp1319, (2, 3, 4, 5, 6, 1), (0, 2, 3, 4, 5, 6))
    del tmp1319
    tmp220 = np.copy(v.bbbb.oovv) * -1
    tmp220 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp1715 = einsum(t1.bb, (0, 1), tmp220, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1726 = einsum(t1.bb, (0, 1), tmp1715, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1728 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovvv, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp1763 = einsum(t1.bb, (0, 1), tmp1728, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1711 = einsum(t1.bb, (0, 1), v.bbbb.ovvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1757 = einsum(t1.bb, (0, 1), tmp1711, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1771 = einsum(t1.bb, (0, 1), tmp1757, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1820 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 3, 7), (4, 5, 0, 1, 6, 7)) * -6
    tmp1820 += einsum(tmp10, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 3, 2, 6, 7))
    tmp1968 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 6, 7), (4, 5, 6, 7, 3, 1)) * -1
    tmp1969 = einsum(t1.bb, (0, 1), tmp1968, (2, 3, 4, 5, 1, 6), (0, 2, 3, 4, 5, 6)) * -1
    del tmp1968
    tmp169 = einsum(t1.aa, (0, 1), tmp168, (1, 2, 3, 4), (0, 2, 4, 3))
    del tmp168
    tmp714 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 1, 7), (4, 5, 6, 7, 2, 3)) * -1
    tmp179 = np.copy(v.bbbb.ovvv)
    tmp179 += np.transpose(v.bbbb.ovvv, (0, 2, 1, 3)) * -1
    tmp714 += einsum(tmp179, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 2, 7), (4, 5, 6, 7, 1, 3)) * -0.16666666666666666
    tmp263 = einsum(t1.bb, (0, 1), v.aabb.vvov, (2, 3, 4, 1), (0, 4, 2, 3))
    tmp888 = einsum(t1.aa, (0, 1), tmp263, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp889 = einsum(t1.bb, (0, 1), tmp888, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp245 = einsum(t1.bb, (0, 1), v.aabb.ovvv, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp899 = einsum(t1.aa, (0, 1), tmp245, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp900 = einsum(t1.aa, (0, 1), tmp899, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1242 = np.copy(v.aabb.vvvv)
    tmp1242 += np.transpose(tmp167, (1, 0, 3, 2))
    tmp1243 = einsum(t2.abab, (0, 1, 2, 3), tmp1242, (4, 5, 3, 6), (0, 1, 2, 5, 4, 6))
    tmp258 = np.copy(v.aabb.vvvv)
    tmp258 += np.transpose(tmp167, (0, 1, 3, 2))
    tmp1674 = einsum(t2.abab, (0, 1, 2, 3), tmp258, (4, 5, 3, 6), (0, 1, 2, 5, 4, 6))
    tmp1698 = einsum(t2.abab, (0, 1, 2, 3), tmp1242, (2, 4, 5, 6), (0, 1, 4, 3, 6, 5))
    del tmp1242
    tmp2069 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 6, 7, 2, 3))
    tmp2088 = np.copy(np.transpose(tmp2069, (0, 1, 3, 2, 5, 4))) * -0.16666666666666666
    tmp2088 += einsum(tmp29, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 1), (4, 5, 6, 7, 3, 2)) * -1
    tmp259 = einsum(t1.bb, (0, 1), tmp258, (2, 3, 1, 4), (0, 3, 2, 4))
    del tmp258
    tmp290 = einsum(v.aabb.vvov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (4, 0, 1, 5))
    tmp292 = np.copy(np.transpose(tmp290, (0, 2, 1, 3))) * 2
    tmp291 = einsum(t2.abab, (0, 1, 2, 3), tmp10, (0, 2, 4, 5), (1, 4, 5, 3))
    tmp292 += np.transpose(tmp291, (0, 2, 1, 3))
    tmp292 += np.transpose(v.aabb.vvov, (2, 0, 1, 3))
    tmp627 = einsum(t1.aa, (0, 1), v.aaaa.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp628 = einsum(t1.aa, (0, 1), tmp627, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp627
    tmp629 = np.copy(tmp628) * 0.5
    tmp629 += np.transpose(tmp628, (0, 1, 3, 2)) * -0.5
    del tmp628
    tmp626 = einsum(v.aaaa.oooo, (0, 1, 2, 3), t2.aaaa, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp629 += np.transpose(tmp626, (1, 0, 3, 2))
    del tmp626
    tmp984 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.abaaba, (2, 4, 1, 3, 5, 6), (0, 4, 6, 5))
    tmp1161 = np.copy(tmp984)
    tmp985 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.babbab, (4, 1, 2, 5, 6, 3), (0, 4, 6, 5))
    tmp1161 += tmp985
    tmp970 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.abaaba, (4, 3, 0, 5, 6, 1), (4, 2, 5, 6))
    tmp1250 = np.copy(tmp970)
    tmp971 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.babbab, (2, 4, 1, 3, 5, 6), (4, 0, 5, 6))
    tmp1250 += tmp971
    tmp1441 = einsum(t2.abab, (0, 1, 2, 3), tmp10, (0, 2, 4, 5), (1, 4, 5, 3)) * 0.5
    tmp1442 = np.copy(np.transpose(tmp1441, (0, 2, 1, 3)))
    del tmp1441
    tmp1442 += np.transpose(tmp290, (0, 2, 1, 3))
    tmp1702 = np.copy(np.transpose(tmp326, (0, 2, 1, 3))) * -0.16666666666666666
    tmp327 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 1, 6), (4, 5, 6, 3))
    tmp1702 += np.transpose(tmp327, (0, 2, 1, 3)) * -1
    tmp1155 = einsum(v.aabb.ooov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp1709 = np.copy(np.transpose(tmp1155, (1, 0, 2, 3)))
    tmp1156 = np.copy(v.aaaa.ooov)
    tmp1156 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3)) * -1
    tmp1709 += einsum(t2.abab, (0, 1, 2, 3), tmp1156, (4, 5, 0, 2), (5, 4, 1, 3)) * 0.5
    tmp1815 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 7), (4, 5, 2, 6, 7, 3))
    tmp1816 = np.copy(np.transpose(tmp1815, (0, 1, 2, 4, 3, 5))) * -0.16666666666666666
    tmp4 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3)))
    tmp4 += np.transpose(v.bbbb.ovov, (0, 2, 3, 1)) * -1
    tmp1816 += einsum(tmp4, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 3), (4, 5, 1, 6, 7, 2)) * -1
    tmp1932 = einsum(t1.bb, (0, 1), v.bbbb.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp1933 = einsum(t1.bb, (0, 1), tmp1932, (2, 0, 3, 4), (3, 2, 4, 1))
    del tmp1932
    tmp1934 = np.copy(tmp1933) * 0.5
    tmp1934 += np.transpose(tmp1933, (0, 1, 3, 2)) * -0.5
    del tmp1933
    tmp1931 = einsum(v.bbbb.oooo, (0, 1, 2, 3), t2.bbbb, (3, 1, 4, 5), (0, 2, 4, 5)) * -1
    tmp1934 += np.transpose(tmp1931, (1, 0, 3, 2))
    del tmp1931
    tmp48 = np.copy(v.aaaa.ovvv) * -0.5
    tmp48 += np.transpose(tmp46, (0, 2, 3, 1)) * -3
    tmp48 += np.transpose(tmp47, (0, 2, 3, 1)) * -0.5
    tmp45 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.aaaa, (2, 1, 4, 5), (0, 4, 5, 3)) * -1
    tmp48 += np.transpose(tmp45, (0, 2, 3, 1))
    tmp66 = np.copy(f.aa.ov)
    tmp14 = einsum(t1.bb, (0, 1), v.aabb.ovov, (2, 3, 0, 1), (2, 3))
    tmp66 += tmp14
    tmp65 = einsum(t1.aa, (0, 1), tmp43, (0, 2, 1, 3), (2, 3))
    tmp66 += tmp65
    del tmp65
    tmp118 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 2, 5, 3))
    tmp120 = np.copy(tmp118) * 2
    tmp119 = einsum(t2.abab, (0, 1, 2, 3), tmp4, (1, 4, 5, 3), (0, 4, 2, 5))
    tmp120 += tmp119 * -1
    tmp150 = einsum(t2.aaaa, (0, 1, 2, 3), tmp90, (1, 3, 4, 5), (0, 2, 4, 5)) * 2
    tmp151 = np.copy(np.transpose(tmp150, (0, 1, 3, 2))) * -1
    del tmp150
    tmp127 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 5, 1, 3), (0, 2, 4, 5))
    tmp151 += np.transpose(tmp127, (0, 1, 3, 2))
    tmp123 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3))) * -1
    tmp123 += np.transpose(v.aaaa.ovov, (0, 2, 3, 1))
    tmp197 = einsum(t2.aaaa, (0, 1, 2, 3), tmp123, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp198 = np.copy(tmp197) * -1
    tmp122 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 5, 1, 3), (0, 4, 2, 5))
    tmp198 += tmp122
    tmp287 = einsum(v.aabb.ovov, (0, 1, 2, 3), t2.bbbb, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp289 = np.copy(tmp287)
    tmp288 = einsum(t2.abab, (0, 1, 2, 3), tmp123, (0, 4, 5, 2), (4, 1, 5, 3)) * 0.5
    tmp289 += tmp288
    del tmp288
    tmp284 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 5), (1, 4, 3, 5))
    tmp375 = np.copy(tmp284) * 0.5
    tmp374 = einsum(t2.bbbb, (0, 1, 2, 3), tmp4, (1, 4, 5, 3), (4, 0, 5, 2))
    tmp375 += np.transpose(tmp374, (1, 0, 3, 2)) * -1
    tmp419 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 3, 5, 2), (0, 1, 4, 5)) * -1
    tmp430 = einsum(tmp419, (0, 1, 2, 3), t2.aaaa, (3, 2, 4, 5), (1, 0, 4, 5))
    tmp433 = np.copy(np.transpose(tmp430, (0, 1, 3, 2))) * -1
    del tmp430
    tmp431 = einsum(t1.aa, (0, 1), tmp419, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    tmp432 = einsum(t1.aa, (0, 1), tmp431, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    del tmp431
    tmp433 += np.transpose(tmp432, (0, 1, 3, 2)) * -1
    del tmp432
    tmp447 = np.copy(tmp122) * 0.5
    tmp446 = einsum(t2.aaaa, (0, 1, 2, 3), tmp43, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp447 += tmp446
    del tmp446
    tmp545 = einsum(tmp123, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 2), (4, 5, 1, 6, 7, 3)) * 6
    tmp546 = np.copy(tmp545) * -1
    del tmp545
    tmp544 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 7), (4, 5, 0, 6, 7, 1))
    tmp546 += np.transpose(tmp544, (0, 1, 2, 4, 3, 5)) * -1
    tmp553 = einsum(tmp90, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 1), (4, 5, 6, 7, 2, 3)) * 6
    tmp554 = np.copy(np.transpose(tmp553, (0, 1, 2, 3, 5, 4))) * -1
    del tmp553
    tmp552 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 7), (4, 5, 6, 7, 0, 1))
    tmp554 += np.transpose(tmp552, (0, 1, 3, 2, 5, 4)) * -1
    tmp548 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 1), (4, 5, 2, 6, 7, 3))
    tmp578 = np.copy(np.transpose(tmp548, (0, 1, 2, 4, 3, 5))) * -6
    tmp577 = einsum(tmp4, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 3, 7), (4, 5, 1, 6, 7, 2))
    tmp578 += np.transpose(tmp577, (1, 0, 2, 4, 3, 5)) * -1
    tmp595 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.aaaaaa, (4, 1, 2, 5, 6, 7), (4, 0, 5, 6, 7, 3))
    tmp596 = np.copy(np.transpose(tmp595, (0, 1, 3, 4, 2, 5)))
    tmp494 = einsum(t2.aaaa, (0, 1, 2, 3), tmp68, (4, 5, 3, 6), (0, 1, 4, 5, 2, 6)) * -1
    tmp596 += np.transpose(tmp494, (0, 1, 4, 3, 2, 5)) * 1.3333333333333333
    tmp633 = np.copy(tmp122)
    tmp632 = einsum(t2.aaaa, (0, 1, 2, 3), tmp43, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp633 += tmp632
    del tmp632
    tmp785 = np.copy(tmp118) * 2
    tmp785 += tmp119 * -1
    tmp785 += np.transpose(v.aabb.ovov, (0, 2, 1, 3))
    tmp830 = einsum(t2.abab, (0, 1, 2, 3), tmp179, (1, 4, 3, 5), (0, 2, 4, 5))
    tmp831 = np.copy(tmp830) * -1
    del tmp830
    tmp199 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp831 += np.transpose(tmp199, (0, 1, 3, 2)) * 2
    tmp1197 = einsum(t2.abab, (0, 1, 2, 3), tmp43, (0, 4, 2, 5), (4, 1, 5, 3)) * 0.5
    tmp1198 = np.copy(tmp1197)
    del tmp1197
    tmp1198 += tmp287
    tmp1209 = np.copy(tmp118) * 2
    tmp1208 = einsum(t2.abab, (0, 1, 2, 3), tmp220, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp1209 += tmp1208
    del tmp1208
    tmp1225 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.oooo, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp1228 = np.copy(tmp1225)
    tmp1226 = einsum(t1.bb, (0, 1), v.aabb.oooo, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp1227 = einsum(t1.aa, (0, 1), tmp1226, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp1226
    tmp1228 += tmp1227
    tmp1229 = np.copy(tmp287) * 2
    tmp300 = einsum(t2.abab, (0, 1, 2, 3), tmp123, (0, 4, 5, 2), (4, 1, 5, 3))
    tmp1229 += tmp300
    tmp1229 += np.transpose(v.aabb.ovov, (0, 2, 1, 3))
    tmp1533 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.babbab, (4, 1, 2, 5, 6, 7), (0, 4, 6, 5, 7, 3))
    tmp1535 = np.copy(np.transpose(tmp1533, (0, 1, 2, 4, 3, 5))) * -1
    tmp1534 = einsum(t2.abab, (0, 1, 2, 3), tmp167, (4, 2, 5, 6), (0, 1, 4, 3, 5, 6))
    tmp1535 += np.transpose(tmp1534, (0, 1, 2, 4, 3, 5)) * -1
    tmp921 = einsum(t1.bb, (0, 1), v.aabb.vvvv, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp922 = einsum(t1.aa, (0, 1), tmp921, (2, 3, 1, 4), (0, 2, 3, 4))
    del tmp921
    tmp1648 = np.copy(tmp922)
    tmp941 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvvv, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp1648 += tmp941
    tmp1688 = einsum(t2.bbbb, (0, 1, 2, 3), tmp179, (1, 4, 3, 5), (0, 2, 4, 5))
    tmp1689 = np.copy(tmp1688) * -1
    del tmp1688
    tmp378 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 2, 4, 5), (1, 3, 4, 5))
    tmp1689 += np.transpose(tmp378, (0, 1, 3, 2)) * 0.5
    tmp1707 = np.copy(tmp1534)
    del tmp1534
    tmp1707 += np.transpose(tmp1533, (0, 1, 2, 4, 3, 5)) * -1
    tmp1739 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 2, 5, 3), (0, 1, 4, 5))
    tmp1740 = einsum(tmp1739, (0, 1, 2, 3), t2.bbbb, (3, 2, 4, 5), (1, 0, 4, 5))
    tmp1743 = np.copy(np.transpose(tmp1740, (0, 1, 3, 2))) * -1
    del tmp1740
    tmp1741 = einsum(t1.bb, (0, 1), tmp1739, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    tmp1742 = einsum(t1.bb, (0, 1), tmp1741, (2, 3, 0, 4), (2, 3, 4, 1)) * -1
    del tmp1741
    tmp1743 += np.transpose(tmp1742, (0, 1, 3, 2)) * -1
    del tmp1742
    tmp1754 = np.copy(tmp284) * 0.5
    tmp1753 = einsum(t2.bbbb, (0, 1, 2, 3), tmp220, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp1754 += tmp1753
    del tmp1753
    tmp1817 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 7, 3), (0, 4, 5, 1, 6, 7))
    tmp1819 = np.copy(np.transpose(tmp1817, (0, 2, 1, 3, 5, 4)))
    tmp1818 = einsum(tmp123, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 3, 7), (1, 4, 5, 2, 6, 7)) * 0.16666666666666666
    tmp1819 += np.transpose(tmp1818, (0, 2, 1, 3, 5, 4))
    del tmp1818
    tmp2001 = einsum(t2.bbbb, (0, 1, 2, 3), tmp220, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp2002 = np.copy(tmp2001)
    del tmp2001
    tmp2002 += tmp284
    tmp2071 = np.copy(np.transpose(tmp2069, (0, 1, 3, 2, 5, 4))) * -0.16666666666666666
    tmp2070 = einsum(tmp179, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 2), (4, 5, 1, 3, 6, 7))
    tmp2071 += np.transpose(tmp2070, (0, 1, 4, 5, 2, 3)) * -1
    del tmp2070
    tmp2100 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.bbbbbb, (4, 1, 2, 5, 6, 7), (4, 0, 5, 6, 7, 3))
    tmp2101 = np.copy(np.transpose(tmp2100, (0, 1, 3, 4, 2, 5))) * 0.75
    tmp2033 = einsum(t2.bbbb, (0, 1, 2, 3), tmp339, (4, 5, 3, 6), (0, 1, 4, 5, 2, 6)) * -1
    tmp2101 += np.transpose(tmp2033, (0, 1, 4, 3, 2, 5))
    tmp30 = np.copy(f.bb.vv) * -1
    tmp30 += einsum(t1.bb, (0, 1), tmp29, (0, 2, 1, 3), (2, 3)) * -1
    tmp26 = einsum(t1.aa, (0, 1), v.aabb.ovvv, (0, 1, 2, 3), (2, 3))
    tmp30 += np.transpose(tmp26, (1, 0)) * -1
    tmp28 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (0, 4, 1, 3), (2, 4))
    tmp30 += np.transpose(tmp28, (1, 0)) * 2
    tmp27 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 1, 4), (3, 4))
    tmp30 += np.transpose(tmp27, (1, 0))
    tmp234 = np.copy(f.bb.ov)
    tmp233 = einsum(t1.bb, (0, 1), tmp220, (0, 2, 1, 3), (2, 3))
    tmp234 += tmp233
    del tmp233
    tmp33 = einsum(t1.aa, (0, 1), v.aabb.ovov, (0, 1, 2, 3), (2, 3))
    tmp234 += tmp33
    tmp274 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 4, 5, 1), (5, 2, 4, 3))
    tmp275 = np.copy(tmp274) * -1
    tmp221 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 1, 5, 6), (4, 6, 3, 5))
    tmp275 += tmp221
    tmp222 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 6, 3), (4, 6, 1, 5))
    tmp275 += tmp222
    tmp411 = einsum(t1.aa, (0, 1), tmp400, (2, 3, 4, 0), (2, 4, 3, 1))
    del tmp400
    tmp412 = einsum(t1.aa, (0, 1), tmp411, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp411
    tmp413 = np.copy(tmp412) * 0.5
    tmp410 = einsum(t1.aa, (0, 1), tmp45, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp413 += np.transpose(tmp410, (0, 1, 3, 2)) * -1
    del tmp410
    tmp413 += np.transpose(tmp412, (0, 1, 3, 2)) * -0.5
    del tmp412
    tmp513 = np.copy(tmp197) * -1
    del tmp197
    tmp513 += v.aaaa.oovv * -1
    tmp513 += tmp122
    tmp513 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp993 = np.copy(v.aaaa.oovv) * -1
    tmp993 += np.transpose(v.aaaa.ovov, (0, 2, 1, 3))
    tmp993 += np.transpose(tmp122, (1, 0, 3, 2))
    tmp1 = np.copy(np.transpose(v.aaaa.ovov, (0, 2, 1, 3)))
    tmp1 += np.transpose(v.aaaa.ovov, (0, 2, 3, 1)) * -1
    tmp992 = einsum(t2.aaaa, (0, 1, 2, 3), tmp1, (1, 4, 3, 5), (0, 4, 2, 5)) * 2
    tmp993 += np.transpose(tmp992, (1, 0, 3, 2))
    del tmp992
    tmp277 = np.copy(v.bbbb.ooov) * -1
    tmp277 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1))
    tmp1205 = einsum(t2.abab, (0, 1, 2, 3), tmp277, (1, 4, 5, 3), (0, 4, 5, 2)) * 0.5
    tmp1206 = np.copy(np.transpose(tmp1205, (0, 2, 1, 3)))
    del tmp1205
    tmp973 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 1), (4, 2, 3, 5))
    tmp1206 += np.transpose(tmp973, (0, 2, 1, 3))
    tmp930 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 5, 3), (0, 4, 1, 5))
    tmp1219 = einsum(t2.abab, (0, 1, 2, 3), tmp930, (4, 0, 5, 1), (4, 5, 2, 3))
    tmp1222 = np.copy(tmp1219)
    tmp1220 = einsum(t1.bb, (0, 1), tmp930, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp1221 = einsum(t1.aa, (0, 1), tmp1220, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp1220
    tmp1222 += tmp1221
    del tmp1221
    tmp1005 = np.copy(np.transpose(tmp290, (0, 2, 1, 3))) * 2
    del tmp290
    tmp1005 += np.transpose(tmp291, (0, 2, 1, 3))
    del tmp291
    tmp1277 = einsum(t1.aa, (0, 1), tmp1005, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp1414 = np.copy(v.bbbb.oovv) * -1
    tmp1414 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp23 = np.copy(np.transpose(v.bbbb.ovov, (0, 2, 1, 3))) * -1
    tmp23 += np.transpose(v.bbbb.ovov, (0, 2, 3, 1))
    tmp1413 = einsum(t2.bbbb, (0, 1, 2, 3), tmp23, (1, 4, 5, 3), (0, 4, 2, 5)) * 2
    tmp1414 += np.transpose(tmp1413, (1, 0, 3, 2))
    del tmp1413
    tmp1414 += np.transpose(tmp284, (1, 0, 3, 2))
    tmp1606 = einsum(t1.aa, (0, 1), tmp1005, (2, 1, 3, 4), (0, 2, 3, 4)) * 0.5
    tmp1640 = np.copy(tmp899)
    tmp1640 += tmp933
    tmp1644 = einsum(t1.aa, (0, 1), tmp1640, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1646 = np.copy(tmp888)
    tmp1646 += tmp945
    tmp1678 = einsum(t1.bb, (0, 1), tmp1646, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1858 = einsum(tmp167, (0, 1, 2, 3), t2.bbbb, (4, 5, 6, 3), (4, 5, 0, 1, 6, 2))
    tmp1859 = np.copy(tmp1858) * 2
    tmp1857 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.babbab, (4, 0, 3, 5, 6, 7), (4, 2, 6, 1, 5, 7))
    tmp1859 += np.transpose(tmp1857, (0, 1, 2, 3, 5, 4)) * -1
    tmp1860 = np.copy(np.transpose(tmp1858, (0, 1, 2, 3, 5, 4))) * 2
    del tmp1858
    tmp1860 += np.transpose(tmp1857, (0, 1, 2, 3, 5, 4))
    tmp1943 = einsum(t1.bb, (0, 1), tmp1722, (2, 3, 4, 0), (2, 4, 3, 1))
    del tmp1722
    tmp1944 = einsum(t1.bb, (0, 1), tmp1943, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp1943
    tmp1945 = np.copy(tmp1944) * 0.5
    tmp325 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t2.bbbb, (2, 1, 4, 5), (0, 4, 5, 3)) * -1
    tmp1942 = einsum(t1.bb, (0, 1), tmp325, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1945 += np.transpose(tmp1942, (0, 1, 3, 2)) * -1
    del tmp1942
    tmp1945 += np.transpose(tmp1944, (0, 1, 3, 2)) * -0.5
    del tmp1944
    tmp2048 = np.copy(v.bbbb.oovv) * -1
    tmp2048 += tmp284
    tmp2048 += np.transpose(v.bbbb.ovov, (0, 2, 1, 3))
    tmp285 = einsum(t2.bbbb, (0, 1, 2, 3), tmp4, (1, 4, 5, 3), (4, 0, 5, 2)) * 2
    tmp2048 += np.transpose(tmp285, (1, 0, 3, 2)) * -1
    tmp125 = np.copy(tmp122) * 0.5
    tmp124 = einsum(t2.aaaa, (0, 1, 2, 3), tmp123, (1, 4, 3, 5), (0, 4, 2, 5))
    tmp125 += tmp124 * -1
    tmp622 = einsum(t1.aa, (0, 1), tmp125, (2, 3, 4, 1), (0, 2, 3, 4)) * 2
    tmp129 = np.copy(np.transpose(tmp127, (0, 1, 3, 2))) * 0.5
    del tmp127
    tmp128 = einsum(t2.aaaa, (0, 1, 2, 3), tmp90, (1, 3, 4, 5), (0, 2, 4, 5))
    tmp129 += np.transpose(tmp128, (0, 1, 3, 2)) * -1
    del tmp128
    tmp624 = einsum(t1.aa, (0, 1), tmp129, (2, 3, 1, 4), (0, 2, 3, 4)) * 2
    tmp638 = einsum(t1.aa, (0, 1), tmp129, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp153 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 1, 5), (4, 2, 3, 5))
    tmp1176 = einsum(t1.bb, (0, 1), tmp153, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp1177 = np.copy(tmp1176)
    tmp865 = einsum(t1.bb, (0, 1), v.aabb.ooov, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp866 = einsum(t1.bb, (0, 1), tmp865, (2, 3, 4, 0), (3, 2, 4, 1))
    tmp867 = einsum(t1.aa, (0, 1), tmp866, (0, 2, 3, 4), (2, 3, 1, 4))
    del tmp866
    tmp1177 += tmp867
    tmp1268 = einsum(t1.aa, (0, 1), tmp274, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1269 = np.copy(tmp1268)
    tmp869 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (2, 1, 3, 4), (0, 2, 3, 4))
    tmp877 = einsum(t1.bb, (0, 1), tmp869, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp878 = einsum(t1.aa, (0, 1), tmp877, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp877
    tmp1269 += tmp878
    tmp301 = np.copy(tmp287) * 2
    tmp301 += tmp300
    tmp1272 = einsum(t1.aa, (0, 1), tmp301, (2, 3, 1, 4), (0, 2, 3, 4)) * 0.5
    tmp146 = einsum(t2.abab, (0, 1, 2, 3), tmp4, (1, 4, 5, 3), (0, 4, 2, 5)) * 0.5
    tmp147 = np.copy(tmp146) * -1
    del tmp146
    tmp147 += tmp118
    del tmp118
    tmp1285 = einsum(t1.bb, (0, 1), tmp147, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp200 = einsum(t2.abab, (0, 1, 2, 3), tmp179, (1, 4, 3, 5), (0, 2, 4, 5)) * 0.5
    tmp201 = np.copy(tmp200) * -1
    del tmp200
    tmp201 += np.transpose(tmp199, (0, 1, 3, 2))
    del tmp199
    tmp1287 = einsum(t1.bb, (0, 1), tmp201, (2, 3, 1, 4), (2, 0, 3, 4)) * 2
    tmp886 = einsum(t1.aa, (0, 1), tmp249, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1641 = np.copy(tmp886)
    tmp1641 += tmp930
    tmp1649 = einsum(t1.bb, (0, 1), tmp1641, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp1650 = einsum(t1.aa, (0, 1), tmp1649, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp1649
    tmp1679 = np.copy(tmp1219)
    del tmp1219
    tmp902 = einsum(t1.bb, (0, 1), tmp167, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp903 = einsum(t1.aa, (0, 1), tmp902, (2, 3, 1, 4), (0, 2, 3, 4))
    del tmp902
    tmp1679 += tmp903
    tmp379 = einsum(t2.bbbb, (0, 1, 2, 3), tmp179, (1, 4, 3, 5), (0, 2, 4, 5)) * 2
    tmp380 = np.copy(tmp379) * -1
    del tmp379
    tmp380 += np.transpose(tmp378, (0, 1, 3, 2))
    del tmp378
    tmp1896 = einsum(t1.bb, (0, 1), tmp380, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1748 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 2, 4, 5), (1, 4, 5, 3))
    tmp1751 = np.copy(np.transpose(tmp1748, (0, 2, 1, 3)))
    tmp1749 = np.copy(v.bbbb.ooov)
    tmp1749 += np.transpose(v.bbbb.ooov, (0, 2, 1, 3)) * -1
    tmp1750 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1749, (4, 5, 1, 3), (0, 4, 5, 2)) * 2
    tmp1751 += np.transpose(tmp1750, (0, 2, 1, 3))
    del tmp1750
    tmp1930 = einsum(t1.bb, (0, 1), tmp1751, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp2122 = einsum(t1.bb, (0, 1), tmp380, (2, 3, 1, 4), (0, 2, 3, 4)) * 0.5
    tmp156 = np.copy(v.aabb.ovvv)
    tmp154 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 6, 1), (4, 5, 6, 3))
    tmp156 += np.transpose(tmp154, (0, 1, 3, 2)) * -1
    tmp155 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 3, 5, 6), (4, 5, 6, 1)) * -1
    tmp156 += np.transpose(tmp155, (0, 1, 3, 2)) * -1
    tmp156 += np.transpose(tmp153, (0, 1, 3, 2))
    tmp328 = np.copy(v.bbbb.ovvv) * -0.16666666666666666
    tmp328 += np.transpose(tmp325, (0, 2, 3, 1)) * 0.3333333333333333
    tmp328 += np.transpose(tmp326, (0, 2, 3, 1)) * -0.16666666666666666
    tmp328 += np.transpose(tmp327, (0, 2, 3, 1)) * -1
    tmp74 = einsum(t1.aa, (0, 1), v.aaaa.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    tmp456 = einsum(t1.aa, (0, 1), tmp74, (2, 3, 4, 1), (2, 0, 4, 3))
    tmp462 = einsum(t1.aa, (0, 1), tmp456, (2, 3, 0, 4), (3, 2, 4, 1))
    tmp463 = einsum(t1.aa, (0, 1), tmp462, (2, 3, 0, 4), (2, 3, 1, 4))
    del tmp462
    tmp464 = np.copy(tmp463) * 0.5
    tmp69 = einsum(t1.aa, (0, 1), tmp68, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp461 = einsum(t1.aa, (0, 1), tmp69, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp464 += np.transpose(tmp461, (0, 1, 3, 2)) * -1
    del tmp461
    tmp464 += np.transpose(tmp463, (0, 1, 3, 2)) * -0.5
    del tmp463
    tmp608 = einsum(t1.aa, (0, 1), tmp125, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp856 = einsum(t1.aa, (0, 1), tmp608, (2, 3, 0, 4), (2, 3, 1, 4)) * 2
    tmp914 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (4, 2, 5, 1), (0, 4, 5, 3))
    tmp1251 = einsum(t1.aa, (0, 1), tmp914, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1252 = np.copy(tmp1251) * -1
    tmp1252 += tmp970
    tmp1252 += tmp971
    tmp1170 = einsum(t1.aa, (0, 1), tmp301, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1293 = einsum(t1.aa, (0, 1), tmp1170, (2, 0, 3, 4), (2, 3, 1, 4)) * 0.5
    tmp1017 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 1, 6, 3), (4, 5, 2, 6))
    tmp1659 = np.copy(tmp1017) * -1
    tmp92 = np.copy(f.aa.vv)
    tmp91 = einsum(t1.aa, (0, 1), tmp90, (0, 1, 2, 3), (2, 3))
    tmp92 += np.transpose(tmp91, (1, 0)) * -1
    del tmp91
    tmp92 += np.transpose(tmp7, (1, 0))
    del tmp7
    tmp1659 += einsum(tmp92, (0, 1), t2.abab, (2, 3, 0, 4), (2, 3, 1, 4)) * 0.5
    tmp975 = np.copy(np.transpose(tmp973, (0, 2, 1, 3))) * 2
    del tmp973
    tmp974 = einsum(t2.abab, (0, 1, 2, 3), tmp277, (1, 4, 5, 3), (0, 4, 5, 2))
    tmp975 += np.transpose(tmp974, (0, 2, 1, 3))
    del tmp974
    tmp1676 = einsum(t1.bb, (0, 1), tmp975, (2, 0, 3, 4), (2, 3, 4, 1)) * 0.5
    tmp1120 = einsum(t1.bb, (0, 1), tmp147, (2, 3, 4, 1), (2, 0, 3, 4)) * 2
    tmp1682 = einsum(t1.bb, (0, 1), tmp1120, (2, 3, 0, 4), (2, 3, 4, 1)) * 0.5
    tmp345 = einsum(t1.bb, (0, 1), v.bbbb.ovov, (2, 3, 4, 1), (0, 2, 4, 3))
    tmp1768 = einsum(t1.bb, (0, 1), tmp345, (2, 3, 4, 1), (2, 0, 4, 3))
    tmp1925 = einsum(t1.bb, (0, 1), tmp1768, (2, 3, 0, 4), (3, 2, 4, 1))
    tmp1926 = einsum(t1.bb, (0, 1), tmp1925, (2, 3, 0, 4), (2, 3, 1, 4))
    del tmp1925
    tmp1927 = np.copy(tmp1926) * 0.5
    tmp340 = einsum(t1.bb, (0, 1), tmp339, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1924 = einsum(t1.bb, (0, 1), tmp340, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1927 += np.transpose(tmp1924, (0, 1, 3, 2)) * -1
    del tmp1924
    tmp1927 += np.transpose(tmp1926, (0, 1, 3, 2)) * -0.5
    del tmp1926
    tmp286 = np.copy(tmp284)
    del tmp284
    tmp286 += np.transpose(tmp285, (1, 0, 3, 2)) * -1
    del tmp285
    tmp1963 = einsum(t1.bb, (0, 1), tmp286, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1964 = einsum(t1.bb, (0, 1), tmp1963, (2, 3, 0, 4), (2, 3, 1, 4)) * 0.5
    tmp906 = np.copy(tmp903)
    del tmp903
    tmp904 = einsum(t1.bb, (0, 1), tmp886, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp905 = einsum(t1.aa, (0, 1), tmp904, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp904
    tmp906 += tmp905
    del tmp905
    tmp1019 = np.copy(tmp1017) * -2
    del tmp1017
    tmp1018 = einsum(tmp92, (0, 1), t2.abab, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1019 += tmp1018
    del tmp1018
    tmp585 = einsum(t1.aa, (0, 1), tmp544, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * -1
    tmp587 = np.copy(np.transpose(tmp585, (0, 1, 3, 2))) * -1
    del tmp585
    tmp586 = einsum(t1.bb, (0, 1), tmp577, (2, 3, 0, 4, 5, 1), (3, 2, 5, 4)) * -1
    tmp587 += np.transpose(tmp586, (0, 1, 3, 2)) * -1
    del tmp586
    tmp565 = einsum(f.bb.ov, (0, 1), t3.abaaba, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    tmp587 += np.transpose(tmp565, (1, 0, 3, 2))
    tmp1062 = einsum(f.aa.ov, (0, 1), t3.abaaba, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp1100 = np.copy(tmp1062)
    tmp1049 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 1), (4, 5, 2, 6, 7, 3))
    tmp1063 = einsum(t1.bb, (0, 1), tmp1049, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp1100 += tmp1063
    tmp1051 = einsum(tmp1, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 7, 2), (1, 4, 5, 3, 6, 7))
    tmp1064 = einsum(t1.aa, (0, 1), tmp1051, (0, 2, 3, 1, 4, 5), (2, 3, 4, 5))
    tmp1100 += tmp1064
    tmp1083 = einsum(f.bb.ov, (0, 1), t3.babbab, (2, 3, 0, 4, 5, 1), (3, 2, 5, 4))
    tmp1101 = np.copy(tmp1083)
    tmp1070 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 7, 3), (5, 0, 4, 7, 1, 6))
    tmp1084 = einsum(t1.aa, (0, 1), tmp1070, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    tmp1101 += tmp1084
    tmp1077 = einsum(tmp4, (0, 1, 2, 3), t3.babbab, (4, 5, 0, 6, 7, 3), (5, 1, 4, 7, 2, 6))
    tmp1086 = einsum(t1.bb, (0, 1), tmp1077, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5)) * -1
    tmp1101 += tmp1086
    tmp1849 = einsum(t1.bb, (0, 1), tmp1815, (2, 3, 0, 4, 5, 1), (3, 2, 4, 5)) * -1
    tmp1851 = np.copy(np.transpose(tmp1849, (0, 1, 3, 2))) * -1
    del tmp1849
    tmp1828 = einsum(tmp123, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 3, 7), (1, 4, 5, 2, 6, 7))
    tmp1850 = einsum(t1.aa, (0, 1), tmp1828, (0, 2, 3, 1, 4, 5), (3, 2, 5, 4))
    tmp1851 += np.transpose(tmp1850, (0, 1, 3, 2)) * -1
    del tmp1850
    tmp1826 = einsum(f.aa.ov, (0, 1), t3.babbab, (2, 0, 3, 4, 1, 5), (2, 3, 4, 5))
    tmp1851 += np.transpose(tmp1826, (1, 0, 3, 2))
    tmp1810 = einsum(t1.bb, (0, 1), tmp1751, (2, 0, 3, 4), (2, 3, 1, 4)) * 0.5
    tmp2123 = np.copy(tmp1810)
    tmp1807 = einsum(v.aabb.ovoo, (0, 1, 2, 3), t3.babbab, (4, 0, 3, 5, 1, 6), (4, 2, 5, 6))
    tmp2123 += np.transpose(tmp1807, (0, 1, 3, 2)) * 0.5
    tmp62 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 1, 3), (4, 2))
    tmp64 = np.copy(tmp62) * 0.5
    tmp61 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t2.aaaa, (2, 1, 4, 3), (0, 4)) * -1
    tmp64 += tmp61
    tmp60 = np.copy(f.aa.oo)
    tmp58 = np.copy(v.aaaa.ooov) * -1
    tmp58 += np.transpose(v.aaaa.ooov, (0, 2, 1, 3))
    tmp59 = einsum(t1.aa, (0, 1), tmp58, (2, 3, 0, 1), (2, 3))
    tmp60 += np.transpose(tmp59, (1, 0)) * -1
    del tmp59
    tmp57 = einsum(t1.bb, (0, 1), v.aabb.ooov, (2, 3, 0, 1), (2, 3))
    tmp60 += np.transpose(tmp57, (1, 0))
    del tmp57
    tmp63 = einsum(tmp60, (0, 1), t1.aa, (0, 2), (1, 2)) * 0.5
    tmp64 += tmp63
    del tmp63
    tmp111 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovvv, (1, 3, 4, 2), (0, 4)) * -1
    tmp114 = np.copy(tmp111) * -2
    tmp112 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.vvov, (4, 2, 1, 3), (0, 4))
    tmp114 += tmp112
    tmp113 = einsum(t1.aa, (0, 1), tmp92, (1, 2), (0, 2))
    tmp114 += tmp113
    del tmp113
    tmp281 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t2.bbbb, (2, 1, 4, 3), (0, 4)) * -1
    tmp283 = np.copy(tmp281) * 2
    tmp280 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovoo, (0, 2, 4, 1), (4, 3))
    tmp283 += tmp280
    tmp227 = np.copy(f.bb.oo)
    tmp225 = np.copy(v.bbbb.ooov)
    tmp225 += np.transpose(v.bbbb.ovoo, (0, 2, 3, 1)) * -1
    tmp226 = einsum(t1.bb, (0, 1), tmp225, (0, 2, 3, 1), (2, 3))
    del tmp225
    tmp227 += np.transpose(tmp226, (1, 0)) * -1
    del tmp226
    tmp224 = einsum(t1.aa, (0, 1), v.aabb.ovoo, (0, 1, 2, 3), (2, 3))
    tmp227 += np.transpose(tmp224, (1, 0))
    del tmp224
    tmp282 = einsum(tmp227, (0, 1), t1.bb, (0, 2), (1, 2))
    tmp283 += tmp282
    del tmp282
    tmp337 = np.copy(tmp280) * 0.5
    del tmp280
    tmp337 += tmp281
    del tmp281
    tmp336 = einsum(tmp227, (0, 1), t1.bb, (0, 2), (1, 2)) * 0.5
    tmp337 += tmp336
    del tmp336
    tmp445 = np.copy(tmp61) * 2
    del tmp61
    tmp444 = einsum(tmp60, (0, 1), t1.aa, (0, 2), (1, 2))
    tmp445 += tmp444
    del tmp444
    tmp445 += tmp62
    del tmp62
    tmp440 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 5, 1, 3), (0, 4, 5, 2))
    tmp442 = np.copy(np.transpose(tmp440, (0, 2, 1, 3))) * 0.5
    del tmp440
    tmp52 = np.copy(v.aaaa.ooov) * -1
    tmp52 += np.transpose(v.aaaa.ovoo, (0, 2, 3, 1))
    tmp441 = einsum(t2.aaaa, (0, 1, 2, 3), tmp52, (1, 4, 5, 3), (0, 4, 5, 2))
    tmp442 += np.transpose(tmp441, (0, 2, 1, 3))
    del tmp441
    tmp510 = einsum(t1.aa, (0, 1), tmp442, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp625 = np.copy(tmp510)
    tmp505 = einsum(v.aabb.ooov, (0, 1, 2, 3), t3.abaaba, (4, 2, 1, 5, 3, 6), (4, 0, 5, 6))
    tmp625 += np.transpose(tmp505, (0, 1, 3, 2)) * 0.5
    tmp639 = einsum(t2.aaaa, (0, 1, 2, 3), tmp122, (4, 1, 5, 3), (0, 4, 2, 5))
    del tmp122
    tmp642 = np.copy(tmp639) * 2
    tmp642 += np.transpose(tmp639, (1, 0, 3, 2)) * 2
    tmp640 = einsum(t2.aaaa, (0, 1, 2, 3), tmp124, (4, 1, 5, 3), (0, 4, 2, 5)) * -4
    tmp642 += np.transpose(tmp640, (1, 0, 3, 2))
    del tmp640
    tmp641 = einsum(t2.abab, (0, 1, 2, 3), tmp119, (4, 1, 5, 3), (0, 4, 2, 5)) * -1
    tmp642 += np.transpose(tmp641, (1, 0, 3, 2))
    del tmp641
    tmp637 = einsum(t1.aa, (0, 1), tmp608, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp644 = np.copy(tmp637)
    tmp643 = einsum(t1.aa, (0, 1), tmp47, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp644 += np.transpose(tmp643, (0, 1, 3, 2)) * 0.5
    tmp660 = np.copy(tmp111) * -1
    del tmp111
    tmp660 += tmp112 * 0.5
    del tmp112
    tmp659 = einsum(t1.aa, (0, 1), tmp92, (1, 2), (0, 2)) * 0.5
    tmp660 += tmp659
    del tmp659
    tmp846 = np.copy(tmp639)
    tmp846 += np.transpose(tmp639, (1, 0, 3, 2))
    del tmp639
    tmp844 = einsum(t2.aaaa, (0, 1, 2, 3), tmp124, (4, 1, 5, 3), (0, 4, 2, 5)) * -2
    del tmp124
    tmp846 += np.transpose(tmp844, (1, 0, 3, 2))
    del tmp844
    tmp845 = einsum(t2.abab, (0, 1, 2, 3), tmp119, (4, 1, 5, 3), (0, 4, 2, 5)) * -0.5
    del tmp119
    tmp846 += np.transpose(tmp845, (1, 0, 3, 2))
    del tmp845
    tmp1024 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 1), (4, 5, 2, 6))
    tmp1026 = np.copy(np.transpose(tmp1024, (0, 2, 1, 3)))
    tmp34 = einsum(t1.bb, (0, 1), tmp4, (0, 2, 3, 1), (2, 3))
    tmp35 = np.copy(tmp34) * -1
    del tmp34
    tmp35 += f.bb.ov
    tmp35 += tmp33
    del tmp33
    tmp1025 = einsum(tmp35, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 0, 4)) * 0.5
    tmp1026 += np.transpose(tmp1025, (0, 2, 1, 3))
    tmp1028 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.abaaba, (4, 5, 0, 6, 3, 1), (4, 5, 6, 2))
    tmp1030 = np.copy(tmp1028) * 2
    del tmp1028
    tmp180 = einsum(t1.bb, (0, 1), tmp179, (0, 2, 1, 3), (2, 3))
    tmp181 = np.copy(tmp180) * -1
    del tmp180
    tmp181 += f.bb.vv
    tmp181 += np.transpose(tmp26, (1, 0))
    del tmp26
    tmp1029 = einsum(tmp181, (0, 1), t2.abab, (2, 3, 4, 0), (2, 3, 4, 1))
    tmp1030 += tmp1029
    del tmp1029
    tmp1031 = np.copy(tmp1024)
    tmp1031 += tmp1025
    del tmp1025
    tmp1007 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (4, 5, 2, 1, 6, 3), (4, 0, 5, 6))
    tmp1445 = np.copy(tmp1007) * 2
    tmp15 = einsum(t1.aa, (0, 1), tmp1, (0, 2, 3, 1), (2, 3))
    tmp16 = np.copy(tmp15) * -1
    del tmp15
    tmp16 += f.aa.ov
    tmp16 += tmp14
    del tmp14
    tmp1008 = einsum(tmp16, (0, 1), t2.abab, (2, 3, 1, 4), (2, 0, 3, 4))
    tmp1445 += tmp1008
    tmp1919 = einsum(t2.abab, (0, 1, 2, 3), tmp287, (0, 4, 2, 5), (1, 4, 3, 5))
    del tmp287
    tmp1922 = np.copy(tmp1919) * 0.5
    tmp1920 = einsum(t2.abab, (0, 1, 2, 3), tmp300, (0, 4, 2, 5), (1, 4, 3, 5)) * 0.25
    tmp1922 += tmp1920
    del tmp1920
    tmp1921 = einsum(t2.bbbb, (0, 1, 2, 3), tmp374, (1, 4, 3, 5), (0, 4, 2, 5)) * -1
    tmp1922 += tmp1921
    del tmp1921
    tmp1922 += np.transpose(tmp1919, (1, 0, 3, 2)) * 0.5
    tmp2132 = np.copy(tmp1919)
    tmp2130 = einsum(t2.abab, (0, 1, 2, 3), tmp300, (0, 4, 2, 5), (1, 4, 3, 5)) * 0.5
    del tmp300
    tmp2132 += tmp2130
    del tmp2130
    tmp2131 = einsum(t2.bbbb, (0, 1, 2, 3), tmp374, (1, 4, 3, 5), (0, 4, 2, 5)) * -2
    del tmp374
    tmp2132 += tmp2131
    del tmp2131
    tmp2132 += np.transpose(tmp1919, (1, 0, 3, 2))
    del tmp1919
    tmp95 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (4, 2, 1, 3), (0, 4))
    tmp97 = np.copy(np.transpose(tmp95, (1, 0))) * 0.5
    tmp94 = einsum(t2.aaaa, (0, 1, 2, 3), v.aaaa.ovov, (4, 3, 1, 2), (0, 4)) * -1
    tmp97 += np.transpose(tmp94, (1, 0))
    tmp96 = einsum(t1.aa, (0, 1), tmp16, (2, 1), (0, 2)) * 0.5
    tmp97 += np.transpose(tmp96, (1, 0))
    tmp242 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovov, (4, 2, 1, 3), (0, 4))
    tmp244 = np.copy(np.transpose(tmp242, (1, 0))) * 2
    tmp241 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovov, (0, 2, 4, 3), (1, 4))
    tmp244 += np.transpose(tmp241, (1, 0))
    tmp243 = einsum(t1.bb, (0, 1), tmp35, (2, 1), (0, 2))
    tmp244 += np.transpose(tmp243, (1, 0))
    tmp252 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ovvv, (0, 2, 4, 3), (1, 4))
    tmp255 = np.copy(tmp252) * 0.5
    tmp253 = einsum(t2.bbbb, (0, 1, 2, 3), v.bbbb.ovvv, (1, 2, 4, 3), (0, 4))
    tmp255 += tmp253 * -1
    tmp254 = einsum(t1.bb, (0, 1), tmp181, (1, 2), (0, 2)) * 0.5
    tmp255 += tmp254
    del tmp254
    tmp372 = np.copy(tmp253) * -2
    del tmp253
    tmp372 += tmp252
    del tmp252
    tmp371 = einsum(t1.bb, (0, 1), tmp181, (1, 2), (0, 2))
    tmp372 += tmp371
    del tmp371
    tmp460 = np.copy(tmp95) * 0.5
    tmp460 += tmp94
    tmp460 += tmp96
    del tmp96
    tmp486 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 3, 1), (4, 5, 6, 2)) * -1
    tmp489 = np.copy(np.transpose(tmp486, (0, 1, 3, 2))) * -3
    tmp487 = einsum(v.aabb.vvov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 1), (4, 5, 6, 0))
    tmp489 += np.transpose(tmp487, (0, 1, 3, 2))
    tmp488 = einsum(tmp92, (0, 1), t2.aaaa, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    tmp489 += np.transpose(tmp488, (1, 0, 3, 2))
    del tmp488
    tmp694 = np.copy(np.transpose(tmp486, (0, 1, 3, 2))) * -1
    del tmp486
    tmp694 += np.transpose(tmp487, (0, 1, 3, 2)) * 0.3333333333333333
    del tmp487
    tmp693 = einsum(tmp92, (0, 1), t2.aaaa, (2, 3, 4, 0), (2, 3, 4, 1)) * -0.3333333333333333
    tmp694 += np.transpose(tmp693, (1, 0, 3, 2))
    del tmp693
    tmp1045 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 3, 6, 1), (5, 4, 0, 6)) * -1
    tmp1085 = einsum(t1.bb, (0, 1), tmp1045, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1087 = np.copy(tmp1085) * -2
    tmp1087 += tmp1083
    tmp1087 += tmp1084
    tmp1087 += tmp1086
    tmp1066 = np.copy(np.transpose(tmp1024, (0, 2, 1, 3))) * 2
    del tmp1024
    tmp1065 = einsum(tmp35, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp1066 += np.transpose(tmp1065, (0, 2, 1, 3))
    del tmp1065
    tmp1097 = einsum(t1.bb, (0, 1), tmp1066, (2, 0, 3, 4), (2, 3, 4, 1)) * 0.5
    tmp1158 = np.copy(np.transpose(tmp1155, (1, 0, 2, 3))) * 2
    del tmp1155
    tmp1157 = einsum(t2.abab, (0, 1, 2, 3), tmp1156, (4, 5, 0, 2), (4, 5, 1, 3))
    del tmp1156
    tmp1158 += np.transpose(tmp1157, (1, 0, 2, 3))
    del tmp1157
    tmp1159 = einsum(t1.aa, (0, 1), tmp1158, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp1160 = np.copy(tmp1159)
    tmp1160 += tmp984
    tmp1160 += tmp985
    tmp1147 = einsum(t1.bb, (0, 1), tmp211, (2, 3, 4, 1), (2, 3, 0, 4))
    tmp1290 = einsum(t1.aa, (0, 1), tmp1147, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1303 = np.copy(tmp1290) * -1
    tmp192 = np.copy(tmp154)
    del tmp154
    tmp192 += tmp155
    del tmp155
    tmp1119 = einsum(t1.bb, (0, 1), tmp192, (2, 3, 4, 1), (2, 0, 3, 4))
    tmp1303 += tmp1119
    tmp1651 = np.copy(tmp984)
    tmp1651 += tmp985
    tmp987 = einsum(tmp60, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp1651 += tmp987
    tmp1654 = np.copy(tmp970)
    tmp1654 += tmp971
    tmp972 = einsum(tmp227, (0, 1), t2.abab, (2, 0, 3, 4), (2, 1, 3, 4))
    tmp1654 += tmp972
    tmp957 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 5, 2, 6, 1, 3), (5, 0, 4, 6))
    tmp1224 = einsum(t1.aa, (0, 1), tmp957, (2, 0, 3, 4), (2, 3, 1, 4))
    tmp1663 = np.copy(tmp1224) * -2
    tmp1663 += tmp1083
    del tmp1083
    tmp1663 += tmp1084
    del tmp1084
    tmp1663 += tmp1086
    del tmp1086
    tmp1764 = np.copy(tmp242) * 2
    tmp1764 += tmp241
    tmp1764 += tmp243
    del tmp243
    tmp2129 = einsum(t1.bb, (0, 1), tmp1963, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp2133 = np.copy(tmp2129) * -1
    tmp1903 = einsum(t1.bb, (0, 1), tmp326, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp2133 += np.transpose(tmp1903, (0, 1, 3, 2)) * -1
    tmp473 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 2, 6, 3, 1), (4, 5, 0, 6)) * -1
    tmp476 = np.copy(np.transpose(tmp473, (2, 1, 0, 3))) * -3
    tmp474 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 5, 6, 3, 1), (4, 5, 0, 6))
    tmp476 += np.transpose(tmp474, (2, 1, 0, 3)) * -1
    tmp475 = einsum(tmp16, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 0, 4)) * -1
    tmp476 += np.transpose(tmp475, (2, 1, 0, 3))
    tmp496 = np.copy(tmp473) * 3
    tmp496 += tmp474
    tmp496 += np.transpose(tmp475, (1, 0, 2, 3))
    tmp683 = np.copy(np.transpose(tmp473, (2, 1, 0, 3))) * -1
    tmp683 += np.transpose(tmp474, (2, 1, 0, 3)) * -0.3333333333333333
    tmp682 = einsum(tmp16, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 0, 4)) * -0.3333333333333333
    tmp683 += np.transpose(tmp682, (2, 1, 0, 3))
    del tmp682
    tmp1780 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 3), (4, 5, 2, 6))
    tmp1783 = np.copy(np.transpose(tmp1780, (2, 1, 0, 3))) * -1
    tmp1781 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 2, 6, 1, 3), (4, 5, 0, 6))
    tmp1783 += np.transpose(tmp1781, (2, 1, 0, 3)) * -3
    tmp1782 = einsum(tmp35, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 0, 4)) * -1
    tmp1783 += np.transpose(tmp1782, (2, 1, 0, 3))
    tmp1791 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 1, 3), (4, 5, 6, 2))
    tmp1793 = np.copy(np.transpose(tmp1791, (0, 1, 3, 2))) * -3
    tmp1790 = einsum(v.aabb.ovvv, (0, 1, 2, 3), t3.babbab, (4, 0, 5, 6, 1, 3), (4, 5, 6, 2))
    tmp1793 += np.transpose(tmp1790, (0, 1, 3, 2))
    tmp1792 = einsum(tmp181, (0, 1), t2.bbbb, (2, 3, 4, 0), (2, 3, 4, 1)) * -1
    tmp1793 += np.transpose(tmp1792, (1, 0, 3, 2))
    del tmp1792
    tmp2028 = np.copy(np.transpose(tmp1790, (0, 1, 3, 2))) * 0.3333333333333333
    del tmp1790
    tmp2028 += np.transpose(tmp1791, (0, 1, 3, 2)) * -1
    del tmp1791
    tmp2027 = einsum(tmp181, (0, 1), t2.bbbb, (2, 3, 4, 0), (2, 3, 4, 1)) * -0.3333333333333333
    tmp2028 += np.transpose(tmp2027, (1, 0, 3, 2))
    del tmp2027
    tmp2035 = np.copy(tmp1781) * 3
    tmp2035 += tmp1780
    tmp2035 += np.transpose(tmp1782, (1, 0, 2, 3))
    tmp908 = einsum(t2.abab, (0, 1, 2, 3), v.aabb.ooov, (4, 0, 5, 3), (4, 1, 5, 2))
    tmp986 = einsum(t1.bb, (0, 1), tmp908, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp988 = np.copy(tmp986) * -1
    tmp988 += tmp984
    del tmp984
    tmp988 += tmp985
    del tmp985
    tmp988 += tmp987
    del tmp987
    tmp1300 = einsum(tmp301, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3)) * 2
    tmp1302 = np.copy(tmp1300)
    del tmp1300
    tmp1301 = einsum(t2.abab, (0, 1, 2, 3), tmp286, (4, 1, 5, 3), (0, 4, 2, 5))
    tmp1302 += tmp1301
    del tmp1301
    tmp1624 = einsum(tmp301, (0, 1, 2, 3), t2.aaaa, (4, 0, 5, 2), (4, 1, 5, 3))
    tmp1626 = np.copy(tmp1624)
    del tmp1624
    tmp1625 = einsum(t2.abab, (0, 1, 2, 3), tmp286, (4, 1, 5, 3), (0, 4, 2, 5)) * 0.5
    tmp1626 += tmp1625
    del tmp1625
    tmp223 = np.copy(tmp221)
    del tmp221
    tmp223 += tmp222
    del tmp222
    tmp1136 = einsum(t1.aa, (0, 1), tmp223, (2, 3, 1, 4), (0, 2, 3, 4))
    tmp1172 = np.copy(tmp1136)
    tmp1171 = einsum(t1.aa, (0, 1), tmp1170, (2, 0, 3, 4), (2, 3, 1, 4))
    del tmp1170
    tmp1172 += tmp1171
    del tmp1171
    tmp506 = einsum(tmp60, (0, 1), t2.aaaa, (2, 0, 3, 4), (1, 2, 3, 4)) * -0.3333333333333333
    tmp506 += np.transpose(tmp505, (1, 0, 3, 2)) * 0.16666666666666666
    tmp504 = einsum(v.aaaa.ooov, (0, 1, 2, 3), t3.aaaaaa, (4, 1, 2, 5, 3, 6), (4, 0, 5, 6)) * -1
    tmp506 += np.transpose(tmp504, (1, 0, 3, 2))
    tmp506 += einsum(t1.aa, (0, 1), tmp442, (2, 0, 3, 4), (3, 2, 1, 4)) * 0.3333333333333333
    tmp1009 = np.copy(np.transpose(tmp1007, (1, 0, 2, 3))) * 2
    del tmp1007
    tmp1009 += np.transpose(tmp1008, (1, 0, 2, 3))
    del tmp1008
    tmp1038 = einsum(t1.aa, (0, 1), tmp1009, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp1040 = np.copy(tmp1038)
    tmp136 = np.copy(tmp8) * 2
    tmp136 += tmp9
    tmp1039 = einsum(tmp136, (0, 1), t2.abab, (2, 3, 1, 4), (2, 3, 0, 4))
    tmp1040 += tmp1039
    tmp1067 = einsum(t1.bb, (0, 1), tmp1066, (2, 0, 3, 4), (2, 3, 4, 1))
    del tmp1066
    tmp1673 = np.copy(tmp1067)
    tmp219 = np.copy(tmp28) * 2
    tmp219 += tmp27
    tmp1068 = einsum(tmp219, (0, 1), t2.abab, (2, 3, 4, 1), (2, 3, 4, 0))
    tmp1673 += tmp1068
    tmp2047 = np.copy(np.transpose(tmp1807, (1, 0, 3, 2))) * 0.16666666666666666
    tmp2046 = einsum(tmp227, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 1, 3, 4)) * -0.3333333333333333
    tmp2047 += np.transpose(tmp2046, (1, 0, 3, 2)) * -1
    tmp1808 = einsum(v.bbbb.ooov, (0, 1, 2, 3), t3.bbbbbb, (4, 1, 2, 5, 3, 6), (4, 0, 5, 6)) * -1
    tmp2047 += np.transpose(tmp1808, (1, 0, 3, 2))
    tmp2047 += einsum(t1.bb, (0, 1), tmp1751, (2, 0, 3, 4), (3, 2, 1, 4)) * 0.16666666666666666
    tmp106 = np.copy(np.transpose(tmp94, (1, 0))) * 2
    tmp105 = einsum(t1.aa, (0, 1), tmp16, (2, 1), (0, 2))
    tmp106 += np.transpose(tmp105, (1, 0))
    tmp106 += np.transpose(tmp95, (1, 0))
    tmp107 = einsum(tmp106, (0, 1), t1.aa, (0, 2), (1, 2)) * 0.5
    tmp110 = np.copy(tmp107)
    del tmp107
    tmp108 = np.copy(tmp9) * 0.5
    del tmp9
    tmp108 += tmp8
    del tmp8
    tmp109 = einsum(t1.aa, (0, 1), tmp108, (2, 1), (0, 2))
    tmp110 += tmp109
    del tmp109
    tmp189 = einsum(tmp106, (0, 1), t1.aa, (0, 2), (1, 2))
    tmp191 = np.copy(tmp189)
    del tmp189
    tmp190 = einsum(t1.aa, (0, 1), tmp108, (2, 1), (0, 2)) * 2
    tmp191 += tmp190
    del tmp190
    tmp270 = np.copy(np.transpose(tmp241, (1, 0))) * 0.5
    tmp270 += np.transpose(tmp242, (1, 0))
    tmp269 = einsum(t1.bb, (0, 1), tmp35, (2, 1), (0, 2)) * 0.5
    tmp270 += np.transpose(tmp269, (1, 0))
    tmp271 = einsum(tmp270, (0, 1), t1.bb, (0, 2), (1, 2)) * 2
    tmp273 = np.copy(tmp271)
    del tmp271
    tmp272 = einsum(t1.bb, (0, 1), tmp219, (2, 1), (0, 2))
    tmp273 += tmp272
    del tmp272
    tmp368 = einsum(tmp270, (0, 1), t1.bb, (0, 2), (1, 2))
    tmp370 = np.copy(tmp368)
    del tmp368
    tmp369 = einsum(t1.bb, (0, 1), tmp219, (2, 1), (0, 2)) * 0.5
    tmp370 += tmp369
    del tmp369
    tmp1811 = np.copy(np.transpose(tmp1810, (1, 0, 2, 3)))
    del tmp1810
    tmp1811 += np.transpose(tmp1807, (1, 0, 3, 2)) * 0.5
    tmp1811 += np.transpose(tmp1808, (1, 0, 3, 2)) * 3
    tmp1809 = einsum(tmp227, (0, 1), t2.bbbb, (2, 0, 3, 4), (2, 1, 3, 4)) * -1
    tmp1811 += np.transpose(tmp1809, (1, 0, 3, 2)) * -1
    del tmp1809
    tmp2055 = np.copy(np.transpose(tmp1807, (0, 1, 3, 2))) * -0.16666666666666666
    tmp2055 += np.transpose(tmp1808, (0, 1, 3, 2)) * -1
    del tmp1808
    tmp2055 += np.transpose(tmp2046, (0, 1, 3, 2))
    del tmp2046
    tmp1999 = np.copy(np.transpose(tmp1748, (0, 2, 1, 3))) * 0.5
    del tmp1748
    tmp1998 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1749, (4, 5, 1, 3), (0, 4, 5, 2))
    del tmp1749
    tmp1999 += np.transpose(tmp1998, (0, 2, 1, 3))
    del tmp1998
    tmp2054 = einsum(t1.bb, (0, 1), tmp1999, (2, 0, 3, 4), (2, 3, 1, 4)) * 0.3333333333333333
    tmp2055 += np.transpose(tmp2054, (0, 1, 3, 2))
    del tmp2054
    tmp511 = np.copy(np.transpose(tmp510, (1, 0, 2, 3)))
    tmp511 += np.transpose(tmp504, (1, 0, 3, 2)) * 3
    tmp511 += np.transpose(tmp505, (1, 0, 3, 2)) * 0.5
    tmp509 = einsum(tmp60, (0, 1), t2.aaaa, (2, 0, 3, 4), (2, 1, 3, 4)) * -1
    tmp511 += np.transpose(tmp509, (1, 0, 3, 2)) * -1
    tmp520 = np.copy(np.transpose(tmp504, (0, 1, 3, 2))) * -3
    tmp520 += np.transpose(tmp505, (0, 1, 3, 2)) * -0.5
    tmp520 += np.transpose(tmp509, (0, 1, 3, 2))
    del tmp509
    tmp520 += np.transpose(tmp510, (0, 1, 3, 2))
    tmp529 = np.copy(np.transpose(tmp473, (2, 1, 0, 3))) * 3
    del tmp473
    tmp529 += np.transpose(tmp475, (2, 1, 0, 3)) * -1
    del tmp475
    tmp529 += np.transpose(tmp474, (2, 1, 0, 3))
    del tmp474
    tmp530 = einsum(t1.aa, (0, 1), tmp529, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp532 = np.copy(np.transpose(tmp530, (1, 0, 2, 3)))
    tmp531 = einsum(tmp136, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 4, 0)) * -1
    tmp532 += np.transpose(tmp531, (1, 0, 3, 2))
    del tmp531
    tmp710 = einsum(t1.aa, (0, 1), tmp442, (2, 0, 3, 4), (2, 3, 1, 4)) * 2
    tmp711 = np.copy(np.transpose(tmp710, (1, 0, 2, 3)))
    tmp711 += np.transpose(tmp504, (1, 0, 3, 2)) * 6
    del tmp504
    tmp709 = einsum(tmp60, (0, 1), t2.aaaa, (2, 0, 3, 4), (2, 1, 3, 4)) * -2
    tmp711 += np.transpose(tmp709, (1, 0, 3, 2)) * -1
    del tmp709
    tmp711 += np.transpose(tmp505, (1, 0, 3, 2))
    tmp720 = einsum(t1.aa, (0, 1), tmp529, (0, 2, 3, 4), (2, 3, 1, 4)) * 0.5
    tmp773 = np.copy(np.transpose(tmp720, (1, 0, 2, 3)))
    tmp721 = einsum(tmp136, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 4, 0)) * -0.5
    tmp773 += np.transpose(tmp721, (1, 0, 3, 2))
    tmp977 = np.copy(tmp970)
    del tmp970
    tmp977 += tmp971
    del tmp971
    tmp977 += tmp972
    del tmp972
    tmp976 = einsum(t1.bb, (0, 1), tmp975, (2, 0, 3, 4), (2, 3, 4, 1))
    tmp977 += tmp976
    tmp1135 = einsum(tmp106, (0, 1), t2.abab, (0, 2, 3, 4), (1, 2, 3, 4))
    tmp1665 = np.copy(tmp1135)
    tmp1665 += tmp1136
    tmp1118 = einsum(tmp270, (0, 1), t2.abab, (2, 0, 3, 4), (2, 1, 3, 4)) * 2
    tmp1669 = np.copy(tmp1118)
    tmp1669 += tmp1119
    tmp1832 = np.copy(np.transpose(tmp1781, (2, 1, 0, 3))) * 3
    del tmp1781
    tmp1832 += np.transpose(tmp1782, (2, 1, 0, 3)) * -1
    del tmp1782
    tmp1832 += np.transpose(tmp1780, (2, 1, 0, 3))
    del tmp1780
    tmp1887 = einsum(t1.bb, (0, 1), tmp1832, (0, 2, 3, 4), (2, 3, 1, 4))
    tmp1889 = np.copy(np.transpose(tmp1887, (1, 0, 2, 3)))
    tmp299 = np.copy(tmp27) * 0.5
    del tmp27
    tmp299 += tmp28
    del tmp28
    tmp1888 = einsum(tmp299, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 4, 0)) * -2
    tmp1889 += np.transpose(tmp1888, (1, 0, 3, 2))
    tmp1661 = np.copy(tmp1062) * -1
    tmp1661 += tmp1063 * -1
    tmp1661 += tmp1064 * -1
    tmp1661 += tmp1038
    tmp1661 += tmp1039
    del tmp1039
    tmp140 = einsum(f.aa.ov, (0, 1), t2.aaaa, (2, 0, 3, 1), (2, 3))
    tmp149 = np.copy(tmp140) * 2
    tmp142 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.aaaaaa, (4, 0, 2, 5, 1, 3), (4, 5))
    tmp149 += tmp142 * 3
    tmp143 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.abaaba, (4, 2, 0, 5, 3, 1), (4, 5))
    tmp149 += tmp143 * 2
    tmp141 = einsum(f.bb.ov, (0, 1), t2.abab, (2, 0, 3, 1), (2, 3))
    tmp149 += tmp141
    tmp144 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.babbab, (0, 4, 2, 3, 5, 1), (4, 5)) * -1
    tmp149 += tmp144
    tmp145 = einsum(t1.aa, (0, 1), tmp125, (2, 0, 3, 1), (2, 3)) * 2
    tmp149 += tmp145
    del tmp145
    tmp148 = einsum(t1.bb, (0, 1), tmp147, (2, 0, 3, 1), (2, 3)) * 2
    tmp149 += tmp148
    del tmp148
    tmp210 = np.copy(tmp141) * 0.5
    tmp210 += tmp142 * 1.5
    tmp210 += tmp144 * 0.5
    tmp210 += tmp140
    tmp210 += tmp143
    tmp208 = einsum(t1.aa, (0, 1), tmp125, (2, 0, 3, 1), (2, 3))
    tmp210 += tmp208
    del tmp208
    tmp209 = einsum(t1.bb, (0, 1), tmp147, (2, 0, 3, 1), (2, 3))
    tmp210 += tmp209
    del tmp209
    tmp692 = np.copy(tmp140) * 0.6666666666666666
    del tmp140
    tmp692 += tmp141 * 0.3333333333333333
    del tmp141
    tmp692 += tmp143 * 0.6666666666666666
    del tmp143
    tmp692 += tmp144 * 0.3333333333333333
    del tmp144
    tmp692 += tmp142
    del tmp142
    tmp690 = einsum(t1.aa, (0, 1), tmp125, (2, 0, 3, 1), (2, 3)) * 0.6666666666666666
    tmp692 += tmp690
    del tmp690
    tmp691 = einsum(t1.bb, (0, 1), tmp147, (2, 0, 3, 1), (2, 3)) * 0.6666666666666666
    tmp692 += tmp691
    del tmp691
    tmp1133 = einsum(t1.aa, (0, 1), tmp312, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp1134 = einsum(t1.bb, (0, 1), tmp1133, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1137 = np.copy(tmp1134) * -1
    tmp1137 += tmp1135
    del tmp1135
    tmp1137 += tmp1136
    tmp304 = einsum(f.bb.ov, (0, 1), t2.bbbb, (2, 0, 3, 1), (2, 3))
    tmp310 = np.copy(tmp304) * 2
    tmp306 = einsum(v.aabb.ovov, (0, 1, 2, 3), t3.babbab, (4, 0, 2, 5, 1, 3), (4, 5))
    tmp310 += tmp306 * 2
    tmp307 = einsum(v.bbbb.ovov, (0, 1, 2, 3), t3.bbbbbb, (4, 0, 2, 5, 3, 1), (4, 5)) * -1
    tmp310 += tmp307 * 3
    tmp303 = einsum(f.aa.ov, (0, 1), t2.abab, (0, 2, 1, 3), (2, 3))
    tmp310 += tmp303
    tmp305 = einsum(v.aaaa.ovov, (0, 1, 2, 3), t3.abaaba, (0, 4, 2, 3, 5, 1), (4, 5)) * -1
    tmp310 += tmp305
    tmp308 = einsum(t1.aa, (0, 1), tmp301, (0, 2, 1, 3), (2, 3))
    tmp310 += tmp308
    del tmp308
    tmp309 = einsum(t1.bb, (0, 1), tmp286, (2, 0, 3, 1), (2, 3))
    tmp310 += tmp309
    del tmp309
    tmp606 = np.copy(np.transpose(tmp46, (0, 2, 1, 3))) * -1
    del tmp46
    tmp606 += np.transpose(tmp47, (0, 2, 1, 3)) * -0.16666666666666666
    tmp607 = einsum(t1.aa, (0, 1), tmp606, (2, 3, 4, 1), (0, 2, 3, 4)) * 1.5
    tmp610 = np.copy(np.transpose(tmp607, (0, 1, 3, 2))) * -1
    del tmp607
    tmp609 = einsum(t1.aa, (0, 1), tmp608, (2, 3, 0, 4), (2, 3, 1, 4)) * 0.5
    tmp610 += np.transpose(tmp609, (0, 1, 3, 2))
    del tmp609
    tmp429 = np.copy(tmp94) * 2
    del tmp94
    tmp429 += tmp105
    del tmp105
    tmp429 += tmp95
    del tmp95
    tmp605 = einsum(tmp429, (0, 1), t2.aaaa, (2, 1, 3, 4), (2, 0, 3, 4)) * -0.5
    tmp610 += np.transpose(tmp605, (1, 0, 3, 2))
    del tmp605
    tmp760 = einsum(t1.aa, (0, 1), tmp606, (2, 3, 4, 1), (0, 2, 3, 4)) * 3
    tmp761 = np.copy(np.transpose(tmp760, (0, 1, 3, 2))) * -1
    del tmp760
    tmp761 += np.transpose(tmp637, (0, 1, 3, 2))
    tmp759 = einsum(tmp429, (0, 1), t2.aaaa, (2, 1, 3, 4), (2, 0, 3, 4)) * -1
    tmp761 += np.transpose(tmp759, (1, 0, 3, 2))
    del tmp759
    tmp1016 = np.copy(tmp303) * 0.5
    tmp1016 += tmp305 * 0.5
    tmp1016 += tmp307 * 1.5
    tmp1014 = einsum(t1.aa, (0, 1), tmp301, (0, 2, 1, 3), (2, 3)) * 0.5
    tmp1016 += tmp1014
    del tmp1014
    tmp1015 = einsum(t1.bb, (0, 1), tmp286, (2, 0, 3, 1), (2, 3)) * 0.5
    tmp1016 += tmp1015
    del tmp1015
    tmp1016 += tmp304
    tmp1016 += tmp306
    tmp1697 = np.copy(tmp303) * 0.3333333333333333
    del tmp303
    tmp1697 += tmp304 * 0.6666666666666666
    del tmp304
    tmp1697 += tmp305 * 0.3333333333333333
    del tmp305
    tmp1697 += tmp306 * 0.6666666666666666
    del tmp306
    tmp1695 = einsum(t1.aa, (0, 1), tmp301, (0, 2, 1, 3), (2, 3)) * 0.3333333333333333
    tmp1697 += tmp1695
    del tmp1695
    tmp1696 = einsum(t1.bb, (0, 1), tmp286, (2, 0, 3, 1), (2, 3)) * 0.3333333333333333
    tmp1697 += tmp1696
    del tmp1696
    tmp1697 += tmp307
    del tmp307
    tmp1069 = np.copy(tmp1062) * -1
    del tmp1062
    tmp1069 += tmp1063 * -1
    del tmp1063
    tmp1069 += tmp1064 * -1
    del tmp1064
    tmp1069 += tmp1067
    del tmp1067
    tmp1069 += tmp1068
    del tmp1068
    tmp1488 = np.copy(np.transpose(tmp326, (0, 2, 1, 3))) * -1
    tmp1488 += np.transpose(tmp327, (0, 2, 1, 3)) * -6
    del tmp327
    tmp1872 = einsum(t1.bb, (0, 1), tmp1488, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.5
    tmp1875 = np.copy(np.transpose(tmp1872, (0, 1, 3, 2))) * -1
    del tmp1872
    tmp1873 = einsum(t1.bb, (0, 1), tmp286, (2, 3, 4, 1), (0, 2, 3, 4)) * 0.5
    tmp1874 = einsum(t1.bb, (0, 1), tmp1873, (2, 3, 0, 4), (2, 3, 1, 4))
    tmp1875 += np.transpose(tmp1874, (0, 1, 3, 2))
    del tmp1874
    tmp1870 = np.copy(tmp241) * 0.5
    del tmp241
    tmp1870 += tmp242
    del tmp242
    tmp1870 += tmp269
    del tmp269
    tmp1871 = einsum(tmp1870, (0, 1), t2.bbbb, (2, 1, 3, 4), (2, 0, 3, 4)) * -2
    tmp1875 += np.transpose(tmp1871, (1, 0, 3, 2))
    del tmp1871
    tmp2111 = einsum(t1.bb, (0, 1), tmp1488, (2, 3, 4, 1), (0, 2, 3, 4))
    tmp2113 = np.copy(np.transpose(tmp2111, (0, 1, 3, 2))) * -1
    del tmp2111
    tmp2112 = einsum(t1.bb, (0, 1), tmp1873, (2, 3, 0, 4), (2, 3, 1, 4)) * 2
    tmp2113 += np.transpose(tmp2112, (0, 1, 3, 2))
    del tmp2112
    tmp2110 = einsum(tmp1870, (0, 1), t2.bbbb, (2, 1, 3, 4), (2, 0, 3, 4)) * -4
    del tmp1870
    tmp2113 += np.transpose(tmp2110, (1, 0, 3, 2))
    del tmp2110
    tmp1122 = np.copy(tmp1118)
    del tmp1118
    tmp1122 += tmp1119
    tmp1121 = einsum(t1.bb, (0, 1), tmp1120, (2, 3, 0, 4), (2, 3, 4, 1))
    tmp1122 += tmp1121
    tmp1829 = np.copy(np.transpose(tmp1817, (0, 2, 1, 3, 5, 4))) * 6
    del tmp1817
    tmp1829 += np.transpose(tmp1828, (0, 2, 1, 3, 5, 4))
    tmp1833 = einsum(t1.aa, (0, 1), tmp1829, (0, 2, 3, 1, 4, 5), (2, 3, 5, 4)) * -0.16666666666666666
    tmp1831 = np.copy(np.transpose(tmp1815, (0, 1, 2, 4, 3, 5))) * -1
    tmp1830 = einsum(tmp4, (0, 1, 2, 3), t3.bbbbbb, (4, 5, 0, 6, 7, 3), (1, 4, 5, 2, 6, 7)) * 6
    tmp1831 += np.transpose(tmp1830, (1, 2, 0, 4, 5, 3)) * -1
    del tmp1830
    tmp1833 += einsum(t1.bb, (0, 1), tmp1831, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * -0.16666666666666666
    tmp1833 += np.transpose(tmp1826, (1, 0, 3, 2)) * 0.16666666666666666
    tmp1827 = einsum(f.bb.ov, (0, 1), t3.bbbbbb, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp1833 += np.transpose(tmp1827, (1, 0, 3, 2))
    tmp1833 += einsum(tmp299, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 0, 4)) * 0.6666666666666666
    tmp1833 += einsum(t1.bb, (0, 1), tmp1832, (0, 2, 3, 4), (3, 2, 1, 4)) * 0.3333333333333333
    tmp2082 = einsum(t1.aa, (0, 1), tmp1829, (0, 2, 3, 1, 4, 5), (2, 3, 5, 4)) * -1
    tmp2082 += einsum(t1.bb, (0, 1), tmp1831, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * -1
    tmp2082 += np.transpose(tmp1827, (1, 0, 3, 2)) * 6
    tmp2082 += np.transpose(tmp1826, (1, 0, 3, 2))
    tmp2082 += einsum(tmp299, (0, 1), t2.bbbb, (2, 3, 4, 1), (2, 3, 0, 4)) * 4
    tmp2082 += einsum(t1.bb, (0, 1), tmp1832, (0, 2, 3, 4), (3, 2, 1, 4)) * 2
    del tmp1832
    tmp566 = einsum(tmp123, (0, 1, 2, 3), t3.aaaaaa, (4, 5, 0, 6, 7, 2), (4, 5, 1, 6, 7, 3))
    tmp567 = np.copy(tmp566) * -1
    del tmp566
    tmp567 += np.transpose(tmp544, (0, 1, 2, 4, 3, 5)) * -0.16666666666666666
    tmp722 = einsum(t1.aa, (0, 1), tmp567, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * -1.5
    tmp550 = np.copy(np.transpose(tmp548, (0, 1, 2, 4, 3, 5))) * -1
    del tmp548
    tmp549 = einsum(tmp4, (0, 1, 2, 3), t3.abaaba, (4, 0, 5, 6, 3, 7), (4, 5, 1, 6, 7, 2)) * 0.16666666666666666
    tmp550 += np.transpose(tmp549, (1, 0, 2, 4, 3, 5)) * -1
    del tmp549
    tmp722 += einsum(t1.bb, (0, 1), tmp550, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * -1.5
    tmp722 += np.transpose(tmp720, (1, 0, 2, 3))
    del tmp720
    tmp564 = einsum(f.aa.ov, (0, 1), t3.aaaaaa, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5))
    tmp722 += np.transpose(tmp564, (1, 0, 3, 2)) * 1.5
    tmp722 += np.transpose(tmp565, (1, 0, 3, 2)) * 0.25
    tmp722 += np.transpose(tmp721, (1, 0, 3, 2))
    del tmp721
    tmp2087 = einsum(t1.aa, (0, 1), tmp1829, (0, 2, 3, 1, 4, 5), (2, 3, 5, 4)) * -0.5
    tmp2087 += einsum(t1.bb, (0, 1), tmp1831, (2, 3, 0, 4, 5, 1), (2, 3, 5, 4)) * -0.5
    tmp2087 += np.transpose(tmp1887, (1, 0, 2, 3))
    tmp2087 += np.transpose(tmp1826, (1, 0, 3, 2)) * 0.5
    del tmp1826
    tmp2087 += np.transpose(tmp1827, (1, 0, 3, 2)) * 3
    del tmp1827
    tmp2087 += np.transpose(tmp1888, (1, 0, 3, 2))
    del tmp1888
    tmp568 = einsum(t1.aa, (0, 1), tmp567, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5)) * 6
    tmp572 = np.copy(np.transpose(tmp568, (0, 1, 3, 2))) * -1
    del tmp568
    tmp569 = einsum(t1.bb, (0, 1), tmp550, (2, 3, 0, 4, 5, 1), (2, 3, 4, 5)) * 6
    tmp572 += np.transpose(tmp569, (0, 1, 3, 2)) * -1
    del tmp569
    tmp570 = einsum(t1.aa, (0, 1), tmp529, (0, 2, 3, 4), (2, 3, 1, 4)) * 2
    del tmp529
    tmp572 += np.transpose(tmp570, (1, 0, 2, 3))
    del tmp570
    tmp572 += np.transpose(tmp564, (1, 0, 3, 2)) * 6
    del tmp564
    tmp572 += np.transpose(tmp565, (1, 0, 3, 2))
    del tmp565
    tmp571 = einsum(tmp136, (0, 1), t2.aaaa, (2, 3, 4, 1), (2, 3, 4, 0)) * -2
    tmp572 += np.transpose(tmp571, (1, 0, 3, 2))
    del tmp571

    return {"tmp1": tmp1, "tmp10": tmp10, "tmp1005": tmp1005, "tmp1009": tmp1009, "tmp101": tmp101, "tmp1011": tmp1011, "tmp1016": tmp1016, "tmp1019": tmp1019, "tmp1021": tmp1021, "tmp1026": tmp1026, "tmp1030": tmp1030, "tmp1031": tmp1031, "tmp1038": tmp1038, "tmp1040": tmp1040, "tmp1041": tmp1041, "tmp1045": tmp1045, "tmp1049": tmp1049, "tmp1051": tmp1051, "tmp1056": tmp1056, "tmp106": tmp106, "tmp1069": tmp1069, "tmp1070": tmp1070, "tmp1075": tmp1075, "tmp1077": tmp1077, "tmp108": tmp108, "tmp1085": tmp1085, "tmp1087": tmp1087, "tmp1097": tmp1097, "tmp11": tmp11, "tmp110": tmp110, "tmp1100": tmp1100, "tmp1101": tmp1101, "tmp1103": tmp1103, "tmp1107": tmp1107, "tmp1119": tmp1119, "tmp1120": tmp1120, "tmp1121": tmp1121, "tmp1122": tmp1122, "tmp1124": tmp1124, "tmp1125": tmp1125, "tmp1133": tmp1133, "tmp1134": tmp1134, "tmp1136": tmp1136, "tmp1137": tmp1137, "tmp114": tmp114, "tmp1142": tmp1142, "tmp1147": tmp1147, "tmp1149": tmp1149, "tmp115": tmp115, "tmp1158": tmp1158, "tmp1159": tmp1159, "tmp1160": tmp1160, "tmp1161": tmp1161, "tmp1163": tmp1163, "tmp1164": tmp1164, "tmp1172": tmp1172, "tmp1173": tmp1173, "tmp1176": tmp1176, "tmp1177": tmp1177, "tmp1181": tmp1181, "tmp1183": tmp1183, "tmp1189": tmp1189, "tmp1191": tmp1191, "tmp1198": tmp1198, "tmp120": tmp120, "tmp1206": tmp1206, "tmp1209": tmp1209, "tmp1210": tmp1210, "tmp1217": tmp1217, "tmp1222": tmp1222, "tmp1224": tmp1224, "tmp1225": tmp1225, "tmp1227": tmp1227, "tmp1228": tmp1228, "tmp1229": tmp1229, "tmp123": tmp123, "tmp1238": tmp1238, "tmp1243": tmp1243, "tmp1244": tmp1244, "tmp125": tmp125, "tmp1250": tmp1250, "tmp1251": tmp1251, "tmp1252": tmp1252, "tmp1253": tmp1253, "tmp1260": tmp1260, "tmp1262": tmp1262, "tmp1268": tmp1268, "tmp1269": tmp1269, "tmp1272": tmp1272, "tmp1277": tmp1277, "tmp1285": tmp1285, "tmp1287": tmp1287, "tmp129": tmp129, "tmp1290": tmp1290, "tmp1293": tmp1293, "tmp1302": tmp1302, "tmp1303": tmp1303, "tmp1320": tmp1320, "tmp1328": tmp1328, "tmp136": tmp136, "tmp1377": tmp1377, "tmp1386": tmp1386, "tmp1398": tmp1398, "tmp1414": tmp1414, "tmp1421": tmp1421, "tmp1428": tmp1428, "tmp1432": tmp1432, "tmp1436": tmp1436, "tmp1442": tmp1442, "tmp1445": tmp1445, "tmp1447": tmp1447, "tmp1459": tmp1459, "tmp147": tmp147, "tmp1473": tmp1473, "tmp1488": tmp1488, "tmp149": tmp149, "tmp1494": tmp1494, "tmp151": tmp151, "tmp153": tmp153, "tmp1533": tmp1533, "tmp1535": tmp1535, "tmp1555": tmp1555, "tmp1557": tmp1557, "tmp156": tmp156, "tmp1591": tmp1591, "tmp1595": tmp1595, "tmp16": tmp16, "tmp1606": tmp1606, "tmp1626": tmp1626, "tmp1640": tmp1640, "tmp1641": tmp1641, "tmp1644": tmp1644, "tmp1646": tmp1646, "tmp1648": tmp1648, "tmp1650": tmp1650, "tmp1651": tmp1651, "tmp1654": tmp1654, "tmp1659": tmp1659, "tmp1661": tmp1661, "tmp1663": tmp1663, "tmp1665": tmp1665, "tmp1669": tmp1669, "tmp167": tmp167, "tmp1673": tmp1673, "tmp1674": tmp1674, "tmp1676": tmp1676, "tmp1678": tmp1678, "tmp1679": tmp1679, "tmp1682": tmp1682, "tmp1689": tmp1689, "tmp169": tmp169, "tmp1697": tmp1697, "tmp1698": tmp1698, "tmp170": tmp170, "tmp1702": tmp1702, "tmp1707": tmp1707, "tmp1709": tmp1709, "tmp1711": tmp1711, "tmp1715": tmp1715, "tmp1717": tmp1717, "tmp1723": tmp1723, "tmp1726": tmp1726, "tmp1727": tmp1727, "tmp1728": tmp1728, "tmp1739": tmp1739, "tmp174": tmp174, "tmp1743": tmp1743, "tmp1751": tmp1751, "tmp1754": tmp1754, "tmp1755": tmp1755, "tmp1757": tmp1757, "tmp1763": tmp1763, "tmp1764": tmp1764, "tmp1768": tmp1768, "tmp1771": tmp1771, "tmp1772": tmp1772, "tmp1783": tmp1783, "tmp179": tmp179, "tmp1793": tmp1793, "tmp1794": tmp1794, "tmp1807": tmp1807, "tmp181": tmp181, "tmp1811": tmp1811, "tmp1815": tmp1815, "tmp1816": tmp1816, "tmp1819": tmp1819, "tmp1820": tmp1820, "tmp1828": tmp1828, "tmp1829": tmp1829, "tmp1831": tmp1831, "tmp1833": tmp1833, "tmp1835": tmp1835, "tmp1841": tmp1841, "tmp1848": tmp1848, "tmp185": tmp185, "tmp1851": tmp1851, "tmp1852": tmp1852, "tmp1857": tmp1857, "tmp1859": tmp1859, "tmp1860": tmp1860, "tmp1873": tmp1873, "tmp1875": tmp1875, "tmp1876": tmp1876, "tmp1884": tmp1884, "tmp1887": tmp1887, "tmp1889": tmp1889, "tmp1896": tmp1896, "tmp1903": tmp1903, "tmp191": tmp191, "tmp192": tmp192, "tmp1922": tmp1922, "tmp1927": tmp1927, "tmp1930": tmp1930, "tmp1934": tmp1934, "tmp1945": tmp1945, "tmp1963": tmp1963, "tmp1964": tmp1964, "tmp1969": tmp1969, "tmp198": tmp198, "tmp1999": tmp1999, "tmp2002": tmp2002, "tmp201": tmp201, "tmp2012": tmp2012, "tmp2024": tmp2024, "tmp2028": tmp2028, "tmp2029": tmp2029, "tmp2033": tmp2033, "tmp2035": tmp2035, "tmp2040": tmp2040, "tmp2047": tmp2047, "tmp2048": tmp2048, "tmp2055": tmp2055, "tmp2069": tmp2069, "tmp2071": tmp2071, "tmp2082": tmp2082, "tmp2087": tmp2087, "tmp2088": tmp2088, "tmp210": tmp210, "tmp2100": tmp2100, "tmp2101": tmp2101, "tmp211": tmp211, "tmp2113": tmp2113, "tmp2122": tmp2122, "tmp2123": tmp2123, "tmp2129": tmp2129, "tmp213": tmp213, "tmp2132": tmp2132, "tmp2133": tmp2133, "tmp219": tmp219, "tmp220": tmp220, "tmp223": tmp223, "tmp227": tmp227, "tmp23": tmp23, "tmp234": tmp234, "tmp244": tmp244, "tmp245": tmp245, "tmp249": tmp249, "tmp255": tmp255, "tmp259": tmp259, "tmp263": tmp263, "tmp270": tmp270, "tmp273": tmp273, "tmp274": tmp274, "tmp275": tmp275, "tmp277": tmp277, "tmp283": tmp283, "tmp286": tmp286, "tmp289": tmp289, "tmp29": tmp29, "tmp292": tmp292, "tmp299": tmp299, "tmp30": tmp30, "tmp301": tmp301, "tmp310": tmp310, "tmp311": tmp311, "tmp312": tmp312, "tmp325": tmp325, "tmp326": tmp326, "tmp328": tmp328, "tmp337": tmp337, "tmp338": tmp338, "tmp339": tmp339, "tmp340": tmp340, "tmp343": tmp343, "tmp345": tmp345, "tmp35": tmp35, "tmp359": tmp359, "tmp364": tmp364, "tmp370": tmp370, "tmp372": tmp372, "tmp375": tmp375, "tmp380": tmp380, "tmp394": tmp394, "tmp396": tmp396, "tmp4": tmp4, "tmp401": tmp401, "tmp407": tmp407, "tmp409": tmp409, "tmp413": tmp413, "tmp415": tmp415, "tmp416": tmp416, "tmp418": tmp418, "tmp419": tmp419, "tmp429": tmp429, "tmp43": tmp43, "tmp433": tmp433, "tmp435": tmp435, "tmp442": tmp442, "tmp445": tmp445, "tmp447": tmp447, "tmp45": tmp45, "tmp451": tmp451, "tmp453": tmp453, "tmp455": tmp455, "tmp456": tmp456, "tmp460": tmp460, "tmp464": tmp464, "tmp465": tmp465, "tmp47": tmp47, "tmp476": tmp476, "tmp48": tmp48, "tmp483": tmp483, "tmp489": tmp489, "tmp490": tmp490, "tmp494": tmp494, "tmp496": tmp496, "tmp505": tmp505, "tmp506": tmp506, "tmp508": tmp508, "tmp510": tmp510, "tmp511": tmp511, "tmp513": tmp513, "tmp52": tmp52, "tmp520": tmp520, "tmp530": tmp530, "tmp532": tmp532, "tmp544": tmp544, "tmp546": tmp546, "tmp550": tmp550, "tmp552": tmp552, "tmp554": tmp554, "tmp562": tmp562, "tmp567": tmp567, "tmp572": tmp572, "tmp577": tmp577, "tmp578": tmp578, "tmp58": tmp58, "tmp587": tmp587, "tmp595": tmp595, "tmp596": tmp596, "tmp60": tmp60, "tmp606": tmp606, "tmp608": tmp608, "tmp610": tmp610, "tmp622": tmp622, "tmp624": tmp624, "tmp625": tmp625, "tmp629": tmp629, "tmp633": tmp633, "tmp637": tmp637, "tmp638": tmp638, "tmp64": tmp64, "tmp642": tmp642, "tmp643": tmp643, "tmp644": tmp644, "tmp66": tmp66, "tmp660": tmp660, "tmp67": tmp67, "tmp672": tmp672, "tmp674": tmp674, "tmp68": tmp68, "tmp683": tmp683, "tmp69": tmp69, "tmp692": tmp692, "tmp694": tmp694, "tmp695": tmp695, "tmp710": tmp710, "tmp711": tmp711, "tmp714": tmp714, "tmp72": tmp72, "tmp722": tmp722, "tmp726": tmp726, "tmp732": tmp732, "tmp74": tmp74, "tmp746": tmp746, "tmp748": tmp748, "tmp761": tmp761, "tmp770": tmp770, "tmp773": tmp773, "tmp785": tmp785, "tmp794": tmp794, "tmp801": tmp801, "tmp831": tmp831, "tmp846": tmp846, "tmp856": tmp856, "tmp857": tmp857, "tmp865": tmp865, "tmp867": tmp867, "tmp869": tmp869, "tmp873": tmp873, "tmp878": tmp878, "tmp88": tmp88, "tmp880": tmp880, "tmp886": tmp886, "tmp888": tmp888, "tmp889": tmp889, "tmp899": tmp899, "tmp90": tmp90, "tmp900": tmp900, "tmp906": tmp906, "tmp907": tmp907, "tmp908": tmp908, "tmp914": tmp914, "tmp92": tmp92, "tmp922": tmp922, "tmp930": tmp930, "tmp933": tmp933, "tmp934": tmp934, "tmp941": tmp941, "tmp945": tmp945, "tmp957": tmp957, "tmp960": tmp960, "tmp97": tmp97, "tmp975": tmp975, "tmp976": tmp976, "tmp977": tmp977, "tmp978": tmp978, "tmp986": tmp986, "tmp988": tmp988, "tmp993": tmp993, "tmp997": tmp997, "tmp999": tmp999}

def hbar_matvec_ea(f=None, ints=None, r1=None, r2=None, r3=None, t1=None, t2=None, t3=None, v=None, **kwargs):
    """Code generated by `albert` 0.0.0.

    Args:
        f: 
        ints: 
        r1: 
        r2: 
        r3: 
        t1: 
        t2: 
        t3: 
        v: 

    Returns:
        r1new: 
        r2new: 
        r3new: 
    """

    tmp7 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovov, (3, 1, 2, 0), (3,)) * -1
    tmp9 = np.copy(tmp7) * 2
    tmp6 = einsum(r1.a, (0,), ints.tmp16, (1, 0), (1,))
    tmp9 += tmp6
    tmp8 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 1, 2, 0), (3,)) * -1
    tmp9 += tmp8
    r1new = Namespace()
    r1new.a = einsum(tmp9, (0,), t1.aa, (0, 1), (1,)) * -1
    r1new.a += einsum(f.aa.ov, (0, 1), r2.aaa, (2, 1, 0), (2,)) * 2
    tmp0 = einsum(r2.aaa, (0, 1, 2), ints.tmp1, (2, 3, 4, 1), (3, 4, 0))
    tmp2 = np.copy(tmp0) * 2
    tmp1 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 4, 2, 0), (3, 1, 4)) * -1
    tmp2 += np.transpose(tmp1, (0, 2, 1)) * -1
    r1new.a += einsum(t1.aa, (0, 1), tmp2, (0, 1, 2), (2,)) * -1
    r1new.a += einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 2, 0), (4,)) * 2
    r1new.a += einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 3, 1, 0, 2), (4,)) * -3
    tmp3 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovov, (2, 1, 3, 4), (3, 0, 4))
    tmp5 = np.copy(tmp3) * 2
    tmp4 = einsum(r2.bab, (0, 1, 2), ints.tmp4, (2, 3, 4, 0), (3, 1, 4)) * -1
    tmp5 += tmp4 * -1
    r1new.a += einsum(t1.bb, (0, 1), tmp5, (0, 2, 1), (2,))
    r1new.a += einsum(f.bb.ov, (0, 1), r2.bab, (1, 2, 0), (2,)) * -1
    r1new.a += einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (3, 4, 1, 0, 2), (4,))
    r1new.a += einsum(r1.a, (0,), ints.tmp11, (0, 1), (1,)) * -1
    r1new.a += einsum(r2.aaa, (0, 1, 2), v.aaaa.ovvv, (2, 0, 3, 1), (3,)) * -2
    r1new.a += einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 1, 2, 0), (3,)) * -1
    tmp11 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovov, (3, 4, 2, 1), (3, 4, 0))
    tmp12 = np.copy(tmp11) * 2
    tmp10 = einsum(r2.aba, (0, 1, 2), ints.tmp1, (2, 3, 4, 0), (3, 4, 1))
    tmp12 += tmp10
    del tmp10
    r1new.b = einsum(t1.aa, (0, 1), tmp12, (0, 1, 2), (2,))
    r1new.b += einsum(f.aa.ov, (0, 1), r2.aba, (1, 2, 0), (2,)) * -1
    r1new.b += einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (1, 3, 4, 0, 2), (4,))
    r1new.b += einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 3, 0, 2), (4,)) * 2
    tmp17 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (2, 0, 3, 1), (3,))
    tmp19 = np.copy(tmp17) * -1
    tmp18 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovov, (3, 1, 2, 0), (3,)) * -1
    tmp19 += tmp18 * 2
    tmp16 = einsum(r1.b, (0,), ints.tmp35, (1, 0), (1,))
    tmp19 += tmp16
    r1new.b += einsum(tmp19, (0,), t1.bb, (0, 1), (1,)) * -1
    tmp13 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (2, 0, 3, 4), (3, 1, 4))
    tmp15 = np.copy(tmp13) * -1
    tmp14 = einsum(r2.bbb, (0, 1, 2), ints.tmp23, (2, 3, 4, 1), (3, 4, 0))
    tmp15 += np.transpose(tmp14, (0, 2, 1)) * 2
    r1new.b += einsum(t1.bb, (0, 1), tmp15, (0, 2, 1), (2,))
    r1new.b += einsum(f.bb.ov, (0, 1), r2.bbb, (2, 1, 0), (2,)) * 2
    r1new.b += einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 1, 3, 0, 2), (4,)) * 3
    r1new.b += einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (2, 0, 3, 1), (3,)) * -1
    r1new.b += einsum(r1.b, (0,), ints.tmp30, (0, 1), (1,)) * -1
    r1new.b += einsum(r2.bbb, (0, 1, 2), v.bbbb.ovvv, (2, 0, 3, 1), (3,)) * -2
    tmp22 = einsum(r2.aaa, (0, 1, 2), ints.tmp43, (2, 3, 1, 4), (3, 4, 0))
    r2new = Namespace()
    r2new.aaa = np.copy(np.transpose(tmp22, (1, 2, 0))) * -2
    tmp23 = einsum(r1.a, (0,), v.aaaa.ooov, (1, 2, 3, 0), (1, 2, 3))
    tmp24 = einsum(t1.aa, (0, 1), tmp23, (2, 3, 0), (2, 3, 1))
    tmp25 = einsum(t1.aa, (0, 1), tmp24, (2, 0, 3), (2, 1, 3))
    del tmp24
    r2new.aaa += np.transpose(tmp25, (1, 2, 0)) * -1
    r2new.aaa += einsum(tmp9, (0,), t2.aaaa, (1, 0, 2, 3), (2, 3, 1)) * 2
    r2new.aaa += einsum(ints.tmp60, (0, 1), r2.aaa, (2, 3, 0), (2, 3, 1)) * -2
    r2new.aaa += einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 2, 1), (4, 5, 0)) * -2
    tmp20 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovov, (3, 0, 4, 1), (2, 3, 4))
    r2new.aaa += einsum(tmp20, (0, 1, 2), t2.aaaa, (2, 1, 3, 4), (3, 4, 0)) * -2
    r2new.aaa += einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 3, 2, 1), (4, 5, 0)) * 6
    r2new.aaa += einsum(r1.a, (0,), ints.tmp48, (1, 2, 0, 3), (2, 3, 1)) * 2
    r2new.aaa += np.transpose(tmp1, (2, 1, 0)) * -1
    tmp26 = einsum(r1.a, (0,), ints.tmp43, (1, 2, 0, 3), (1, 2, 3))
    tmp29 = np.copy(tmp26) * -0.5
    tmp28 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 4, 2, 0), (3, 4, 1)) * -1
    tmp29 += np.transpose(tmp28, (1, 0, 2)) * 0.5
    tmp27 = einsum(r2.aaa, (0, 1, 2), ints.tmp52, (2, 3, 4, 1), (3, 4, 0))
    tmp29 += np.transpose(tmp27, (1, 0, 2))
    tmp30 = einsum(t1.aa, (0, 1), tmp29, (0, 2, 3), (2, 1, 3)) * 2
    r2new.aaa += np.transpose(tmp30, (2, 1, 0)) * -1
    r2new.aaa += np.transpose(tmp25, (2, 1, 0))
    del tmp25
    r2new.aaa += einsum(r1.a, (0,), ints.tmp64, (1, 2), (0, 2, 1)) * -2
    tmp21 = einsum(t1.aa, (0, 1), tmp20, (2, 0, 3), (2, 3, 1)) * -1
    r2new.aaa += einsum(t1.aa, (0, 1), tmp21, (2, 0, 3), (1, 3, 2)) * 2
    del tmp21
    r2new.aaa += einsum(r1.a, (0,), ints.tmp66, (1, 2), (2, 0, 1)) * -1
    r2new.aaa += np.transpose(tmp1, (1, 2, 0))
    r2new.aaa += np.transpose(tmp30, (1, 2, 0))
    del tmp30
    r2new.aaa += np.transpose(tmp22, (2, 1, 0)) * 2
    del tmp22
    r2new.aaa += einsum(r1.a, (0,), ints.tmp67, (1, 2, 0, 3), (3, 2, 1))
    r2new.aaa += einsum(r1.a, (0,), ints.tmp66, (1, 2), (0, 2, 1))
    r2new.aaa += einsum(r1.a, (0,), ints.tmp64, (1, 2), (2, 0, 1)) * 2
    tmp31 = einsum(ints.tmp92, (0, 1), r2.aaa, (2, 0, 3), (3, 1, 2))
    r2new.aaa += np.transpose(tmp31, (1, 2, 0)) * -2
    tmp34 = einsum(r1.a, (0,), ints.tmp72, (1, 2, 0, 3), (1, 2, 3))
    tmp38 = np.copy(tmp34)
    del tmp34
    tmp35 = einsum(r1.a, (0,), ints.tmp74, (1, 2, 3, 0), (1, 2, 3))
    tmp36 = einsum(t1.aa, (0, 1), tmp35, (2, 3, 0), (2, 3, 1))
    tmp37 = einsum(t1.aa, (0, 1), tmp36, (2, 0, 3), (2, 1, 3))
    del tmp36
    tmp38 += tmp37
    del tmp37
    r2new.aaa += np.transpose(tmp38, (1, 2, 0))
    r2new.aaa += einsum(ints.tmp97, (0, 1), r2.aaa, (2, 3, 0), (2, 3, 1)) * -4
    tmp42 = einsum(ints.tmp1, (0, 1, 2, 3), r3.aaaaa, (4, 5, 3, 6, 0), (1, 6, 2, 4, 5))
    tmp44 = np.copy(np.transpose(tmp42, (0, 1, 2, 4, 3))) * -1
    tmp43 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 2, 6), (6, 0, 4, 5, 1))
    tmp44 += np.transpose(tmp43, (1, 0, 4, 3, 2)) * 0.3333333333333333
    r2new.aaa += einsum(t1.aa, (0, 1), tmp44, (0, 2, 1, 3, 4), (3, 4, 2)) * -6
    tmp39 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 1, 6, 0), (6, 2, 4, 5, 3))
    tmp41 = np.copy(np.transpose(tmp39, (0, 1, 3, 2, 4))) * -3
    tmp40 = einsum(ints.tmp4, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 0, 6), (6, 1, 4, 5, 2))
    tmp41 += np.transpose(tmp40, (0, 1, 3, 2, 4))
    r2new.aaa += einsum(t1.bb, (0, 1), tmp41, (2, 0, 3, 4, 1), (3, 4, 2)) * 2
    tmp45 = einsum(r2.aaa, (0, 1, 2), ints.tmp88, (2, 3, 1, 4), (3, 4, 0))
    tmp49 = np.copy(tmp45) * 2
    tmp47 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 3, 0, 2), (4, 5, 1))
    tmp49 += np.transpose(tmp47, (2, 1, 0)) * -6
    tmp48 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 2, 0), (4, 5, 1))
    tmp49 += np.transpose(tmp48, (2, 1, 0)) * -2
    tmp46 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 4, 2, 0), (1, 3, 4)) * -1
    tmp49 += np.transpose(tmp46, (2, 1, 0))
    r2new.aaa += einsum(t1.aa, (0, 1), tmp49, (1, 2, 3), (2, 3, 0)) * -1
    r2new.aaa += einsum(r2.aaa, (0, 1, 2), v.aaaa.vvvv, (3, 1, 4, 0), (3, 4, 2)) * -2
    tmp32 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 2, 5), (5, 4, 0))
    r2new.aaa += np.transpose(tmp32, (2, 1, 0)) * -2
    tmp33 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aaaaa, (4, 3, 1, 5, 0), (5, 4, 2)) * -1
    r2new.aaa += np.transpose(tmp33, (2, 1, 0)) * 6
    r2new.aaa += np.transpose(tmp38, (2, 1, 0)) * -1
    del tmp38
    tmp50 = einsum(r1.a, (0,), ints.tmp101, (1, 2, 0, 3), (1, 2, 3))
    tmp53 = np.copy(tmp50) * 0.5
    tmp51 = np.copy(tmp0)
    del tmp0
    tmp51 += np.transpose(tmp1, (0, 2, 1)) * -0.5
    del tmp1
    tmp52 = einsum(t1.aa, (0, 1), tmp51, (2, 1, 3), (0, 2, 3))
    tmp53 += tmp52 * -1
    del tmp52
    tmp54 = einsum(t1.aa, (0, 1), tmp53, (2, 0, 3), (2, 1, 3)) * 2
    r2new.aaa += np.transpose(tmp54, (2, 1, 0)) * -1
    r2new.aaa += einsum(r1.a, (0,), ints.tmp69, (1, 2, 3, 0), (3, 2, 1)) * -2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp110, (1, 2), (0, 2, 1)) * -2
    r2new.aaa += einsum(f.aa.ov, (0, 1), r3.aaaaa, (2, 3, 1, 4, 0), (2, 3, 4)) * 6
    r2new.aaa += einsum(f.bb.ov, (0, 1), r3.ababa, (2, 1, 3, 0, 4), (2, 3, 4)) * 2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp114, (1, 2), (2, 0, 1)) * -1
    r2new.aaa += np.transpose(tmp32, (1, 2, 0)) * 2
    del tmp32
    r2new.aaa += np.transpose(tmp33, (1, 2, 0)) * -6
    del tmp33
    r2new.aaa += np.transpose(tmp54, (1, 2, 0))
    del tmp54
    r2new.aaa += np.transpose(tmp31, (2, 1, 0)) * 2
    del tmp31
    tmp55 = einsum(r2.aaa, (0, 1, 2), ints.tmp115, (2, 3, 1, 4), (3, 4, 0))
    tmp56 = np.copy(tmp55)
    tmp56 += np.transpose(tmp46, (2, 1, 0)) * -0.5
    r2new.aaa += einsum(t1.aa, (0, 1), tmp56, (1, 2, 3), (3, 2, 0)) * -2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp114, (1, 2), (0, 2, 1))
    r2new.aaa += einsum(r1.a, (0,), ints.tmp110, (1, 2), (2, 0, 1)) * 2
    tmp57 = einsum(ints.tmp136, (0, 1), r2.aaa, (2, 1, 3), (3, 0, 2))
    r2new.aaa += np.transpose(tmp57, (1, 2, 0)) * 2
    tmp58 = einsum(r2.bab, (0, 1, 2), ints.tmp120, (3, 2, 4, 0), (3, 4, 1)) * -1
    r2new.aaa += np.transpose(tmp58, (1, 2, 0)) * -1
    tmp59 = einsum(r2.aaa, (0, 1, 2), ints.tmp125, (3, 2, 4, 1), (3, 4, 0))
    r2new.aaa += np.transpose(tmp59, (1, 2, 0)) * -4
    tmp60 = einsum(r1.a, (0,), ints.tmp125, (1, 2, 3, 0), (1, 2, 3))
    tmp61 = einsum(t1.aa, (0, 1), tmp60, (2, 0, 3), (2, 3, 1))
    r2new.aaa += np.transpose(tmp61, (1, 2, 0)) * 2
    tmp62 = einsum(ints.tmp16, (0, 1), r2.aaa, (2, 1, 3), (0, 3, 2))
    tmp66 = np.copy(tmp62) * 0.3333333333333333
    tmp63 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovvv, (3, 0, 4, 1), (2, 3, 4))
    tmp66 += np.transpose(tmp63, (1, 0, 2)) * -0.3333333333333333
    tmp65 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 2, 5), (5, 0, 4))
    tmp66 += np.transpose(tmp65, (1, 0, 2)) * 0.3333333333333333
    tmp64 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 1, 3, 5, 2), (5, 0, 4))
    tmp66 += np.transpose(tmp64, (1, 0, 2))
    tmp67 = einsum(t1.aa, (0, 1), tmp66, (0, 2, 3), (2, 1, 3)) * 6
    r2new.aaa += np.transpose(tmp67, (1, 2, 0))
    r2new.aaa += einsum(r1.a, (0,), ints.tmp129, (1, 2, 0, 3), (2, 3, 1)) * -2
    r2new.aaa += einsum(r1.a, (0,), ints.tmp149, (1, 2), (2, 0, 1)) * -1
    r2new.aaa += np.transpose(tmp57, (2, 1, 0)) * -2
    del tmp57
    r2new.aaa += np.transpose(tmp59, (2, 1, 0)) * 4
    del tmp59
    r2new.aaa += np.transpose(tmp61, (2, 1, 0)) * -2
    del tmp61
    r2new.aaa += np.transpose(tmp67, (2, 1, 0)) * -1
    del tmp67
    r2new.aaa += np.transpose(tmp58, (2, 1, 0))
    del tmp58
    r2new.aaa += einsum(r1.a, (0,), ints.tmp151, (1, 2, 0, 3), (3, 2, 1))
    r2new.aaa += einsum(r1.a, (0,), ints.tmp149, (1, 2), (0, 2, 1))
    r2new.bab = np.copy(np.transpose(tmp3, (2, 1, 0))) * -2
    r2new.bab += einsum(r1.a, (0,), ints.tmp223, (1, 2, 0, 3), (3, 2, 1))
    r2new.bab += einsum(r1.a, (0,), ints.tmp234, (1, 2), (2, 0, 1)) * -1
    tmp109 = einsum(r1.a, (0,), v.aabb.ovoo, (1, 0, 2, 3), (1, 2, 3))
    tmp111 = np.copy(np.transpose(tmp109, (0, 2, 1)))
    tmp110 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 1, 4, 0), (3, 2, 4)) * -1
    tmp111 += np.transpose(tmp110, (0, 2, 1))
    tmp112 = einsum(t1.bb, (0, 1), tmp111, (2, 0, 3), (2, 3, 1))
    tmp108 = einsum(r2.bab, (0, 1, 2), v.aabb.ovoo, (3, 1, 4, 2), (3, 4, 0)) * -1
    tmp112 += tmp108
    tmp112 += einsum(r1.a, (0,), v.aabb.ovov, (1, 0, 2, 3), (1, 2, 3)) * -1
    r2new.bab += einsum(t1.aa, (0, 1), tmp112, (0, 2, 3), (3, 1, 2)) * -1
    del tmp112
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp220, (2, 3, 0, 4), (4, 1, 3))
    r2new.bab += einsum(ints.tmp227, (0, 1), r2.bab, (2, 3, 0), (2, 3, 1)) * -1
    r2new.bab += einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 2, 1), (4, 5, 0)) * 2
    tmp113 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 6, 2), (0, 6, 5, 1, 4)) * -1
    r2new.bab += einsum(t1.aa, (0, 1), tmp113, (0, 2, 3, 1, 4), (4, 3, 2)) * -2
    tmp114 = einsum(ints.tmp4, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 6, 0), (1, 6, 5, 2, 4)) * -1
    r2new.bab += einsum(t1.bb, (0, 1), tmp114, (0, 2, 3, 1, 4), (4, 3, 2)) * 2
    tmp116 = einsum(r2.bab, (0, 1, 2), ints.tmp179, (2, 3, 0, 4), (1, 3, 4)) * -1
    tmp118 = np.copy(tmp116) * 0.5
    del tmp116
    tmp115 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovvv, (2, 1, 3, 4), (0, 3, 4))
    tmp118 += np.transpose(tmp115, (0, 2, 1)) * -1
    tmp117 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 0, 2), (5, 4, 1)) * -1
    tmp118 += np.transpose(tmp117, (0, 2, 1))
    r2new.bab += einsum(t1.bb, (0, 1), tmp118, (2, 1, 3), (3, 2, 0)) * 2
    r2new.bab += einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 0), (2, 4, 5)) * -2
    r2new.bab += einsum(f.bb.ov, (0, 1), r3.babbb, (2, 3, 1, 4, 0), (2, 3, 4)) * 2
    r2new.bab += einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.babbb, (1, 4, 3, 5, 0), (2, 4, 5)) * -2
    r2new.bab += einsum(ints.tmp181, (0, 1), r2.bab, (0, 2, 3), (1, 2, 3))
    r2new.bab += einsum(r1.a, (0,), ints.tmp255, (1, 2), (2, 0, 1)) * -2
    tmp120 = einsum(r1.a, (0,), ints.tmp249, (1, 2, 3, 0), (1, 2, 3))
    tmp123 = einsum(t1.bb, (0, 1), tmp120, (2, 3, 0), (2, 3, 1))
    tmp119 = einsum(r1.a, (0,), ints.tmp245, (1, 2, 0, 3), (1, 2, 3))
    tmp123 += tmp119 * -1
    tmp121 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 1, 2, 4), (3, 0, 4)) * -1
    tmp122 = einsum(t1.bb, (0, 1), tmp121, (2, 3, 1), (2, 0, 3))
    tmp123 += tmp122
    r2new.bab += einsum(t1.aa, (0, 1), tmp123, (0, 2, 3), (3, 1, 2)) * -1
    del tmp123
    r2new.bab += einsum(ints.tmp244, (0, 1), r2.bab, (2, 3, 0), (2, 3, 1)) * -1
    tmp125 = einsum(ints.tmp123, (0, 1, 2, 3), r3.ababa, (4, 5, 3, 6, 0), (1, 6, 2, 4, 5))
    r2new.bab += einsum(t1.aa, (0, 1), tmp125, (0, 2, 1, 3, 4), (4, 3, 2)) * -2
    tmp124 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 6, 0), (6, 2, 4, 5, 3))
    r2new.bab += einsum(t1.bb, (0, 1), tmp124, (2, 0, 3, 4, 1), (4, 3, 2)) * -2
    r2new.bab += einsum(r1.a, (0,), ints.tmp259, (1, 0, 2, 3), (3, 2, 1)) * -1
    tmp126 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 1, 2, 4), (3, 0, 4)) * -1
    tmp128 = np.copy(tmp126) * 0.5
    tmp127 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 2, 0), (4, 5, 3))
    tmp128 += tmp127
    r2new.bab += einsum(t1.bb, (0, 1), tmp128, (2, 3, 1), (3, 2, 0)) * 2
    r2new.bab += einsum(r2.bab, (0, 1, 2), v.aabb.vvvv, (3, 1, 4, 0), (4, 3, 2))
    r2new.bab += einsum(r1.a, (0,), ints.tmp273, (1, 2), (2, 0, 1))
    r2new.bab += einsum(f.aa.ov, (0, 1), r3.ababa, (2, 3, 1, 4, 0), (3, 2, 4)) * -2
    r2new.bab += einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.ababa, (1, 4, 3, 5, 0), (4, 2, 5)) * 2
    r2new.bab += einsum(ints.tmp92, (0, 1), r2.bab, (2, 0, 3), (2, 1, 3))
    r2new.bab += einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 2), (4, 0, 5)) * 2
    tmp129 = einsum(r1.a, (0,), ints.tmp263, (1, 2, 3, 0), (1, 2, 3))
    tmp132 = np.copy(tmp129)
    tmp130 = np.copy(tmp4) * -0.5
    del tmp4
    tmp130 += tmp3
    del tmp3
    tmp131 = einsum(t1.bb, (0, 1), tmp130, (2, 3, 1), (0, 2, 3)) * 2
    tmp132 += tmp131
    r2new.bab += einsum(t1.bb, (0, 1), tmp132, (2, 0, 3), (1, 3, 2))
    tmp133 = np.copy(tmp6) * 0.5
    del tmp6
    tmp133 += tmp8 * 0.5
    del tmp8
    tmp133 += tmp7
    del tmp7
    r2new.bab += einsum(tmp133, (0,), t2.abab, (0, 1, 2, 3), (3, 2, 1)) * 2
    r2new.bab += einsum(tmp110, (0, 1, 2), t2.abab, (0, 2, 3, 4), (4, 3, 1)) * -1
    r2new.bab += einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 3, 0), (5, 4, 2)) * 2
    r2new.bab += einsum(r1.a, (0,), ints.tmp275, (1, 2, 0, 3), (3, 2, 1))
    r2new.bab += einsum(r1.a, (0,), ints.tmp283, (1, 2), (2, 0, 1))
    tmp135 = einsum(r2.bab, (0, 1, 2), ints.tmp277, (2, 3, 4, 0), (3, 4, 1)) * -1
    tmp136 = np.copy(np.transpose(tmp135, (1, 0, 2))) * 0.5
    tmp134 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovoo, (2, 1, 3, 4), (3, 4, 0))
    tmp136 += np.transpose(tmp134, (1, 0, 2))
    r2new.bab += einsum(t1.bb, (0, 1), tmp136, (0, 2, 3), (1, 3, 2)) * 2
    r2new.bab += einsum(r1.a, (0,), ints.tmp292, (1, 0, 2, 3), (3, 2, 1)) * -1
    r2new.bab += einsum(r2.bab, (0, 1, 2), v.aabb.vvoo, (3, 1, 4, 2), (0, 3, 4)) * -1
    r2new.bab += einsum(ints.tmp299, (0, 1), r2.bab, (1, 2, 3), (0, 2, 3)) * -2
    r2new.bab += einsum(r1.a, (0,), ints.tmp310, (1, 2), (2, 0, 1)) * -1
    tmp137 = einsum(r1.a, (0,), ints.tmp301, (1, 2, 0, 3), (1, 2, 3))
    r2new.bab += einsum(t1.aa, (0, 1), tmp137, (0, 2, 3), (3, 1, 2))
    del tmp137
    r2new.bab += einsum(r2.aaa, (0, 1, 2), ints.tmp289, (2, 3, 1, 4), (4, 0, 3)) * -4
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp286, (3, 2, 4, 0), (4, 1, 3))
    tmp139 = einsum(ints.tmp35, (0, 1), r2.bab, (1, 2, 3), (0, 3, 2)) * -1
    tmp143 = np.copy(tmp139)
    tmp141 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 0), (5, 2, 4))
    tmp143 += np.transpose(tmp141, (1, 0, 2)) * 2
    tmp142 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (3, 4, 1, 5, 2), (5, 0, 4))
    tmp143 += np.transpose(tmp142, (1, 0, 2)) * 2
    tmp138 = einsum(r1.a, (0,), v.aabb.vvoo, (1, 0, 2, 3), (2, 3, 1))
    tmp143 += np.transpose(tmp138, (1, 0, 2))
    tmp140 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 1, 4, 0), (2, 4, 3)) * -1
    tmp143 += np.transpose(tmp140, (1, 0, 2))
    r2new.bab += einsum(t1.bb, (0, 1), tmp143, (0, 2, 3), (1, 3, 2))
    r2new.bab += einsum(r1.a, (0,), ints.tmp311, (1, 2, 0, 3), (3, 2, 1))
    tmp147 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.ababa, (3, 4, 1, 5, 2), (0, 5, 4)) * -1
    tmp149 = np.copy(tmp147) * 2
    tmp148 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 2), (0, 5, 4)) * -1
    tmp149 += tmp148 * 2
    tmp145 = einsum(ints.tmp16, (0, 1), r2.bab, (2, 1, 3), (0, 3, 2)) * -1
    tmp149 += tmp145
    tmp146 = einsum(r2.bab, (0, 1, 2), v.aabb.ovvv, (3, 1, 4, 0), (3, 2, 4)) * -1
    tmp149 += tmp146
    r2new.bab += einsum(t1.aa, (0, 1), tmp149, (0, 2, 3), (3, 1, 2))
    r2new.bab += einsum(ints.tmp108, (0, 1), r2.bab, (2, 1, 3), (2, 0, 3)) * -2
    tmp144 = einsum(r1.a, (0,), ints.tmp312, (1, 2, 3, 0), (1, 2, 3))
    r2new.bab += einsum(t1.bb, (0, 1), tmp144, (2, 0, 3), (1, 3, 2)) * -1
    r2new.bab += einsum(r2.bab, (0, 1, 2), ints.tmp312, (3, 2, 4, 1), (0, 4, 3))
    r2new.aba = np.copy(np.transpose(tmp11, (1, 2, 0))) * -2
    del tmp11
    r2new.aba += einsum(ints.tmp60, (0, 1), r2.aba, (2, 3, 0), (2, 3, 1)) * -1
    tmp68 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (3, 0, 4, 1), (2, 3, 4))
    r2new.aba += einsum(tmp68, (0, 1, 2), t2.abab, (1, 2, 3, 4), (3, 4, 0))
    r2new.aba += einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aabaa, (4, 3, 5, 2, 1), (4, 5, 0)) * -2
    r2new.aba += einsum(tmp19, (0,), t2.abab, (1, 0, 2, 3), (2, 3, 1))
    r2new.aba += einsum(r1.b, (0,), ints.tmp156, (1, 2, 0, 3), (2, 3, 1)) * -1
    r2new.aba += einsum(r1.b, (0,), ints.tmp66, (1, 2), (2, 0, 1)) * -1
    tmp69 = einsum(r2.aba, (0, 1, 2), v.aabb.ooov, (3, 2, 4, 1), (3, 4, 0))
    tmp72 = np.copy(tmp69)
    tmp72 += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 0), (1, 3, 2))
    tmp71 = np.copy(np.transpose(tmp68, (1, 0, 2))) * -1
    tmp70 = einsum(r1.b, (0,), v.aabb.ooov, (1, 2, 3, 0), (1, 2, 3))
    tmp71 += np.transpose(tmp70, (1, 0, 2))
    tmp72 += einsum(t1.aa, (0, 1), tmp71, (0, 2, 3), (2, 3, 1)) * -1
    r2new.aba += einsum(t1.bb, (0, 1), tmp72, (2, 0, 3), (3, 1, 2))
    del tmp72
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp43, (2, 3, 0, 4), (4, 1, 3))
    r2new.aba += einsum(f.aa.ov, (0, 1), r3.aabaa, (2, 1, 3, 4, 0), (2, 3, 4)) * -2
    r2new.aba += einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aabaa, (1, 3, 4, 5, 0), (2, 4, 5)) * 2
    r2new.aba += einsum(ints.tmp92, (0, 1), r2.aba, (0, 2, 3), (1, 2, 3))
    r2new.aba += einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 2), (0, 4, 5)) * -2
    r2new.aba += einsum(ints.tmp106, (0, 1), r2.aba, (2, 3, 0), (2, 3, 1)) * -1
    tmp74 = einsum(ints.tmp1, (0, 1, 2, 3), r3.aabaa, (4, 2, 5, 6, 0), (1, 6, 3, 4, 5))
    r2new.aba += einsum(t1.aa, (0, 1), tmp74, (0, 2, 1, 3, 4), (3, 4, 2)) * -2
    tmp73 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 1, 5, 6, 0), (6, 2, 4, 5, 3))
    r2new.aba += einsum(t1.bb, (0, 1), tmp73, (2, 0, 3, 4, 1), (3, 4, 2)) * -2
    tmp77 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (4, 3, 5, 0, 2), (4, 1, 5))
    tmp78 = np.copy(tmp77) * -2
    tmp75 = einsum(r2.aba, (0, 1, 2), ints.tmp90, (2, 0, 3, 4), (3, 4, 1))
    tmp78 += tmp75
    tmp76 = einsum(r2.bbb, (0, 1, 2), v.aabb.vvov, (3, 4, 2, 1), (3, 4, 0))
    tmp78 += np.transpose(tmp76, (1, 0, 2)) * 2
    r2new.aba += einsum(t1.aa, (0, 1), tmp78, (2, 1, 3), (2, 3, 0)) * -1
    r2new.aba += einsum(r2.aba, (0, 1, 2), v.aabb.vvvv, (3, 0, 4, 1), (3, 4, 2))
    r2new.aba += einsum(r1.b, (0,), ints.tmp169, (1, 2, 0, 3), (2, 3, 1)) * -1
    r2new.aba += einsum(r1.b, (0,), ints.tmp114, (1, 2), (2, 0, 1)) * -1
    tmp79 = einsum(r1.b, (0,), ints.tmp170, (1, 2, 3, 0), (1, 2, 3))
    tmp83 = np.copy(tmp79)
    tmp81 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (2, 3, 4, 1), (4, 0, 3))
    tmp82 = einsum(t1.aa, (0, 1), tmp81, (2, 3, 1), (0, 2, 3))
    tmp83 += tmp82
    tmp80 = einsum(r1.b, (0,), ints.tmp174, (1, 2, 3, 0), (1, 2, 3))
    tmp83 += einsum(t1.aa, (0, 1), tmp80, (2, 0, 3), (2, 3, 1)) * -1
    r2new.aba += einsum(t1.bb, (0, 1), tmp83, (2, 0, 3), (3, 1, 2))
    del tmp83
    tmp84 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 6, 2), (6, 0, 5, 1, 4)) * -1
    r2new.aba += einsum(t1.aa, (0, 1), tmp84, (2, 0, 3, 1, 4), (3, 4, 2)) * 2
    tmp85 = einsum(ints.tmp4, (0, 1, 2, 3), r3.babab, (4, 5, 3, 6, 0), (6, 1, 5, 2, 4)) * -1
    r2new.aba += einsum(t1.bb, (0, 1), tmp85, (2, 0, 3, 1, 4), (3, 4, 2)) * -2
    tmp87 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 0, 2), (5, 1, 4)) * -1
    tmp88 = np.copy(tmp87) * 2
    tmp86 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (2, 3, 4, 1), (0, 3, 4))
    tmp88 += tmp86
    r2new.aba += einsum(t1.aa, (0, 1), tmp88, (2, 1, 3), (2, 3, 0)) * -1
    tmp89 = einsum(r1.b, (0,), ints.tmp185, (1, 2, 3, 0), (1, 2, 3))
    tmp91 = np.copy(tmp89) * 0.5
    tmp90 = einsum(t1.aa, (0, 1), tmp12, (2, 1, 3), (0, 2, 3)) * 0.5
    tmp91 += tmp90
    del tmp90
    r2new.aba += einsum(t1.aa, (0, 1), tmp91, (2, 0, 3), (1, 3, 2)) * 2
    r2new.aba += einsum(r1.b, (0,), ints.tmp191, (1, 2), (2, 0, 1))
    r2new.aba += einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 0), (4, 2, 5)) * -2
    r2new.aba += einsum(f.bb.ov, (0, 1), r3.babab, (2, 3, 1, 4, 0), (3, 2, 4)) * -2
    r2new.aba += einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.babab, (1, 4, 3, 5, 0), (4, 2, 5)) * 2
    r2new.aba += einsum(ints.tmp181, (0, 1), r2.aba, (2, 0, 3), (2, 1, 3))
    r2new.aba += einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 1, 2), (5, 4, 0)) * 2
    r2new.aba += einsum(r1.b, (0,), ints.tmp192, (1, 2, 3, 0), (2, 3, 1))
    tmp94 = einsum(r2.bbb, (0, 1, 2), v.aabb.ooov, (3, 4, 2, 1), (3, 4, 0))
    tmp95 = np.copy(np.transpose(tmp94, (1, 0, 2))) * 2
    tmp92 = einsum(r1.b, (0,), v.aabb.oovv, (1, 2, 3, 0), (1, 2, 3))
    tmp95 += np.transpose(tmp92, (1, 0, 2))
    tmp93 = einsum(r2.aba, (0, 1, 2), ints.tmp58, (3, 4, 2, 0), (3, 4, 1))
    tmp95 += np.transpose(tmp93, (1, 0, 2))
    r2new.aba += einsum(t1.aa, (0, 1), tmp95, (0, 2, 3), (1, 3, 2))
    r2new.aba += einsum(r2.aba, (0, 1, 2), v.aabb.oovv, (3, 2, 4, 1), (0, 4, 3)) * -1
    r2new.aba += einsum(r1.b, (0,), ints.tmp64, (1, 2), (2, 0, 1)) * 2
    r2new.aba += einsum(ints.tmp108, (0, 1), r2.aba, (1, 2, 3), (0, 2, 3)) * -2
    r2new.aba += einsum(r1.b, (0,), ints.tmp201, (1, 2, 0, 3), (2, 3, 1)) * -2
    tmp97 = einsum(ints.tmp16, (0, 1), r2.aba, (1, 2, 3), (0, 3, 2))
    tmp101 = np.copy(tmp97) * 0.5
    tmp98 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (3, 0, 4, 1), (2, 3, 4))
    tmp101 += np.transpose(tmp98, (1, 0, 2)) * 0.5
    tmp99 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (3, 1, 4, 5, 2), (5, 0, 4)) * -1
    tmp101 += np.transpose(tmp99, (1, 0, 2)) * -1
    tmp100 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 2), (5, 0, 4)) * -1
    tmp101 += np.transpose(tmp100, (1, 0, 2))
    r2new.aba += einsum(t1.aa, (0, 1), tmp101, (0, 2, 3), (1, 3, 2)) * -2
    r2new.aba += einsum(r1.b, (0,), ints.tmp210, (1, 2), (2, 0, 1)) * -2
    tmp96 = einsum(r1.b, (0,), ints.tmp147, (1, 2, 3, 0), (1, 2, 3))
    r2new.aba += einsum(t1.bb, (0, 1), tmp96, (2, 0, 3), (3, 1, 2)) * 2
    del tmp96
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp198, (3, 2, 4, 0), (4, 1, 3))
    r2new.aba += einsum(r2.bbb, (0, 1, 2), ints.tmp147, (3, 2, 4, 1), (4, 0, 3)) * -4
    r2new.aba += einsum(r1.b, (0,), ints.tmp213, (1, 2, 3, 0), (2, 3, 1))
    tmp102 = einsum(r1.b, (0,), ints.tmp211, (1, 2, 3, 0), (1, 2, 3))
    r2new.aba += einsum(t1.aa, (0, 1), tmp102, (2, 0, 3), (1, 3, 2)) * -1
    r2new.aba += einsum(r2.aba, (0, 1, 2), ints.tmp211, (3, 2, 4, 1), (0, 4, 3))
    tmp103 = einsum(ints.tmp35, (0, 1), r2.aba, (2, 1, 3), (3, 0, 2))
    tmp107 = np.copy(tmp103) * 0.5
    tmp104 = einsum(r2.aba, (0, 1, 2), v.aabb.vvov, (3, 0, 4, 1), (2, 4, 3))
    tmp107 += tmp104 * 0.5
    tmp105 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 0), (5, 2, 4))
    tmp107 += tmp105 * -1
    tmp106 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babab, (3, 4, 1, 5, 2), (5, 0, 4))
    tmp107 += tmp106
    r2new.aba += einsum(t1.bb, (0, 1), tmp107, (2, 0, 3), (3, 1, 2)) * -2
    r2new.aba += einsum(ints.tmp219, (0, 1), r2.aba, (2, 1, 3), (2, 0, 3)) * -1
    tmp152 = einsum(r2.bbb, (0, 1, 2), ints.tmp220, (2, 3, 1, 4), (3, 4, 0))
    r2new.bbb = np.copy(np.transpose(tmp152, (1, 2, 0))) * -2
    tmp153 = einsum(r1.b, (0,), v.bbbb.ooov, (1, 2, 3, 0), (1, 2, 3))
    tmp154 = einsum(t1.bb, (0, 1), tmp153, (2, 3, 0), (2, 3, 1))
    tmp155 = einsum(t1.bb, (0, 1), tmp154, (2, 0, 3), (2, 1, 3))
    del tmp154
    r2new.bbb += np.transpose(tmp155, (1, 2, 0)) * -1
    r2new.bbb += einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 1, 5, 0, 3), (4, 5, 2)) * -2
    r2new.bbb += einsum(tmp19, (0,), t2.bbbb, (1, 0, 2, 3), (2, 3, 1)) * 2
    r2new.bbb += einsum(ints.tmp227, (0, 1), r2.bbb, (2, 3, 0), (2, 3, 1)) * -2
    tmp150 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovov, (3, 1, 4, 0), (2, 3, 4)) * -1
    r2new.bbb += einsum(tmp150, (0, 1, 2), t2.bbbb, (2, 1, 3, 4), (3, 4, 0)) * -2
    r2new.bbb += einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 3, 2, 1), (4, 5, 0)) * 6
    r2new.bbb += einsum(r1.b, (0,), ints.tmp328, (1, 2, 0, 3), (2, 3, 1)) * 6
    r2new.bbb += np.transpose(tmp13, (2, 1, 0))
    r2new.bbb += np.transpose(tmp155, (2, 1, 0))
    del tmp155
    tmp156 = einsum(r1.b, (0,), ints.tmp220, (1, 2, 0, 3), (1, 2, 3))
    tmp159 = np.copy(tmp156) * 0.5
    tmp158 = einsum(r2.bbb, (0, 1, 2), ints.tmp277, (3, 4, 2, 1), (3, 4, 0))
    tmp159 += tmp158
    tmp157 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (2, 0, 3, 4), (3, 4, 1))
    tmp159 += np.transpose(tmp157, (1, 0, 2)) * 0.5
    tmp160 = einsum(t1.bb, (0, 1), tmp159, (0, 2, 3), (2, 1, 3)) * 2
    r2new.bbb += np.transpose(tmp160, (2, 1, 0))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp337, (1, 2), (0, 2, 1)) * -2
    tmp151 = einsum(t1.bb, (0, 1), tmp150, (2, 0, 3), (2, 3, 1)) * -1
    r2new.bbb += einsum(t1.bb, (0, 1), tmp151, (2, 0, 3), (1, 3, 2)) * 2
    del tmp151
    r2new.bbb += einsum(r1.b, (0,), ints.tmp234, (1, 2), (2, 0, 1)) * -1
    r2new.bbb += np.transpose(tmp13, (1, 2, 0)) * -1
    r2new.bbb += np.transpose(tmp160, (1, 2, 0)) * -1
    del tmp160
    r2new.bbb += np.transpose(tmp152, (2, 1, 0)) * 2
    del tmp152
    r2new.bbb += einsum(r1.b, (0,), ints.tmp338, (1, 2, 0, 3), (3, 2, 1))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp234, (1, 2), (0, 2, 1))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp337, (1, 2), (2, 0, 1)) * 2
    tmp161 = einsum(ints.tmp181, (0, 1), r2.bbb, (2, 0, 3), (3, 1, 2))
    r2new.bbb += np.transpose(tmp161, (1, 2, 0)) * -2
    tmp164 = einsum(r1.b, (0,), ints.tmp343, (1, 2, 0, 3), (1, 2, 3))
    tmp168 = np.copy(tmp164)
    del tmp164
    tmp165 = einsum(r1.b, (0,), ints.tmp345, (1, 2, 3, 0), (1, 2, 3))
    tmp166 = einsum(t1.bb, (0, 1), tmp165, (2, 3, 0), (2, 3, 1))
    tmp167 = einsum(t1.bb, (0, 1), tmp166, (2, 0, 3), (2, 1, 3))
    del tmp166
    tmp168 += tmp167
    del tmp167
    r2new.bbb += np.transpose(tmp168, (1, 2, 0))
    tmp169 = einsum(ints.tmp1, (0, 1, 2, 3), r3.babab, (4, 3, 5, 0, 6), (1, 6, 2, 4, 5)) * -1
    tmp171 = np.copy(np.transpose(tmp169, (0, 1, 2, 4, 3))) * -0.3333333333333333
    tmp170 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 3, 6, 2), (0, 6, 1, 4, 5))
    tmp171 += np.transpose(tmp170, (0, 1, 2, 4, 3)) * -1
    r2new.bbb += einsum(t1.aa, (0, 1), tmp171, (0, 2, 1, 3, 4), (3, 4, 2)) * 6
    r2new.bbb += einsum(ints.tmp270, (0, 1), r2.bbb, (2, 3, 0), (2, 3, 1)) * -4
    tmp172 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 5, 0, 6), (6, 2, 4, 5, 3)) * -1
    tmp174 = np.copy(np.transpose(tmp172, (0, 1, 3, 2, 4))) * 0.3333333333333333
    tmp173 = einsum(ints.tmp4, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 0), (1, 6, 3, 4, 5))
    tmp174 += np.transpose(tmp173, (1, 0, 4, 3, 2)) * -1
    r2new.bbb += einsum(t1.bb, (0, 1), tmp174, (2, 0, 3, 4, 1), (3, 4, 2)) * 6
    r2new.bbb += einsum(r2.bbb, (0, 1, 2), v.bbbb.vvvv, (3, 0, 4, 1), (3, 4, 2)) * 2
    tmp162 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 1, 3, 0, 5), (5, 4, 2)) * -1
    r2new.bbb += np.transpose(tmp162, (2, 1, 0)) * 2
    tmp163 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.bbbbb, (4, 3, 1, 5, 0), (5, 4, 2)) * -1
    r2new.bbb += np.transpose(tmp163, (2, 1, 0)) * 6
    r2new.bbb += np.transpose(tmp168, (2, 1, 0)) * -1
    del tmp168
    tmp180 = einsum(r1.b, (0,), ints.tmp364, (1, 2, 0, 3), (1, 2, 3))
    tmp183 = np.copy(tmp180) * 0.5
    tmp181 = np.copy(tmp14) * 2
    del tmp14
    tmp181 += np.transpose(tmp13, (0, 2, 1)) * -1
    del tmp13
    tmp182 = einsum(t1.bb, (0, 1), tmp181, (2, 1, 3), (0, 2, 3)) * 0.5
    tmp183 += tmp182
    del tmp182
    tmp184 = einsum(t1.bb, (0, 1), tmp183, (2, 0, 3), (2, 1, 3)) * 2
    r2new.bbb += np.transpose(tmp184, (2, 1, 0)) * -1
    r2new.bbb += einsum(r1.b, (0,), ints.tmp340, (1, 2, 3, 0), (3, 2, 1)) * -2
    tmp175 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (2, 0, 3, 4), (1, 3, 4))
    tmp179 = np.copy(np.transpose(tmp175, (0, 2, 1))) * -1
    tmp177 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 5, 0, 2), (4, 5, 3)) * -1
    tmp179 += np.transpose(tmp177, (0, 2, 1)) * 2
    tmp178 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 3, 0, 2), (4, 5, 1))
    tmp179 += np.transpose(tmp178, (0, 2, 1)) * -6
    tmp176 = einsum(r2.bbb, (0, 1, 2), ints.tmp359, (2, 1, 3, 4), (3, 4, 0))
    tmp179 += np.transpose(tmp176, (2, 1, 0)) * 2
    r2new.bbb += einsum(t1.bb, (0, 1), tmp179, (2, 1, 3), (3, 2, 0)) * -1
    del tmp179
    r2new.bbb += einsum(r1.b, (0,), ints.tmp370, (1, 2), (0, 2, 1)) * -2
    r2new.bbb += einsum(f.aa.ov, (0, 1), r3.babab, (2, 1, 3, 0, 4), (2, 3, 4)) * 2
    r2new.bbb += einsum(f.bb.ov, (0, 1), r3.bbbbb, (2, 3, 1, 4, 0), (2, 3, 4)) * 6
    r2new.bbb += einsum(r1.b, (0,), ints.tmp372, (1, 2), (2, 0, 1)) * -1
    r2new.bbb += np.transpose(tmp162, (1, 2, 0)) * -2
    del tmp162
    r2new.bbb += np.transpose(tmp163, (1, 2, 0)) * -6
    del tmp163
    r2new.bbb += np.transpose(tmp184, (1, 2, 0))
    del tmp184
    tmp185 = np.copy(np.transpose(tmp175, (0, 2, 1))) * -0.5
    tmp185 += np.transpose(tmp176, (2, 1, 0))
    r2new.bbb += einsum(t1.bb, (0, 1), tmp185, (2, 1, 3), (2, 3, 0)) * 2
    r2new.bbb += np.transpose(tmp161, (2, 1, 0)) * 2
    del tmp161
    r2new.bbb += einsum(r1.b, (0,), ints.tmp372, (1, 2), (0, 2, 1))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp370, (1, 2), (2, 0, 1)) * 2
    tmp186 = einsum(r2.aba, (0, 1, 2), ints.tmp289, (2, 3, 0, 4), (3, 4, 1))
    r2new.bbb += np.transpose(tmp186, (1, 2, 0)) * 2
    tmp187 = einsum(ints.tmp219, (0, 1), r2.bbb, (2, 1, 3), (3, 0, 2))
    r2new.bbb += np.transpose(tmp187, (1, 2, 0)) * 2
    tmp188 = einsum(r1.b, (0,), ints.tmp380, (1, 2, 0, 3), (1, 2, 3))
    r2new.bbb += np.transpose(tmp188, (1, 2, 0)) * -1
    tmp189 = einsum(r2.bbb, (0, 1, 2), ints.tmp375, (3, 2, 4, 1), (3, 4, 0))
    r2new.bbb += np.transpose(tmp189, (1, 2, 0)) * -4
    tmp190 = einsum(r1.b, (0,), ints.tmp286, (1, 2, 3, 0), (1, 2, 3))
    tmp191 = einsum(t1.bb, (0, 1), tmp190, (2, 0, 3), (2, 3, 1))
    r2new.bbb += np.transpose(tmp191, (1, 2, 0))
    tmp192 = einsum(ints.tmp35, (0, 1), r2.bbb, (2, 1, 3), (0, 3, 2))
    tmp196 = np.copy(tmp192) * 0.3333333333333333
    tmp193 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovvv, (3, 1, 4, 0), (2, 3, 4)) * -1
    tmp196 += np.transpose(tmp193, (1, 0, 2)) * -0.3333333333333333
    tmp194 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 3, 0, 5), (5, 2, 4)) * -1
    tmp196 += np.transpose(tmp194, (1, 0, 2)) * -0.3333333333333333
    tmp195 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 1, 3, 5, 2), (5, 0, 4))
    tmp196 += np.transpose(tmp195, (1, 0, 2))
    tmp197 = einsum(t1.bb, (0, 1), tmp196, (0, 2, 3), (2, 1, 3)) * 6
    r2new.bbb += np.transpose(tmp197, (1, 2, 0))
    r2new.bbb += einsum(r1.b, (0,), ints.tmp310, (1, 2), (2, 0, 1)) * -1
    r2new.bbb += np.transpose(tmp186, (2, 1, 0)) * -2
    del tmp186
    r2new.bbb += np.transpose(tmp187, (2, 1, 0)) * -2
    del tmp187
    r2new.bbb += np.transpose(tmp189, (2, 1, 0)) * 4
    del tmp189
    r2new.bbb += np.transpose(tmp191, (2, 1, 0)) * -1
    del tmp191
    r2new.bbb += np.transpose(tmp197, (2, 1, 0)) * -1
    del tmp197
    r2new.bbb += np.transpose(tmp188, (2, 1, 0))
    del tmp188
    r2new.bbb += einsum(r1.b, (0,), ints.tmp310, (1, 2), (0, 2, 1))
    tmp201 = einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 1, 2), (0, 4, 5, 6, 3))
    tmp202 = einsum(t1.aa, (0, 1), tmp201, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    del tmp201
    r3new = Namespace()
    r3new.aaaaa = np.copy(np.transpose(tmp202, (2, 3, 4, 0, 1))) * -6
    tmp199 = einsum(r2.aaa, (0, 1, 2), ints.tmp407, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.aaaaa += np.transpose(tmp199, (2, 4, 3, 0, 1)) * 2
    tmp204 = einsum(r1.a, (0,), ints.tmp396, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp204, (2, 4, 3, 0, 1)) * -3
    tmp203 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovvv, (3, 4, 5, 1), (2, 3, 0, 4, 5))
    r3new.aaaaa += np.transpose(tmp203, (3, 4, 2, 0, 1)) * -2
    tmp205 = einsum(r2.aaa, (0, 1, 2), ints.tmp401, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp208 = np.copy(np.transpose(tmp205, (0, 1, 2, 4, 3))) * -1
    tmp206 = np.copy(tmp35)
    tmp206 += np.transpose(tmp35, (0, 2, 1)) * -1
    tmp207 = einsum(tmp206, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -1
    tmp208 += np.transpose(tmp207, (1, 0, 2, 4, 3))
    del tmp207
    tmp209 = einsum(t1.aa, (0, 1), tmp208, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp208
    r3new.aaaaa += np.transpose(tmp209, (4, 3, 2, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp43, (4, 3, 2, 0, 1)) * -2
    tmp198 = einsum(ints.tmp43, (0, 1, 2, 3), r3.aaaaa, (4, 5, 2, 6, 0), (1, 6, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp198, (2, 4, 3, 1, 0)) * -6
    tmp200 = einsum(ints.tmp60, (0, 1), r3.aaaaa, (2, 3, 4, 5, 0), (1, 5, 2, 3, 4))
    r3new.aaaaa += np.transpose(tmp200, (3, 4, 2, 1, 0)) * -6
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 4, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp413, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aaaaa += np.transpose(tmp198, (2, 4, 3, 0, 1)) * 6
    r3new.aaaaa += np.transpose(tmp200, (3, 4, 2, 0, 1)) * 6
    del tmp200
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.aaaaa += np.transpose(tmp202, (2, 3, 4, 1, 0)) * 6
    del tmp202
    r3new.aaaaa += np.transpose(tmp199, (2, 4, 3, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp204, (2, 4, 3, 1, 0)) * 3
    r3new.aaaaa += np.transpose(tmp203, (3, 4, 2, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp43, (4, 3, 2, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp209, (4, 3, 2, 1, 0))
    del tmp209
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp413, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp43, (2, 4, 3, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp199, (4, 2, 3, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp203, (4, 3, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp198, (3, 2, 4, 1, 0)) * -6
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp413, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aaaaa += np.transpose(tmp198, (3, 2, 4, 0, 1)) * 6
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.aaaaa += np.transpose(tmp43, (2, 4, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp199, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp203, (4, 3, 2, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp413, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp43, (2, 3, 4, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp203, (4, 2, 3, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp199, (4, 3, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp198, (3, 4, 2, 1, 0)) * 6
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp413, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.aaaaa += np.transpose(tmp198, (3, 4, 2, 0, 1)) * -6
    del tmp198
    r3new.aaaaa += einsum(ints.tmp66, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 0, 4)) * -2
    r3new.aaaaa += np.transpose(tmp43, (2, 3, 4, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp203, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp199, (4, 3, 2, 1, 0)) * -2
    del tmp199
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp413, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.aaaaa += einsum(ints.tmp419, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 2, 3), (4, 5, 6, 0, 1)) * 6
    tmp215 = einsum(r2.aaa, (0, 1, 2), v.aaaa.vvvv, (3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp216 = einsum(t1.aa, (0, 1), tmp215, (2, 3, 4, 1, 5), (2, 0, 3, 5, 4))
    del tmp215
    r3new.aaaaa += np.transpose(tmp216, (3, 4, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp216, (4, 3, 2, 0, 1)) * -2
    tmp210 = einsum(r2.aaa, (0, 1, 2), ints.tmp419, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    tmp211 = einsum(t1.aa, (0, 1), tmp210, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp210
    r3new.aaaaa += np.transpose(tmp211, (2, 3, 4, 1, 0)) * -4
    tmp212 = einsum(r2.aaa, (0, 1, 2), ints.tmp416, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.aaaaa += np.transpose(tmp212, (2, 4, 3, 1, 0)) * -4
    tmp214 = einsum(ints.tmp92, (0, 1), r3.aaaaa, (2, 3, 0, 4, 5), (4, 5, 1, 2, 3))
    r3new.aaaaa += np.transpose(tmp214, (2, 4, 3, 1, 0)) * 6
    tmp217 = einsum(ints.tmp115, (0, 1, 2, 3), r3.aaaaa, (4, 5, 2, 6, 0), (6, 1, 3, 4, 5))
    tmp219 = np.copy(np.transpose(tmp217, (0, 1, 2, 4, 3))) * -1
    tmp218 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 2, 6), (6, 4, 5, 0, 1))
    tmp219 += np.transpose(tmp218, (0, 4, 3, 2, 1)) * 0.3333333333333333
    tmp220 = einsum(t1.aa, (0, 1), tmp219, (2, 1, 3, 4, 5), (0, 2, 3, 4, 5)) * 6
    del tmp219
    r3new.aaaaa += np.transpose(tmp220, (2, 4, 3, 1, 0))
    tmp213 = einsum(v.aaaa.vvvv, (0, 1, 2, 3), r3.aaaaa, (4, 1, 3, 5, 6), (5, 6, 4, 0, 2))
    r3new.aaaaa += np.transpose(tmp213, (3, 4, 2, 1, 0)) * -6
    r3new.aaaaa += einsum(ints.tmp114, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 4, 0)) * 2
    r3new.aaaaa += einsum(ints.tmp429, (0, 1), r3.aaaaa, (2, 3, 4, 5, 1), (2, 3, 4, 5, 0)) * -6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp418, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp415, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.aaaaa += np.transpose(tmp220, (3, 2, 4, 1, 0))
    r3new.aaaaa += np.transpose(tmp212, (4, 2, 3, 1, 0)) * 4
    r3new.aaaaa += np.transpose(tmp214, (4, 2, 3, 1, 0)) * -6
    r3new.aaaaa += einsum(ints.tmp114, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp418, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp220, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += np.transpose(tmp212, (4, 3, 2, 1, 0)) * -4
    del tmp212
    r3new.aaaaa += np.transpose(tmp214, (4, 3, 2, 1, 0)) * 6
    del tmp214
    r3new.aaaaa += einsum(ints.tmp114, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp418, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp433, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    tmp221 = einsum(r2.aaa, (0, 1, 2), ints.tmp442, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.aaaaa += np.transpose(tmp221, (2, 4, 3, 0, 1)) * -4
    tmp222 = einsum(r2.aaa, (0, 1, 2), ints.tmp43, (3, 4, 1, 5), (3, 4, 2, 5, 0))
    tmp225 = np.copy(tmp222)
    tmp223 = einsum(ints.tmp435, (0, 1, 2, 3), r3.aaaaa, (4, 5, 3, 6, 2), (0, 1, 6, 4, 5))
    tmp225 += np.transpose(tmp223, (0, 1, 2, 4, 3)) * -3
    del tmp223
    tmp224 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 2, 6), (6, 0, 1, 4, 5))
    tmp225 += np.transpose(tmp224, (1, 2, 0, 4, 3)) * -1
    del tmp224
    tmp226 = einsum(t1.aa, (0, 1), tmp225, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp225
    r3new.aaaaa += np.transpose(tmp226, (2, 3, 4, 1, 0)) * -1
    r3new.aaaaa += einsum(ints.tmp445, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 4, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp447, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp226, (2, 3, 4, 0, 1))
    r3new.aaaaa += einsum(ints.tmp445, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.aaaaa += np.transpose(tmp221, (2, 4, 3, 1, 0)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp447, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp221, (4, 2, 3, 0, 1)) * 4
    r3new.aaaaa += np.transpose(tmp226, (3, 2, 4, 1, 0))
    r3new.aaaaa += einsum(ints.tmp445, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp447, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.aaaaa += np.transpose(tmp226, (3, 2, 4, 0, 1)) * -1
    r3new.aaaaa += einsum(ints.tmp445, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 0, 4)) * -2
    r3new.aaaaa += np.transpose(tmp221, (4, 2, 3, 1, 0)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp447, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    tmp227 = einsum(tmp60, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (0, 3, 2, 4, 5))
    r3new.aaaaa += np.transpose(tmp227, (3, 4, 2, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp221, (4, 3, 2, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp226, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += einsum(ints.tmp445, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 4, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp447, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp226, (3, 4, 2, 0, 1))
    del tmp226
    r3new.aaaaa += einsum(ints.tmp445, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 0, 4)) * 2
    r3new.aaaaa += np.transpose(tmp227, (3, 4, 2, 1, 0)) * 4
    del tmp227
    r3new.aaaaa += np.transpose(tmp221, (4, 3, 2, 1, 0)) * 4
    del tmp221
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp447, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    tmp230 = einsum(r2.aaa, (0, 1, 2), ints.tmp456, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp231 = einsum(t1.aa, (0, 1), tmp230, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp230
    r3new.aaaaa += np.transpose(tmp231, (2, 3, 4, 0, 1)) * -2
    tmp232 = einsum(r2.aaa, (0, 1, 2), ints.tmp453, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.aaaaa += np.transpose(tmp232, (2, 4, 3, 0, 1)) * 2
    tmp233 = np.copy(np.transpose(tmp217, (0, 1, 2, 4, 3))) * -3
    del tmp217
    tmp233 += np.transpose(tmp218, (0, 4, 3, 2, 1))
    del tmp218
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp233, (2, 1, 3, 4, 5), (3, 5, 4, 0, 2)) * -2
    del tmp233
    r3new.aaaaa += einsum(ints.tmp114, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.aaaaa += einsum(ints.tmp460, (0, 1), r3.aaaaa, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 12
    r3new.aaaaa += np.transpose(tmp231, (2, 3, 4, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp232, (2, 4, 3, 1, 0)) * -2
    tmp228 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 0, 2), (4, 5, 6, 3, 1)) * -1
    tmp229 = einsum(t1.aa, (0, 1), tmp228, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * -1
    del tmp228
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp229, (2, 3, 4, 5, 1), (4, 3, 5, 2, 0)) * 6
    del tmp229
    r3new.aaaaa += np.transpose(tmp216, (3, 4, 2, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp216, (4, 3, 2, 1, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp451, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp451, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.aaaaa += np.transpose(tmp220, (3, 2, 4, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp232, (4, 2, 3, 0, 1)) * -2
    r3new.aaaaa += einsum(ints.tmp114, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.aaaaa += np.transpose(tmp232, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp464, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp220, (3, 4, 2, 0, 1))
    del tmp220
    r3new.aaaaa += np.transpose(tmp232, (4, 3, 2, 0, 1)) * 2
    r3new.aaaaa += einsum(ints.tmp114, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 0, 4)) * -2
    r3new.aaaaa += np.transpose(tmp232, (4, 3, 2, 1, 0)) * -2
    del tmp232
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp464, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    tmp238 = einsum(r1.a, (0,), ints.tmp483, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp239 = einsum(t1.aa, (0, 1), tmp238, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.aaaaa += np.transpose(tmp239, (2, 3, 4, 0, 1)) * -2
    tmp234 = einsum(t2.abab, (0, 1, 2, 3), ints.tmp4, (4, 1, 3, 5), (0, 4, 2, 5))
    tmp235 = einsum(tmp234, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 1, 6), (6, 0, 4, 5, 2))
    r3new.aaaaa += np.transpose(tmp235, (4, 3, 2, 0, 1)) * 2
    tmp236 = einsum(t2.aaaa, (0, 1, 2, 3), tmp43, (4, 1, 5, 6, 3), (4, 0, 5, 6, 2))
    r3new.aaaaa += np.transpose(tmp236, (4, 3, 2, 0, 1)) * -4
    tmp237 = einsum(t2.abab, (0, 1, 2, 3), tmp39, (4, 1, 5, 6, 3), (4, 0, 5, 6, 2))
    r3new.aaaaa += np.transpose(tmp237, (4, 3, 2, 0, 1)) * -6
    tmp243 = einsum(ints.tmp1, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 2), (0, 4, 3, 5))
    tmp244 = einsum(tmp243, (0, 1, 2, 3), r3.aaaaa, (4, 5, 2, 6, 0), (6, 1, 4, 5, 3))
    del tmp243
    r3new.aaaaa += np.transpose(tmp244, (4, 3, 2, 0, 1)) * 12
    tmp241 = einsum(r2.aaa, (0, 1, 2), ints.tmp151, (3, 4, 1, 5), (3, 2, 4, 5, 0))
    r3new.aaaaa += np.transpose(tmp241, (2, 3, 4, 1, 0)) * -2
    tmp245 = einsum(r1.a, (0,), ints.tmp465, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp245, (2, 3, 4, 1, 0)) * 2
    tmp246 = einsum(tmp49, (0, 1, 2), t2.aaaa, (3, 4, 5, 0), (3, 4, 5, 1, 2)) * -2
    del tmp49
    r3new.aaaaa += np.transpose(tmp246, (2, 3, 4, 1, 0))
    tmp240 = einsum(r2.aaa, (0, 1, 2), ints.tmp476, (2, 3, 4, 5), (3, 4, 5, 0, 1))
    r3new.aaaaa += np.transpose(tmp240, (2, 4, 3, 1, 0)) * 4
    tmp242 = einsum(ints.tmp108, (0, 1), r3.aaaaa, (2, 3, 1, 4, 5), (4, 5, 0, 2, 3))
    r3new.aaaaa += np.transpose(tmp242, (2, 4, 3, 1, 0)) * -12
    r3new.aaaaa += np.transpose(tmp245, (2, 4, 3, 1, 0)) * -2
    tmp247 = einsum(ints.tmp16, (0, 1), r3.aaaaa, (2, 3, 1, 4, 5), (0, 4, 5, 2, 3))
    tmp249 = np.copy(np.transpose(tmp247, (0, 2, 1, 4, 3)))
    del tmp247
    tmp248 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aaaaa, (4, 1, 3, 5, 6), (5, 6, 0, 4, 2))
    tmp249 += np.transpose(tmp248, (2, 1, 0, 3, 4))
    tmp250 = einsum(t1.aa, (0, 1), tmp249, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 6
    del tmp249
    r3new.aaaaa += np.transpose(tmp250, (2, 4, 3, 1, 0)) * -1
    r3new.aaaaa += einsum(ints.tmp210, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 4, 0)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp489, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp235, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp236, (2, 4, 3, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp237, (2, 4, 3, 0, 1)) * -6
    r3new.aaaaa += np.transpose(tmp244, (2, 4, 3, 0, 1)) * 12
    r3new.aaaaa += np.transpose(tmp239, (3, 2, 4, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp241, (3, 2, 4, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp246, (3, 2, 4, 1, 0)) * -1
    tmp254 = np.copy(tmp245) * 2
    del tmp245
    tmp251 = einsum(r1.a, (0,), ints.tmp490, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp252 = einsum(t1.aa, (0, 1), tmp251, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp251
    tmp253 = einsum(t1.aa, (0, 1), tmp252, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp252
    tmp254 += tmp253 * 2
    r3new.aaaaa += np.transpose(tmp254, (3, 2, 4, 1, 0)) * -1
    r3new.aaaaa += np.transpose(tmp240, (4, 2, 3, 1, 0)) * -4
    del tmp240
    r3new.aaaaa += np.transpose(tmp242, (4, 2, 3, 1, 0)) * 12
    r3new.aaaaa += np.transpose(tmp250, (4, 2, 3, 1, 0))
    r3new.aaaaa += np.transpose(tmp254, (4, 2, 3, 1, 0))
    r3new.aaaaa += einsum(ints.tmp210, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp489, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp235, (2, 3, 4, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp236, (2, 3, 4, 0, 1)) * 4
    r3new.aaaaa += np.transpose(tmp237, (2, 3, 4, 0, 1)) * 6
    r3new.aaaaa += np.transpose(tmp244, (2, 3, 4, 0, 1)) * -12
    r3new.aaaaa += np.transpose(tmp239, (3, 4, 2, 0, 1)) * -2
    tmp255 = einsum(r1.a, (0,), ints.tmp494, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp255, (3, 2, 4, 1, 0)) * -4
    r3new.aaaaa += np.transpose(tmp241, (3, 4, 2, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp246, (3, 4, 2, 1, 0))
    del tmp246
    r3new.aaaaa += np.transpose(tmp254, (3, 4, 2, 1, 0))
    r3new.aaaaa += np.transpose(tmp242, (4, 3, 2, 1, 0)) * -12
    del tmp242
    r3new.aaaaa += np.transpose(tmp250, (4, 3, 2, 1, 0)) * -1
    del tmp250
    r3new.aaaaa += np.transpose(tmp254, (4, 3, 2, 1, 0)) * -1
    del tmp254
    r3new.aaaaa += einsum(ints.tmp210, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 4, 0)) * 4
    r3new.aaaaa += einsum(r2.aaa, (0, 1, 2), ints.tmp496, (3, 4, 2, 5), (0, 1, 5, 4, 3)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp489, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    tmp257 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ooov, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp258 = einsum(t1.aa, (0, 1), tmp257, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1))
    del tmp257
    tmp259 = einsum(t1.aa, (0, 1), tmp258, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp258
    r3new.aaaaa += np.transpose(tmp259, (3, 4, 2, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp259, (4, 3, 2, 0, 1)) * 2
    tmp256 = einsum(r2.aaa, (0, 1, 2), ints.tmp45, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.aaaaa += np.transpose(tmp256, (3, 2, 4, 1, 0)) * 4
    tmp260 = einsum(r1.a, (0,), ints.tmp43, (1, 2, 3, 0), (1, 2, 3))
    tmp261 = np.copy(tmp260) * -1
    tmp261 += tmp27 * 2
    tmp261 += np.transpose(tmp28, (1, 0, 2))
    r3new.aaaaa += einsum(tmp261, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (4, 5, 2, 3, 0)) * -2
    del tmp261
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp506, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -6
    r3new.aaaaa += np.transpose(tmp256, (3, 2, 4, 0, 1)) * -4
    tmp263 = np.copy(tmp260) * -0.5
    del tmp260
    tmp263 += tmp27
    tmp263 += np.transpose(tmp28, (1, 0, 2)) * 0.5
    r3new.aaaaa += einsum(tmp263, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (4, 5, 2, 0, 3)) * 4
    del tmp263
    tmp262 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ooov, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.aaaaa += np.transpose(tmp262, (3, 2, 4, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp259, (3, 4, 2, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp259, (4, 3, 2, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (4, 0, 2, 1, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp511, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp259, (3, 2, 4, 0, 1)) * 2
    tmp267 = np.copy(np.transpose(tmp20, (0, 2, 1))) * -2
    tmp267 += np.transpose(tmp23, (1, 0, 2)) * -1
    tmp267 += np.transpose(tmp23, (1, 2, 0))
    del tmp23
    tmp268 = einsum(tmp267, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -1
    tmp269 = einsum(t1.aa, (0, 1), tmp268, (2, 3, 0, 4, 5), (2, 3, 1, 5, 4)) * -2
    del tmp268
    r3new.aaaaa += np.transpose(tmp269, (3, 2, 4, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp259, (4, 2, 3, 0, 1)) * -2
    tmp264 = einsum(r1.a, (0,), ints.tmp513, (1, 2, 3, 0), (1, 2, 3))
    tmp265 = np.copy(tmp264) * -1
    tmp265 += tmp27 * 2
    tmp265 += np.transpose(tmp28, (1, 0, 2))
    tmp266 = einsum(tmp265, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -2
    del tmp265
    r3new.aaaaa += np.transpose(tmp266, (3, 4, 2, 0, 1))
    r3new.aaaaa += np.transpose(tmp256, (3, 4, 2, 1, 0)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp520, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp256, (3, 4, 2, 0, 1)) * 4
    r3new.aaaaa += np.transpose(tmp259, (3, 2, 4, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp269, (3, 2, 4, 1, 0))
    r3new.aaaaa += np.transpose(tmp259, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp262, (3, 4, 2, 1, 0)) * 2
    tmp270 = np.copy(tmp264) * -0.5
    del tmp264
    tmp270 += tmp27
    tmp270 += np.transpose(tmp28, (1, 0, 2)) * 0.5
    tmp271 = einsum(tmp270, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -4
    del tmp270
    r3new.aaaaa += np.transpose(tmp271, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp520, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (4, 2, 0, 1, 3)) * -1
    r3new.aaaaa += np.transpose(tmp259, (2, 3, 4, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp269, (2, 3, 4, 0, 1))
    r3new.aaaaa += np.transpose(tmp259, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp266, (4, 3, 2, 0, 1)) * -1
    del tmp266
    r3new.aaaaa += np.transpose(tmp256, (4, 3, 2, 1, 0)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp520, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    r3new.aaaaa += np.transpose(tmp256, (4, 3, 2, 0, 1)) * -4
    del tmp256
    r3new.aaaaa += np.transpose(tmp259, (2, 3, 4, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp269, (2, 3, 4, 1, 0)) * -1
    r3new.aaaaa += np.transpose(tmp259, (2, 4, 3, 1, 0)) * -2
    del tmp259
    r3new.aaaaa += np.transpose(tmp262, (4, 3, 2, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp271, (4, 3, 2, 1, 0))
    del tmp271
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp520, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (2, 4, 0, 1, 3))
    tmp275 = np.copy(tmp238)
    del tmp238
    tmp274 = einsum(tmp51, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -2
    tmp275 += np.transpose(tmp274, (1, 0, 2, 3, 4))
    tmp276 = einsum(t1.aa, (0, 1), tmp275, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp275
    r3new.aaaaa += np.transpose(tmp276, (2, 4, 3, 0, 1))
    tmp272 = einsum(t1.aa, (0, 1), tmp248, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp248
    r3new.aaaaa += np.transpose(tmp272, (2, 4, 3, 1, 0)) * -6
    r3new.aaaaa += np.transpose(tmp241, (4, 3, 2, 1, 0)) * 2
    tmp273 = einsum(tmp56, (0, 1, 2), t2.aaaa, (3, 4, 5, 0), (3, 4, 5, 1, 2)) * -4
    del tmp56
    r3new.aaaaa += np.transpose(tmp273, (4, 3, 2, 1, 0))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp489, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp532, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp239, (2, 4, 3, 0, 1)) * 2
    del tmp239
    tmp277 = einsum(r2.aaa, (0, 1, 2), ints.tmp129, (3, 4, 1, 5), (3, 2, 4, 5, 0))
    r3new.aaaaa += np.transpose(tmp277, (2, 4, 3, 1, 0)) * 4
    r3new.aaaaa += np.transpose(tmp273, (2, 4, 3, 1, 0))
    r3new.aaaaa += np.transpose(tmp272, (3, 2, 4, 1, 0)) * -6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp489, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp276, (2, 3, 4, 0, 1)) * -1
    del tmp276
    r3new.aaaaa += np.transpose(tmp272, (2, 3, 4, 1, 0)) * 6
    del tmp272
    r3new.aaaaa += np.transpose(tmp241, (4, 2, 3, 1, 0)) * -2
    del tmp241
    r3new.aaaaa += np.transpose(tmp273, (4, 2, 3, 1, 0)) * -1
    del tmp273
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp489, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp532, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp277, (2, 3, 4, 0, 1)) * 4
    r3new.aaaaa += einsum(ints.tmp210, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * -4
    r3new.aaaaa += np.transpose(tmp235, (4, 3, 2, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp236, (4, 3, 2, 1, 0)) * 4
    r3new.aaaaa += np.transpose(tmp237, (4, 3, 2, 1, 0)) * 6
    r3new.aaaaa += np.transpose(tmp244, (4, 3, 2, 1, 0)) * -12
    r3new.aaaaa += np.transpose(tmp277, (3, 2, 4, 0, 1)) * -4
    r3new.aaaaa += einsum(ints.tmp210, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 0, 4)) * 4
    r3new.aaaaa += np.transpose(tmp235, (2, 4, 3, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp236, (2, 4, 3, 1, 0)) * 4
    r3new.aaaaa += np.transpose(tmp237, (2, 4, 3, 1, 0)) * 6
    r3new.aaaaa += np.transpose(tmp244, (2, 4, 3, 1, 0)) * -12
    r3new.aaaaa += np.transpose(tmp277, (3, 4, 2, 0, 1)) * 4
    r3new.aaaaa += einsum(ints.tmp210, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 0, 4)) * -4
    r3new.aaaaa += np.transpose(tmp235, (2, 3, 4, 1, 0)) * 2
    del tmp235
    r3new.aaaaa += np.transpose(tmp236, (2, 3, 4, 1, 0)) * -4
    del tmp236
    r3new.aaaaa += np.transpose(tmp237, (2, 3, 4, 1, 0)) * -6
    del tmp237
    r3new.aaaaa += np.transpose(tmp244, (2, 3, 4, 1, 0)) * 12
    del tmp244
    tmp278 = einsum(r2.aaa, (0, 1, 2), ints.tmp546, (3, 4, 2, 5, 6, 1), (3, 4, 5, 6, 0))
    r3new.aaaaa += np.transpose(tmp278, (2, 3, 4, 1, 0)) * -2
    tmp279 = einsum(r2.bab, (0, 1, 2), ints.tmp550, (3, 4, 2, 5, 6, 0), (3, 4, 5, 6, 1)) * -1
    r3new.aaaaa += np.transpose(tmp279, (2, 3, 4, 1, 0)) * -6
    tmp280 = einsum(r2.aaa, (0, 1, 2), ints.tmp562, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.aaaaa += np.transpose(tmp280, (2, 3, 4, 1, 0)) * 2
    tmp281 = einsum(r1.a, (0,), ints.tmp554, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp281, (2, 3, 4, 1, 0)) * -1
    tmp286 = np.copy(tmp63) * -1
    tmp286 += tmp64 * 3
    tmp286 += tmp65
    tmp286 += np.transpose(tmp62, (1, 0, 2))
    tmp287 = einsum(tmp286, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -4
    del tmp286
    r3new.aaaaa += np.transpose(tmp287, (3, 2, 4, 1, 0))
    tmp288 = einsum(r2.aaa, (0, 1, 2), ints.tmp125, (3, 4, 5, 1), (3, 4, 2, 5, 0))
    tmp289 = np.copy(tmp288) * 2
    tmp289 += np.transpose(tmp274, (1, 2, 0, 3, 4)) * -1
    del tmp274
    tmp290 = einsum(t1.aa, (0, 1), tmp289, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp289
    r3new.aaaaa += np.transpose(tmp290, (3, 2, 4, 1, 0))
    tmp282 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aaaaa, (4, 1, 3, 5, 6), (5, 6, 0, 2, 4))
    tmp283 = einsum(t2.aaaa, (0, 1, 2, 3), tmp282, (4, 5, 0, 1, 6), (4, 5, 6, 2, 3))
    r3new.aaaaa += np.transpose(tmp283, (3, 4, 2, 1, 0)) * -6
    tmp284 = einsum(t1.aa, (0, 1), tmp282, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp282
    tmp285 = einsum(t1.aa, (0, 1), tmp284, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * -1
    del tmp284
    r3new.aaaaa += np.transpose(tmp285, (4, 3, 2, 1, 0)) * 6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp572, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp280, (2, 3, 4, 0, 1)) * -2
    tmp291 = einsum(t1.aa, (0, 1), tmp288, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp288
    r3new.aaaaa += np.transpose(tmp291, (2, 4, 3, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp287, (3, 2, 4, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp278, (2, 4, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp280, (2, 4, 3, 1, 0)) * -2
    tmp292 = einsum(r1.a, (0,), ints.tmp567, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp293 = einsum(t1.aa, (0, 1), tmp292, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.aaaaa += np.transpose(tmp293, (2, 4, 3, 1, 0)) * -6
    r3new.aaaaa += np.transpose(tmp281, (2, 4, 3, 1, 0))
    r3new.aaaaa += np.transpose(tmp283, (3, 2, 4, 1, 0)) * 6
    r3new.aaaaa += np.transpose(tmp285, (4, 2, 3, 1, 0)) * -6
    r3new.aaaaa += np.transpose(tmp287, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += np.transpose(tmp290, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += einsum(r2.bab, (0, 1, 2), ints.tmp578, (3, 4, 2, 5, 6, 0), (5, 1, 6, 4, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp572, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp291, (2, 3, 4, 0, 1)) * 4
    r3new.aaaaa += np.transpose(tmp280, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp287, (3, 4, 2, 0, 1))
    r3new.aaaaa += np.transpose(tmp283, (2, 4, 3, 1, 0)) * 6
    del tmp283
    r3new.aaaaa += np.transpose(tmp285, (2, 4, 3, 1, 0)) * 6
    del tmp285
    r3new.aaaaa += np.transpose(tmp278, (4, 2, 3, 1, 0)) * -2
    del tmp278
    r3new.aaaaa += np.transpose(tmp279, (4, 2, 3, 1, 0)) * -6
    del tmp279
    r3new.aaaaa += np.transpose(tmp280, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp293, (4, 2, 3, 1, 0)) * 6
    del tmp293
    r3new.aaaaa += np.transpose(tmp281, (4, 3, 2, 1, 0))
    del tmp281
    r3new.aaaaa += np.transpose(tmp287, (4, 3, 2, 1, 0))
    r3new.aaaaa += np.transpose(tmp290, (4, 3, 2, 1, 0))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp530, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp291, (3, 2, 4, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp280, (4, 2, 3, 0, 1)) * -2
    del tmp280
    r3new.aaaaa += np.transpose(tmp287, (4, 3, 2, 0, 1)) * -1
    del tmp287
    tmp294 = einsum(r2.bab, (0, 1, 2), ints.tmp577, (3, 4, 2, 5, 6, 0), (3, 4, 5, 6, 1)) * -1
    r3new.aaaaa += np.transpose(tmp294, (3, 2, 4, 0, 1))
    tmp296 = einsum(r2.aaa, (0, 1, 2), ints.tmp47, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.aaaaa += np.transpose(tmp296, (2, 3, 4, 1, 0)) * 2
    tmp297 = einsum(r2.aaa, (0, 1, 2), ints.tmp544, (3, 4, 2, 5, 6, 1), (3, 4, 5, 6, 0))
    r3new.aaaaa += np.transpose(tmp297, (3, 2, 4, 1, 0)) * 2
    tmp295 = einsum(r1.a, (0,), ints.tmp552, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp295, (3, 2, 4, 1, 0))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp294, (3, 4, 2, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp296, (2, 4, 3, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp295, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += np.transpose(tmp297, (3, 4, 2, 1, 0)) * -2
    tmp298 = einsum(r1.a, (0,), ints.tmp544, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp299 = einsum(t1.aa, (0, 1), tmp298, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp298
    r3new.aaaaa += np.transpose(tmp299, (3, 4, 2, 1, 0))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp587, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    tmp300 = einsum(tmp20, (0, 1, 2), t3.aaaaaa, (3, 2, 1, 4, 5, 6), (0, 3, 4, 5, 6)) * -1
    r3new.aaaaa += np.transpose(tmp300, (2, 3, 4, 0, 1)) * 3
    tmp301 = einsum(r2.aaa, (0, 1, 2), v.aaaa.oooo, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp302 = einsum(t1.aa, (0, 1), tmp301, (2, 0, 3, 4, 5), (3, 2, 5, 4, 1)) * -1
    del tmp301
    r3new.aaaaa += np.transpose(tmp302, (2, 3, 4, 0, 1)) * 2
    r3new.aaaaa += einsum(v.aaaa.oooo, (0, 1, 2, 3), r3.aaaaa, (4, 5, 6, 1, 3), (4, 5, 6, 0, 2)) * 6
    tmp304 = einsum(tmp9, (0,), t3.aaaaaa, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5)) * 3
    r3new.aaaaa += np.transpose(tmp304, (3, 4, 2, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp262, (4, 3, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp253, (2, 3, 4, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp302, (2, 3, 4, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp596, (1, 2, 3, 4, 5, 0), (3, 4, 5, 2, 1)) * -3
    r3new.aaaaa += np.transpose(tmp253, (2, 4, 3, 1, 0)) * -2
    del tmp253
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    tmp303 = np.copy(tmp292)
    del tmp292
    tmp303 += einsum(tmp267, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * 0.3333333333333333
    r3new.aaaaa += einsum(t1.aa, (0, 1), tmp303, (2, 3, 0, 4, 5), (4, 5, 1, 3, 2)) * 6
    del tmp303
    r3new.aaaaa += np.transpose(tmp300, (2, 3, 4, 0, 1)) * 3
    r3new.aaaaa += np.transpose(tmp302, (3, 4, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp304, (3, 4, 2, 0, 1)) * -1
    del tmp304
    r3new.aaaaa += np.transpose(tmp302, (3, 4, 2, 1, 0)) * -2
    tmp305 = einsum(r1.a, (0,), ints.tmp595, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aaaaa += np.transpose(tmp305, (3, 4, 2, 1, 0)) * -3
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    tmp306 = einsum(r2.aaa, (0, 1, 2), ints.tmp68, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp307 = einsum(t1.aa, (0, 1), tmp306, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp306
    r3new.aaaaa += np.transpose(tmp307, (3, 2, 4, 0, 1)) * 4
    tmp312 = einsum(t1.aa, (0, 1), tmp51, (2, 1, 3), (0, 2, 3)) * 2
    del tmp51
    tmp313 = np.copy(np.transpose(tmp312, (1, 0, 2))) * -1
    tmp313 += np.transpose(tmp50, (1, 0, 2))
    tmp314 = einsum(tmp313, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -2
    del tmp313
    r3new.aaaaa += np.transpose(tmp314, (3, 2, 4, 0, 1)) * -1
    tmp308 = einsum(r2.aaa, (0, 1, 2), v.aaaa.ovov, (3, 4, 5, 1), (2, 3, 5, 0, 4))
    tmp309 = einsum(t1.aa, (0, 1), tmp308, (2, 3, 4, 5, 1), (2, 0, 4, 3, 5))
    del tmp308
    tmp310 = einsum(t1.aa, (0, 1), tmp309, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp309
    tmp311 = einsum(t1.aa, (0, 1), tmp310, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp310
    r3new.aaaaa += np.transpose(tmp311, (3, 4, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp311, (4, 3, 2, 0, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp610, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -4
    r3new.aaaaa += np.transpose(tmp307, (3, 2, 4, 1, 0)) * -4
    r3new.aaaaa += np.transpose(tmp314, (3, 2, 4, 1, 0))
    r3new.aaaaa += np.transpose(tmp311, (3, 4, 2, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp311, (4, 3, 2, 1, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp610, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 4
    r3new.aaaaa += np.transpose(tmp311, (3, 2, 4, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp311, (4, 2, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp307, (3, 4, 2, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp314, (3, 4, 2, 0, 1))
    tmp315 = np.copy(tmp35) * -1
    tmp315 += np.transpose(tmp35, (0, 2, 1))
    del tmp35
    tmp316 = einsum(tmp315, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -1
    del tmp315
    tmp317 = einsum(t1.aa, (0, 1), tmp316, (2, 3, 0, 4, 5), (3, 2, 1, 5, 4)) * 2
    del tmp316
    r3new.aaaaa += np.transpose(tmp317, (3, 2, 4, 1, 0)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp610, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 4
    r3new.aaaaa += np.transpose(tmp317, (3, 2, 4, 0, 1))
    r3new.aaaaa += np.transpose(tmp311, (3, 2, 4, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp311, (4, 2, 3, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp307, (3, 4, 2, 1, 0)) * 4
    r3new.aaaaa += np.transpose(tmp314, (3, 4, 2, 1, 0)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp610, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -4
    r3new.aaaaa += np.transpose(tmp311, (2, 3, 4, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp311, (2, 4, 3, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp307, (4, 3, 2, 0, 1)) * 4
    r3new.aaaaa += np.transpose(tmp314, (4, 3, 2, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp317, (2, 3, 4, 1, 0))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp610, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -4
    r3new.aaaaa += np.transpose(tmp317, (2, 3, 4, 0, 1)) * -1
    del tmp317
    r3new.aaaaa += np.transpose(tmp311, (2, 3, 4, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp311, (2, 4, 3, 1, 0)) * 2
    del tmp311
    r3new.aaaaa += np.transpose(tmp307, (4, 3, 2, 1, 0)) * -4
    del tmp307
    r3new.aaaaa += np.transpose(tmp314, (4, 3, 2, 1, 0))
    del tmp314
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp610, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * 4
    r3new.aaaaa += np.transpose(tmp294, (4, 3, 2, 0, 1))
    del tmp294
    r3new.aaaaa += np.transpose(tmp290, (4, 2, 3, 1, 0)) * -1
    del tmp290
    r3new.aaaaa += np.transpose(tmp296, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp297, (4, 3, 2, 1, 0)) * 2
    del tmp297
    r3new.aaaaa += np.transpose(tmp299, (4, 3, 2, 1, 0)) * -1
    r3new.aaaaa += np.transpose(tmp295, (4, 3, 2, 1, 0))
    del tmp295
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp530, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    tmp319 = einsum(r2.aaa, (0, 1, 2), ints.tmp88, (3, 1, 4, 5), (3, 2, 4, 5, 0))
    tmp320 = np.copy(tmp319)
    del tmp319
    tmp320 += np.transpose(tmp42, (0, 1, 2, 4, 3)) * -3
    tmp320 += np.transpose(tmp43, (1, 0, 4, 3, 2))
    tmp321 = einsum(t1.aa, (0, 1), tmp320, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp320
    tmp322 = einsum(t1.aa, (0, 1), tmp321, (2, 0, 3, 4, 5), (3, 2, 1, 4, 5)) * 2
    del tmp321
    r3new.aaaaa += np.transpose(tmp322, (2, 3, 4, 0, 1))
    tmp318 = einsum(r2.aaa, (0, 1, 2), ints.tmp622, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.aaaaa += np.transpose(tmp318, (2, 4, 3, 1, 0)) * -2
    r3new.aaaaa += einsum(ints.tmp191, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 4, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp624, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp318, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += einsum(ints.tmp191, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.aaaaa += np.transpose(tmp322, (2, 3, 4, 1, 0)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp624, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aaaaa += np.transpose(tmp322, (3, 2, 4, 0, 1)) * -1
    r3new.aaaaa += np.transpose(tmp318, (4, 2, 3, 1, 0)) * 2
    r3new.aaaaa += einsum(ints.tmp191, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp624, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp318, (4, 2, 3, 0, 1)) * -2
    r3new.aaaaa += einsum(ints.tmp191, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 0, 4)) * -2
    r3new.aaaaa += np.transpose(tmp322, (3, 2, 4, 1, 0))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp624, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aaaaa += np.transpose(tmp322, (3, 4, 2, 0, 1))
    r3new.aaaaa += np.transpose(tmp318, (4, 3, 2, 1, 0)) * -2
    r3new.aaaaa += einsum(ints.tmp191, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 4, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp624, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.aaaaa += np.transpose(tmp318, (4, 3, 2, 0, 1)) * 2
    del tmp318
    r3new.aaaaa += einsum(ints.tmp191, (0, 1), r2.aaa, (2, 3, 4), (2, 3, 1, 0, 4)) * 2
    r3new.aaaaa += np.transpose(tmp322, (3, 4, 2, 1, 0)) * -1
    del tmp322
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp624, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp625, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (2, 0, 4, 1, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (0, 2, 4, 1, 3))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp505, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), v.aaaa.ovov, (1, 2, 3, 4), (0, 4, 2, 1, 3)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp505, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp262, (3, 4, 2, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp299, (3, 2, 4, 1, 0)) * -1
    del tmp299
    r3new.aaaaa += np.transpose(tmp255, (3, 4, 2, 1, 0)) * 4
    del tmp255
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp629, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp262, (3, 2, 4, 0, 1)) * 2
    del tmp262
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp629, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp204, (2, 4, 3, 0, 1)) * -3
    tmp323 = einsum(t1.aa, (0, 1), tmp205, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp205
    r3new.aaaaa += np.transpose(tmp323, (2, 4, 3, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp203, (3, 2, 4, 0, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aaaaa += np.transpose(tmp204, (2, 4, 3, 1, 0)) * 3
    del tmp204
    r3new.aaaaa += np.transpose(tmp323, (2, 4, 3, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp203, (3, 2, 4, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp203, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.aaaaa += np.transpose(tmp203, (2, 3, 4, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp323, (4, 3, 2, 0, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aaaaa += np.transpose(tmp203, (2, 4, 3, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp203, (2, 3, 4, 1, 0)) * 2
    del tmp203
    r3new.aaaaa += np.transpose(tmp323, (4, 3, 2, 1, 0)) * 2
    del tmp323
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp394, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp409, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp216, (3, 2, 4, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp216, (4, 2, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp211, (2, 4, 3, 1, 0)) * 4
    r3new.aaaaa += np.transpose(tmp213, (3, 2, 4, 1, 0)) * 6
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp415, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp418, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp216, (2, 3, 4, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp216, (2, 4, 3, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp213, (2, 4, 3, 1, 0)) * 6
    del tmp213
    r3new.aaaaa += np.transpose(tmp211, (4, 3, 2, 1, 0)) * 4
    del tmp211
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp418, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp302, (4, 3, 2, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp302, (4, 3, 2, 1, 0)) * 2
    del tmp302
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp508, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp324 = einsum(t1.aa, (0, 1), tmp222, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp222
    r3new.aaaaa += np.transpose(tmp324, (3, 2, 4, 1, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp633, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -2
    r3new.aaaaa += np.transpose(tmp324, (3, 2, 4, 0, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp633, (1, 2, 3, 4), (0, 4, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp324, (4, 3, 2, 1, 0)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp633, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.aaaaa += np.transpose(tmp324, (4, 3, 2, 0, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp633, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    r3new.aaaaa += np.transpose(tmp324, (3, 4, 2, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp633, (1, 2, 3, 4), (0, 3, 4, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp324, (3, 4, 2, 0, 1)) * 2
    del tmp324
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp633, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp510, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp231, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp231, (2, 4, 3, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp216, (3, 2, 4, 1, 0)) * 2
    r3new.aaaaa += np.transpose(tmp216, (4, 2, 3, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp451, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp451, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp231, (4, 3, 2, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp216, (2, 3, 4, 1, 0)) * -2
    r3new.aaaaa += np.transpose(tmp216, (2, 4, 3, 1, 0)) * 2
    del tmp216
    r3new.aaaaa += np.transpose(tmp231, (4, 3, 2, 1, 0)) * -2
    del tmp231
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp277, (4, 3, 2, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp277, (2, 4, 3, 0, 1)) * -4
    r3new.aaaaa += np.transpose(tmp277, (4, 2, 3, 0, 1)) * 4
    del tmp277
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp505, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp505, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp625, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp305, (3, 4, 2, 0, 1)) * 3
    r3new.aaaaa += np.transpose(tmp300, (2, 3, 4, 1, 0)) * -3
    r3new.aaaaa += np.transpose(tmp305, (3, 4, 2, 0, 1)) * 3
    del tmp305
    r3new.aaaaa += np.transpose(tmp269, (3, 4, 2, 0, 1))
    del tmp269
    r3new.aaaaa += np.transpose(tmp300, (2, 3, 4, 1, 0)) * -3
    del tmp300
    r3new.aaaaa += np.transpose(tmp296, (2, 3, 4, 0, 1)) * -2
    r3new.aaaaa += np.transpose(tmp296, (2, 4, 3, 0, 1)) * 2
    r3new.aaaaa += np.transpose(tmp296, (4, 2, 3, 0, 1)) * -2
    del tmp296
    r3new.aaaaa += np.transpose(tmp291, (3, 4, 2, 0, 1)) * 4
    tmp325 = einsum(r2.aaa, (0, 1, 2), ints.tmp10, (3, 1, 4, 5), (3, 2, 4, 5, 0))
    tmp326 = einsum(t1.aa, (0, 1), tmp325, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5))
    del tmp325
    tmp327 = einsum(t1.aa, (0, 1), tmp326, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp326
    r3new.aaaaa += np.transpose(tmp327, (3, 2, 4, 0, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp638, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp637, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp327, (3, 2, 4, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp638, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp637, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp327, (4, 3, 2, 0, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp638, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp327, (4, 3, 2, 1, 0)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp638, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.aaaaa += np.transpose(tmp327, (3, 4, 2, 0, 1)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp638, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp637, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.aaaaa += np.transpose(tmp327, (3, 4, 2, 1, 0)) * 2
    del tmp327
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp638, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp637, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp418, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.aaaaa += np.transpose(tmp291, (4, 2, 3, 1, 0)) * -4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp642, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.aaaaa += np.transpose(tmp291, (4, 2, 3, 0, 1)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp642, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp291, (4, 3, 2, 1, 0)) * 4
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp642, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.aaaaa += np.transpose(tmp291, (4, 3, 2, 0, 1)) * -4
    del tmp291
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp642, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp643, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp643, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp643, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp643, (1, 2, 3, 4), (4, 0, 3, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp644, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp644, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp642, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp642, (1, 2, 3, 4), (0, 4, 3, 2, 1))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.aaaaa += einsum(r1.a, (0,), ints.tmp455, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    tmp1290 = einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 1, 2), (0, 4, 5, 6, 3))
    tmp1291 = einsum(t1.bb, (0, 1), tmp1290, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    del tmp1290
    r3new.bbbbb = np.copy(np.transpose(tmp1291, (2, 3, 4, 0, 1))) * -6
    tmp1292 = einsum(r2.bbb, (0, 1, 2), ints.tmp1715, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.bbbbb += np.transpose(tmp1292, (2, 4, 3, 0, 1)) * 2
    tmp1295 = einsum(r1.b, (0,), ints.tmp1969, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1295, (2, 4, 3, 0, 1)) * -3
    tmp1294 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovvv, (3, 4, 5, 1), (2, 3, 0, 4, 5))
    r3new.bbbbb += np.transpose(tmp1294, (3, 4, 2, 0, 1)) * -2
    tmp1297 = einsum(r2.bbb, (0, 1, 2), ints.tmp1723, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp1300 = np.copy(np.transpose(tmp1297, (0, 1, 2, 4, 3))) * -1
    tmp1298 = np.copy(tmp165)
    tmp1298 += np.transpose(tmp165, (0, 2, 1)) * -1
    tmp1299 = einsum(tmp1298, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -1
    del tmp1298
    tmp1300 += np.transpose(tmp1299, (1, 0, 2, 4, 3))
    del tmp1299
    tmp1301 = einsum(t1.bb, (0, 1), tmp1300, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp1300
    r3new.bbbbb += np.transpose(tmp1301, (4, 3, 2, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp172, (4, 3, 2, 0, 1)) * 2
    tmp1296 = einsum(ints.tmp220, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 0), (1, 6, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1296, (2, 4, 3, 1, 0)) * -6
    tmp1293 = einsum(ints.tmp227, (0, 1), r3.bbbbb, (2, 3, 4, 5, 0), (1, 5, 2, 3, 4))
    r3new.bbbbb += np.transpose(tmp1293, (3, 4, 2, 1, 0)) * -6
    r3new.bbbbb += einsum(ints.tmp234, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 4, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1945, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1296, (2, 4, 3, 0, 1)) * 6
    r3new.bbbbb += np.transpose(tmp1293, (3, 4, 2, 0, 1)) * 6
    del tmp1293
    r3new.bbbbb += einsum(ints.tmp234, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1291, (2, 3, 4, 1, 0)) * 6
    del tmp1291
    r3new.bbbbb += np.transpose(tmp1292, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1295, (2, 4, 3, 1, 0)) * 3
    r3new.bbbbb += np.transpose(tmp1294, (3, 4, 2, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp172, (4, 3, 2, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1301, (4, 3, 2, 1, 0))
    del tmp1301
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1945, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbbbb += np.transpose(tmp172, (2, 4, 3, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1292, (4, 2, 3, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1294, (4, 3, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1296, (3, 2, 4, 1, 0)) * -6
    r3new.bbbbb += einsum(ints.tmp234, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1945, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbbbb += np.transpose(tmp1296, (3, 2, 4, 0, 1)) * 6
    r3new.bbbbb += einsum(ints.tmp234, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp172, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1292, (4, 2, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1294, (4, 3, 2, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1945, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp172, (2, 3, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1294, (4, 2, 3, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1292, (4, 3, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1296, (3, 4, 2, 1, 0)) * 6
    r3new.bbbbb += einsum(ints.tmp234, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1945, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.bbbbb += np.transpose(tmp1296, (3, 4, 2, 0, 1)) * -6
    del tmp1296
    r3new.bbbbb += einsum(ints.tmp234, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp172, (2, 3, 4, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1294, (4, 2, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1292, (4, 3, 2, 1, 0)) * -2
    del tmp1292
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1945, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.bbbbb += einsum(ints.tmp1739, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 2, 3), (4, 5, 6, 0, 1)) * 6
    tmp1308 = einsum(r2.bbb, (0, 1, 2), v.bbbb.vvvv, (3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp1309 = einsum(t1.bb, (0, 1), tmp1308, (2, 3, 4, 1, 5), (2, 0, 3, 5, 4))
    del tmp1308
    r3new.bbbbb += np.transpose(tmp1309, (3, 4, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1309, (4, 3, 2, 0, 1)) * -2
    tmp1306 = einsum(r2.bbb, (0, 1, 2), ints.tmp1739, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    tmp1307 = einsum(t1.bb, (0, 1), tmp1306, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1306
    r3new.bbbbb += np.transpose(tmp1307, (2, 3, 4, 1, 0)) * -4
    tmp1302 = einsum(r2.bbb, (0, 1, 2), ints.tmp1728, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.bbbbb += np.transpose(tmp1302, (2, 4, 3, 1, 0)) * -4
    tmp1304 = einsum(ints.tmp181, (0, 1), r3.bbbbb, (2, 3, 0, 4, 5), (4, 5, 1, 2, 3))
    r3new.bbbbb += np.transpose(tmp1304, (2, 4, 3, 1, 0)) * 6
    tmp1303 = einsum(ints.tmp1764, (0, 1), r3.bbbbb, (2, 3, 4, 5, 1), (0, 5, 2, 3, 4))
    r3new.bbbbb += np.transpose(tmp1303, (3, 4, 2, 1, 0)) * -6
    tmp1305 = einsum(v.bbbb.vvvv, (0, 1, 2, 3), r3.bbbbb, (4, 1, 3, 5, 6), (5, 6, 4, 0, 2))
    r3new.bbbbb += np.transpose(tmp1305, (3, 4, 2, 1, 0)) * -6
    tmp1310 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 1, 5, 0, 6), (6, 4, 5, 2, 3)) * -1
    tmp1312 = np.copy(np.transpose(tmp1310, (0, 2, 1, 4, 3)))
    tmp1311 = einsum(ints.tmp29, (0, 1, 2, 3), r3.bbbbb, (4, 5, 2, 6, 0), (6, 1, 3, 4, 5))
    tmp1312 += np.transpose(tmp1311, (0, 4, 3, 2, 1)) * -3
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1312, (2, 3, 4, 5, 1), (5, 4, 3, 2, 0)) * -2
    del tmp1312
    r3new.bbbbb += einsum(ints.tmp255, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 4, 0)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1763, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1727, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    tmp1313 = np.copy(np.transpose(tmp1310, (0, 2, 1, 4, 3)))
    tmp1313 += np.transpose(tmp1311, (0, 4, 3, 1, 2)) * -3
    tmp1314 = einsum(t1.bb, (0, 1), tmp1313, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 2
    del tmp1313
    r3new.bbbbb += np.transpose(tmp1314, (2, 4, 3, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1302, (4, 2, 3, 1, 0)) * 4
    r3new.bbbbb += np.transpose(tmp1304, (4, 2, 3, 1, 0)) * -6
    r3new.bbbbb += einsum(ints.tmp372, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1763, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1743, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1314, (2, 3, 4, 1, 0))
    del tmp1314
    r3new.bbbbb += np.transpose(tmp1302, (4, 3, 2, 1, 0)) * -4
    del tmp1302
    r3new.bbbbb += np.transpose(tmp1304, (4, 3, 2, 1, 0)) * 6
    del tmp1304
    r3new.bbbbb += einsum(ints.tmp372, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1763, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1743, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    tmp1315 = einsum(r2.bbb, (0, 1, 2), ints.tmp1999, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.bbbbb += np.transpose(tmp1315, (2, 4, 3, 0, 1)) * -4
    tmp1316 = einsum(r2.bbb, (0, 1, 2), ints.tmp220, (3, 4, 1, 5), (3, 4, 2, 5, 0))
    tmp1319 = np.copy(tmp1316) * -0.3333333333333333
    tmp1318 = einsum(ints.tmp277, (0, 1, 2, 3), r3.bbbbb, (4, 5, 3, 6, 2), (0, 1, 6, 4, 5))
    tmp1319 += np.transpose(tmp1318, (0, 1, 2, 4, 3)) * -1
    del tmp1318
    tmp1317 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 1, 5, 0, 6), (6, 2, 3, 4, 5)) * -1
    tmp1319 += np.transpose(tmp1317, (1, 2, 0, 4, 3)) * -0.3333333333333333
    del tmp1317
    tmp1320 = einsum(t1.bb, (0, 1), tmp1319, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 6
    del tmp1319
    r3new.bbbbb += np.transpose(tmp1320, (2, 3, 4, 1, 0))
    r3new.bbbbb += einsum(ints.tmp337, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 4, 0)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.bbbbb += np.transpose(tmp1320, (2, 3, 4, 0, 1)) * -1
    r3new.bbbbb += einsum(ints.tmp283, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1315, (2, 4, 3, 1, 0)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1315, (4, 2, 3, 0, 1)) * 4
    r3new.bbbbb += np.transpose(tmp1320, (3, 2, 4, 1, 0)) * -1
    r3new.bbbbb += einsum(ints.tmp337, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1320, (3, 2, 4, 0, 1))
    r3new.bbbbb += einsum(ints.tmp283, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1315, (4, 2, 3, 1, 0)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1321 = einsum(tmp190, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 3, 2, 4, 5))
    r3new.bbbbb += np.transpose(tmp1321, (3, 4, 2, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1315, (4, 3, 2, 0, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1320, (3, 4, 2, 1, 0))
    r3new.bbbbb += einsum(ints.tmp337, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 4, 0)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (4, 0, 3, 1, 2))
    r3new.bbbbb += np.transpose(tmp1320, (3, 4, 2, 0, 1)) * -1
    del tmp1320
    r3new.bbbbb += einsum(ints.tmp283, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1321, (3, 4, 2, 1, 0)) * 2
    del tmp1321
    r3new.bbbbb += np.transpose(tmp1315, (4, 3, 2, 1, 0)) * 4
    del tmp1315
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    tmp1325 = einsum(r2.bbb, (0, 1, 2), ints.tmp1768, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp1326 = einsum(t1.bb, (0, 1), tmp1325, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1325
    r3new.bbbbb += np.transpose(tmp1326, (2, 3, 4, 0, 1)) * -2
    tmp1324 = einsum(r2.bbb, (0, 1, 2), ints.tmp1757, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.bbbbb += np.transpose(tmp1324, (2, 4, 3, 0, 1)) * 2
    tmp1327 = np.copy(np.transpose(tmp1311, (0, 1, 2, 4, 3))) * -1
    tmp1327 += np.transpose(tmp1310, (0, 4, 3, 2, 1)) * 0.3333333333333333
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1327, (2, 1, 3, 4, 5), (3, 5, 4, 0, 2)) * 6
    del tmp1327
    r3new.bbbbb += np.transpose(tmp1303, (3, 4, 2, 0, 1)) * 6
    del tmp1303
    r3new.bbbbb += einsum(ints.tmp372, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1326, (2, 3, 4, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1324, (2, 4, 3, 1, 0)) * -2
    tmp1322 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 0, 2), (4, 5, 6, 3, 1)) * -1
    tmp1323 = einsum(t1.bb, (0, 1), tmp1322, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * -1
    del tmp1322
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1323, (2, 3, 4, 5, 1), (4, 3, 5, 2, 0)) * 6
    del tmp1323
    r3new.bbbbb += np.transpose(tmp1309, (3, 4, 2, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1309, (4, 3, 2, 1, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1755, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1755, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    tmp1328 = np.copy(np.transpose(tmp1311, (0, 1, 2, 4, 3))) * -3
    del tmp1311
    tmp1328 += np.transpose(tmp1310, (0, 4, 3, 2, 1))
    del tmp1310
    tmp1329 = einsum(t1.bb, (0, 1), tmp1328, (2, 1, 3, 4, 5), (0, 2, 3, 4, 5)) * 2
    del tmp1328
    r3new.bbbbb += np.transpose(tmp1329, (3, 2, 4, 0, 1))
    r3new.bbbbb += np.transpose(tmp1324, (4, 2, 3, 0, 1)) * -2
    r3new.bbbbb += einsum(ints.tmp372, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1324, (4, 2, 3, 1, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1927, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1329, (3, 4, 2, 0, 1)) * -1
    del tmp1329
    r3new.bbbbb += np.transpose(tmp1324, (4, 3, 2, 0, 1)) * 2
    r3new.bbbbb += einsum(ints.tmp372, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1324, (4, 3, 2, 1, 0)) * -2
    del tmp1324
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1927, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    tmp1334 = einsum(r1.b, (0,), ints.tmp2024, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp1335 = einsum(t1.bb, (0, 1), tmp1334, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.bbbbb += np.transpose(tmp1335, (2, 3, 4, 0, 1)) * -2
    tmp1330 = einsum(t2.abab, (0, 1, 2, 3), tmp170, (0, 4, 2, 5, 6), (4, 1, 5, 6, 3))
    r3new.bbbbb += np.transpose(tmp1330, (4, 3, 2, 0, 1)) * -6
    tmp1336 = einsum(t2.abab, (0, 1, 2, 3), ints.tmp1, (4, 0, 2, 5), (4, 1, 5, 3))
    tmp1337 = einsum(tmp1336, (0, 1, 2, 3), r3.babab, (4, 2, 5, 0, 6), (6, 1, 4, 5, 3)) * -1
    del tmp1336
    r3new.bbbbb += np.transpose(tmp1337, (4, 3, 2, 0, 1)) * -2
    tmp1332 = einsum(r2.bbb, (0, 1, 2), ints.tmp1689, (3, 4, 1, 5), (3, 2, 4, 5, 0))
    r3new.bbbbb += np.transpose(tmp1332, (2, 3, 4, 1, 0)) * -4
    tmp1338 = einsum(r1.b, (0,), ints.tmp2012, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1338, (2, 3, 4, 1, 0)) * 2
    tmp1339 = np.copy(np.transpose(tmp173, (0, 1, 2, 4, 3))) * -1
    tmp1339 += np.transpose(tmp172, (1, 0, 4, 3, 2)) * 0.3333333333333333
    tmp1340 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1339, (1, 4, 3, 5, 6), (0, 4, 2, 5, 6)) * 12
    del tmp1339
    r3new.bbbbb += np.transpose(tmp1340, (2, 3, 4, 1, 0))
    tmp1341 = np.copy(tmp176) * 0.3333333333333333
    tmp1341 += np.transpose(tmp177, (0, 2, 1)) * -0.3333333333333333
    tmp1341 += np.transpose(tmp178, (0, 2, 1))
    tmp1341 += np.transpose(tmp175, (2, 1, 0)) * -0.16666666666666666
    tmp1342 = einsum(tmp1341, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -12
    del tmp1341
    r3new.bbbbb += np.transpose(tmp1342, (2, 3, 4, 1, 0))
    tmp1331 = einsum(r2.bbb, (0, 1, 2), ints.tmp1783, (2, 3, 4, 5), (3, 4, 5, 0, 1))
    r3new.bbbbb += np.transpose(tmp1331, (2, 4, 3, 1, 0)) * 4
    tmp1333 = einsum(ints.tmp299, (0, 1), r3.bbbbb, (2, 3, 1, 4, 5), (4, 5, 0, 2, 3))
    r3new.bbbbb += np.transpose(tmp1333, (2, 4, 3, 1, 0)) * -12
    r3new.bbbbb += np.transpose(tmp1338, (2, 4, 3, 1, 0)) * -2
    tmp1343 = einsum(ints.tmp35, (0, 1), r3.bbbbb, (2, 3, 1, 4, 5), (0, 4, 5, 2, 3))
    tmp1345 = np.copy(np.transpose(tmp1343, (0, 2, 1, 4, 3)))
    del tmp1343
    tmp1344 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.bbbbb, (4, 1, 3, 5, 6), (5, 6, 0, 4, 2))
    tmp1345 += np.transpose(tmp1344, (2, 1, 0, 3, 4))
    tmp1346 = einsum(t1.bb, (0, 1), tmp1345, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 6
    del tmp1345
    r3new.bbbbb += np.transpose(tmp1346, (2, 4, 3, 1, 0)) * -1
    r3new.bbbbb += einsum(ints.tmp1016, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 4, 0)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2028, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -6
    r3new.bbbbb += np.transpose(tmp1330, (2, 4, 3, 0, 1)) * -6
    r3new.bbbbb += np.transpose(tmp1337, (2, 4, 3, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1335, (3, 2, 4, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1332, (3, 2, 4, 1, 0)) * 4
    r3new.bbbbb += np.transpose(tmp1340, (3, 2, 4, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1342, (3, 2, 4, 1, 0)) * -1
    tmp1350 = np.copy(tmp1338) * 2
    del tmp1338
    tmp1347 = einsum(r1.b, (0,), ints.tmp2029, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp1348 = einsum(t1.bb, (0, 1), tmp1347, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1347
    tmp1349 = einsum(t1.bb, (0, 1), tmp1348, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1348
    tmp1350 += tmp1349 * 2
    r3new.bbbbb += np.transpose(tmp1350, (3, 2, 4, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1331, (4, 2, 3, 1, 0)) * -4
    del tmp1331
    r3new.bbbbb += np.transpose(tmp1333, (4, 2, 3, 1, 0)) * 12
    r3new.bbbbb += np.transpose(tmp1346, (4, 2, 3, 1, 0))
    r3new.bbbbb += np.transpose(tmp1350, (4, 2, 3, 1, 0))
    r3new.bbbbb += einsum(ints.tmp1016, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2028, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 6
    r3new.bbbbb += np.transpose(tmp1330, (2, 3, 4, 0, 1)) * 6
    r3new.bbbbb += np.transpose(tmp1337, (2, 3, 4, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1335, (3, 4, 2, 0, 1)) * -2
    tmp1351 = einsum(r1.b, (0,), ints.tmp2033, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1351, (3, 2, 4, 1, 0)) * -4
    r3new.bbbbb += np.transpose(tmp1332, (3, 4, 2, 1, 0)) * -4
    r3new.bbbbb += np.transpose(tmp1340, (3, 4, 2, 1, 0))
    del tmp1340
    r3new.bbbbb += np.transpose(tmp1342, (3, 4, 2, 1, 0))
    del tmp1342
    r3new.bbbbb += np.transpose(tmp1350, (3, 4, 2, 1, 0))
    r3new.bbbbb += np.transpose(tmp1333, (4, 3, 2, 1, 0)) * -12
    del tmp1333
    r3new.bbbbb += np.transpose(tmp1346, (4, 3, 2, 1, 0)) * -1
    del tmp1346
    r3new.bbbbb += np.transpose(tmp1350, (4, 3, 2, 1, 0)) * -1
    del tmp1350
    r3new.bbbbb += einsum(ints.tmp1016, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 4, 0)) * 4
    r3new.bbbbb += einsum(r2.bbb, (0, 1, 2), ints.tmp2035, (3, 4, 2, 5), (0, 1, 5, 4, 3)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2028, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -6
    tmp1353 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ooov, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp1354 = einsum(t1.bb, (0, 1), tmp1353, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1))
    del tmp1353
    tmp1355 = einsum(t1.bb, (0, 1), tmp1354, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1354
    r3new.bbbbb += np.transpose(tmp1355, (3, 4, 2, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1355, (4, 3, 2, 0, 1)) * 2
    tmp1352 = einsum(r2.bbb, (0, 1, 2), ints.tmp325, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.bbbbb += np.transpose(tmp1352, (3, 2, 4, 1, 0)) * 4
    tmp1356 = einsum(r1.b, (0,), ints.tmp220, (1, 2, 3, 0), (1, 2, 3))
    tmp1358 = np.copy(tmp1356) * 0.5
    tmp1357 = einsum(r2.bbb, (0, 1, 2), ints.tmp2040, (3, 4, 2, 1), (3, 4, 0))
    tmp1358 += tmp1357
    tmp1358 += np.transpose(tmp157, (1, 0, 2)) * 0.5
    r3new.bbbbb += einsum(tmp1358, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (4, 5, 2, 3, 0)) * 4
    del tmp1358
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1811, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1352, (3, 2, 4, 0, 1)) * -4
    tmp1360 = np.copy(tmp1357) * 2
    tmp1360 += tmp1356
    del tmp1356
    tmp1360 += np.transpose(tmp157, (1, 0, 2))
    r3new.bbbbb += einsum(tmp1360, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (4, 5, 2, 0, 3)) * -2
    del tmp1360
    tmp1359 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ooov, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.bbbbb += np.transpose(tmp1359, (3, 2, 4, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1355, (3, 4, 2, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1355, (4, 3, 2, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (4, 0, 2, 1, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2047, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * 6
    r3new.bbbbb += np.transpose(tmp1355, (3, 2, 4, 0, 1)) * 2
    tmp884 = np.copy(np.transpose(tmp150, (0, 2, 1))) * -2
    tmp884 += np.transpose(tmp153, (1, 0, 2)) * -1
    tmp884 += np.transpose(tmp153, (1, 2, 0))
    del tmp153
    tmp1364 = einsum(tmp884, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -0.5
    tmp1365 = einsum(t1.bb, (0, 1), tmp1364, (2, 3, 0, 4, 5), (2, 3, 1, 5, 4)) * -4
    r3new.bbbbb += np.transpose(tmp1365, (3, 2, 4, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1355, (4, 2, 3, 0, 1)) * -2
    tmp1361 = einsum(r1.b, (0,), ints.tmp2048, (1, 2, 3, 0), (1, 2, 3))
    tmp1362 = np.copy(tmp1361) * 0.5
    tmp1362 += tmp1357
    tmp1362 += np.transpose(tmp157, (1, 0, 2)) * 0.5
    tmp1363 = einsum(tmp1362, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -4
    del tmp1362
    r3new.bbbbb += np.transpose(tmp1363, (3, 4, 2, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1352, (3, 4, 2, 1, 0)) * -4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2055, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 6
    r3new.bbbbb += np.transpose(tmp1352, (3, 4, 2, 0, 1)) * 4
    r3new.bbbbb += np.transpose(tmp1355, (3, 2, 4, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1365, (3, 2, 4, 1, 0))
    r3new.bbbbb += np.transpose(tmp1355, (4, 2, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1359, (3, 4, 2, 1, 0)) * 2
    tmp1366 = np.copy(tmp1357) * 2
    del tmp1357
    tmp1366 += tmp1361
    del tmp1361
    tmp1366 += np.transpose(tmp157, (1, 0, 2))
    tmp1367 = einsum(tmp1366, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -2
    del tmp1366
    r3new.bbbbb += np.transpose(tmp1367, (3, 4, 2, 1, 0))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2055, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -6
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (4, 2, 0, 1, 3)) * -1
    r3new.bbbbb += np.transpose(tmp1355, (2, 3, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1365, (2, 3, 4, 0, 1))
    r3new.bbbbb += np.transpose(tmp1355, (2, 4, 3, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1363, (4, 3, 2, 0, 1))
    del tmp1363
    r3new.bbbbb += np.transpose(tmp1352, (4, 3, 2, 1, 0)) * 4
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2055, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -6
    r3new.bbbbb += np.transpose(tmp1352, (4, 3, 2, 0, 1)) * -4
    del tmp1352
    r3new.bbbbb += np.transpose(tmp1355, (2, 3, 4, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1365, (2, 3, 4, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1355, (2, 4, 3, 1, 0)) * -2
    del tmp1355
    r3new.bbbbb += np.transpose(tmp1359, (4, 3, 2, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1367, (4, 3, 2, 1, 0)) * -1
    del tmp1367
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2055, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (2, 4, 0, 1, 3))
    tmp1372 = np.copy(tmp1334)
    del tmp1334
    tmp1371 = einsum(tmp181, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -1
    tmp1372 += np.transpose(tmp1371, (1, 0, 2, 3, 4)) * -1
    tmp1373 = einsum(t1.bb, (0, 1), tmp1372, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp1372
    r3new.bbbbb += np.transpose(tmp1373, (2, 4, 3, 0, 1))
    tmp1368 = einsum(t1.bb, (0, 1), tmp1344, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1344
    r3new.bbbbb += np.transpose(tmp1368, (2, 4, 3, 1, 0)) * -6
    r3new.bbbbb += np.transpose(tmp1332, (4, 3, 2, 1, 0)) * 4
    tmp1369 = np.copy(tmp176) * 2
    tmp1369 += np.transpose(tmp175, (2, 1, 0)) * -1
    tmp1370 = einsum(tmp1369, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -2
    del tmp1369
    r3new.bbbbb += np.transpose(tmp1370, (4, 3, 2, 1, 0)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2028, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1889, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1335, (2, 4, 3, 0, 1)) * 2
    del tmp1335
    r3new.bbbbb += np.transpose(tmp1370, (2, 4, 3, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1368, (3, 2, 4, 1, 0)) * -6
    r3new.bbbbb += einsum(r2.bbb, (0, 1, 2), ints.tmp380, (3, 4, 1, 5), (4, 0, 5, 2, 3)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1793, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1373, (2, 3, 4, 0, 1)) * -1
    del tmp1373
    r3new.bbbbb += np.transpose(tmp1368, (2, 3, 4, 1, 0)) * 6
    del tmp1368
    r3new.bbbbb += np.transpose(tmp1332, (4, 2, 3, 1, 0)) * -4
    r3new.bbbbb += np.transpose(tmp1370, (4, 2, 3, 1, 0))
    del tmp1370
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2028, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1889, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1332, (2, 3, 4, 0, 1)) * 4
    tmp1374 = np.copy(np.transpose(tmp173, (0, 1, 2, 4, 3))) * -3
    tmp1374 += np.transpose(tmp172, (1, 0, 4, 3, 2))
    tmp1375 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1374, (1, 4, 3, 5, 6), (0, 4, 2, 5, 6)) * 4
    del tmp1374
    r3new.bbbbb += np.transpose(tmp1375, (2, 3, 4, 0, 1)) * -1
    r3new.bbbbb += einsum(ints.tmp310, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1330, (4, 3, 2, 1, 0)) * 6
    r3new.bbbbb += np.transpose(tmp1337, (4, 3, 2, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1332, (3, 2, 4, 0, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1375, (3, 2, 4, 0, 1))
    r3new.bbbbb += einsum(ints.tmp310, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1330, (2, 4, 3, 1, 0)) * 6
    r3new.bbbbb += np.transpose(tmp1337, (2, 4, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1332, (3, 4, 2, 0, 1)) * 4
    r3new.bbbbb += np.transpose(tmp1375, (3, 4, 2, 0, 1)) * -1
    del tmp1375
    r3new.bbbbb += einsum(ints.tmp310, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1330, (2, 3, 4, 1, 0)) * -6
    del tmp1330
    r3new.bbbbb += np.transpose(tmp1337, (2, 3, 4, 1, 0)) * -2
    del tmp1337
    tmp1380 = einsum(r2.aba, (0, 1, 2), ints.tmp1819, (2, 3, 4, 0, 5, 6), (3, 4, 5, 6, 1))
    r3new.bbbbb += np.transpose(tmp1380, (2, 3, 4, 1, 0)) * 6
    tmp1381 = einsum(r2.bbb, (0, 1, 2), ints.tmp1488, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.bbbbb += np.transpose(tmp1381, (2, 3, 4, 1, 0)) * 2
    tmp1382 = einsum(r1.b, (0,), ints.tmp2071, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1382, (2, 3, 4, 1, 0)) * -6
    tmp1383 = einsum(r2.bbb, (0, 1, 2), ints.tmp1831, (3, 4, 2, 5, 6, 1), (3, 4, 5, 6, 0))
    r3new.bbbbb += np.transpose(tmp1383, (2, 3, 4, 1, 0)) * -2
    tmp1384 = np.copy(tmp193) * -0.3333333333333333
    tmp1384 += tmp194 * -0.3333333333333333
    tmp1384 += tmp195
    tmp1384 += np.transpose(tmp192, (1, 0, 2)) * 0.3333333333333333
    tmp1385 = einsum(tmp1384, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -12
    del tmp1384
    r3new.bbbbb += np.transpose(tmp1385, (3, 2, 4, 1, 0))
    tmp1386 = einsum(r2.bbb, (0, 1, 2), ints.tmp286, (3, 4, 5, 1), (3, 4, 2, 5, 0))
    tmp1387 = np.copy(tmp1386)
    tmp1387 += np.transpose(tmp1371, (1, 2, 0, 3, 4))
    del tmp1371
    tmp1388 = einsum(t1.bb, (0, 1), tmp1387, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp1387
    r3new.bbbbb += np.transpose(tmp1388, (3, 2, 4, 1, 0))
    tmp1376 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.bbbbb, (4, 1, 3, 5, 6), (5, 6, 0, 2, 4))
    tmp1377 = einsum(t2.bbbb, (0, 1, 2, 3), tmp1376, (4, 5, 0, 1, 6), (4, 5, 6, 2, 3))
    r3new.bbbbb += np.transpose(tmp1377, (3, 4, 2, 1, 0)) * -6
    tmp1378 = einsum(t1.bb, (0, 1), tmp1376, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1376
    tmp1379 = einsum(t1.bb, (0, 1), tmp1378, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * -1
    del tmp1378
    r3new.bbbbb += np.transpose(tmp1379, (4, 3, 2, 1, 0)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2082, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1389 = einsum(r2.bbb, (0, 1, 2), ints.tmp1702, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.bbbbb += np.transpose(tmp1389, (2, 3, 4, 0, 1)) * -12
    tmp1390 = einsum(t1.bb, (0, 1), tmp1386, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1386
    r3new.bbbbb += np.transpose(tmp1390, (2, 4, 3, 0, 1)) * -2
    tmp1391 = np.copy(tmp193) * -1
    tmp1391 += tmp194 * -1
    tmp1391 += tmp195 * 3
    tmp1391 += np.transpose(tmp192, (1, 0, 2))
    tmp1392 = einsum(tmp1391, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -4
    del tmp1391
    r3new.bbbbb += np.transpose(tmp1392, (3, 2, 4, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1380, (2, 4, 3, 1, 0)) * -6
    r3new.bbbbb += np.transpose(tmp1381, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1382, (2, 4, 3, 1, 0)) * 6
    del tmp1382
    r3new.bbbbb += np.transpose(tmp1383, (2, 4, 3, 1, 0)) * 2
    tmp1393 = einsum(r1.b, (0,), ints.tmp1831, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp1394 = einsum(t1.bb, (0, 1), tmp1393, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.bbbbb += np.transpose(tmp1394, (2, 4, 3, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1377, (3, 2, 4, 1, 0)) * 6
    r3new.bbbbb += np.transpose(tmp1379, (4, 2, 3, 1, 0)) * -6
    r3new.bbbbb += np.transpose(tmp1385, (3, 4, 2, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1388, (3, 4, 2, 1, 0)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2087, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1390, (2, 3, 4, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1389, (2, 4, 3, 0, 1)) * 12
    r3new.bbbbb += np.transpose(tmp1392, (3, 4, 2, 0, 1))
    r3new.bbbbb += np.transpose(tmp1377, (2, 4, 3, 1, 0)) * 6
    del tmp1377
    r3new.bbbbb += np.transpose(tmp1379, (2, 4, 3, 1, 0)) * 6
    del tmp1379
    r3new.bbbbb += np.transpose(tmp1380, (4, 2, 3, 1, 0)) * 6
    del tmp1380
    r3new.bbbbb += np.transpose(tmp1381, (4, 2, 3, 1, 0)) * 2
    del tmp1381
    r3new.bbbbb += np.transpose(tmp1383, (4, 2, 3, 1, 0)) * -2
    del tmp1383
    r3new.bbbbb += np.transpose(tmp1394, (4, 2, 3, 1, 0))
    del tmp1394
    r3new.bbbbb += np.transpose(tmp1385, (4, 3, 2, 1, 0))
    del tmp1385
    r3new.bbbbb += np.transpose(tmp1388, (4, 3, 2, 1, 0))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2088, (1, 2, 3, 4, 5, 0), (5, 4, 3, 2, 1)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1887, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    r3new.bbbbb += np.transpose(tmp1390, (3, 2, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1389, (4, 2, 3, 0, 1)) * -12
    del tmp1389
    r3new.bbbbb += np.transpose(tmp1392, (4, 3, 2, 0, 1)) * -1
    del tmp1392
    tmp1395 = einsum(r2.aba, (0, 1, 2), ints.tmp1828, (2, 3, 4, 0, 5, 6), (3, 4, 5, 6, 1))
    r3new.bbbbb += np.transpose(tmp1395, (3, 2, 4, 0, 1))
    tmp1396 = einsum(r2.bbb, (0, 1, 2), ints.tmp1815, (3, 4, 2, 5, 6, 1), (3, 4, 5, 6, 0))
    r3new.bbbbb += np.transpose(tmp1396, (2, 3, 4, 1, 0)) * -2
    tmp1398 = einsum(r2.bbb, (0, 1, 2), ints.tmp326, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.bbbbb += np.transpose(tmp1398, (2, 3, 4, 1, 0)) * 2
    tmp1397 = einsum(r1.b, (0,), ints.tmp2069, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1397, (3, 2, 4, 1, 0))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1851, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.bbbbb += np.transpose(tmp1395, (3, 4, 2, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1396, (2, 4, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1398, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1397, (3, 4, 2, 1, 0)) * -1
    tmp1399 = einsum(r1.b, (0,), ints.tmp1815, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp1400 = einsum(t1.bb, (0, 1), tmp1399, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1399
    r3new.bbbbb += np.transpose(tmp1400, (3, 4, 2, 1, 0))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1851, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    tmp1401 = einsum(tmp150, (0, 1, 2), t3.bbbbbb, (3, 2, 1, 4, 5, 6), (0, 3, 4, 5, 6)) * -1
    r3new.bbbbb += np.transpose(tmp1401, (2, 3, 4, 0, 1)) * 3
    tmp1402 = einsum(r2.bbb, (0, 1, 2), v.bbbb.oooo, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp1403 = einsum(t1.bb, (0, 1), tmp1402, (2, 0, 3, 4, 5), (3, 2, 5, 4, 1)) * -1
    del tmp1402
    r3new.bbbbb += np.transpose(tmp1403, (2, 3, 4, 0, 1)) * 2
    r3new.bbbbb += einsum(v.bbbb.oooo, (0, 1, 2, 3), r3.bbbbb, (4, 5, 6, 3, 1), (4, 5, 6, 0, 2)) * -6
    tmp1405 = np.copy(tmp16) * 0.5
    del tmp16
    tmp1405 += tmp17 * -0.5
    del tmp17
    tmp1405 += tmp18
    del tmp18
    tmp1406 = einsum(tmp1405, (0,), t3.bbbbbb, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5)) * 6
    del tmp1405
    r3new.bbbbb += np.transpose(tmp1406, (3, 4, 2, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1359, (4, 3, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1349, (2, 3, 4, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1403, (2, 3, 4, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2101, (1, 2, 3, 4, 5, 0), (3, 4, 5, 2, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1349, (2, 4, 3, 1, 0)) * -2
    del tmp1349
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    tmp1404 = np.copy(tmp1393) * -0.25
    del tmp1393
    tmp1404 += np.transpose(tmp1364, (0, 1, 2, 4, 3)) * -1
    del tmp1364
    r3new.bbbbb += einsum(t1.bb, (0, 1), tmp1404, (2, 3, 0, 4, 5), (4, 5, 1, 3, 2)) * -4
    del tmp1404
    r3new.bbbbb += np.transpose(tmp1401, (2, 3, 4, 0, 1)) * 3
    r3new.bbbbb += np.transpose(tmp1403, (3, 4, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1406, (3, 4, 2, 0, 1)) * -1
    del tmp1406
    r3new.bbbbb += np.transpose(tmp1403, (3, 4, 2, 1, 0)) * -2
    tmp1407 = einsum(r1.b, (0,), ints.tmp2100, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.bbbbb += np.transpose(tmp1407, (3, 4, 2, 1, 0)) * -3
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    tmp1408 = einsum(r2.bbb, (0, 1, 2), ints.tmp339, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp1409 = einsum(t1.bb, (0, 1), tmp1408, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp1408
    r3new.bbbbb += np.transpose(tmp1409, (3, 2, 4, 0, 1)) * 4
    tmp1414 = einsum(t1.bb, (0, 1), tmp15, (2, 3, 1), (0, 2, 3))
    tmp1415 = np.copy(np.transpose(tmp1414, (1, 0, 2)))
    del tmp1414
    tmp1415 += np.transpose(tmp180, (1, 0, 2))
    tmp1416 = einsum(tmp1415, (0, 1, 2), t2.bbbb, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -2
    del tmp1415
    r3new.bbbbb += np.transpose(tmp1416, (3, 2, 4, 0, 1)) * -1
    tmp1410 = einsum(r2.bbb, (0, 1, 2), v.bbbb.ovov, (3, 4, 5, 1), (2, 3, 5, 0, 4))
    tmp1411 = einsum(t1.bb, (0, 1), tmp1410, (2, 3, 4, 5, 1), (2, 0, 4, 3, 5))
    del tmp1410
    tmp1412 = einsum(t1.bb, (0, 1), tmp1411, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1411
    tmp1413 = einsum(t1.bb, (0, 1), tmp1412, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1412
    r3new.bbbbb += np.transpose(tmp1413, (3, 4, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1413, (4, 3, 2, 0, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1409, (3, 2, 4, 1, 0)) * -4
    tmp1418 = np.copy(np.transpose(tmp180, (1, 0, 2))) * 0.5
    tmp1417 = einsum(t1.bb, (0, 1), tmp15, (2, 3, 1), (0, 2, 3)) * 0.5
    del tmp15
    tmp1418 += np.transpose(tmp1417, (1, 0, 2))
    del tmp1417
    tmp1419 = einsum(tmp1418, (0, 1, 2), t2.bbbb, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -4
    del tmp1418
    r3new.bbbbb += np.transpose(tmp1419, (3, 2, 4, 1, 0))
    r3new.bbbbb += np.transpose(tmp1413, (3, 4, 2, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1413, (4, 3, 2, 1, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1875, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    r3new.bbbbb += np.transpose(tmp1413, (3, 2, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1413, (4, 2, 3, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1409, (3, 4, 2, 0, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1416, (3, 4, 2, 0, 1))
    tmp791 = np.copy(tmp165) * -1
    tmp791 += np.transpose(tmp165, (0, 2, 1))
    del tmp165
    tmp1420 = einsum(tmp791, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (3, 0, 2, 4, 5)) * -1
    tmp1421 = einsum(t1.bb, (0, 1), tmp1420, (2, 3, 0, 4, 5), (3, 2, 1, 5, 4)) * 2
    del tmp1420
    r3new.bbbbb += np.transpose(tmp1421, (3, 2, 4, 1, 0)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1875, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1421, (3, 2, 4, 0, 1))
    r3new.bbbbb += np.transpose(tmp1413, (3, 2, 4, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1413, (4, 2, 3, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1409, (3, 4, 2, 1, 0)) * 4
    r3new.bbbbb += np.transpose(tmp1419, (3, 4, 2, 1, 0)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1413, (2, 3, 4, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1413, (2, 4, 3, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1409, (4, 3, 2, 0, 1)) * 4
    r3new.bbbbb += np.transpose(tmp1416, (4, 3, 2, 0, 1)) * -1
    del tmp1416
    r3new.bbbbb += np.transpose(tmp1421, (2, 3, 4, 1, 0))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2113, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1421, (2, 3, 4, 0, 1)) * -1
    del tmp1421
    r3new.bbbbb += np.transpose(tmp1413, (2, 3, 4, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1413, (2, 4, 3, 1, 0)) * 2
    del tmp1413
    r3new.bbbbb += np.transpose(tmp1409, (4, 3, 2, 1, 0)) * -4
    del tmp1409
    r3new.bbbbb += np.transpose(tmp1419, (4, 3, 2, 1, 0))
    del tmp1419
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1875, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * 2
    r3new.bbbbb += np.transpose(tmp1395, (4, 3, 2, 0, 1))
    del tmp1395
    r3new.bbbbb += np.transpose(tmp1388, (4, 2, 3, 1, 0)) * -1
    del tmp1388
    r3new.bbbbb += np.transpose(tmp1396, (4, 2, 3, 1, 0)) * -2
    del tmp1396
    r3new.bbbbb += np.transpose(tmp1398, (4, 2, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1400, (4, 3, 2, 1, 0)) * -1
    r3new.bbbbb += np.transpose(tmp1397, (4, 3, 2, 1, 0))
    del tmp1397
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1887, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -2
    tmp1423 = einsum(r2.bbb, (0, 1, 2), ints.tmp29, (3, 4, 1, 5), (3, 2, 4, 5, 0))
    tmp1424 = np.copy(tmp1423)
    tmp1424 += np.transpose(tmp173, (0, 1, 2, 4, 3)) * -3
    tmp1424 += np.transpose(tmp172, (1, 0, 4, 3, 2))
    tmp1425 = einsum(t1.bb, (0, 1), tmp1424, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp1424
    tmp1426 = einsum(t1.bb, (0, 1), tmp1425, (2, 0, 3, 4, 5), (3, 2, 1, 4, 5)) * 2
    del tmp1425
    r3new.bbbbb += np.transpose(tmp1426, (2, 3, 4, 0, 1)) * -1
    tmp1422 = einsum(r2.bbb, (0, 1, 2), ints.tmp1963, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.bbbbb += np.transpose(tmp1422, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += einsum(ints.tmp273, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 4, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2122, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1422, (2, 4, 3, 0, 1)) * 2
    r3new.bbbbb += einsum(ints.tmp273, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1426, (2, 3, 4, 1, 0))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2122, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.bbbbb += np.transpose(tmp1426, (3, 2, 4, 0, 1))
    r3new.bbbbb += np.transpose(tmp1422, (4, 2, 3, 1, 0)) * 2
    r3new.bbbbb += einsum(ints.tmp273, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2122, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1422, (4, 2, 3, 0, 1)) * -2
    r3new.bbbbb += einsum(ints.tmp273, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 0, 4)) * -2
    r3new.bbbbb += np.transpose(tmp1426, (3, 2, 4, 1, 0)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2122, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * 2
    r3new.bbbbb += np.transpose(tmp1426, (3, 4, 2, 0, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1422, (4, 3, 2, 1, 0)) * -2
    r3new.bbbbb += einsum(ints.tmp273, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 4, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2122, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1422, (4, 3, 2, 0, 1)) * 2
    del tmp1422
    r3new.bbbbb += einsum(ints.tmp273, (0, 1), r2.bbb, (2, 3, 4), (2, 3, 1, 0, 4)) * 2
    r3new.bbbbb += np.transpose(tmp1426, (3, 4, 2, 1, 0))
    del tmp1426
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2122, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2123, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (2, 0, 4, 1, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (0, 2, 4, 1, 3))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1807, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), v.bbbb.ovov, (1, 2, 3, 4), (0, 4, 2, 1, 3)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1807, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1359, (3, 4, 2, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1400, (3, 2, 4, 1, 0)) * -1
    del tmp1400
    r3new.bbbbb += np.transpose(tmp1351, (3, 4, 2, 1, 0)) * 4
    del tmp1351
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1934, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1359, (3, 2, 4, 0, 1)) * 2
    del tmp1359
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1934, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1295, (2, 4, 3, 0, 1)) * -3
    tmp1427 = einsum(t1.bb, (0, 1), tmp1297, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1297
    r3new.bbbbb += np.transpose(tmp1427, (2, 4, 3, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1294, (3, 2, 4, 0, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbbbb += np.transpose(tmp1295, (2, 4, 3, 1, 0)) * 3
    del tmp1295
    r3new.bbbbb += np.transpose(tmp1427, (2, 4, 3, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1294, (3, 2, 4, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1294, (2, 4, 3, 0, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.bbbbb += np.transpose(tmp1294, (2, 3, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1427, (4, 3, 2, 0, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1294, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1294, (2, 3, 4, 1, 0)) * 2
    del tmp1294
    r3new.bbbbb += np.transpose(tmp1427, (4, 3, 2, 1, 0)) * 2
    del tmp1427
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1711, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1726, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbbbb += np.transpose(tmp1309, (3, 2, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1309, (4, 2, 3, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1307, (2, 4, 3, 1, 0)) * 4
    r3new.bbbbb += np.transpose(tmp1305, (3, 2, 4, 1, 0)) * 6
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1727, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1763, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1309, (2, 3, 4, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1309, (2, 4, 3, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1305, (2, 4, 3, 1, 0)) * 6
    del tmp1305
    r3new.bbbbb += np.transpose(tmp1307, (4, 3, 2, 1, 0)) * 4
    del tmp1307
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1763, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1403, (4, 3, 2, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1403, (4, 3, 2, 1, 0)) * 2
    del tmp1403
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1852, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp1428 = einsum(t1.bb, (0, 1), tmp1316, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1316
    r3new.bbbbb += np.transpose(tmp1428, (3, 2, 4, 1, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1930, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1428, (3, 2, 4, 0, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (0, 4, 3, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1930, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    r3new.bbbbb += np.transpose(tmp1428, (4, 3, 2, 1, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.bbbbb += np.transpose(tmp1428, (4, 3, 2, 0, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    r3new.bbbbb += np.transpose(tmp1428, (3, 4, 2, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (0, 3, 4, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1930, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.bbbbb += np.transpose(tmp1428, (3, 4, 2, 0, 1)) * 2
    del tmp1428
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2002, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1930, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1326, (2, 4, 3, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1326, (2, 4, 3, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1309, (3, 2, 4, 1, 0)) * 2
    r3new.bbbbb += np.transpose(tmp1309, (4, 2, 3, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1755, (1, 2, 3, 4), (3, 0, 4, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1755, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1326, (4, 3, 2, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1309, (2, 3, 4, 1, 0)) * -2
    r3new.bbbbb += np.transpose(tmp1309, (2, 4, 3, 1, 0)) * 2
    del tmp1309
    r3new.bbbbb += np.transpose(tmp1326, (4, 3, 2, 1, 0)) * -2
    del tmp1326
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbbbb += np.transpose(tmp1332, (4, 3, 2, 0, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1332, (2, 4, 3, 0, 1)) * -4
    r3new.bbbbb += np.transpose(tmp1332, (4, 2, 3, 0, 1)) * 4
    del tmp1332
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1807, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1807, (1, 2, 3, 4), (4, 0, 3, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2123, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * 2
    r3new.bbbbb += np.transpose(tmp1407, (3, 4, 2, 0, 1)) * 3
    r3new.bbbbb += np.transpose(tmp1401, (2, 3, 4, 1, 0)) * -3
    r3new.bbbbb += np.transpose(tmp1407, (3, 4, 2, 0, 1)) * 3
    del tmp1407
    r3new.bbbbb += np.transpose(tmp1365, (3, 4, 2, 0, 1))
    del tmp1365
    r3new.bbbbb += np.transpose(tmp1401, (2, 3, 4, 1, 0)) * -3
    del tmp1401
    r3new.bbbbb += np.transpose(tmp1398, (2, 3, 4, 0, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1398, (2, 4, 3, 0, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1398, (4, 2, 3, 0, 1)) * -2
    del tmp1398
    r3new.bbbbb += np.transpose(tmp1390, (3, 4, 2, 0, 1)) * 2
    tmp1429 = einsum(t1.bb, (0, 1), tmp1423, (2, 3, 1, 4, 5), (2, 3, 0, 4, 5))
    del tmp1423
    tmp1430 = einsum(t1.bb, (0, 1), tmp1429, (0, 2, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1429
    r3new.bbbbb += np.transpose(tmp1430, (3, 2, 4, 0, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1896, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2129, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1430, (3, 2, 4, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1896, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2129, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.bbbbb += np.transpose(tmp1430, (4, 3, 2, 0, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1896, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    r3new.bbbbb += np.transpose(tmp1430, (4, 3, 2, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1896, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.bbbbb += np.transpose(tmp1430, (3, 4, 2, 0, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1896, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2129, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbbbb += np.transpose(tmp1430, (3, 4, 2, 1, 0)) * 2
    del tmp1430
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1896, (1, 2, 3, 4), (0, 3, 4, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2129, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1763, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1390, (4, 2, 3, 1, 0)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2132, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.bbbbb += np.transpose(tmp1390, (4, 2, 3, 0, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2132, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.bbbbb += np.transpose(tmp1390, (4, 3, 2, 1, 0)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2132, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.bbbbb += np.transpose(tmp1390, (4, 3, 2, 0, 1)) * -2
    del tmp1390
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2132, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1903, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1903, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1903, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1903, (1, 2, 3, 4), (4, 0, 3, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2133, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2133, (1, 2, 3, 4), (0, 3, 4, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2132, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp2132, (1, 2, 3, 4), (0, 4, 3, 2, 1)) * 2
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.bbbbb += einsum(r1.b, (0,), ints.tmp1771, (1, 2, 3, 4), (3, 0, 4, 2, 1)) * -1
    tmp1128 = einsum(r2.bab, (0, 1, 2), v.bbbb.ovvv, (3, 4, 5, 0), (2, 3, 1, 4, 5)) * -1
    r3new.bbabb = np.copy(np.transpose(tmp1128, (3, 4, 2, 0, 1))) * -1
    tmp1129 = einsum(tmp120, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp1130 = einsum(t1.aa, (0, 1), tmp1129, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1129
    r3new.bbabb += np.transpose(tmp1130, (3, 4, 2, 0, 1)) * -2
    tmp1127 = einsum(r2.bab, (0, 1, 2), ints.tmp1715, (3, 2, 4, 5), (3, 4, 1, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1127, (3, 4, 2, 0, 1))
    tmp1126 = einsum(ints.tmp220, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 0), (1, 6, 5, 3, 4)) * -1
    r3new.bbabb += np.transpose(tmp1126, (3, 4, 2, 1, 0)) * -2
    r3new.bbabb += einsum(ints.tmp234, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 4, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbabb += np.transpose(tmp1126, (3, 4, 2, 0, 1)) * 2
    r3new.bbabb += einsum(ints.tmp234, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.bbabb += np.transpose(tmp1127, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1130, (3, 4, 2, 1, 0)) * 2
    del tmp1130
    r3new.bbabb += np.transpose(tmp1128, (3, 4, 2, 1, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbabb += np.transpose(tmp1127, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1128, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1126, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += einsum(ints.tmp234, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbabb += np.transpose(tmp1126, (4, 3, 2, 0, 1)) * -2
    del tmp1126
    r3new.bbabb += einsum(ints.tmp234, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 0, 4))
    r3new.bbabb += np.transpose(tmp1128, (4, 3, 2, 1, 0)) * -1
    del tmp1128
    r3new.bbabb += np.transpose(tmp1127, (4, 3, 2, 1, 0))
    del tmp1127
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1711, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1133 = einsum(v.bbbb.ooov, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 1, 2), (0, 5, 4, 6, 3)) * -1
    tmp1134 = einsum(t1.bb, (0, 1), tmp1133, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    del tmp1133
    r3new.bbabb += np.transpose(tmp1134, (3, 4, 2, 0, 1)) * -2
    tmp1135 = einsum(r2.bab, (0, 1, 2), ints.tmp1723, (3, 2, 4, 5), (3, 4, 5, 1, 0)) * -1
    tmp1136 = einsum(t1.bb, (0, 1), tmp1135, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1135
    r3new.bbabb += np.transpose(tmp1136, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp124, (4, 3, 2, 0, 1)) * -2
    tmp1132 = einsum(r1.a, (0,), ints.tmp1717, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1132, (4, 3, 2, 0, 1))
    tmp1131 = einsum(ints.tmp227, (0, 1), r3.babbb, (2, 3, 4, 5, 0), (1, 5, 3, 2, 4)) * -1
    r3new.bbabb += np.transpose(tmp1131, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1726, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbabb += np.transpose(tmp1131, (4, 3, 2, 0, 1)) * -2
    del tmp1131
    r3new.bbabb += np.transpose(tmp1134, (3, 4, 2, 1, 0)) * 2
    del tmp1134
    r3new.bbabb += np.transpose(tmp1136, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1132, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp124, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1726, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1139 = einsum(ints.tmp29, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 0), (6, 5, 1, 3, 4)) * -1
    tmp1140 = einsum(t1.bb, (0, 1), tmp1139, (2, 3, 1, 4, 5), (2, 0, 3, 4, 5))
    del tmp1139
    r3new.bbabb += np.transpose(tmp1140, (3, 4, 2, 0, 1)) * -2
    tmp1141 = einsum(r2.bab, (0, 1, 2), v.bbbb.vvvv, (3, 4, 5, 0), (2, 1, 3, 4, 5)) * -1
    tmp1142 = einsum(t1.bb, (0, 1), tmp1141, (2, 3, 4, 1, 5), (2, 0, 3, 5, 4))
    del tmp1141
    r3new.bbabb += np.transpose(tmp1142, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1142, (4, 3, 2, 0, 1)) * -1
    tmp1137 = einsum(r2.bab, (0, 1, 2), ints.tmp1728, (3, 4, 2, 5), (3, 4, 1, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1137, (3, 4, 2, 1, 0)) * -2
    tmp1138 = einsum(ints.tmp181, (0, 1), r3.babbb, (2, 3, 0, 4, 5), (4, 5, 3, 1, 2)) * -1
    r3new.bbabb += np.transpose(tmp1138, (3, 4, 2, 1, 0)) * 2
    r3new.bbabb += einsum(ints.tmp372, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 4, 0))
    r3new.bbabb += einsum(v.bbbb.vvvv, (0, 1, 2, 3), r3.babbb, (1, 4, 3, 5, 6), (0, 2, 4, 5, 6)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1727, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.bbabb += np.transpose(tmp1140, (4, 3, 2, 0, 1)) * 2
    r3new.bbabb += np.transpose(tmp1137, (4, 3, 2, 1, 0)) * 2
    del tmp1137
    r3new.bbabb += np.transpose(tmp1138, (4, 3, 2, 1, 0)) * -2
    del tmp1138
    r3new.bbabb += einsum(ints.tmp372, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    tmp1143 = einsum(v.aabb.vvvv, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 6), (5, 6, 0, 4, 2)) * -1
    r3new.bbabb += np.transpose(tmp1143, (4, 3, 2, 1, 0)) * 2
    tmp1144 = einsum(r2.bab, (0, 1, 2), v.aabb.vvvv, (3, 1, 4, 5), (2, 3, 0, 4, 5)) * -1
    tmp1146 = np.copy(np.transpose(tmp1144, (0, 1, 2, 4, 3))) * 0.5
    tmp1145 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babbb, (4, 1, 5, 6, 2), (6, 0, 4, 5, 3)) * -1
    tmp1146 += np.transpose(tmp1145, (0, 1, 3, 4, 2))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1146, (2, 3, 4, 1, 5), (5, 4, 3, 2, 0)) * -2
    del tmp1146
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1743, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.bbabb += einsum(ints.tmp92, (0, 1), r3.babbb, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * -2
    tmp1147 = einsum(r2.bab, (0, 1, 2), ints.tmp1751, (3, 2, 4, 5), (3, 4, 1, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1147, (3, 4, 2, 0, 1)) * -1
    tmp1149 = einsum(ints.tmp277, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 6, 2), (0, 1, 6, 5, 4)) * -1
    tmp1150 = np.copy(tmp1149) * 2
    del tmp1149
    tmp1148 = einsum(r2.bab, (0, 1, 2), ints.tmp220, (3, 4, 0, 5), (3, 4, 2, 1, 5)) * -1
    tmp1150 += tmp1148
    del tmp1148
    tmp1151 = einsum(t1.bb, (0, 1), tmp1150, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1150
    r3new.bbabb += np.transpose(tmp1151, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += einsum(ints.tmp283, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 4, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1754, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    r3new.bbabb += np.transpose(tmp1151, (3, 4, 2, 0, 1))
    r3new.bbabb += einsum(ints.tmp337, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.bbabb += np.transpose(tmp1147, (3, 4, 2, 1, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1754, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.bbabb += np.transpose(tmp1147, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1151, (4, 3, 2, 1, 0))
    r3new.bbabb += einsum(ints.tmp283, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1754, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.bbabb += np.transpose(tmp1151, (4, 3, 2, 0, 1)) * -1
    del tmp1151
    r3new.bbabb += einsum(ints.tmp337, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 0, 4)) * -2
    r3new.bbabb += np.transpose(tmp1147, (4, 3, 2, 1, 0)) * -1
    del tmp1147
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1754, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    tmp1152 = einsum(r2.bab, (0, 1, 2), ints.tmp1757, (3, 4, 2, 5), (3, 4, 1, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1152, (3, 4, 2, 0, 1))
    r3new.bbabb += einsum(ints.tmp255, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.bbabb += np.transpose(tmp1140, (3, 4, 2, 1, 0)) * 2
    r3new.bbabb += np.transpose(tmp1142, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1152, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1142, (4, 3, 2, 1, 0))
    del tmp1142
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1755, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1755, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.bbabb += np.transpose(tmp1152, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += einsum(ints.tmp255, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.bbabb += np.transpose(tmp1140, (4, 3, 2, 1, 0)) * -2
    del tmp1140
    r3new.bbabb += np.transpose(tmp1152, (4, 3, 2, 1, 0))
    del tmp1152
    tmp1153 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 6, 0), (6, 4, 5, 2, 3))
    tmp1154 = einsum(t1.bb, (0, 1), tmp1153, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp1153
    r3new.bbabb += np.transpose(tmp1154, (4, 3, 2, 0, 1)) * -2
    r3new.bbabb += einsum(ints.tmp1739, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 2, 3), (4, 6, 5, 0, 1)) * -2
    tmp1156 = einsum(r2.bab, (0, 1, 2), ints.tmp1739, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    tmp1157 = einsum(t1.bb, (0, 1), tmp1156, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1156
    r3new.bbabb += np.transpose(tmp1157, (3, 4, 2, 1, 0)) * -2
    tmp1155 = einsum(ints.tmp1764, (0, 1), r3.babbb, (2, 3, 4, 5, 1), (0, 5, 3, 2, 4)) * -1
    r3new.bbabb += np.transpose(tmp1155, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1763, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    tmp1160 = einsum(r2.bab, (0, 1, 2), ints.tmp1768, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp1161 = einsum(t1.bb, (0, 1), tmp1160, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1160
    r3new.bbabb += np.transpose(tmp1161, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1155, (4, 3, 2, 0, 1)) * -2
    del tmp1155
    r3new.bbabb += np.transpose(tmp1161, (3, 4, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1154, (4, 3, 2, 1, 0)) * 2
    tmp1158 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 0, 2), (5, 4, 6, 3, 1))
    tmp1159 = einsum(t1.bb, (0, 1), tmp1158, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * -1
    del tmp1158
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1159, (2, 3, 4, 5, 1), (5, 4, 3, 2, 0)) * 2
    del tmp1159
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1771, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1771, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp860 = einsum(ints.tmp4, (0, 1, 2, 3), t2.bbbb, (4, 1, 5, 2), (0, 4, 3, 5))
    tmp1166 = einsum(tmp860, (0, 1, 2, 3), r3.babbb, (4, 5, 2, 6, 0), (6, 1, 5, 4, 3)) * -1
    r3new.bbabb += np.transpose(tmp1166, (4, 3, 2, 0, 1)) * 4
    tmp1167 = einsum(t2.abab, (0, 1, 2, 3), tmp113, (0, 4, 5, 2, 6), (4, 1, 5, 6, 3))
    r3new.bbabb += np.transpose(tmp1167, (4, 3, 2, 0, 1)) * -2
    tmp1163 = einsum(r2.bab, (0, 1, 2), ints.tmp1783, (2, 3, 4, 5), (3, 4, 1, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1163, (3, 4, 2, 1, 0)) * 2
    tmp1164 = einsum(ints.tmp219, (0, 1), r3.babbb, (2, 3, 1, 4, 5), (4, 5, 3, 0, 2)) * -1
    r3new.bbabb += np.transpose(tmp1164, (3, 4, 2, 1, 0)) * -2
    tmp1165 = einsum(r2.bab, (0, 1, 2), ints.tmp380, (3, 4, 0, 5), (3, 2, 1, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1165, (3, 4, 2, 1, 0)) * -1
    tmp1171 = einsum(ints.tmp35, (0, 1), r3.babbb, (2, 3, 1, 4, 5), (0, 4, 5, 3, 2)) * -1
    tmp1173 = np.copy(np.transpose(tmp1171, (0, 2, 1, 3, 4))) * -1
    del tmp1171
    tmp1172 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.babbb, (3, 4, 1, 5, 6), (5, 6, 0, 4, 2))
    tmp1173 += np.transpose(tmp1172, (2, 1, 0, 3, 4))
    del tmp1172
    tmp1174 = einsum(t1.bb, (0, 1), tmp1173, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1173
    r3new.bbabb += np.transpose(tmp1174, (3, 4, 2, 1, 0)) * -1
    tmp1168 = einsum(r2.bab, (0, 1, 2), ints.tmp29, (2, 3, 0, 4), (1, 3, 4)) * -1
    tmp1169 = np.copy(tmp1168) * 0.5
    del tmp1168
    tmp1169 += np.transpose(tmp117, (0, 2, 1)) * -1
    del tmp117
    tmp1169 += np.transpose(tmp115, (0, 2, 1))
    del tmp115
    tmp1170 = einsum(tmp1169, (0, 1, 2), t2.bbbb, (3, 4, 5, 1), (3, 4, 0, 5, 2)) * -4
    del tmp1169
    r3new.bbabb += np.transpose(tmp1170, (3, 4, 2, 1, 0))
    r3new.bbabb += einsum(ints.tmp1016, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 4, 0)) * 2
    tmp1162 = einsum(r1.a, (0,), ints.tmp1772, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1162, (0, 2, 3, 4, 5), (4, 5, 1, 3, 2)) * 2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1793, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.bbabb += np.transpose(tmp1166, (3, 4, 2, 0, 1)) * -4
    r3new.bbabb += np.transpose(tmp1167, (3, 4, 2, 0, 1)) * 2
    r3new.bbabb += np.transpose(tmp1163, (4, 3, 2, 1, 0)) * -2
    del tmp1163
    r3new.bbabb += np.transpose(tmp1164, (4, 3, 2, 1, 0)) * 2
    del tmp1164
    r3new.bbabb += np.transpose(tmp1170, (4, 3, 2, 1, 0)) * -1
    del tmp1170
    r3new.bbabb += np.transpose(tmp1165, (4, 3, 2, 1, 0))
    del tmp1165
    r3new.bbabb += np.transpose(tmp1174, (4, 3, 2, 1, 0))
    del tmp1174
    r3new.bbabb += einsum(ints.tmp1016, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    tmp1175 = einsum(r1.a, (0,), ints.tmp1794, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp1176 = einsum(t1.bb, (0, 1), tmp1175, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1175
    tmp1177 = np.copy(tmp1176) * -1
    tmp1177 += tmp1162
    del tmp1162
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1177, (0, 2, 3, 4, 5), (5, 4, 1, 2, 3)) * 2
    del tmp1177
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1793, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    tmp1179 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 1, 5, 6, 2), (0, 6, 4, 5, 3)) * -1
    tmp1180 = einsum(t2.abab, (0, 1, 2, 3), tmp1179, (0, 4, 5, 6, 3), (4, 1, 2, 5, 6))
    r3new.bbabb += np.transpose(tmp1180, (3, 4, 2, 0, 1)) * 2
    tmp1178 = einsum(r2.bab, (0, 1, 2), ints.tmp311, (3, 4, 1, 5), (3, 2, 4, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1178, (3, 4, 2, 1, 0))
    tmp1181 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 6), (0, 5, 6, 4, 2)) * -1
    tmp1182 = np.copy(np.transpose(tmp1181, (0, 2, 1, 3, 4))) * -1
    tmp1182 += einsum(ints.tmp16, (0, 1), r3.babbb, (2, 1, 3, 4, 5), (0, 4, 5, 2, 3)) * -1
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1182, (0, 2, 3, 4, 5), (5, 4, 1, 3, 2)) * -2
    del tmp1182
    r3new.bbabb += einsum(ints.tmp108, (0, 1), r3.babbb, (2, 1, 3, 4, 5), (2, 3, 0, 4, 5)) * 4
    tmp1184 = einsum(r2.bab, (0, 1, 2), v.bbbb.ooov, (3, 4, 5, 0), (2, 3, 4, 5, 1)) * -1
    tmp1185 = einsum(t1.bb, (0, 1), tmp1184, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1))
    del tmp1184
    tmp1186 = einsum(t1.bb, (0, 1), tmp1185, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1185
    r3new.bbabb += np.transpose(tmp1186, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1186, (4, 3, 2, 0, 1))
    tmp1183 = einsum(r2.bab, (0, 1, 2), ints.tmp325, (3, 4, 5, 0), (3, 2, 1, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1183, (4, 3, 2, 1, 0)) * 2
    tmp1187 = np.copy(tmp135)
    tmp1187 += np.transpose(tmp134, (1, 0, 2)) * 2
    r3new.bbabb += einsum(tmp1187, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (4, 5, 2, 3, 0)) * -2
    del tmp1187
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1811, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.bbabb += np.transpose(tmp1183, (4, 3, 2, 0, 1)) * -2
    del tmp1183
    tmp1188 = np.copy(tmp135) * 0.5
    tmp1188 += np.transpose(tmp134, (1, 0, 2))
    r3new.bbabb += einsum(tmp1188, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (4, 5, 2, 0, 3)) * 4
    del tmp1188
    r3new.bbabb += np.transpose(tmp1186, (3, 4, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1186, (4, 3, 2, 1, 0)) * -1
    del tmp1186
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1811, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * 2
    tmp1189 = einsum(r2.bab, (0, 1, 2), ints.tmp1689, (3, 4, 0, 5), (3, 2, 1, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1189, (3, 4, 2, 0, 1)) * 2
    r3new.bbabb += einsum(ints.tmp310, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.bbabb += np.transpose(tmp1166, (4, 3, 2, 1, 0)) * -4
    r3new.bbabb += np.transpose(tmp1167, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += np.transpose(tmp1189, (4, 3, 2, 0, 1)) * -2
    del tmp1189
    r3new.bbabb += einsum(ints.tmp310, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 0, 4))
    r3new.bbabb += np.transpose(tmp1166, (3, 4, 2, 1, 0)) * 4
    del tmp1166
    r3new.bbabb += np.transpose(tmp1167, (3, 4, 2, 1, 0)) * -2
    del tmp1167
    tmp1192 = np.copy(tmp140) * 0.5
    tmp1192 += tmp141
    tmp1192 += tmp142
    tmp1192 += np.transpose(tmp138, (1, 0, 2)) * 0.5
    tmp1192 += np.transpose(tmp139, (1, 0, 2)) * 0.5
    r3new.bbabb += einsum(tmp1192, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (4, 5, 2, 0, 3)) * 4
    del tmp1192
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1820, (1, 2, 0, 3, 4, 5), (4, 5, 3, 2, 1)) * -1
    tmp1190 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babbb, (3, 4, 1, 5, 6), (5, 6, 0, 2, 4))
    tmp1191 = einsum(t1.bb, (0, 1), tmp1190, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1191, (2, 3, 0, 4, 5), (1, 5, 4, 3, 2)) * -2
    del tmp1191
    tmp1193 = einsum(r2.bab, (0, 1, 2), ints.tmp286, (3, 4, 5, 0), (3, 4, 2, 1, 5)) * -1
    tmp1194 = np.copy(tmp1193)
    tmp1194 += einsum(tmp5, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 0, 4, 1, 5)) * 2
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1194, (2, 0, 3, 4, 5), (5, 1, 4, 3, 2))
    del tmp1194
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1702, (3, 4, 5, 0), (4, 5, 1, 2, 3)) * -6
    r3new.bbabb += einsum(r2.aaa, (0, 1, 2), ints.tmp1819, (2, 3, 4, 1, 5, 6), (5, 6, 0, 4, 3)) * -12
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1816, (3, 4, 2, 5, 6, 0), (5, 6, 1, 4, 3)) * 6
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1833, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 6
    r3new.bbabb += einsum(t2.bbbb, (0, 1, 2, 3), tmp1190, (4, 5, 0, 1, 6), (2, 3, 6, 5, 4)) * -2
    del tmp1190
    tmp1195 = einsum(t1.bb, (0, 1), tmp1193, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1193
    r3new.bbabb += np.transpose(tmp1195, (3, 4, 2, 0, 1)) * -1
    tmp1196 = np.copy(tmp141) * 2
    del tmp141
    tmp1196 += tmp142 * 2
    del tmp142
    tmp1196 += tmp140
    del tmp140
    tmp1196 += np.transpose(tmp138, (1, 0, 2))
    del tmp138
    tmp1196 += np.transpose(tmp139, (1, 0, 2))
    del tmp139
    r3new.bbabb += einsum(tmp1196, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (4, 5, 2, 3, 0)) * -2
    del tmp1196
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1488, (3, 4, 5, 0), (4, 5, 1, 3, 2))
    tmp1197 = einsum(r2.bab, (0, 1, 2), ints.tmp1835, (3, 4, 2, 5, 1, 6), (3, 4, 5, 6, 0)) * -1
    r3new.bbabb += np.transpose(tmp1197, (3, 4, 2, 1, 0)) * -1
    tmp1198 = einsum(r1.a, (0,), ints.tmp1835, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp1199 = einsum(t1.bb, (0, 1), tmp1198, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1198
    r3new.bbabb += np.transpose(tmp1199, (3, 4, 2, 1, 0)) * -1
    tmp1200 = einsum(r1.a, (0,), ints.tmp1841, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1200, (3, 4, 2, 1, 0))
    tmp1201 = einsum(r2.bab, (0, 1, 2), ints.tmp223, (3, 4, 1, 5), (3, 2, 4, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1201, (3, 4, 2, 1, 0))
    tmp1204 = einsum(tmp149, (0, 1, 2), t2.abab, (0, 3, 4, 5), (3, 1, 4, 5, 2))
    del tmp149
    r3new.bbabb += np.transpose(tmp1204, (3, 4, 2, 1, 0))
    tmp1202 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 6), (0, 5, 6, 2, 4)) * -1
    tmp1203 = einsum(t2.abab, (0, 1, 2, 3), tmp1202, (0, 4, 5, 1, 6), (4, 5, 2, 6, 3))
    r3new.bbabb += np.transpose(tmp1203, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += np.transpose(tmp1201, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1204, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1203, (3, 4, 2, 1, 0)) * -2
    del tmp1203
    tmp1205 = einsum(r2.bab, (0, 1, 2), ints.tmp312, (3, 4, 5, 1), (3, 4, 2, 5, 0)) * -1
    tmp1206 = einsum(t1.bb, (0, 1), tmp1205, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1205
    r3new.bbabb += np.transpose(tmp1206, (3, 4, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1200, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1201, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1204, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1197, (4, 3, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1199, (4, 3, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1206, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1201, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1204, (4, 3, 2, 0, 1))
    del tmp1204
    tmp1207 = einsum(r2.bab, (0, 1, 2), ints.tmp326, (3, 4, 5, 0), (3, 2, 1, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1207, (3, 4, 2, 1, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1848, (1, 2, 0, 3, 4, 5), (4, 5, 3, 2, 1))
    r3new.bbabb += einsum(r2.aaa, (0, 1, 2), ints.tmp1828, (2, 3, 4, 1, 5, 6), (6, 5, 0, 3, 4)) * -2
    r3new.bbabb += einsum(r2.bab, (0, 1, 2), ints.tmp1815, (3, 4, 2, 5, 6, 0), (5, 6, 1, 4, 3))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1851, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1208 = einsum(tmp110, (0, 1, 2), t3.babbab, (3, 0, 2, 4, 5, 6), (1, 3, 5, 4, 6))
    r3new.bbabb += np.transpose(tmp1208, (3, 4, 2, 0, 1)) * -1
    tmp1209 = einsum(r2.bab, (0, 1, 2), v.bbbb.oooo, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp1210 = einsum(t1.bb, (0, 1), tmp1209, (2, 0, 3, 4, 5), (3, 2, 4, 5, 1))
    del tmp1209
    r3new.bbabb += np.transpose(tmp1210, (3, 4, 2, 0, 1))
    r3new.bbabb += einsum(v.bbbb.oooo, (0, 1, 2, 3), r3.babbb, (4, 5, 6, 3, 1), (4, 6, 5, 0, 2)) * 2
    r3new.bbabb += np.transpose(tmp1210, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1859, (1, 2, 3, 0, 4, 5), (4, 5, 3, 2, 1)) * -1
    tmp1211 = einsum(tmp9, (0,), t3.babbab, (1, 0, 2, 3, 4, 5), (1, 2, 4, 3, 5))
    r3new.bbabb += np.transpose(tmp1211, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1852, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbabb += np.transpose(tmp1208, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1210, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1860, (1, 2, 3, 0, 4, 5), (4, 5, 3, 2, 1))
    r3new.bbabb += np.transpose(tmp1211, (4, 3, 2, 1, 0)) * -1
    del tmp1211
    r3new.bbabb += np.transpose(tmp1210, (4, 3, 2, 1, 0))
    del tmp1210
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1852, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1216 = einsum(r2.bab, (0, 1, 2), v.bbbb.ovov, (3, 4, 5, 0), (2, 3, 5, 1, 4)) * -1
    tmp1217 = einsum(t1.bb, (0, 1), tmp1216, (2, 3, 4, 5, 1), (2, 0, 4, 3, 5))
    del tmp1216
    tmp1218 = einsum(t1.bb, (0, 1), tmp1217, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1217
    tmp1219 = einsum(t1.bb, (0, 1), tmp1218, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1218
    r3new.bbabb += np.transpose(tmp1219, (3, 4, 2, 0, 1))
    tmp1213 = einsum(r2.bab, (0, 1, 2), ints.tmp339, (3, 4, 5, 0), (2, 1, 3, 4, 5)) * -1
    tmp1214 = einsum(t1.bb, (0, 1), tmp1213, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp1213
    r3new.bbabb += np.transpose(tmp1214, (4, 3, 2, 0, 1)) * 2
    r3new.bbabb += np.transpose(tmp1219, (4, 3, 2, 0, 1)) * -1
    tmp1220 = np.copy(np.transpose(tmp129, (1, 0, 2)))
    tmp1220 += np.transpose(tmp131, (1, 0, 2))
    del tmp131
    tmp1221 = einsum(tmp1220, (0, 1, 2), t2.bbbb, (3, 0, 4, 5), (3, 1, 2, 4, 5)) * -2
    del tmp1220
    r3new.bbabb += np.transpose(tmp1221, (4, 3, 2, 0, 1)) * -1
    tmp1212 = einsum(v.aabb.vvoo, (0, 1, 2, 3), r3.babbb, (4, 1, 5, 6, 3), (6, 2, 0, 4, 5)) * -1
    r3new.bbabb += np.transpose(tmp1212, (3, 4, 2, 1, 0)) * 2
    tmp1215 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 1, 4, 5), (2, 4, 3, 0, 5)) * -1
    r3new.bbabb += np.transpose(tmp1215, (4, 3, 2, 1, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1875, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.bbabb += np.transpose(tmp1212, (3, 4, 2, 0, 1)) * -2
    del tmp1212
    r3new.bbabb += np.transpose(tmp1215, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1219, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1214, (4, 3, 2, 1, 0)) * -2
    del tmp1214
    r3new.bbabb += np.transpose(tmp1219, (4, 3, 2, 1, 0))
    del tmp1219
    r3new.bbabb += np.transpose(tmp1221, (4, 3, 2, 1, 0))
    del tmp1221
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1875, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp1224 = einsum(t2.bbbb, (0, 1, 2, 3), tmp124, (4, 1, 5, 6, 3), (4, 0, 5, 6, 2))
    r3new.bbabb += np.transpose(tmp1224, (3, 4, 2, 0, 1)) * 4
    tmp1227 = einsum(t2.abab, (0, 1, 2, 3), tmp125, (0, 4, 2, 5, 6), (4, 1, 5, 6, 3))
    r3new.bbabb += np.transpose(tmp1227, (3, 4, 2, 0, 1)) * 2
    tmp1225 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babbb, (4, 1, 3, 5, 6), (5, 6, 2, 0, 4)) * -1
    tmp1226 = einsum(t1.bb, (0, 1), tmp1225, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1225
    r3new.bbabb += np.transpose(tmp1226, (3, 4, 2, 1, 0)) * 2
    tmp1223 = einsum(r1.a, (0,), ints.tmp1876, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1223, (4, 3, 2, 1, 0)) * 2
    tmp1222 = einsum(r2.bab, (0, 1, 2), ints.tmp1005, (3, 1, 4, 5), (3, 2, 4, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1222, (4, 3, 2, 1, 0))
    tmp737 = np.copy(tmp127) * 2
    del tmp127
    tmp737 += tmp126
    del tmp126
    tmp1228 = einsum(tmp737, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * -2
    r3new.bbabb += np.transpose(tmp1228, (4, 3, 2, 1, 0))
    tmp1229 = einsum(r1.a, (0,), ints.tmp1884, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp1230 = np.copy(np.transpose(tmp1229, (1, 0, 2, 3, 4)))
    tmp1230 += einsum(tmp5, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (3, 4, 0, 1, 5)) * -1
    del tmp5
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1230, (2, 3, 0, 4, 5), (1, 5, 4, 3, 2)) * 2
    del tmp1230
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1889, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    tmp1233 = np.copy(tmp114) * 2
    tmp1232 = einsum(r2.bab, (0, 1, 2), ints.tmp29, (3, 4, 0, 5), (3, 2, 1, 4, 5)) * -1
    tmp1233 += tmp1232
    del tmp1232
    tmp1234 = einsum(t1.bb, (0, 1), tmp1233, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 0.5
    del tmp1233
    tmp1235 = einsum(t1.bb, (0, 1), tmp1234, (2, 0, 3, 4, 5), (3, 2, 4, 1, 5)) * 2
    del tmp1234
    r3new.bbabb += np.transpose(tmp1235, (3, 4, 2, 0, 1)) * -1
    tmp1231 = einsum(r2.bab, (0, 1, 2), ints.tmp1873, (3, 4, 2, 5), (3, 4, 1, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1231, (3, 4, 2, 1, 0)) * -2
    r3new.bbabb += einsum(ints.tmp273, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 4, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1896, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbabb += np.transpose(tmp1231, (3, 4, 2, 0, 1)) * 2
    r3new.bbabb += einsum(ints.tmp273, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.bbabb += np.transpose(tmp1235, (3, 4, 2, 1, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1896, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbabb += np.transpose(tmp1235, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1231, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += einsum(ints.tmp273, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1896, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbabb += np.transpose(tmp1231, (4, 3, 2, 0, 1)) * -2
    del tmp1231
    r3new.bbabb += einsum(ints.tmp273, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 0, 4)) * -1
    r3new.bbabb += np.transpose(tmp1235, (4, 3, 2, 1, 0)) * -1
    del tmp1235
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1896, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    tmp1237 = einsum(r2.bab, (0, 1, 2), v.aabb.ovoo, (3, 1, 4, 5), (3, 2, 4, 5, 0)) * -1
    tmp1238 = einsum(t1.bb, (0, 1), tmp1237, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1237
    tmp1239 = einsum(t1.aa, (0, 1), tmp1238, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1238
    r3new.bbabb += np.transpose(tmp1239, (3, 4, 2, 1, 0)) * -1
    tmp1236 = einsum(r2.bab, (0, 1, 2), v.bbbb.ooov, (3, 2, 4, 5), (3, 4, 1, 0, 5)) * -1
    r3new.bbabb += np.transpose(tmp1236, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), v.bbbb.ovov, (1, 2, 3, 4), (2, 4, 0, 1, 3))
    r3new.bbabb += np.transpose(tmp1236, (3, 4, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1239, (4, 3, 2, 1, 0))
    r3new.bbabb += einsum(r1.a, (0,), v.bbbb.ovov, (1, 2, 3, 4), (4, 2, 0, 1, 3)) * -1
    r3new.bbabb += np.transpose(tmp1236, (4, 3, 2, 0, 1))
    tmp1240 = np.copy(tmp1176) * -2
    del tmp1176
    tmp1240 += einsum(tmp111, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 2, 3, 4, 5)) * 2
    tmp1240 += einsum(r1.a, (0,), ints.tmp1829, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1240, (0, 2, 3, 4, 5), (4, 5, 1, 2, 3)) * -1
    del tmp1240
    r3new.bbabb += np.transpose(tmp1236, (3, 4, 2, 0, 1)) * -1
    del tmp1236
    tmp1241 = einsum(r1.a, (0,), ints.tmp1828, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1241, (0, 2, 3, 4, 5), (5, 4, 1, 3, 2)) * -1
    del tmp1241
    r3new.bbabb += np.transpose(tmp1215, (3, 4, 2, 0, 1))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1903, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.bbabb += np.transpose(tmp1215, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1903, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.bbabb += np.transpose(tmp124, (3, 4, 2, 0, 1)) * 2
    r3new.bbabb += np.transpose(tmp1136, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1132, (4, 3, 2, 0, 1))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1726, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbabb += np.transpose(tmp124, (3, 4, 2, 1, 0)) * -2
    r3new.bbabb += np.transpose(tmp1132, (4, 3, 2, 1, 0)) * -1
    del tmp1132
    r3new.bbabb += np.transpose(tmp1136, (4, 3, 2, 1, 0))
    del tmp1136
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1726, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    tmp1242 = einsum(t1.bb, (0, 1), tmp1144, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1242, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1143, (3, 4, 2, 1, 0)) * -2
    del tmp1143
    tmp1243 = einsum(r2.bab, (0, 1, 2), ints.tmp274, (3, 4, 1, 5), (3, 2, 4, 5, 0)) * -1
    r3new.bbabb += np.transpose(tmp1243, (4, 3, 2, 0, 1)) * -1
    tmp728 = np.copy(tmp108) * -1
    tmp727 = einsum(r1.a, (0,), ints.tmp1229, (1, 2, 0, 3), (1, 2, 3))
    tmp728 += tmp727
    tmp1244 = einsum(tmp728, (0, 1, 2), t2.abab, (0, 3, 4, 5), (3, 1, 4, 5, 2))
    r3new.bbabb += np.transpose(tmp1244, (4, 3, 2, 1, 0)) * -1
    tmp1245 = np.copy(np.transpose(tmp109, (0, 2, 1)))
    tmp1245 += np.transpose(tmp110, (0, 2, 1))
    tmp1246 = einsum(tmp1245, (0, 1, 2), t2.abab, (0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1245
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1246, (2, 3, 0, 4, 5), (1, 5, 4, 2, 3))
    del tmp1246
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1852, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.bbabb += np.transpose(tmp1243, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1244, (3, 4, 2, 1, 0))
    del tmp1244
    tmp730 = np.copy(tmp110)
    tmp730 += np.transpose(tmp109, (0, 2, 1))
    tmp1247 = einsum(tmp730, (0, 1, 2), t2.abab, (0, 3, 4, 5), (3, 2, 1, 4, 5))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1247, (2, 0, 3, 4, 5), (5, 1, 4, 3, 2)) * -1
    del tmp1247
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1852, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    tmp1248 = einsum(tmp144, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 3, 2, 4, 5))
    r3new.bbabb += np.transpose(tmp1248, (3, 4, 2, 0, 1)) * -2
    tmp1249 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 1, 4, 5), (3, 2, 4, 0, 5)) * -1
    tmp1251 = np.copy(tmp1249)
    tmp1250 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babbb, (4, 1, 5, 6, 3), (0, 6, 2, 4, 5)) * -1
    tmp1251 += np.transpose(tmp1250, (0, 1, 2, 4, 3)) * 2
    del tmp1250
    tmp1252 = einsum(t1.aa, (0, 1), tmp1251, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1251
    r3new.bbabb += np.transpose(tmp1252, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1248, (3, 4, 2, 1, 0)) * 2
    del tmp1248
    r3new.bbabb += np.transpose(tmp1252, (4, 3, 2, 1, 0)) * -1
    del tmp1252
    tmp1253 = einsum(t1.aa, (0, 1), tmp1249, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.bbabb += np.transpose(tmp1253, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1253, (3, 4, 2, 1, 0))
    del tmp1253
    tmp1254 = einsum(r2.bab, (0, 1, 2), v.aabb.vvoo, (3, 1, 4, 5), (2, 4, 5, 3, 0)) * -1
    tmp1255 = einsum(t1.bb, (0, 1), tmp1254, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1254
    r3new.bbabb += np.transpose(tmp1255, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1255, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1255, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1195, (4, 3, 2, 0, 1))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1922, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -4
    r3new.bbabb += np.transpose(tmp1255, (3, 4, 2, 1, 0))
    del tmp1255
    r3new.bbabb += np.transpose(tmp1195, (4, 3, 2, 1, 0)) * -1
    del tmp1195
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1922, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 4
    tmp1256 = np.copy(np.transpose(tmp1145, (0, 1, 3, 2, 4))) * -2
    del tmp1145
    tmp1256 += np.transpose(tmp1144, (0, 1, 4, 2, 3))
    del tmp1144
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1256, (2, 3, 4, 5, 1), (4, 5, 3, 0, 2))
    del tmp1256
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1927, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.bbabb += np.transpose(tmp1242, (3, 4, 2, 1, 0)) * -1
    del tmp1242
    tmp1257 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 6, 0), (6, 2, 3, 4, 5))
    tmp1258 = einsum(t1.bb, (0, 1), tmp1257, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp1257
    r3new.bbabb += np.transpose(tmp1258, (4, 3, 2, 0, 1)) * 2
    r3new.bbabb += np.transpose(tmp1258, (4, 3, 2, 1, 0)) * -2
    r3new.bbabb += np.transpose(tmp1258, (3, 4, 2, 0, 1)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1930, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.bbabb += np.transpose(tmp1258, (3, 4, 2, 1, 0)) * 2
    del tmp1258
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1930, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -1
    r3new.bbabb += np.transpose(tmp1154, (3, 4, 2, 0, 1)) * 2
    r3new.bbabb += np.transpose(tmp1157, (4, 3, 2, 1, 0)) * 2
    del tmp1157
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1763, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.bbabb += np.transpose(tmp1161, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1154, (3, 4, 2, 1, 0)) * -2
    del tmp1154
    r3new.bbabb += np.transpose(tmp1161, (4, 3, 2, 1, 0)) * -1
    del tmp1161
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1771, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1771, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.bbabb += np.transpose(tmp1178, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1181, (0, 2, 3, 4, 5), (4, 5, 1, 3, 2)) * 2
    del tmp1181
    r3new.bbabb += np.transpose(tmp1224, (4, 3, 2, 0, 1)) * -4
    r3new.bbabb += np.transpose(tmp1227, (4, 3, 2, 0, 1)) * -2
    r3new.bbabb += np.transpose(tmp1222, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1223, (3, 4, 2, 1, 0)) * -2
    del tmp1223
    r3new.bbabb += np.transpose(tmp1228, (3, 4, 2, 1, 0)) * -1
    del tmp1228
    r3new.bbabb += np.transpose(tmp1226, (4, 3, 2, 1, 0)) * -2
    del tmp1226
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1229, (2, 3, 0, 4, 5), (5, 1, 4, 3, 2)) * 2
    del tmp1229
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1934, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    tmp1259 = np.copy(tmp727) * -1
    del tmp727
    tmp1259 += tmp108
    del tmp108
    tmp1260 = einsum(tmp1259, (0, 1, 2), t2.abab, (0, 3, 4, 5), (3, 1, 4, 5, 2))
    del tmp1259
    r3new.bbabb += np.transpose(tmp1260, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1243, (4, 3, 2, 1, 0))
    tmp1261 = einsum(tmp111, (0, 1, 2), t2.abab, (0, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1261, (2, 3, 0, 4, 5), (1, 5, 4, 3, 2)) * -1
    del tmp1261
    r3new.bbabb += np.transpose(tmp1260, (3, 4, 2, 0, 1))
    del tmp1260
    r3new.bbabb += np.transpose(tmp1243, (3, 4, 2, 1, 0)) * -1
    del tmp1243
    tmp1262 = np.copy(tmp110)
    tmp1262 += np.transpose(tmp109, (0, 2, 1))
    del tmp109
    tmp1263 = einsum(tmp1262, (0, 1, 2), t2.abab, (0, 3, 4, 5), (3, 2, 1, 4, 5))
    del tmp1262
    r3new.bbabb += einsum(t1.bb, (0, 1), tmp1263, (2, 0, 3, 4, 5), (5, 1, 4, 2, 3))
    del tmp1263
    r3new.bbabb += np.transpose(tmp1178, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1180, (3, 4, 2, 1, 0)) * -2
    del tmp1180
    r3new.bbabb += np.transpose(tmp1178, (4, 3, 2, 0, 1))
    del tmp1178
    r3new.bbabb += np.transpose(tmp1222, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1224, (4, 3, 2, 1, 0)) * 4
    r3new.bbabb += np.transpose(tmp1227, (4, 3, 2, 1, 0)) * 2
    r3new.bbabb += np.transpose(tmp1222, (4, 3, 2, 0, 1)) * -1
    del tmp1222
    r3new.bbabb += np.transpose(tmp1224, (3, 4, 2, 1, 0)) * -4
    del tmp1224
    r3new.bbabb += np.transpose(tmp1227, (3, 4, 2, 1, 0)) * -2
    del tmp1227
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1807, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1807, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1264 = einsum(r1.a, (0,), ints.tmp1857, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.bbabb += np.transpose(tmp1264, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1208, (3, 4, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1264, (4, 3, 2, 0, 1)) * -1
    del tmp1264
    r3new.bbabb += np.transpose(tmp1208, (3, 4, 2, 1, 0))
    del tmp1208
    r3new.bbabb += np.transpose(tmp1200, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1201, (4, 3, 2, 1, 0)) * -1
    tmp1265 = einsum(r2.bab, (0, 1, 2), ints.tmp301, (3, 4, 1, 5), (3, 4, 2, 5, 0)) * -1
    tmp1268 = np.copy(tmp1265) * 0.5
    tmp1266 = einsum(t1.bb, (0, 1), tmp1202, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1202
    tmp1268 += np.transpose(tmp1266, (0, 2, 1, 4, 3)) * -1
    del tmp1266
    tmp1267 = einsum(tmp121, (0, 1, 2), t2.bbbb, (3, 4, 5, 2), (0, 3, 4, 1, 5))
    tmp1268 += np.transpose(tmp1267, (0, 2, 1, 4, 3))
    del tmp1267
    tmp1269 = einsum(t1.aa, (0, 1), tmp1268, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp1268
    r3new.bbabb += np.transpose(tmp1269, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1197, (4, 3, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1199, (4, 3, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1197, (3, 4, 2, 1, 0)) * -1
    del tmp1197
    r3new.bbabb += np.transpose(tmp1199, (3, 4, 2, 1, 0)) * -1
    del tmp1199
    r3new.bbabb += np.transpose(tmp1200, (3, 4, 2, 1, 0))
    del tmp1200
    r3new.bbabb += np.transpose(tmp1201, (3, 4, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1269, (3, 4, 2, 1, 0))
    del tmp1269
    r3new.bbabb += np.transpose(tmp1207, (3, 4, 2, 0, 1)) * -1
    del tmp1207
    r3new.bbabb += np.transpose(tmp1201, (3, 4, 2, 0, 1)) * -1
    tmp1270 = einsum(t1.aa, (0, 1), tmp1265, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1265
    r3new.bbabb += np.transpose(tmp1270, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1201, (4, 3, 2, 0, 1))
    del tmp1201
    r3new.bbabb += np.transpose(tmp1270, (4, 3, 2, 0, 1))
    del tmp1270
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1945, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1945, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    tmp1271 = einsum(tmp111, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 3, 2, 4, 5))
    r3new.bbabb += einsum(t1.aa, (0, 1), tmp1271, (0, 2, 3, 4, 5), (4, 5, 1, 2, 3)) * 2
    del tmp1271
    tmp1276 = np.copy(tmp119) * -1
    tmp1276 += tmp122
    tmp1277 = einsum(tmp1276, (0, 1, 2), t2.abab, (0, 3, 4, 5), (3, 1, 4, 5, 2))
    del tmp1276
    r3new.bbabb += np.transpose(tmp1277, (4, 3, 2, 0, 1)) * -1
    tmp1272 = einsum(r2.bab, (0, 1, 2), ints.tmp167, (3, 1, 4, 5), (2, 3, 4, 5, 0)) * -1
    tmp1273 = einsum(t1.bb, (0, 1), tmp1272, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp1272
    r3new.bbabb += np.transpose(tmp1273, (4, 3, 2, 0, 1))
    tmp1274 = einsum(tmp120, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 2, 3, 4, 5))
    tmp1275 = einsum(t1.bb, (0, 1), tmp1274, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1274
    r3new.bbabb += np.transpose(tmp1275, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1275, (3, 4, 2, 0, 1))
    tmp765 = np.copy(tmp122) * -1
    del tmp122
    tmp765 += tmp119
    del tmp119
    r3new.bbabb += einsum(tmp765, (0, 1, 2), t2.abab, (0, 3, 4, 5), (2, 5, 4, 1, 3)) * -1
    r3new.bbabb += np.transpose(tmp1273, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1273, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1277, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1275, (4, 3, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1275, (4, 3, 2, 0, 1)) * -1
    del tmp1275
    r3new.bbabb += np.transpose(tmp1277, (3, 4, 2, 1, 0)) * -1
    del tmp1277
    r3new.bbabb += np.transpose(tmp1273, (3, 4, 2, 1, 0))
    del tmp1273
    r3new.bbabb += np.transpose(tmp1206, (4, 3, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1206, (4, 3, 2, 0, 1))
    del tmp1206
    r3new.bbabb += np.transpose(tmp1239, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1239, (3, 4, 2, 0, 1))
    del tmp1239
    tmp1278 = einsum(r2.bab, (0, 1, 2), v.aabb.ovvv, (3, 1, 4, 5), (3, 2, 0, 4, 5)) * -1
    tmp1279 = np.copy(np.transpose(tmp1278, (0, 1, 2, 4, 3)))
    tmp1279 += np.transpose(tmp1179, (0, 1, 3, 4, 2)) * 2
    del tmp1179
    tmp1280 = einsum(t1.bb, (0, 1), tmp1279, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5)) * 0.5
    del tmp1279
    tmp1281 = einsum(t1.aa, (0, 1), tmp1280, (0, 2, 3, 4, 5), (3, 2, 1, 4, 5)) * 2
    del tmp1280
    r3new.bbabb += np.transpose(tmp1281, (4, 3, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1281, (4, 3, 2, 1, 0)) * -1
    del tmp1281
    tmp1282 = einsum(t1.bb, (0, 1), tmp1278, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp1278
    tmp1283 = einsum(t1.aa, (0, 1), tmp1282, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1282
    r3new.bbabb += np.transpose(tmp1283, (3, 4, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1283, (3, 4, 2, 1, 0))
    del tmp1283
    tmp1284 = np.copy(tmp124) * 2
    tmp1284 += tmp1215
    del tmp1215
    tmp1285 = einsum(t1.bb, (0, 1), tmp1284, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5)) * 0.5
    del tmp1284
    tmp1286 = einsum(t1.bb, (0, 1), tmp1285, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5)) * 2
    del tmp1285
    r3new.bbabb += np.transpose(tmp1286, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1286, (3, 4, 2, 1, 0)) * -1
    r3new.bbabb += np.transpose(tmp1286, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1964, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.bbabb += np.transpose(tmp1286, (4, 3, 2, 1, 0))
    del tmp1286
    r3new.bbabb += einsum(r1.a, (0,), ints.tmp1964, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    tmp1287 = einsum(t1.bb, (0, 1), tmp1249, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp1249
    tmp1288 = einsum(t1.bb, (0, 1), tmp1287, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1287
    tmp1289 = einsum(t1.aa, (0, 1), tmp1288, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1288
    r3new.bbabb += np.transpose(tmp1289, (4, 3, 2, 0, 1)) * -1
    r3new.bbabb += np.transpose(tmp1289, (4, 3, 2, 1, 0))
    r3new.bbabb += np.transpose(tmp1289, (3, 4, 2, 0, 1))
    r3new.bbabb += np.transpose(tmp1289, (3, 4, 2, 1, 0)) * -1
    del tmp1289
    r3new.aabaa = einsum(ints.tmp66, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 4, 0))
    tmp328 = einsum(r2.aba, (0, 1, 2), ints.tmp407, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.aabaa += np.transpose(tmp328, (2, 3, 4, 0, 1)) * -1
    tmp332 = einsum(v.aaaa.ooov, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 1, 2), (0, 4, 5, 3, 6))
    tmp333 = einsum(t1.aa, (0, 1), tmp332, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp332
    r3new.aabaa += np.transpose(tmp333, (2, 3, 4, 0, 1)) * -2
    tmp334 = einsum(tmp80, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (0, 3, 2, 4, 5))
    tmp335 = einsum(t1.bb, (0, 1), tmp334, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp334
    r3new.aabaa += np.transpose(tmp335, (2, 3, 4, 0, 1)) * -2
    tmp330 = einsum(r2.aba, (0, 1, 2), v.aaaa.ovvv, (3, 4, 5, 0), (2, 3, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp330, (2, 3, 4, 0, 1))
    tmp331 = einsum(ints.tmp43, (0, 1, 2, 3), r3.aabaa, (4, 2, 5, 6, 0), (1, 6, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp331, (2, 3, 4, 1, 0)) * -2
    tmp329 = einsum(ints.tmp60, (0, 1), r3.aabaa, (2, 3, 4, 5, 0), (1, 5, 2, 3, 4))
    r3new.aabaa += np.transpose(tmp329, (3, 2, 4, 1, 0)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aabaa += einsum(ints.tmp66, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.aabaa += np.transpose(tmp331, (2, 3, 4, 0, 1)) * 2
    r3new.aabaa += np.transpose(tmp329, (3, 2, 4, 0, 1)) * -2
    del tmp329
    r3new.aabaa += np.transpose(tmp330, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp333, (2, 3, 4, 1, 0)) * 2
    del tmp333
    r3new.aabaa += np.transpose(tmp335, (2, 3, 4, 1, 0)) * 2
    del tmp335
    r3new.aabaa += np.transpose(tmp328, (2, 3, 4, 1, 0))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aabaa += einsum(ints.tmp66, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.aabaa += np.transpose(tmp330, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp328, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp331, (3, 2, 4, 1, 0)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aabaa += einsum(ints.tmp66, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 0, 4))
    r3new.aabaa += np.transpose(tmp331, (3, 2, 4, 0, 1)) * -2
    del tmp331
    r3new.aabaa += np.transpose(tmp328, (3, 2, 4, 1, 0)) * -1
    del tmp328
    r3new.aabaa += np.transpose(tmp330, (3, 2, 4, 1, 0))
    del tmp330
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp394, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aabaa += einsum(ints.tmp660, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 4, 0)) * 2
    r3new.aabaa += einsum(ints.tmp460, (0, 1), r3.aabaa, (2, 3, 4, 5, 1), (2, 3, 4, 5, 0)) * -4
    r3new.aabaa += einsum(v.aaaa.vvvv, (0, 1, 2, 3), r3.aabaa, (1, 3, 4, 5, 6), (0, 2, 4, 5, 6)) * 2
    tmp336 = einsum(ints.tmp90, (0, 1, 2, 3), r3.aabaa, (4, 1, 5, 6, 0), (6, 2, 3, 4, 5))
    tmp337 = einsum(t1.aa, (0, 1), tmp336, (2, 3, 1, 4, 5), (2, 0, 3, 4, 5))
    del tmp336
    r3new.aabaa += np.transpose(tmp337, (2, 3, 4, 0, 1)) * 2
    tmp340 = einsum(r2.aba, (0, 1, 2), v.aaaa.vvvv, (3, 4, 5, 0), (2, 3, 4, 5, 1))
    tmp341 = einsum(t1.aa, (0, 1), tmp340, (2, 3, 1, 4, 5), (2, 0, 4, 3, 5))
    del tmp340
    r3new.aabaa += np.transpose(tmp341, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += einsum(ints.tmp419, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 2, 3), (4, 5, 6, 0, 1)) * 2
    r3new.aabaa += np.transpose(tmp341, (3, 2, 4, 0, 1))
    tmp338 = einsum(r2.aba, (0, 1, 2), ints.tmp416, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.aabaa += np.transpose(tmp338, (2, 3, 4, 1, 0)) * 2
    tmp339 = einsum(ints.tmp92, (0, 1), r3.aabaa, (2, 0, 3, 4, 5), (4, 5, 1, 2, 3))
    r3new.aabaa += np.transpose(tmp339, (2, 3, 4, 1, 0)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp415, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.aabaa += einsum(ints.tmp114, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.aabaa += np.transpose(tmp337, (3, 2, 4, 0, 1)) * -2
    r3new.aabaa += np.transpose(tmp338, (3, 2, 4, 1, 0)) * -2
    del tmp338
    r3new.aabaa += np.transpose(tmp339, (3, 2, 4, 1, 0)) * -2
    del tmp339
    tmp342 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 5, 3, 6, 0), (6, 4, 5, 1, 2))
    tmp343 = einsum(t1.aa, (0, 1), tmp342, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp342
    r3new.aabaa += np.transpose(tmp343, (2, 3, 4, 0, 1)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp433, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aabaa += einsum(ints.tmp181, (0, 1), r3.aabaa, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5)) * 2
    r3new.aabaa += einsum(ints.tmp445, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 4, 0)) * -1
    tmp344 = einsum(r2.aba, (0, 1, 2), ints.tmp442, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.aabaa += np.transpose(tmp344, (2, 3, 4, 0, 1)) * 2
    tmp346 = einsum(ints.tmp435, (0, 1, 2, 3), r3.aabaa, (4, 3, 5, 6, 2), (0, 1, 6, 4, 5))
    tmp347 = np.copy(tmp346) * 2
    del tmp346
    tmp345 = einsum(r2.aba, (0, 1, 2), ints.tmp43, (3, 4, 0, 5), (3, 4, 2, 5, 1))
    tmp347 += tmp345
    del tmp345
    tmp348 = einsum(t1.aa, (0, 1), tmp347, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp347
    r3new.aabaa += np.transpose(tmp348, (2, 3, 4, 1, 0))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp447, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    r3new.aabaa += einsum(ints.tmp445, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.aabaa += np.transpose(tmp348, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp344, (2, 3, 4, 1, 0)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp447, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aabaa += einsum(ints.tmp445, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0))
    r3new.aabaa += np.transpose(tmp344, (3, 2, 4, 0, 1)) * -2
    r3new.aabaa += np.transpose(tmp348, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp447, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -2
    r3new.aabaa += einsum(ints.tmp445, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 0, 4)) * -1
    r3new.aabaa += np.transpose(tmp348, (3, 2, 4, 0, 1))
    del tmp348
    r3new.aabaa += np.transpose(tmp344, (3, 2, 4, 1, 0)) * 2
    del tmp344
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp447, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.aabaa += einsum(ints.tmp114, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.aabaa += einsum(ints.tmp429, (0, 1), r3.aabaa, (2, 3, 4, 5, 1), (2, 3, 4, 0, 5)) * 2
    tmp351 = einsum(r2.aba, (0, 1, 2), ints.tmp453, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.aabaa += np.transpose(tmp351, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp337, (2, 3, 4, 1, 0)) * -2
    r3new.aabaa += np.transpose(tmp341, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp351, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp341, (3, 2, 4, 1, 0)) * -1
    del tmp341
    tmp349 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 0, 2), (4, 5, 3, 1, 6)) * -1
    tmp350 = einsum(t1.aa, (0, 1), tmp349, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * -1
    del tmp349
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp350, (2, 3, 4, 1, 5), (4, 3, 5, 2, 0)) * 2
    del tmp350
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp451, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp451, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    r3new.aabaa += einsum(ints.tmp660, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.aabaa += np.transpose(tmp351, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp337, (3, 2, 4, 1, 0)) * 2
    del tmp337
    r3new.aabaa += np.transpose(tmp351, (3, 2, 4, 1, 0)) * -1
    del tmp351
    r3new.aabaa += einsum(ints.tmp692, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 4, 0)) * 3
    tmp352 = einsum(ints.tmp1, (0, 1, 2, 3), t2.aaaa, (4, 1, 5, 3), (0, 4, 2, 5))
    tmp353 = einsum(tmp352, (0, 1, 2, 3), r3.aabaa, (4, 2, 5, 6, 0), (6, 1, 4, 3, 5))
    del tmp352
    r3new.aabaa += np.transpose(tmp353, (3, 2, 4, 0, 1)) * -4
    tmp358 = einsum(t2.abab, (0, 1, 2, 3), tmp73, (4, 1, 5, 6, 3), (4, 0, 5, 2, 6))
    r3new.aabaa += np.transpose(tmp358, (3, 2, 4, 0, 1)) * -2
    tmp354 = einsum(r2.aba, (0, 1, 2), ints.tmp683, (2, 3, 4, 5), (3, 4, 5, 0, 1))
    r3new.aabaa += np.transpose(tmp354, (2, 3, 4, 1, 0)) * -6
    tmp355 = einsum(ints.tmp136, (0, 1), r3.aabaa, (2, 1, 3, 4, 5), (4, 5, 0, 2, 3))
    r3new.aabaa += np.transpose(tmp355, (2, 3, 4, 1, 0)) * -2
    tmp356 = einsum(r2.aba, (0, 1, 2), ints.tmp129, (3, 4, 0, 5), (3, 2, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp356, (2, 3, 4, 1, 0)) * 2
    tmp357 = einsum(r1.b, (0,), ints.tmp672, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp357, (2, 3, 4, 1, 0)) * -2
    tmp361 = einsum(ints.tmp16, (0, 1), r3.aabaa, (2, 1, 3, 4, 5), (0, 4, 5, 2, 3))
    tmp363 = np.copy(np.transpose(tmp361, (0, 2, 1, 3, 4))) * -1
    del tmp361
    tmp362 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.aabaa, (3, 1, 4, 5, 6), (5, 6, 0, 2, 4)) * -1
    tmp363 += np.transpose(tmp362, (2, 1, 0, 3, 4))
    del tmp362
    tmp364 = einsum(t1.aa, (0, 1), tmp363, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp363
    r3new.aabaa += np.transpose(tmp364, (2, 3, 4, 1, 0)) * -1
    tmp360 = einsum(tmp78, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -2
    del tmp78
    r3new.aabaa += np.transpose(tmp360, (2, 3, 4, 1, 0))
    tmp359 = einsum(r1.b, (0,), ints.tmp674, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp359, (2, 3, 0, 4, 5), (4, 5, 1, 3, 2)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp694, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -6
    r3new.aabaa += einsum(ints.tmp692, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * -3
    r3new.aabaa += np.transpose(tmp353, (2, 3, 4, 0, 1)) * 4
    r3new.aabaa += np.transpose(tmp358, (2, 3, 4, 0, 1)) * 2
    r3new.aabaa += np.transpose(tmp354, (3, 2, 4, 1, 0)) * 6
    del tmp354
    r3new.aabaa += np.transpose(tmp355, (3, 2, 4, 1, 0)) * 2
    del tmp355
    r3new.aabaa += np.transpose(tmp356, (3, 2, 4, 1, 0)) * -2
    r3new.aabaa += np.transpose(tmp357, (3, 2, 4, 1, 0)) * 2
    del tmp357
    r3new.aabaa += np.transpose(tmp360, (3, 2, 4, 1, 0)) * -1
    del tmp360
    r3new.aabaa += np.transpose(tmp364, (3, 2, 4, 1, 0))
    del tmp364
    tmp365 = einsum(r1.b, (0,), ints.tmp695, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp366 = einsum(t1.aa, (0, 1), tmp365, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp365
    tmp367 = np.copy(tmp366) * -1
    tmp367 += tmp359
    del tmp359
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp367, (2, 3, 0, 4, 5), (5, 4, 1, 2, 3)) * 2
    del tmp367
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp694, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 6
    tmp368 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 5, 3, 6, 0), (6, 2, 4, 5, 1))
    tmp369 = einsum(t2.abab, (0, 1, 2, 3), tmp368, (4, 1, 5, 6, 2), (4, 0, 5, 6, 3))
    r3new.aabaa += np.transpose(tmp369, (2, 3, 4, 0, 1)) * 2
    tmp370 = einsum(r2.aba, (0, 1, 2), ints.tmp213, (3, 4, 5, 1), (3, 2, 4, 0, 5))
    r3new.aabaa += np.transpose(tmp370, (2, 3, 4, 1, 0)) * -1
    tmp371 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 6), (5, 6, 2, 4, 0))
    tmp372 = np.copy(tmp371)
    tmp372 += einsum(ints.tmp35, (0, 1), r3.aabaa, (2, 3, 1, 4, 5), (4, 5, 0, 2, 3))
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp372, (2, 3, 0, 4, 5), (5, 4, 1, 3, 2)) * -2
    del tmp372
    r3new.aabaa += einsum(ints.tmp299, (0, 1), r3.aabaa, (2, 3, 1, 4, 5), (2, 3, 0, 4, 5)) * -4
    tmp374 = einsum(r2.aba, (0, 1, 2), v.aaaa.ooov, (3, 4, 5, 0), (2, 3, 4, 5, 1))
    tmp375 = einsum(t1.aa, (0, 1), tmp374, (2, 3, 4, 0, 5), (2, 4, 3, 1, 5))
    del tmp374
    tmp376 = einsum(t1.aa, (0, 1), tmp375, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp375
    r3new.aabaa += np.transpose(tmp376, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp376, (3, 2, 4, 0, 1)) * -1
    tmp377 = np.copy(tmp93)
    tmp377 += np.transpose(tmp94, (1, 0, 2)) * 2
    tmp377 += np.transpose(tmp92, (1, 0, 2))
    del tmp92
    tmp378 = einsum(tmp377, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * -2
    del tmp377
    r3new.aabaa += np.transpose(tmp378, (3, 2, 4, 0, 1)) * -1
    tmp373 = einsum(r2.aba, (0, 1, 2), ints.tmp45, (3, 4, 5, 0), (3, 2, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp373, (3, 2, 4, 1, 0)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp711, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aabaa += np.transpose(tmp373, (3, 2, 4, 0, 1)) * 2
    del tmp373
    r3new.aabaa += np.transpose(tmp376, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp376, (3, 2, 4, 1, 0))
    del tmp376
    r3new.aabaa += np.transpose(tmp378, (3, 2, 4, 1, 0))
    del tmp378
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp711, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aabaa += einsum(ints.tmp210, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.aabaa += np.transpose(tmp356, (2, 3, 4, 0, 1)) * -2
    r3new.aabaa += np.transpose(tmp353, (3, 2, 4, 1, 0)) * 4
    r3new.aabaa += np.transpose(tmp358, (3, 2, 4, 1, 0)) * 2
    r3new.aabaa += einsum(ints.tmp210, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 0, 4)) * 2
    r3new.aabaa += np.transpose(tmp356, (3, 2, 4, 0, 1)) * 2
    del tmp356
    r3new.aabaa += np.transpose(tmp353, (2, 3, 4, 1, 0)) * -4
    del tmp353
    r3new.aabaa += np.transpose(tmp358, (2, 3, 4, 1, 0)) * -2
    del tmp358
    tmp382 = np.copy(tmp100) * 2
    tmp382 += tmp99 * -2
    tmp382 += tmp98
    tmp382 += np.transpose(tmp97, (1, 0, 2))
    r3new.aabaa += einsum(tmp382, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (4, 5, 2, 0, 3)) * -2
    del tmp382
    tmp381 = einsum(r2.aba, (0, 1, 2), ints.tmp606, (3, 4, 5, 0), (3, 2, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp381, (2, 3, 4, 1, 0)) * -6
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp714, (1, 2, 3, 4, 0, 5), (3, 4, 5, 2, 1)) * -6
    tmp379 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.aabaa, (3, 1, 4, 5, 6), (5, 6, 0, 2, 4)) * -1
    tmp380 = einsum(t1.aa, (0, 1), tmp379, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp380, (2, 3, 0, 4, 5), (1, 4, 5, 3, 2)) * -2
    del tmp380
    r3new.aabaa += einsum(t2.aaaa, (0, 1, 2, 3), tmp379, (4, 5, 0, 1, 6), (2, 3, 6, 5, 4)) * -2
    del tmp379
    tmp383 = einsum(r2.aba, (0, 1, 2), ints.tmp125, (3, 4, 5, 0), (3, 4, 2, 5, 1))
    tmp385 = np.copy(tmp383) * -1
    tmp384 = einsum(tmp12, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (0, 3, 4, 5, 2)) * -1
    tmp385 += np.transpose(tmp384, (2, 0, 1, 3, 4))
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp385, (2, 0, 3, 4, 5), (4, 1, 5, 3, 2)) * 2
    del tmp385
    r3new.aabaa += einsum(r2.aba, (0, 1, 2), ints.tmp567, (3, 4, 2, 5, 6, 0), (5, 6, 1, 4, 3)) * 6
    r3new.aabaa += einsum(r2.bbb, (0, 1, 2), ints.tmp550, (3, 4, 2, 5, 6, 1), (5, 6, 0, 4, 3)) * -12
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp722, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 4
    tmp387 = np.copy(tmp98) * 0.5
    del tmp98
    tmp387 += tmp99 * -1
    del tmp99
    tmp387 += tmp100
    del tmp100
    tmp387 += np.transpose(tmp97, (1, 0, 2)) * 0.5
    del tmp97
    r3new.aabaa += einsum(tmp387, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (4, 5, 2, 3, 0)) * 4
    r3new.aabaa += np.transpose(tmp381, (2, 3, 4, 0, 1)) * 6
    del tmp381
    tmp386 = einsum(t1.aa, (0, 1), tmp383, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp383
    r3new.aabaa += np.transpose(tmp386, (2, 3, 4, 0, 1)) * 2
    tmp389 = einsum(r1.b, (0,), ints.tmp726, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp390 = einsum(t1.aa, (0, 1), tmp389, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp389
    r3new.aabaa += np.transpose(tmp390, (2, 3, 4, 1, 0)) * -1
    tmp392 = einsum(r2.aba, (0, 1, 2), ints.tmp192, (3, 4, 5, 1), (3, 2, 4, 0, 5))
    r3new.aabaa += np.transpose(tmp392, (2, 3, 4, 1, 0)) * -1
    tmp395 = einsum(tmp107, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5)) * 2
    r3new.aabaa += np.transpose(tmp395, (2, 3, 4, 1, 0)) * -1
    tmp388 = einsum(r2.aba, (0, 1, 2), ints.tmp726, (3, 4, 2, 5, 6, 1), (3, 4, 5, 0, 6))
    r3new.aabaa += np.transpose(tmp388, (2, 3, 4, 1, 0))
    tmp391 = einsum(r1.b, (0,), ints.tmp732, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp391, (2, 3, 4, 1, 0))
    tmp396 = einsum(r2.aba, (0, 1, 2), ints.tmp147, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    tmp399 = np.copy(tmp396) * -1
    tmp397 = einsum(tmp81, (0, 1, 2), t2.aaaa, (3, 4, 5, 2), (3, 4, 0, 1, 5))
    tmp399 += np.transpose(tmp397, (0, 1, 2, 4, 3))
    del tmp397
    tmp393 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 6), (5, 6, 0, 2, 4))
    tmp398 = einsum(t1.aa, (0, 1), tmp393, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    tmp399 += np.transpose(tmp398, (0, 1, 2, 4, 3))
    del tmp398
    tmp400 = einsum(t1.bb, (0, 1), tmp399, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp399
    r3new.aabaa += np.transpose(tmp400, (2, 3, 4, 1, 0))
    tmp394 = einsum(t2.abab, (0, 1, 2, 3), tmp393, (4, 5, 0, 1, 6), (4, 5, 6, 2, 3))
    del tmp393
    r3new.aabaa += np.transpose(tmp394, (3, 2, 4, 1, 0)) * 2
    tmp401 = einsum(t1.bb, (0, 1), tmp396, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp396
    r3new.aabaa += np.transpose(tmp401, (2, 3, 4, 0, 1)) * 2
    r3new.aabaa += np.transpose(tmp392, (2, 3, 4, 0, 1))
    tmp402 = np.copy(tmp105) * -2
    del tmp105
    tmp402 += tmp106 * 2
    del tmp106
    tmp402 += tmp103
    del tmp103
    tmp402 += tmp104
    del tmp104
    tmp403 = einsum(tmp402, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    del tmp402
    r3new.aabaa += np.transpose(tmp403, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp394, (2, 3, 4, 1, 0)) * -2
    del tmp394
    r3new.aabaa += np.transpose(tmp388, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp391, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp400, (3, 2, 4, 1, 0)) * -1
    del tmp400
    r3new.aabaa += np.transpose(tmp390, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp392, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp395, (3, 2, 4, 1, 0))
    del tmp395
    r3new.aabaa += np.transpose(tmp392, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp401, (3, 2, 4, 0, 1)) * -2
    del tmp401
    r3new.aabaa += np.transpose(tmp403, (3, 2, 4, 0, 1)) * -1
    del tmp403
    tmp404 = einsum(r2.aba, (0, 1, 2), ints.tmp47, (3, 4, 5, 0), (3, 2, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp404, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp746, (1, 2, 3, 4, 0, 5), (3, 4, 5, 2, 1))
    r3new.aabaa += einsum(r2.bbb, (0, 1, 2), ints.tmp577, (3, 4, 2, 5, 6, 1), (6, 5, 0, 3, 4)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp587, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.aabaa += einsum(r2.aba, (0, 1, 2), ints.tmp544, (3, 4, 2, 5, 6, 0), (6, 5, 1, 4, 3)) * -1
    tmp407 = einsum(r2.aba, (0, 1, 2), v.aaaa.oooo, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp408 = einsum(t1.aa, (0, 1), tmp407, (2, 0, 3, 4, 5), (3, 2, 4, 1, 5))
    del tmp407
    r3new.aabaa += np.transpose(tmp408, (2, 3, 4, 0, 1)) * -1
    tmp406 = einsum(tmp68, (0, 1, 2), t3.abaaba, (3, 2, 1, 4, 5, 6), (0, 3, 4, 6, 5))
    r3new.aabaa += np.transpose(tmp406, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp408, (2, 3, 4, 1, 0))
    tmp409 = einsum(tmp19, (0,), t3.abaaba, (1, 0, 2, 3, 4, 5), (1, 2, 3, 5, 4))
    r3new.aabaa += np.transpose(tmp409, (3, 2, 4, 1, 0)) * -1
    tmp405 = einsum(r1.b, (0,), ints.tmp748, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp405, (3, 2, 4, 1, 0))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp508, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aabaa += np.transpose(tmp406, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp408, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp408, (3, 2, 4, 1, 0)) * -1
    del tmp408
    r3new.aabaa += np.transpose(tmp409, (3, 2, 4, 1, 0)) * -1
    del tmp409
    r3new.aabaa += np.transpose(tmp405, (3, 2, 4, 1, 0))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp508, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp412 = einsum(r2.aba, (0, 1, 2), v.aaaa.ovov, (3, 4, 5, 0), (2, 3, 5, 4, 1))
    tmp413 = einsum(t1.aa, (0, 1), tmp412, (2, 3, 4, 1, 5), (2, 0, 4, 3, 5))
    del tmp412
    tmp414 = einsum(t1.aa, (0, 1), tmp413, (2, 3, 4, 0, 5), (2, 3, 4, 1, 5))
    del tmp413
    tmp415 = einsum(t1.aa, (0, 1), tmp414, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5))
    del tmp414
    r3new.aabaa += np.transpose(tmp415, (2, 3, 4, 0, 1)) * -1
    tmp410 = einsum(r2.aba, (0, 1, 2), ints.tmp68, (3, 4, 5, 0), (2, 3, 4, 5, 1))
    tmp411 = einsum(t1.aa, (0, 1), tmp410, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp410
    r3new.aabaa += np.transpose(tmp411, (3, 2, 4, 0, 1)) * -2
    tmp416 = einsum(t1.aa, (0, 1), tmp12, (2, 1, 3), (0, 2, 3))
    tmp417 = np.copy(np.transpose(tmp416, (1, 0, 2)))
    tmp417 += np.transpose(tmp89, (1, 0, 2))
    tmp418 = einsum(tmp417, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -2
    del tmp417
    r3new.aabaa += np.transpose(tmp418, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp415, (3, 2, 4, 0, 1))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp761, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aabaa += np.transpose(tmp415, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp411, (3, 2, 4, 1, 0)) * 2
    del tmp411
    r3new.aabaa += np.transpose(tmp415, (3, 2, 4, 1, 0)) * -1
    del tmp415
    r3new.aabaa += np.transpose(tmp418, (3, 2, 4, 1, 0))
    del tmp418
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp761, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp422 = einsum(t2.aaaa, (0, 1, 2, 3), tmp84, (4, 1, 5, 3, 6), (4, 0, 5, 2, 6))
    r3new.aabaa += np.transpose(tmp422, (2, 3, 4, 0, 1)) * -4
    tmp423 = einsum(tmp234, (0, 1, 2, 3), r3.babab, (4, 5, 3, 6, 1), (6, 0, 5, 2, 4)) * -1
    del tmp234
    r3new.aabaa += np.transpose(tmp423, (2, 3, 4, 0, 1)) * 2
    tmp419 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 6), (5, 6, 0, 4, 2))
    tmp420 = einsum(t1.aa, (0, 1), tmp419, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp419
    r3new.aabaa += np.transpose(tmp420, (2, 3, 4, 1, 0)) * 2
    tmp421 = einsum(r2.aba, (0, 1, 2), ints.tmp201, (3, 4, 1, 5), (3, 2, 4, 0, 5))
    r3new.aabaa += np.transpose(tmp421, (3, 2, 4, 1, 0)) * -2
    tmp424 = np.copy(tmp86) * 0.5
    del tmp86
    tmp424 += tmp87
    del tmp87
    tmp425 = einsum(tmp424, (0, 1, 2), t2.aaaa, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * -4
    del tmp424
    r3new.aabaa += np.transpose(tmp425, (3, 2, 4, 1, 0)) * -1
    tmp427 = np.copy(np.transpose(tmp384, (0, 2, 1, 3, 4)))
    del tmp384
    tmp426 = einsum(r1.b, (0,), ints.tmp770, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp427 += np.transpose(tmp426, (2, 1, 0, 3, 4)) * -1
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp427, (0, 2, 3, 4, 5), (1, 4, 5, 3, 2)) * -2
    del tmp427
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp773, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -4
    r3new.aabaa += einsum(ints.tmp110, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 4, 0)) * -2
    tmp430 = np.copy(tmp74) * 2
    tmp429 = einsum(r2.aba, (0, 1, 2), ints.tmp88, (3, 4, 0, 5), (3, 2, 4, 5, 1))
    tmp430 += tmp429
    del tmp429
    tmp431 = einsum(t1.aa, (0, 1), tmp430, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp430
    tmp432 = einsum(t1.aa, (0, 1), tmp431, (2, 0, 3, 4, 5), (3, 2, 1, 4, 5))
    del tmp431
    r3new.aabaa += np.transpose(tmp432, (2, 3, 4, 0, 1))
    tmp428 = einsum(r2.aba, (0, 1, 2), ints.tmp608, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.aabaa += np.transpose(tmp428, (2, 3, 4, 1, 0)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp638, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.aabaa += einsum(ints.tmp191, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.aabaa += np.transpose(tmp428, (2, 3, 4, 0, 1)) * -2
    r3new.aabaa += np.transpose(tmp432, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp638, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.aabaa += einsum(ints.tmp110, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.aabaa += np.transpose(tmp432, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp428, (3, 2, 4, 1, 0)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp638, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.aabaa += einsum(ints.tmp191, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 0, 4)) * -1
    r3new.aabaa += np.transpose(tmp428, (3, 2, 4, 0, 1)) * 2
    del tmp428
    r3new.aabaa += np.transpose(tmp432, (3, 2, 4, 1, 0))
    del tmp432
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp638, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * 2
    tmp441 = einsum(tmp71, (0, 1, 2), t2.abab, (3, 2, 4, 5), (3, 0, 1, 4, 5))
    tmp442 = einsum(t1.aa, (0, 1), tmp441, (2, 0, 3, 4, 5), (3, 2, 1, 4, 5)) * -1
    del tmp441
    r3new.aabaa += np.transpose(tmp442, (2, 3, 4, 0, 1)) * -1
    tmp434 = einsum(r2.aba, (0, 1, 2), ints.tmp153, (3, 4, 5, 1), (3, 2, 4, 0, 5))
    r3new.aabaa += np.transpose(tmp434, (3, 2, 4, 0, 1))
    tmp435 = einsum(r2.aba, (0, 1, 2), v.aabb.ooov, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp436 = einsum(t1.aa, (0, 1), tmp435, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp435
    tmp437 = einsum(t1.bb, (0, 1), tmp436, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp436
    r3new.aabaa += np.transpose(tmp437, (2, 3, 4, 1, 0))
    tmp438 = einsum(r1.b, (0,), ints.tmp785, (1, 2, 3, 0), (1, 2, 3))
    tmp439 = np.copy(tmp438)
    del tmp438
    tmp439 += tmp69
    del tmp69
    tmp440 = einsum(tmp439, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.aabaa += np.transpose(tmp440, (3, 2, 4, 1, 0)) * -1
    tmp433 = einsum(r2.aba, (0, 1, 2), v.aaaa.ooov, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.aabaa += np.transpose(tmp433, (3, 2, 4, 1, 0))
    r3new.aabaa += einsum(r1.b, (0,), v.aaaa.ovov, (1, 2, 3, 4), (2, 4, 0, 1, 3))
    r3new.aabaa += np.transpose(tmp434, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp433, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp440, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp437, (3, 2, 4, 1, 0)) * -1
    tmp443 = np.copy(tmp68) * -1
    tmp443 += np.transpose(tmp70, (1, 0, 2))
    del tmp70
    tmp444 = einsum(tmp443, (0, 1, 2), t2.abab, (3, 2, 4, 5), (3, 0, 1, 4, 5))
    tmp445 = einsum(t1.aa, (0, 1), tmp444, (2, 3, 0, 4, 5), (2, 3, 1, 4, 5))
    del tmp444
    r3new.aabaa += np.transpose(tmp445, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += einsum(r1.b, (0,), v.aaaa.ovov, (1, 2, 3, 4), (4, 2, 0, 1, 3)) * -1
    r3new.aabaa += einsum(v.aaaa.oooo, (0, 1, 2, 3), r3.aabaa, (4, 5, 6, 1, 3), (4, 5, 6, 0, 2)) * 2
    r3new.aabaa += np.transpose(tmp433, (3, 2, 4, 0, 1)) * -1
    tmp446 = einsum(r1.b, (0,), ints.tmp794, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp446, (2, 3, 4, 1, 0)) * -2
    tmp448 = einsum(r1.b, (0,), ints.tmp550, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5)) * 3
    tmp447 = einsum(tmp71, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 2, 4, 5)) * -1
    tmp448 += np.transpose(tmp447, (0, 1, 2, 4, 3)) * -1
    tmp448 += np.transpose(tmp366, (1, 0, 2, 3, 4))
    del tmp366
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp448, (2, 3, 0, 4, 5), (4, 5, 1, 3, 2)) * 2
    del tmp448
    r3new.aabaa += np.transpose(tmp433, (2, 3, 4, 0, 1))
    del tmp433
    r3new.aabaa += np.transpose(tmp446, (3, 2, 4, 1, 0)) * 2
    del tmp446
    tmp449 = einsum(r1.b, (0,), ints.tmp577, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp449, (2, 3, 0, 4, 5), (5, 4, 1, 2, 3)) * -1
    del tmp449
    tmp450 = einsum(r2.aba, (0, 1, 2), ints.tmp401, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp451 = einsum(t1.aa, (0, 1), tmp450, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp450
    r3new.aabaa += np.transpose(tmp451, (2, 3, 4, 0, 1)) * -1
    tmp453 = einsum(r1.b, (0,), ints.tmp801, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.aabaa += np.transpose(tmp453, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp84, (3, 2, 4, 0, 1)) * 2
    tmp452 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (3, 4, 5, 1), (2, 3, 0, 4, 5))
    r3new.aabaa += np.transpose(tmp452, (3, 2, 4, 0, 1))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp409, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aabaa += np.transpose(tmp451, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp453, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp452, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp84, (3, 2, 4, 1, 0)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp409, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aabaa += np.transpose(tmp452, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp453, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp84, (2, 3, 4, 0, 1)) * -2
    r3new.aabaa += np.transpose(tmp451, (3, 2, 4, 0, 1))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp409, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aabaa += np.transpose(tmp84, (2, 3, 4, 1, 0)) * 2
    r3new.aabaa += np.transpose(tmp452, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp453, (2, 3, 4, 1, 0))
    del tmp453
    r3new.aabaa += np.transpose(tmp451, (3, 2, 4, 1, 0)) * -1
    del tmp451
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp409, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    tmp454 = einsum(v.aabb.oovv, (0, 1, 2, 3), r3.aabaa, (4, 5, 3, 6, 1), (6, 0, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp454, (2, 3, 4, 0, 1)) * -2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp413, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.aabaa += np.transpose(tmp454, (2, 3, 4, 1, 0)) * 2
    del tmp454
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp413, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    tmp455 = einsum(r2.aba, (0, 1, 2), ints.tmp419, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    tmp456 = einsum(t1.aa, (0, 1), tmp455, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp455
    r3new.aabaa += np.transpose(tmp456, (2, 3, 4, 1, 0)) * 2
    tmp457 = einsum(v.aabb.vvvv, (0, 1, 2, 3), r3.aabaa, (4, 1, 3, 5, 6), (5, 6, 4, 0, 2))
    r3new.aabaa += np.transpose(tmp457, (3, 2, 4, 1, 0)) * 2
    tmp459 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 6, 2), (6, 5, 0, 1, 4)) * -1
    tmp460 = np.copy(np.transpose(tmp459, (0, 1, 3, 2, 4))) * 2
    tmp458 = einsum(r2.aba, (0, 1, 2), v.aabb.vvvv, (3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp460 += np.transpose(tmp458, (0, 1, 3, 2, 4))
    tmp461 = einsum(t1.aa, (0, 1), tmp460, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp460
    r3new.aabaa += np.transpose(tmp461, (3, 2, 4, 1, 0))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp418, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.aabaa += np.transpose(tmp457, (2, 3, 4, 1, 0)) * -2
    del tmp457
    r3new.aabaa += np.transpose(tmp461, (2, 3, 4, 1, 0)) * -1
    del tmp461
    r3new.aabaa += np.transpose(tmp456, (3, 2, 4, 1, 0)) * -2
    del tmp456
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp418, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp508, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp508, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    tmp462 = einsum(tmp102, (0, 1, 2), t2.aaaa, (3, 1, 4, 5), (0, 3, 4, 5, 2))
    r3new.aabaa += np.transpose(tmp462, (2, 3, 4, 0, 1)) * -2
    tmp463 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (3, 4, 5, 1), (2, 3, 5, 0, 4))
    tmp465 = np.copy(tmp463) * -1
    tmp464 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.aabaa, (4, 5, 3, 6, 1), (6, 0, 2, 4, 5))
    tmp465 += np.transpose(tmp464, (0, 1, 2, 4, 3)) * 2
    del tmp464
    tmp466 = einsum(t1.bb, (0, 1), tmp465, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp465
    r3new.aabaa += np.transpose(tmp466, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp462, (2, 3, 4, 1, 0)) * 2
    del tmp462
    r3new.aabaa += np.transpose(tmp466, (3, 2, 4, 1, 0)) * -1
    del tmp466
    tmp467 = einsum(t1.bb, (0, 1), tmp463, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.aabaa += np.transpose(tmp467, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp467, (2, 3, 4, 1, 0)) * -1
    del tmp467
    tmp468 = einsum(r2.aba, (0, 1, 2), v.aabb.oovv, (3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp470 = np.copy(np.transpose(tmp468, (0, 2, 1, 3, 4))) * 0.5
    del tmp468
    tmp469 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 6, 2), (6, 0, 1, 5, 4)) * -1
    tmp470 += np.transpose(tmp469, (0, 2, 1, 3, 4))
    del tmp469
    tmp471 = einsum(t1.aa, (0, 1), tmp470, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp470
    r3new.aabaa += np.transpose(tmp471, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp471, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp471, (3, 2, 4, 0, 1))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp710, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.aabaa += np.transpose(tmp471, (3, 2, 4, 1, 0)) * -1
    del tmp471
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp710, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -1
    tmp472 = einsum(r2.aba, (0, 1, 2), ints.tmp456, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp473 = einsum(t1.aa, (0, 1), tmp472, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp472
    r3new.aabaa += np.transpose(tmp473, (2, 3, 4, 0, 1))
    tmp474 = np.copy(np.transpose(tmp458, (0, 1, 3, 2, 4))) * 0.5
    del tmp458
    tmp474 += np.transpose(tmp459, (0, 1, 3, 2, 4))
    del tmp459
    tmp475 = einsum(t1.aa, (0, 1), tmp474, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * 2
    del tmp474
    r3new.aabaa += np.transpose(tmp475, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp473, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp455, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp455, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aabaa += np.transpose(tmp475, (2, 3, 4, 0, 1))
    del tmp475
    r3new.aabaa += np.transpose(tmp473, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp473, (3, 2, 4, 1, 0))
    del tmp473
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp455, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp455, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aabaa += np.transpose(tmp370, (3, 2, 4, 1, 0))
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp371, (2, 3, 0, 4, 5), (4, 5, 1, 3, 2)) * 2
    del tmp371
    r3new.aabaa += np.transpose(tmp343, (2, 3, 4, 1, 0)) * 2
    del tmp343
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp464, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aabaa += np.transpose(tmp422, (3, 2, 4, 0, 1)) * 4
    r3new.aabaa += np.transpose(tmp423, (3, 2, 4, 0, 1)) * -2
    r3new.aabaa += np.transpose(tmp421, (2, 3, 4, 1, 0)) * 2
    del tmp421
    r3new.aabaa += np.transpose(tmp425, (2, 3, 4, 1, 0))
    del tmp425
    r3new.aabaa += np.transpose(tmp420, (3, 2, 4, 1, 0)) * -2
    del tmp420
    r3new.aabaa += einsum(t1.aa, (0, 1), tmp426, (2, 3, 0, 4, 5), (4, 1, 5, 3, 2)) * 2
    del tmp426
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp629, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.aabaa += np.transpose(tmp437, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp440, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp442, (2, 3, 4, 1, 0))
    del tmp442
    r3new.aabaa += np.transpose(tmp434, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp440, (2, 3, 4, 0, 1)) * -1
    del tmp440
    r3new.aabaa += np.transpose(tmp437, (3, 2, 4, 0, 1))
    del tmp437
    r3new.aabaa += np.transpose(tmp445, (3, 2, 4, 0, 1))
    del tmp445
    r3new.aabaa += np.transpose(tmp434, (2, 3, 4, 1, 0))
    del tmp434
    r3new.aabaa += np.transpose(tmp370, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp369, (2, 3, 4, 1, 0)) * -2
    del tmp369
    r3new.aabaa += np.transpose(tmp370, (3, 2, 4, 0, 1)) * -1
    del tmp370
    tmp476 = einsum(r2.aba, (0, 1, 2), ints.tmp831, (3, 4, 1, 5), (3, 2, 4, 0, 5))
    r3new.aabaa += np.transpose(tmp476, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp422, (3, 2, 4, 1, 0)) * -4
    r3new.aabaa += np.transpose(tmp423, (3, 2, 4, 1, 0)) * 2
    r3new.aabaa += np.transpose(tmp476, (3, 2, 4, 0, 1))
    del tmp476
    r3new.aabaa += np.transpose(tmp422, (2, 3, 4, 1, 0)) * 4
    del tmp422
    r3new.aabaa += np.transpose(tmp423, (2, 3, 4, 1, 0)) * -2
    del tmp423
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp505, (1, 2, 3, 4), (4, 3, 0, 1, 2))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp505, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.aabaa += np.transpose(tmp405, (3, 2, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp406, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp405, (3, 2, 4, 0, 1)) * -1
    del tmp405
    r3new.aabaa += np.transpose(tmp406, (2, 3, 4, 1, 0)) * -1
    del tmp406
    tmp477 = einsum(r2.aba, (0, 1, 2), ints.tmp211, (3, 4, 5, 1), (3, 4, 2, 0, 5))
    tmp478 = einsum(t1.aa, (0, 1), tmp477, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp477
    r3new.aabaa += np.transpose(tmp478, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp388, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp391, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp390, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp392, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp390, (2, 3, 4, 1, 0)) * -1
    del tmp390
    r3new.aabaa += np.transpose(tmp392, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp388, (2, 3, 4, 1, 0))
    del tmp388
    r3new.aabaa += np.transpose(tmp391, (2, 3, 4, 1, 0))
    del tmp391
    r3new.aabaa += np.transpose(tmp404, (2, 3, 4, 0, 1))
    del tmp404
    r3new.aabaa += np.transpose(tmp392, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp478, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp392, (3, 2, 4, 0, 1)) * -1
    del tmp392
    r3new.aabaa += einsum(t1.bb, (0, 1), tmp447, (2, 3, 0, 4, 5), (5, 4, 1, 2, 3)) * 2
    del tmp447
    tmp479 = einsum(t1.aa, (0, 1), tmp463, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp463
    tmp480 = einsum(t1.aa, (0, 1), tmp479, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp479
    tmp481 = einsum(t1.bb, (0, 1), tmp480, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp480
    r3new.aabaa += np.transpose(tmp481, (2, 3, 4, 0, 1)) * -1
    tmp484 = einsum(r2.aba, (0, 1, 2), ints.tmp167, (3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp485 = einsum(t1.aa, (0, 1), tmp484, (2, 3, 1, 4, 5), (2, 0, 3, 4, 5))
    del tmp484
    r3new.aabaa += np.transpose(tmp485, (3, 2, 4, 0, 1)) * -1
    tmp486 = np.copy(tmp79)
    tmp486 += tmp82
    tmp487 = einsum(tmp486, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    del tmp486
    r3new.aabaa += np.transpose(tmp487, (3, 2, 4, 0, 1))
    tmp482 = einsum(tmp80, (0, 1, 2), t2.abab, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    tmp483 = einsum(t1.aa, (0, 1), tmp482, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp482
    r3new.aabaa += np.transpose(tmp483, (2, 3, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp483, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp481, (2, 3, 4, 1, 0))
    tmp488 = np.copy(tmp79)
    del tmp79
    tmp488 += tmp82
    del tmp82
    tmp489 = einsum(tmp488, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    r3new.aabaa += np.transpose(tmp489, (3, 2, 4, 1, 0)) * -1
    r3new.aabaa += np.transpose(tmp485, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp489, (2, 3, 4, 0, 1)) * -1
    del tmp489
    r3new.aabaa += np.transpose(tmp485, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp481, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp483, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp483, (3, 2, 4, 0, 1)) * -1
    del tmp483
    r3new.aabaa += np.transpose(tmp485, (2, 3, 4, 1, 0)) * -1
    del tmp485
    r3new.aabaa += np.transpose(tmp487, (2, 3, 4, 1, 0))
    del tmp487
    r3new.aabaa += np.transpose(tmp481, (3, 2, 4, 1, 0)) * -1
    del tmp481
    r3new.aabaa += np.transpose(tmp386, (3, 2, 4, 1, 0)) * 2
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp846, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.aabaa += np.transpose(tmp386, (3, 2, 4, 0, 1)) * -2
    del tmp386
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp846, (1, 2, 3, 4), (3, 4, 0, 2, 1)) * -2
    r3new.aabaa += np.transpose(tmp478, (3, 2, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp478, (3, 2, 4, 0, 1)) * -1
    del tmp478
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp643, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp643, (1, 2, 3, 4), (4, 3, 0, 1, 2)) * -1
    tmp490 = einsum(r2.aba, (0, 1, 2), v.aabb.vvov, (3, 4, 5, 1), (2, 5, 0, 3, 4))
    tmp491 = np.copy(np.transpose(tmp490, (0, 1, 2, 4, 3))) * -1
    tmp491 += np.transpose(tmp368, (0, 1, 3, 4, 2)) * 2
    del tmp368
    tmp492 = einsum(t1.aa, (0, 1), tmp491, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 0.5
    del tmp491
    tmp493 = einsum(t1.bb, (0, 1), tmp492, (2, 3, 0, 4, 5), (3, 2, 4, 5, 1)) * 2
    del tmp492
    r3new.aabaa += np.transpose(tmp493, (3, 2, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp493, (3, 2, 4, 1, 0)) * -1
    del tmp493
    tmp494 = einsum(t1.aa, (0, 1), tmp490, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp490
    tmp495 = einsum(t1.bb, (0, 1), tmp494, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp494
    r3new.aabaa += np.transpose(tmp495, (2, 3, 4, 0, 1))
    r3new.aabaa += np.transpose(tmp495, (2, 3, 4, 1, 0)) * -1
    del tmp495
    tmp496 = np.copy(tmp84) * 2
    tmp496 += tmp452
    del tmp452
    tmp497 = einsum(t1.aa, (0, 1), tmp496, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5)) * 0.5
    del tmp496
    tmp498 = einsum(t1.aa, (0, 1), tmp497, (2, 3, 0, 4, 5), (3, 2, 1, 4, 5)) * 2
    del tmp497
    r3new.aabaa += np.transpose(tmp498, (2, 3, 4, 0, 1)) * -1
    r3new.aabaa += np.transpose(tmp498, (2, 3, 4, 1, 0))
    r3new.aabaa += np.transpose(tmp498, (3, 2, 4, 0, 1))
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp856, (1, 2, 3, 4), (3, 4, 0, 2, 1))
    r3new.aabaa += np.transpose(tmp498, (3, 2, 4, 1, 0)) * -1
    del tmp498
    r3new.aabaa += einsum(r1.b, (0,), ints.tmp856, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp503 = einsum(r2.bab, (0, 1, 2), ints.tmp249, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab = np.copy(np.transpose(tmp503, (2, 4, 3, 0, 1))) * -1
    tmp505 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 2, 1), (0, 4, 6, 5, 3))
    tmp506 = einsum(t1.bb, (0, 1), tmp505, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp505
    r3new.abaab += np.transpose(tmp506, (2, 4, 3, 0, 1)) * -2
    tmp499 = einsum(r1.a, (0,), ints.tmp857, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp499, (2, 4, 3, 0, 1))
    r3new.abaab += np.transpose(tmp113, (3, 4, 2, 0, 1)) * 2
    tmp504 = einsum(ints.tmp60, (0, 1), r3.ababa, (2, 3, 4, 5, 0), (1, 5, 2, 4, 3))
    r3new.abaab += np.transpose(tmp504, (3, 4, 2, 0, 1)) * -2
    tmp500 = einsum(r2.bab, (0, 1, 2), v.aabb.ovvv, (3, 4, 5, 0), (3, 2, 1, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp500, (3, 4, 2, 0, 1))
    tmp501 = einsum(tmp120, (0, 1, 2), t2.abab, (3, 2, 4, 5), (0, 3, 1, 4, 5))
    tmp502 = einsum(t1.aa, (0, 1), tmp501, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp501
    r3new.abaab += np.transpose(tmp502, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(ints.tmp66, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp867, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp245, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += np.transpose(tmp39, (2, 4, 3, 0, 1)) * -6
    tmp507 = einsum(r2.bab, (0, 1, 2), ints.tmp869, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp508 = einsum(t1.aa, (0, 1), tmp507, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp507
    r3new.abaab += np.transpose(tmp508, (2, 4, 3, 0, 1)) * -1
    tmp509 = einsum(ints.tmp220, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 0, 6), (6, 1, 4, 5, 3))
    r3new.abaab += np.transpose(tmp509, (2, 4, 3, 0, 1)) * -2
    tmp510 = einsum(r2.aaa, (0, 1, 2), ints.tmp174, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp510, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp873, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(ints.tmp234, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.abaab += np.transpose(tmp113, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp500, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp499, (2, 4, 3, 0, 1))
    r3new.abaab += np.transpose(tmp503, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(ints.tmp66, (0, 1), r2.bab, (2, 3, 4), (3, 2, 1, 0, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp245, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    tmp511 = einsum(r1.a, (0,), ints.tmp880, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp511, (2, 4, 3, 0, 1)) * -1
    tmp512 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 0), (2, 4, 6, 1, 5))
    tmp513 = einsum(t1.aa, (0, 1), tmp512, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp512
    r3new.abaab += np.transpose(tmp513, (2, 4, 3, 0, 1)) * -2
    tmp514 = einsum(ints.tmp227, (0, 1), r3.ababa, (2, 3, 4, 0, 5), (5, 1, 2, 4, 3))
    r3new.abaab += np.transpose(tmp514, (3, 4, 2, 0, 1)) * -2
    tmp515 = einsum(tmp206, (0, 1, 2), t2.abab, (2, 3, 4, 5), (0, 1, 3, 4, 5))
    del tmp206
    tmp516 = einsum(t1.aa, (0, 1), tmp515, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp515
    r3new.abaab += np.transpose(tmp516, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp878, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    tmp518 = einsum(v.aaaa.vvvv, (0, 1, 2, 3), r3.ababa, (1, 4, 3, 5, 6), (6, 5, 0, 2, 4))
    r3new.abaab += np.transpose(tmp518, (2, 4, 3, 0, 1)) * -2
    tmp519 = einsum(ints.tmp92, (0, 1), r3.ababa, (2, 3, 0, 4, 5), (5, 4, 1, 2, 3))
    r3new.abaab += np.transpose(tmp519, (2, 4, 3, 0, 1)) * 2
    tmp520 = einsum(ints.tmp115, (0, 1, 2, 3), r3.ababa, (4, 5, 2, 6, 0), (6, 1, 3, 4, 5))
    tmp521 = einsum(t1.aa, (0, 1), tmp520, (2, 1, 3, 4, 5), (0, 2, 3, 4, 5))
    del tmp520
    r3new.abaab += np.transpose(tmp521, (2, 4, 3, 0, 1)) * -2
    tmp522 = einsum(r2.bab, (0, 1, 2), v.aaaa.vvvv, (3, 4, 5, 1), (2, 3, 4, 5, 0)) * -1
    tmp523 = einsum(t1.aa, (0, 1), tmp522, (2, 3, 1, 4, 5), (0, 2, 4, 3, 5))
    del tmp522
    r3new.abaab += np.transpose(tmp523, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp523, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp889, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp517 = einsum(r2.aaa, (0, 1, 2), ints.tmp886, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.abaab += einsum(t1.bb, (0, 1), tmp517, (2, 3, 0, 4, 5), (4, 1, 5, 2, 3)) * -2
    del tmp517
    tmp524 = einsum(r2.bab, (0, 1, 2), ints.tmp886, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp525 = einsum(t1.aa, (0, 1), tmp524, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp524
    r3new.abaab += np.transpose(tmp525, (2, 4, 3, 0, 1)) * -1
    tmp526 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 6, 0), (6, 4, 5, 1, 2))
    tmp527 = einsum(t1.aa, (0, 1), tmp526, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp526
    r3new.abaab += np.transpose(tmp527, (2, 4, 3, 0, 1)) * 2
    tmp528 = einsum(ints.tmp181, (0, 1), r3.ababa, (2, 0, 3, 4, 5), (5, 4, 2, 3, 1))
    r3new.abaab += np.transpose(tmp528, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp900, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r2.aaa, (0, 1, 2), ints.tmp899, (3, 2, 4, 5), (0, 5, 1, 3, 4)) * 2
    r3new.abaab += np.transpose(tmp519, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp521, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp889, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp906, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp531 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 6, 2), (0, 1, 6, 5, 4)) * -1
    tmp532 = np.copy(tmp531)
    del tmp531
    tmp530 = einsum(r2.bab, (0, 1, 2), v.aabb.oovv, (3, 4, 5, 0), (3, 4, 2, 1, 5)) * -1
    tmp532 += np.transpose(tmp530, (1, 0, 2, 3, 4)) * 0.5
    del tmp530
    tmp533 = einsum(t1.aa, (0, 1), tmp532, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp532
    r3new.abaab += np.transpose(tmp533, (2, 4, 3, 0, 1)) * -1
    tmp529 = einsum(r2.bab, (0, 1, 2), ints.tmp908, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp529, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(ints.tmp445, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp907, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp535 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aaaaa, (4, 5, 1, 6, 0), (6, 2, 3, 4, 5))
    tmp537 = np.copy(np.transpose(tmp535, (0, 2, 1, 4, 3))) * -1
    del tmp535
    tmp536 = einsum(ints.tmp277, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 0, 6), (6, 1, 2, 4, 5))
    tmp537 += np.transpose(tmp536, (0, 2, 1, 4, 3)) * -0.3333333333333333
    del tmp536
    tmp538 = einsum(t1.bb, (0, 1), tmp537, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1)) * 6
    del tmp537
    r3new.abaab += np.transpose(tmp538, (2, 4, 3, 0, 1))
    tmp534 = einsum(r2.aaa, (0, 1, 2), ints.tmp914, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp534, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(ints.tmp283, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.abaab += np.transpose(tmp529, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp533, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(ints.tmp445, (0, 1), r2.bab, (2, 3, 4), (3, 2, 1, 0, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp907, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp540 = einsum(r2.bab, (0, 1, 2), ints.tmp888, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp540, (2, 4, 3, 0, 1)) * -1
    tmp539 = einsum(v.aabb.vvvv, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 6), (6, 5, 4, 0, 2))
    r3new.abaab += np.transpose(tmp539, (3, 4, 2, 0, 1)) * 2
    tmp541 = einsum(ints.tmp106, (0, 1), r3.ababa, (2, 3, 4, 5, 0), (1, 5, 2, 4, 3))
    r3new.abaab += np.transpose(tmp541, (3, 4, 2, 0, 1)) * -2
    tmp543 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babbb, (4, 5, 3, 6, 2), (6, 5, 0, 1, 4)) * -1
    tmp546 = np.copy(np.transpose(tmp543, (0, 1, 3, 2, 4))) * 2
    tmp542 = einsum(r2.bab, (0, 1, 2), v.aabb.vvvv, (3, 4, 5, 0), (2, 1, 3, 4, 5)) * -1
    tmp546 += np.transpose(tmp542, (0, 1, 3, 2, 4))
    tmp544 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 2, 0), (4, 6, 1, 5, 3))
    tmp545 = einsum(t1.bb, (0, 1), tmp544, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    del tmp544
    tmp546 += np.transpose(tmp545, (0, 2, 3, 1, 4)) * -2
    r3new.abaab += einsum(t1.aa, (0, 1), tmp546, (2, 3, 1, 4, 5), (4, 5, 3, 0, 2))
    del tmp546
    r3new.abaab += einsum(ints.tmp114, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp922, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp547 = einsum(r2.bab, (0, 1, 2), ints.tmp930, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp548 = einsum(t1.aa, (0, 1), tmp547, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp547
    r3new.abaab += np.transpose(tmp548, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp934, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp550 = einsum(ints.tmp179, (0, 1, 2, 3), r3.ababa, (4, 2, 5, 0, 6), (6, 4, 5, 1, 3))
    tmp551 = np.copy(np.transpose(tmp550, (0, 2, 1, 3, 4))) * 0.3333333333333333
    tmp549 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aaaaa, (4, 5, 1, 6, 0), (6, 4, 5, 2, 3))
    tmp551 += np.transpose(tmp549, (0, 2, 1, 4, 3)) * -1
    r3new.abaab += einsum(t1.bb, (0, 1), tmp551, (2, 3, 4, 1, 5), (3, 5, 4, 2, 0)) * -6
    del tmp551
    r3new.abaab += einsum(r2.aaa, (0, 1, 2), ints.tmp933, (3, 2, 4, 5), (0, 5, 1, 3, 4)) * 2
    r3new.abaab += einsum(ints.tmp255, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * -4
    r3new.abaab += np.transpose(tmp539, (2, 4, 3, 0, 1)) * -2
    tmp552 = np.copy(np.transpose(tmp542, (0, 1, 3, 2, 4))) * 0.5
    tmp552 += np.transpose(tmp543, (0, 1, 3, 2, 4))
    r3new.abaab += einsum(t1.aa, (0, 1), tmp552, (2, 3, 1, 4, 5), (3, 5, 4, 0, 2)) * -2
    del tmp552
    r3new.abaab += np.transpose(tmp540, (3, 4, 2, 0, 1))
    del tmp540
    r3new.abaab += einsum(ints.tmp114, (0, 1), r2.bab, (2, 3, 4), (3, 2, 1, 0, 4))
    tmp553 = einsum(r2.bab, (0, 1, 2), ints.tmp945, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp553, (2, 4, 3, 0, 1)) * -1
    tmp554 = einsum(ints.tmp930, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 1), (0, 2, 4, 6, 5))
    r3new.abaab += np.transpose(tmp554, (2, 4, 3, 0, 1)) * -2
    tmp555 = einsum(r2.aaa, (0, 1, 2), v.aabb.vvvv, (3, 1, 4, 5), (2, 0, 3, 4, 5))
    tmp556 = einsum(t1.bb, (0, 1), tmp555, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp555
    r3new.abaab += np.transpose(tmp556, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp941, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += einsum(ints.tmp244, (0, 1), r3.ababa, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1)) * 2
    tmp559 = einsum(r2.bab, (0, 1, 2), ints.tmp129, (3, 4, 1, 5), (3, 2, 4, 5, 0)) * -1
    r3new.abaab += np.transpose(tmp559, (2, 4, 3, 0, 1)) * 2
    tmp560 = einsum(ints.tmp108, (0, 1), r3.ababa, (2, 3, 1, 4, 5), (5, 4, 0, 2, 3))
    r3new.abaab += np.transpose(tmp560, (2, 4, 3, 0, 1)) * -4
    tmp561 = einsum(ints.tmp16, (0, 1), r3.ababa, (2, 3, 1, 4, 5), (0, 5, 4, 2, 3))
    tmp563 = np.copy(tmp561)
    del tmp561
    tmp562 = einsum(v.aaaa.ovvv, (0, 1, 2, 3), r3.ababa, (3, 4, 1, 5, 6), (6, 0, 5, 2, 4)) * -1
    tmp563 += np.transpose(tmp562, (1, 0, 2, 3, 4)) * -1
    del tmp562
    tmp564 = einsum(t1.aa, (0, 1), tmp563, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp563
    r3new.abaab += np.transpose(tmp564, (2, 4, 3, 0, 1)) * -1
    tmp557 = einsum(t2.abab, (0, 1, 2, 3), tmp124, (4, 1, 5, 6, 3), (0, 4, 5, 2, 6))
    del tmp124
    r3new.abaab += np.transpose(tmp557, (3, 4, 2, 0, 1)) * 2
    tmp558 = einsum(t2.aaaa, (0, 1, 2, 3), tmp125, (1, 4, 3, 5, 6), (0, 4, 5, 2, 6))
    r3new.abaab += np.transpose(tmp558, (3, 4, 2, 0, 1)) * 4
    tmp565 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 6, 0), (6, 2, 4, 5, 1))
    tmp566 = einsum(t2.abab, (0, 1, 2, 3), tmp565, (4, 1, 5, 6, 2), (0, 4, 5, 6, 3))
    r3new.abaab += np.transpose(tmp566, (2, 4, 3, 0, 1)) * -2
    tmp568 = einsum(r2.bab, (0, 1, 2), ints.tmp213, (3, 4, 5, 0), (3, 2, 4, 1, 5)) * -1
    r3new.abaab += np.transpose(tmp568, (2, 4, 3, 0, 1)) * -1
    tmp567 = einsum(ints.tmp299, (0, 1), r3.ababa, (2, 1, 3, 4, 5), (5, 4, 2, 3, 0))
    r3new.abaab += np.transpose(tmp567, (3, 4, 2, 0, 1)) * -4
    tmp569 = einsum(r2.aaa, (0, 1, 2), ints.tmp957, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp569, (3, 4, 2, 0, 1)) * -4
    tmp570 = einsum(ints.tmp35, (0, 1), r3.ababa, (2, 1, 3, 4, 5), (5, 0, 4, 2, 3))
    tmp572 = np.copy(np.transpose(tmp570, (0, 1, 2, 4, 3))) * -1
    del tmp570
    tmp571 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 6), (6, 5, 2, 4, 0))
    tmp572 += np.transpose(tmp571, (0, 2, 1, 3, 4))
    tmp573 = einsum(t1.bb, (0, 1), tmp572, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp572
    r3new.abaab += np.transpose(tmp573, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp960, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    r3new.abaab += np.transpose(tmp557, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp558, (2, 4, 3, 0, 1)) * -4
    r3new.abaab += np.transpose(tmp559, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp560, (3, 4, 2, 0, 1)) * 4
    r3new.abaab += np.transpose(tmp564, (3, 4, 2, 0, 1))
    tmp577 = einsum(r2.aaa, (0, 1, 2), ints.tmp274, (3, 4, 1, 5), (2, 3, 4, 0, 5))
    r3new.abaab += np.transpose(tmp577, (2, 4, 3, 0, 1)) * 2
    tmp574 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovoo, (3, 1, 4, 5), (2, 3, 4, 5, 0))
    tmp575 = einsum(t1.bb, (0, 1), tmp574, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp574
    tmp576 = einsum(t1.aa, (0, 1), tmp575, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp575
    r3new.abaab += np.transpose(tmp576, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp977, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += einsum(tmp136, (0, 1, 2), t2.abab, (3, 0, 4, 5), (4, 5, 2, 3, 1)) * -2
    del tmp136
    tmp578 = einsum(r2.bab, (0, 1, 2), ints.tmp153, (3, 4, 5, 0), (3, 2, 4, 1, 5)) * -1
    r3new.abaab += np.transpose(tmp578, (2, 4, 3, 0, 1))
    tmp579 = einsum(r2.bab, (0, 1, 2), v.aabb.ooov, (3, 4, 5, 0), (3, 4, 2, 5, 1)) * -1
    tmp580 = einsum(t1.bb, (0, 1), tmp579, (2, 3, 4, 0, 5), (3, 2, 4, 5, 1))
    del tmp579
    tmp581 = einsum(t1.aa, (0, 1), tmp580, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp580
    r3new.abaab += np.transpose(tmp581, (3, 4, 2, 0, 1))
    tmp582 = np.copy(tmp26) * -1
    del tmp26
    tmp582 += np.transpose(tmp27, (1, 0, 2)) * 2
    del tmp27
    tmp582 += np.transpose(tmp28, (1, 0, 2))
    r3new.abaab += einsum(tmp582, (0, 1, 2), t2.abab, (0, 3, 4, 5), (4, 5, 2, 1, 3)) * -1
    del tmp582
    r3new.abaab += einsum(r1.a, (0,), ints.tmp978, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp988, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp584 = einsum(tmp111, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 2, 4, 5))
    del tmp111
    tmp585 = einsum(t1.aa, (0, 1), tmp584, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.abaab += np.transpose(tmp585, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp577, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp977, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp583 = np.copy(tmp144) * -1
    tmp583 += tmp135
    tmp583 += np.transpose(tmp134, (1, 0, 2)) * 2
    r3new.abaab += einsum(tmp583, (0, 1, 2), t2.abab, (3, 1, 4, 5), (2, 5, 4, 3, 0))
    del tmp583
    tmp589 = einsum(tmp267, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 2, 3, 4, 5))
    del tmp267
    tmp590 = einsum(t1.aa, (0, 1), tmp589, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * -1
    r3new.abaab += np.transpose(tmp590, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp578, (3, 4, 2, 0, 1)) * -1
    tmp586 = einsum(r1.a, (0,), ints.tmp993, (1, 2, 0, 3), (1, 2, 3))
    tmp588 = np.copy(tmp586)
    tmp588 += np.transpose(tmp28, (1, 0, 2)) * -1
    tmp587 = einsum(r2.aaa, (0, 1, 2), ints.tmp435, (2, 3, 4, 1), (3, 4, 0))
    tmp588 += np.transpose(tmp587, (1, 0, 2)) * 2
    r3new.abaab += einsum(tmp588, (0, 1, 2), t2.abab, (0, 3, 4, 5), (2, 5, 4, 1, 3)) * -1
    del tmp588
    r3new.abaab += einsum(r1.a, (0,), ints.tmp988, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp978, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp591 = einsum(r2.aaa, (0, 1, 2), ints.tmp1005, (3, 1, 4, 5), (2, 3, 4, 0, 5))
    r3new.abaab += np.transpose(tmp591, (2, 4, 3, 0, 1)) * 2
    tmp593 = einsum(r1.a, (0,), ints.tmp1011, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    tmp594 = einsum(t1.aa, (0, 1), tmp593, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abaab += np.transpose(tmp594, (2, 4, 3, 0, 1)) * -1
    tmp595 = einsum(r1.a, (0,), ints.tmp997, (1, 2, 0, 3, 4, 5), (1, 2, 3, 4, 5))
    tmp599 = np.copy(tmp595)
    tmp596 = einsum(r1.a, (0,), ints.tmp999, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp597 = einsum(t1.aa, (0, 1), tmp596, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp596
    tmp598 = einsum(t1.aa, (0, 1), tmp597, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp597
    tmp599 += tmp598
    r3new.abaab += np.transpose(tmp599, (2, 4, 3, 0, 1)) * -1
    tmp601 = np.copy(tmp45)
    del tmp45
    tmp601 += np.transpose(tmp46, (2, 1, 0)) * 0.5
    tmp601 += np.transpose(tmp47, (2, 1, 0)) * -3
    del tmp47
    tmp601 += np.transpose(tmp48, (2, 1, 0)) * -1
    del tmp48
    tmp602 = einsum(tmp601, (0, 1, 2), t2.abab, (3, 4, 0, 5), (3, 4, 1, 2, 5)) * 2
    del tmp601
    r3new.abaab += np.transpose(tmp602, (2, 4, 3, 0, 1))
    tmp592 = einsum(r2.aaa, (0, 1, 2), ints.tmp1009, (2, 3, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp592, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp599, (3, 4, 2, 0, 1))
    del tmp599
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1019, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp600 = np.copy(np.transpose(tmp42, (0, 1, 2, 4, 3))) * -3
    del tmp42
    tmp600 += np.transpose(tmp43, (1, 0, 4, 3, 2))
    del tmp43
    r3new.abaab += einsum(t2.abab, (0, 1, 2, 3), tmp600, (0, 4, 2, 5, 6), (5, 3, 6, 4, 1)) * 2
    del tmp600
    r3new.abaab += einsum(t2.bbbb, (0, 1, 2, 3), tmp41, (4, 1, 5, 6, 3), (5, 2, 6, 4, 0)) * -4
    del tmp41
    r3new.abaab += einsum(ints.tmp1016, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * -4
    tmp603 = einsum(r2.aaa, (0, 1, 2), ints.tmp311, (3, 4, 1, 5), (2, 3, 4, 0, 5))
    r3new.abaab += np.transpose(tmp603, (2, 4, 3, 0, 1)) * -2
    tmp604 = einsum(r2.bab, (0, 1, 2), ints.tmp1026, (3, 2, 4, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp604, (2, 4, 3, 0, 1)) * -2
    tmp606 = einsum(tmp118, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * 2
    del tmp118
    r3new.abaab += np.transpose(tmp606, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1030, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp605 = einsum(r1.a, (0,), ints.tmp1021, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += einsum(t1.aa, (0, 1), tmp605, (2, 0, 3, 4, 5), (4, 5, 1, 2, 3)) * -1
    r3new.abaab += np.transpose(tmp603, (3, 4, 2, 0, 1)) * 2
    tmp607 = einsum(r2.bab, (0, 1, 2), ints.tmp1031, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp607, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp606, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1030, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    tmp608 = einsum(tmp121, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 0, 4, 5, 1))
    del tmp121
    tmp609 = np.copy(tmp608) * -1
    tmp609 += tmp605
    r3new.abaab += einsum(t1.aa, (0, 1), tmp609, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3))
    del tmp609
    r3new.abaab += np.transpose(tmp591, (3, 4, 2, 0, 1)) * -2
    tmp610 = np.copy(tmp55) * 2
    del tmp55
    tmp610 += np.transpose(tmp46, (2, 1, 0)) * -1
    del tmp46
    tmp611 = einsum(tmp610, (0, 1, 2), t2.abab, (3, 4, 0, 5), (3, 4, 1, 2, 5))
    del tmp610
    r3new.abaab += np.transpose(tmp611, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1019, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    tmp612 = np.copy(tmp593) * 0.5
    del tmp593
    tmp612 += einsum(tmp2, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 0, 4, 2, 5)) * 0.5
    r3new.abaab += einsum(t1.aa, (0, 1), tmp612, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3)) * 2
    del tmp612
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1040, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp615 = einsum(r2.bab, (0, 1, 2), ints.tmp1045, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp615, (2, 4, 3, 0, 1)) * -2
    tmp614 = einsum(r2.bab, (0, 1, 2), ints.tmp831, (3, 4, 0, 5), (3, 2, 4, 1, 5)) * -1
    r3new.abaab += np.transpose(tmp614, (2, 4, 3, 0, 1))
    tmp613 = einsum(t2.aaaa, (0, 1, 2, 3), tmp113, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6))
    r3new.abaab += np.transpose(tmp613, (3, 4, 2, 0, 1)) * 4
    tmp616 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 6), (6, 0, 5, 4, 2))
    tmp617 = einsum(t1.aa, (0, 1), tmp616, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp616
    r3new.abaab += np.transpose(tmp617, (3, 4, 2, 0, 1)) * -2
    tmp618 = einsum(t2.abab, (0, 1, 2, 3), tmp114, (1, 4, 5, 3, 6), (0, 4, 5, 2, 6))
    del tmp114
    r3new.abaab += np.transpose(tmp618, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(ints.tmp149, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.abaab += np.transpose(tmp613, (2, 4, 3, 0, 1)) * -4
    r3new.abaab += np.transpose(tmp617, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp618, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp614, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp615, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(ints.tmp149, (0, 1), r2.bab, (2, 3, 4), (3, 2, 1, 0, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    tmp619 = einsum(r1.a, (0,), ints.tmp1056, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp619, (2, 4, 3, 0, 1)) * -1
    tmp620 = einsum(r2.aaa, (0, 1, 2), ints.tmp223, (3, 4, 1, 5), (2, 3, 4, 0, 5))
    r3new.abaab += np.transpose(tmp620, (2, 4, 3, 0, 1)) * -2
    tmp622 = einsum(r2.aaa, (0, 1, 2), ints.tmp1051, (2, 3, 4, 1, 5, 6), (3, 4, 5, 0, 6))
    r3new.abaab += np.transpose(tmp622, (2, 4, 3, 0, 1)) * 2
    tmp623 = np.copy(tmp62)
    del tmp62
    tmp623 += np.transpose(tmp63, (1, 0, 2)) * -1
    del tmp63
    tmp623 += np.transpose(tmp64, (1, 0, 2)) * 3
    del tmp64
    tmp623 += np.transpose(tmp65, (1, 0, 2))
    del tmp65
    tmp624 = einsum(tmp623, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 3, 4, 2, 5)) * 2
    del tmp623
    r3new.abaab += np.transpose(tmp624, (2, 4, 3, 0, 1)) * -1
    tmp621 = einsum(r2.bab, (0, 1, 2), ints.tmp1049, (3, 4, 2, 5, 6, 0), (3, 4, 5, 1, 6)) * -1
    r3new.abaab += np.transpose(tmp621, (2, 4, 3, 0, 1))
    tmp626 = einsum(tmp130, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 5, 1))
    tmp627 = np.copy(tmp626) * -1
    del tmp626
    tmp625 = einsum(r2.aaa, (0, 1, 2), ints.tmp312, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp627 += tmp625
    tmp628 = einsum(t1.bb, (0, 1), tmp627, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp627
    r3new.abaab += np.transpose(tmp628, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1069, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp633 = einsum(r2.bab, (0, 1, 2), ints.tmp192, (3, 4, 5, 0), (3, 2, 4, 1, 5)) * -1
    r3new.abaab += np.transpose(tmp633, (2, 4, 3, 0, 1)) * -1
    tmp634 = einsum(r2.bab, (0, 1, 2), ints.tmp1077, (3, 2, 4, 5, 0, 6), (3, 4, 5, 1, 6)) * -1
    r3new.abaab += np.transpose(tmp634, (2, 4, 3, 0, 1)) * -1
    tmp635 = einsum(r2.bab, (0, 1, 2), ints.tmp147, (3, 4, 5, 0), (3, 4, 2, 5, 1)) * -1
    tmp636 = einsum(t1.bb, (0, 1), tmp635, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp635
    r3new.abaab += np.transpose(tmp636, (2, 4, 3, 0, 1)) * -2
    tmp637 = einsum(r2.aaa, (0, 1, 2), ints.tmp1070, (3, 2, 4, 5, 1, 6), (3, 4, 5, 0, 6))
    r3new.abaab += np.transpose(tmp637, (2, 4, 3, 0, 1)) * 2
    tmp638 = einsum(tmp143, (0, 1, 2), t2.abab, (3, 0, 4, 5), (3, 1, 4, 2, 5))
    del tmp143
    r3new.abaab += np.transpose(tmp638, (2, 4, 3, 0, 1)) * -1
    tmp632 = einsum(r1.a, (0,), ints.tmp1075, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp632, (2, 4, 3, 0, 1))
    tmp629 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 3, 1, 5, 6), (6, 0, 5, 2, 4))
    tmp630 = einsum(t2.abab, (0, 1, 2, 3), tmp629, (4, 0, 5, 1, 6), (4, 5, 6, 2, 3))
    r3new.abaab += np.transpose(tmp630, (3, 4, 2, 0, 1)) * 2
    tmp631 = einsum(t1.bb, (0, 1), tmp629, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp629
    r3new.abaab += einsum(t1.aa, (0, 1), tmp631, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1087, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp639 = einsum(v.aaaa.ovov, (0, 1, 2, 3), r3.ababa, (1, 4, 3, 5, 6), (6, 0, 2, 5, 4))
    tmp640 = einsum(t2.aaaa, (0, 1, 2, 3), tmp639, (4, 0, 1, 5, 6), (4, 5, 2, 3, 6))
    r3new.abaab += np.transpose(tmp640, (2, 4, 3, 0, 1)) * -2
    tmp643 = einsum(r2.bab, (0, 1, 2), ints.tmp125, (3, 4, 5, 1), (3, 4, 2, 5, 0)) * -1
    tmp644 = einsum(t1.aa, (0, 1), tmp643, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp643
    r3new.abaab += np.transpose(tmp644, (2, 4, 3, 0, 1)) * -2
    tmp641 = einsum(t1.aa, (0, 1), tmp639, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp639
    tmp642 = einsum(t1.aa, (0, 1), tmp641, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * -1
    del tmp641
    r3new.abaab += np.transpose(tmp642, (3, 4, 2, 0, 1)) * 2
    tmp645 = np.copy(tmp145) * 0.5
    del tmp145
    tmp645 += tmp146 * 0.5
    del tmp146
    tmp645 += tmp147
    del tmp147
    tmp645 += tmp148
    del tmp148
    tmp646 = einsum(tmp645, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -4
    del tmp645
    r3new.abaab += np.transpose(tmp646, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r2.bab, (0, 1, 2), ints.tmp606, (3, 4, 5, 1), (4, 0, 5, 3, 2)) * 6
    r3new.abaab += np.transpose(tmp620, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp621, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp622, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp628, (3, 4, 2, 0, 1)) * -1
    del tmp628
    r3new.abaab += np.transpose(tmp619, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp624, (3, 4, 2, 0, 1))
    tmp647 = einsum(r1.a, (0,), ints.tmp1051, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    tmp648 = einsum(t1.aa, (0, 1), tmp647, (0, 2, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abaab += np.transpose(tmp648, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1097, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    r3new.abaab += np.transpose(tmp630, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp632, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp636, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp637, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp633, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp634, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp638, (3, 4, 2, 0, 1))
    tmp649 = einsum(r1.a, (0,), ints.tmp1070, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp650 = einsum(t1.aa, (0, 1), tmp649, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abaab += np.transpose(tmp650, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1085, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    r3new.abaab += np.transpose(tmp619, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp620, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp622, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp621, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1100, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += np.transpose(tmp633, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp634, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp637, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp632, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1101, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp651 = einsum(v.aabb.oooo, (0, 1, 2, 3), r3.ababa, (4, 5, 6, 3, 1), (0, 2, 4, 6, 5))
    r3new.abaab += np.transpose(tmp651, (2, 4, 3, 0, 1)) * -2
    tmp652 = einsum(tmp20, (0, 1, 2), t3.abaaba, (2, 3, 1, 4, 5, 6), (0, 3, 6, 4, 5))
    del tmp20
    r3new.abaab += np.transpose(tmp652, (2, 4, 3, 0, 1)) * -1
    tmp653 = einsum(r1.a, (0,), ints.tmp1103, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp653, (3, 4, 2, 0, 1)) * -1
    tmp657 = einsum(tmp133, (0,), t3.abaaba, (1, 2, 0, 3, 4, 5), (1, 2, 5, 3, 4)) * 2
    del tmp133
    r3new.abaab += np.transpose(tmp657, (3, 4, 2, 0, 1)) * -1
    tmp656 = np.copy(tmp647) * -1
    tmp656 += np.transpose(tmp589, (1, 0, 2, 3, 4)) * -1
    tmp654 = einsum(r1.a, (0,), ints.tmp1107, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp655 = einsum(t1.bb, (0, 1), tmp654, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp654
    tmp656 += np.transpose(tmp655, (1, 0, 2, 3, 4))
    r3new.abaab += einsum(t1.aa, (0, 1), tmp656, (0, 2, 3, 4, 5), (4, 5, 1, 2, 3))
    del tmp656
    r3new.abaab += einsum(tmp9, (0,), t3.abaaba, (1, 2, 0, 3, 4, 5), (3, 4, 5, 1, 2)) * -1
    del tmp9
    r3new.abaab += np.transpose(tmp652, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp653, (3, 4, 2, 0, 1)) * -1
    tmp658 = einsum(r2.aaa, (0, 1, 2), ints.tmp167, (3, 1, 4, 5), (2, 3, 0, 4, 5))
    tmp659 = einsum(t1.bb, (0, 1), tmp658, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp658
    r3new.abaab += np.transpose(tmp659, (2, 4, 3, 0, 1)) * 2
    tmp664 = einsum(tmp132, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    del tmp132
    r3new.abaab += np.transpose(tmp664, (2, 4, 3, 0, 1)) * -1
    tmp660 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovov, (3, 1, 4, 5), (2, 3, 4, 0, 5))
    tmp661 = einsum(t1.bb, (0, 1), tmp660, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    tmp662 = einsum(t1.bb, (0, 1), tmp661, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp661
    tmp663 = einsum(t1.aa, (0, 1), tmp662, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp662
    r3new.abaab += np.transpose(tmp663, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1122, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp665 = einsum(v.aabb.vvoo, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 3, 6), (6, 2, 4, 0, 5))
    r3new.abaab += np.transpose(tmp665, (2, 4, 3, 0, 1)) * 2
    tmp666 = einsum(r2.bab, (0, 1, 2), ints.tmp167, (3, 4, 5, 0), (2, 3, 4, 1, 5)) * -1
    tmp667 = einsum(t1.aa, (0, 1), tmp666, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp666
    r3new.abaab += np.transpose(tmp667, (2, 4, 3, 0, 1))
    tmp672 = einsum(tmp53, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 2, 4, 5)) * 2
    del tmp53
    r3new.abaab += np.transpose(tmp672, (3, 4, 2, 0, 1)) * -1
    tmp668 = einsum(r2.bab, (0, 1, 2), v.aabb.ovov, (3, 4, 5, 0), (3, 2, 5, 1, 4)) * -1
    tmp669 = einsum(t1.aa, (0, 1), tmp668, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    tmp670 = einsum(t1.bb, (0, 1), tmp669, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp669
    tmp671 = einsum(t1.aa, (0, 1), tmp670, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp670
    r3new.abaab += np.transpose(tmp671, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1137, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp502, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp659, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp664, (3, 4, 2, 0, 1))
    del tmp664
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1122, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += np.transpose(tmp516, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp672, (2, 4, 3, 0, 1))
    del tmp672
    r3new.abaab += np.transpose(tmp665, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp667, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1137, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp620, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp621, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp622, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp619, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp648, (3, 4, 2, 0, 1))
    tmp673 = einsum(r2.aaa, (0, 1, 2), ints.tmp301, (3, 4, 1, 5), (3, 2, 4, 0, 5))
    tmp675 = np.copy(tmp673) * 2
    tmp674 = einsum(tmp2, (0, 1, 2), t2.abab, (3, 4, 1, 5), (0, 3, 4, 2, 5))
    del tmp2
    tmp675 += tmp674 * -1
    del tmp674
    tmp676 = einsum(t1.aa, (0, 1), tmp675, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp675
    r3new.abaab += np.transpose(tmp676, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1038, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp678 = np.copy(tmp113) * 2
    tmp678 += tmp500
    tmp679 = einsum(t1.aa, (0, 1), tmp678, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp678
    tmp680 = einsum(t1.aa, (0, 1), tmp679, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp679
    r3new.abaab += np.transpose(tmp680, (2, 4, 3, 0, 1)) * -1
    tmp677 = einsum(r2.bab, (0, 1, 2), ints.tmp1133, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp677, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(ints.tmp191, (0, 1), r2.bab, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1142, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp681 = einsum(r2.aaa, (0, 1, 2), ints.tmp1147, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp681, (3, 4, 2, 0, 1)) * 2
    tmp683 = np.copy(np.transpose(tmp39, (0, 1, 3, 2, 4))) * 3
    tmp683 += np.transpose(tmp40, (0, 1, 3, 2, 4)) * -1
    tmp682 = einsum(r2.aaa, (0, 1, 2), v.aabb.vvov, (3, 1, 4, 5), (2, 4, 0, 3, 5))
    tmp683 += np.transpose(tmp682, (0, 1, 3, 2, 4))
    tmp684 = einsum(t1.bb, (0, 1), tmp683, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5)) * 0.3333333333333333
    del tmp683
    tmp685 = einsum(t1.bb, (0, 1), tmp684, (2, 3, 0, 4, 5), (2, 3, 5, 4, 1)) * 6
    del tmp684
    r3new.abaab += np.transpose(tmp685, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1149, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += einsum(ints.tmp273, (0, 1), r2.aaa, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.abaab += np.transpose(tmp677, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp680, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(ints.tmp191, (0, 1), r2.bab, (2, 3, 4), (3, 2, 1, 0, 4)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1142, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += np.transpose(tmp581, (2, 4, 3, 0, 1)) * -1
    tmp686 = einsum(r2.bab, (0, 1, 2), v.aabb.ovoo, (3, 4, 5, 2), (3, 5, 1, 4, 0)) * -1
    r3new.abaab += np.transpose(tmp686, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (2, 4, 0, 1, 3))
    r3new.abaab += np.transpose(tmp686, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1161, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (0, 4, 2, 1, 3)) * -1
    tmp687 = einsum(r1.a, (0,), ints.tmp1164, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp687, (3, 4, 2, 0, 1)) * 2
    tmp688 = einsum(r2.aaa, (0, 1, 2), v.aabb.ooov, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp688, (3, 4, 2, 0, 1)) * -2
    tmp690 = np.copy(tmp647)
    tmp689 = einsum(r2.bab, (0, 1, 2), v.aabb.oooo, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp690 += np.transpose(tmp689, (1, 0, 2, 3, 4))
    tmp691 = einsum(t1.aa, (0, 1), tmp690, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp690
    r3new.abaab += np.transpose(tmp691, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1163, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += np.transpose(tmp671, (2, 4, 3, 0, 1)) * -1
    tmp692 = einsum(r2.bab, (0, 1, 2), ints.tmp1124, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp692, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp682, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1172, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp170, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp693 = einsum(ints.tmp43, (0, 1, 2, 3), r3.ababa, (4, 5, 2, 6, 0), (1, 6, 3, 4, 5))
    r3new.abaab += np.transpose(tmp693, (3, 4, 2, 0, 1)) * -2
    tmp694 = einsum(r2.bab, (0, 1, 2), v.aaaa.ovvv, (3, 4, 5, 1), (3, 2, 4, 5, 0)) * -1
    r3new.abaab += np.transpose(tmp694, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1173, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1177, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += np.transpose(tmp693, (2, 4, 3, 0, 1)) * 2
    tmp695 = einsum(r2.aaa, (0, 1, 2), ints.tmp865, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp696 = einsum(t1.bb, (0, 1), tmp695, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp695
    r3new.abaab += np.transpose(tmp696, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp694, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1176, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1173, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp682, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp692, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp170, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1136, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp698 = einsum(v.aabb.oovv, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 6, 1), (0, 6, 4, 5, 2))
    r3new.abaab += np.transpose(tmp698, (2, 4, 3, 0, 1)) * 2
    tmp699 = einsum(r2.bab, (0, 1, 2), ints.tmp865, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp700 = einsum(t1.aa, (0, 1), tmp699, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp699
    r3new.abaab += np.transpose(tmp700, (2, 4, 3, 0, 1)) * -1
    tmp697 = einsum(r2.aaa, (0, 1, 2), ints.tmp1181, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp697, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1183, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp701 = einsum(t1.aa, (0, 1), tmp689, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp689
    r3new.abaab += np.transpose(tmp701, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1163, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp704 = einsum(r1.a, (0,), ints.tmp1189, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp704, (2, 4, 3, 0, 1))
    tmp702 = einsum(r2.aaa, (0, 1, 2), v.aabb.oooo, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp703 = einsum(t1.bb, (0, 1), tmp702, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp702
    r3new.abaab += np.transpose(tmp703, (3, 4, 2, 0, 1)) * 2
    tmp705 = einsum(r2.aaa, (0, 1, 2), v.aabb.vvoo, (3, 1, 4, 5), (2, 4, 5, 0, 3))
    tmp706 = einsum(t1.bb, (0, 1), tmp705, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp705
    r3new.abaab += np.transpose(tmp706, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1191, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp707 = einsum(r2.aaa, (0, 1, 2), ints.tmp1158, (2, 3, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp707, (3, 4, 2, 0, 1)) * -2
    tmp709 = np.copy(tmp668) * 0.5
    tmp708 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.ababa, (4, 3, 5, 6, 1), (0, 6, 2, 4, 5))
    tmp709 += np.transpose(tmp708, (0, 1, 2, 4, 3))
    del tmp708
    tmp710 = einsum(t1.bb, (0, 1), tmp709, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * 2
    del tmp709
    r3new.abaab += np.transpose(tmp710, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp712 = einsum(r2.bab, (0, 1, 2), ints.tmp43, (3, 4, 1, 5), (3, 4, 2, 5, 0)) * -1
    tmp714 = np.copy(tmp712) * 0.5
    del tmp712
    tmp713 = einsum(ints.tmp435, (0, 1, 2, 3), r3.ababa, (4, 5, 3, 6, 0), (1, 2, 6, 4, 5))
    tmp714 += np.transpose(tmp713, (1, 0, 2, 3, 4))
    del tmp713
    tmp715 = einsum(t1.aa, (0, 1), tmp714, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp714
    r3new.abaab += np.transpose(tmp715, (3, 4, 2, 0, 1)) * -1
    tmp711 = einsum(tmp144, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 2, 4, 5))
    r3new.abaab += np.transpose(tmp711, (3, 4, 2, 0, 1))
    tmp716 = einsum(r2.bab, (0, 1, 2), ints.tmp1206, (3, 2, 4, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp716, (2, 4, 3, 0, 1)) * -2
    tmp717 = einsum(t1.aa, (0, 1), tmp660, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp660
    r3new.abaab += np.transpose(tmp717, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += np.transpose(tmp717, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp716, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp715, (2, 4, 3, 0, 1))
    r3new.abaab += np.transpose(tmp706, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1191, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp718 = einsum(r2.bab, (0, 1, 2), ints.tmp211, (3, 4, 5, 0), (3, 4, 2, 1, 5)) * -1
    r3new.abaab += einsum(t1.aa, (0, 1), tmp718, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1210, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp719 = einsum(t1.bb, (0, 1), tmp668, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp668
    r3new.abaab += np.transpose(tmp719, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1159, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp556, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp553, (3, 4, 2, 0, 1))
    del tmp553
    tmp720 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 3, 6), (6, 0, 2, 4, 5))
    tmp721 = einsum(t1.aa, (0, 1), tmp720, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp720
    r3new.abaab += np.transpose(tmp721, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp721, (2, 4, 3, 0, 1)) * -2
    tmp722 = einsum(tmp60, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 2, 4, 5))
    del tmp60
    r3new.abaab += np.transpose(tmp722, (3, 4, 2, 0, 1)) * 2
    tmp723 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 2, 6), (6, 4, 0, 5, 3))
    tmp724 = einsum(t1.bb, (0, 1), tmp723, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp723
    r3new.abaab += np.transpose(tmp724, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1217, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp725 = einsum(r2.aaa, (0, 1, 2), ints.tmp930, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.abaab += einsum(t1.bb, (0, 1), tmp725, (2, 3, 0, 4, 5), (4, 1, 5, 2, 3)) * -2
    del tmp725
    r3new.abaab += np.transpose(tmp724, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1217, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1222, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp726 = einsum(t1.bb, (0, 1), tmp571, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp571
    r3new.abaab += np.transpose(tmp726, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp568, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp960, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1224, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1228, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp731 = einsum(tmp730, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 2, 4, 5)) * -1
    del tmp730
    tmp732 = einsum(t1.bb, (0, 1), tmp731, (2, 3, 0, 4, 5), (2, 3, 5, 4, 1)) * 2
    del tmp731
    r3new.abaab += np.transpose(tmp732, (2, 4, 3, 0, 1))
    tmp729 = einsum(tmp728, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -2
    del tmp728
    r3new.abaab += np.transpose(tmp729, (3, 4, 2, 0, 1)) * -1
    tmp735 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.ababa, (4, 5, 1, 2, 6), (6, 0, 4, 5, 3))
    tmp736 = einsum(t2.abab, (0, 1, 2, 3), tmp735, (4, 0, 5, 6, 3), (4, 1, 5, 2, 6))
    r3new.abaab += np.transpose(tmp736, (2, 4, 3, 0, 1)) * -2
    tmp733 = einsum(r1.a, (0,), ints.tmp1238, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp734 = einsum(t1.bb, (0, 1), tmp733, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abaab += np.transpose(tmp734, (3, 4, 2, 0, 1))
    tmp738 = einsum(tmp737, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    del tmp737
    r3new.abaab += np.transpose(tmp738, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1243, (1, 2, 3, 4, 0, 5), (4, 5, 3, 1, 2)) * -1
    r3new.abaab += einsum(t1.aa, (0, 1), tmp655, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3)) * -1
    r3new.abaab += einsum(tmp128, (0, 1, 2), t2.abab, (3, 4, 5, 2), (5, 1, 0, 3, 4)) * -2
    del tmp128
    r3new.abaab += np.transpose(tmp734, (2, 4, 3, 0, 1)) * -1
    del tmp734
    tmp739 = einsum(r1.a, (0,), ints.tmp1244, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp739, (2, 4, 3, 0, 1))
    r3new.abaab += np.transpose(tmp736, (3, 4, 2, 0, 1)) * 2
    tmp741 = einsum(r2.bab, (0, 1, 2), v.aaaa.ooov, (3, 4, 5, 1), (3, 4, 5, 2, 0)) * -1
    tmp742 = einsum(t1.aa, (0, 1), tmp741, (2, 3, 0, 4, 5), (3, 2, 4, 1, 5))
    del tmp741
    tmp743 = einsum(t1.aa, (0, 1), tmp742, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp742
    r3new.abaab += np.transpose(tmp743, (2, 4, 3, 0, 1))
    tmp740 = einsum(r2.bab, (0, 1, 2), ints.tmp45, (3, 4, 5, 1), (3, 2, 4, 5, 0)) * -1
    r3new.abaab += np.transpose(tmp740, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += np.transpose(tmp743, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1250, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp576, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1252, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    tmp744 = einsum(tmp110, (0, 1, 2), t3.abaaba, (3, 2, 0, 4, 5, 6), (3, 1, 4, 6, 5))
    del tmp110
    r3new.abaab += np.transpose(tmp744, (2, 4, 3, 0, 1))
    tmp745 = einsum(r1.a, (0,), ints.tmp1253, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp745, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp744, (2, 4, 3, 0, 1))
    r3new.abaab += np.transpose(tmp745, (3, 4, 2, 0, 1)) * -1
    tmp746 = np.copy(tmp649) * -1
    del tmp649
    tmp746 += tmp584
    del tmp584
    tmp747 = einsum(t1.aa, (0, 1), tmp746, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp746
    r3new.abaab += np.transpose(tmp747, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp632, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp637, (3, 4, 2, 0, 1)) * -2
    tmp748 = np.copy(tmp718) * 0.5
    del tmp718
    tmp748 += tmp631
    del tmp631
    tmp749 = einsum(t1.aa, (0, 1), tmp748, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp748
    r3new.abaab += np.transpose(tmp749, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp633, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp634, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp650, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1224, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * 2
    tmp750 = einsum(r2.bab, (0, 1, 2), ints.tmp1262, (3, 4, 2, 5, 6, 1), (3, 4, 5, 6, 0)) * -1
    r3new.abaab += np.transpose(tmp750, (3, 4, 2, 0, 1)) * -1
    tmp751 = einsum(r1.a, (0,), ints.tmp1262, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp752 = einsum(t1.bb, (0, 1), tmp751, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp751
    r3new.abaab += np.transpose(tmp752, (3, 4, 2, 0, 1)) * -1
    tmp753 = einsum(r1.a, (0,), ints.tmp1260, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abaab += np.transpose(tmp753, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp750, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp752, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp753, (3, 4, 2, 0, 1))
    tmp754 = einsum(t1.aa, (0, 1), tmp608, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp608
    r3new.abaab += np.transpose(tmp754, (3, 4, 2, 0, 1))
    tmp755 = einsum(r2.bab, (0, 1, 2), ints.tmp47, (3, 4, 5, 1), (3, 2, 4, 5, 0)) * -1
    r3new.abaab += np.transpose(tmp755, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1269, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp756 = einsum(r2.aaa, (0, 1, 2), ints.tmp869, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp757 = einsum(t1.bb, (0, 1), tmp756, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp756
    r3new.abaab += np.transpose(tmp757, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1268, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1251, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp758 = einsum(r2.aaa, (0, 1, 2), ints.tmp1272, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abaab += np.transpose(tmp758, (3, 4, 2, 0, 1)) * -4
    tmp759 = einsum(r2.bab, (0, 1, 2), v.aabb.vvov, (3, 4, 5, 0), (2, 5, 1, 3, 4)) * -1
    tmp760 = np.copy(np.transpose(tmp759, (0, 1, 2, 4, 3)))
    tmp760 += np.transpose(tmp565, (0, 1, 3, 4, 2)) * 2
    del tmp565
    tmp761 = einsum(t1.aa, (0, 1), tmp760, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp760
    tmp762 = einsum(t1.bb, (0, 1), tmp761, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp761
    r3new.abaab += np.transpose(tmp762, (3, 4, 2, 0, 1)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1277, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp763 = einsum(tmp120, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 2, 4, 5))
    del tmp120
    tmp764 = einsum(t1.bb, (0, 1), tmp763, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp763
    r3new.abaab += np.transpose(tmp764, (2, 4, 3, 0, 1)) * 2
    tmp766 = einsum(tmp765, (0, 1, 2), t2.aaaa, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * -2
    del tmp765
    r3new.abaab += np.transpose(tmp766, (3, 4, 2, 0, 1)) * -1
    tmp770 = einsum(r2.bab, (0, 1, 2), ints.tmp1285, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.abaab += np.transpose(tmp770, (2, 4, 3, 0, 1)) * -2
    tmp767 = einsum(r2.aaa, (0, 1, 2), v.aabb.ovvv, (3, 1, 4, 5), (2, 3, 0, 4, 5))
    tmp768 = einsum(t1.bb, (0, 1), tmp767, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp767
    tmp769 = einsum(t1.aa, (0, 1), tmp768, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp768
    r3new.abaab += np.transpose(tmp769, (3, 4, 2, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1287, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += np.transpose(tmp769, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp770, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1287, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp548, (3, 4, 2, 0, 1))
    del tmp548
    r3new.abaab += einsum(r1.a, (0,), ints.tmp934, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp771 = einsum(t1.bb, (0, 1), tmp682, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp772 = einsum(t1.bb, (0, 1), tmp771, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp771
    r3new.abaab += np.transpose(tmp772, (2, 4, 3, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1149, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1290, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp773 = einsum(t1.aa, (0, 1), tmp759, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    del tmp759
    tmp774 = einsum(t1.bb, (0, 1), tmp773, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp773
    r3new.abaab += np.transpose(tmp774, (2, 4, 3, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1277, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1293, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    tmp777 = einsum(r2.bab, (0, 1, 2), v.aaaa.ovov, (3, 4, 5, 1), (3, 5, 2, 4, 0)) * -1
    tmp778 = einsum(t1.aa, (0, 1), tmp777, (2, 3, 4, 1, 5), (0, 3, 2, 4, 5))
    del tmp777
    tmp779 = einsum(t1.aa, (0, 1), tmp778, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp778
    tmp780 = einsum(t1.aa, (0, 1), tmp779, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp779
    r3new.abaab += np.transpose(tmp780, (2, 4, 3, 0, 1)) * -1
    tmp775 = einsum(r2.bab, (0, 1, 2), ints.tmp68, (3, 4, 1, 5), (2, 3, 4, 5, 0)) * -1
    tmp776 = einsum(t1.aa, (0, 1), tmp775, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp775
    r3new.abaab += np.transpose(tmp776, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp780, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(t1.aa, (0, 1), tmp673, (0, 2, 3, 4, 5), (1, 5, 4, 2, 3)) * -2
    del tmp673
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1302, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abaab += np.transpose(tmp644, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1119, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp663, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1303, (1, 2, 3, 4), (0, 4, 3, 1, 2))
    r3new.abaab += np.transpose(tmp511, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp650, (2, 4, 3, 0, 1)) * -1
    r3new.abaab += np.transpose(tmp508, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp873, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp700, (3, 4, 2, 0, 1))
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1183, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp782 = np.copy(tmp125) * 2
    del tmp125
    tmp781 = einsum(r2.bab, (0, 1, 2), ints.tmp88, (3, 1, 4, 5), (3, 2, 4, 5, 0)) * -1
    tmp782 += tmp781
    del tmp781
    tmp783 = einsum(t1.aa, (0, 1), tmp782, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp782
    tmp784 = einsum(t1.aa, (0, 1), tmp783, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp783
    r3new.abaab += np.transpose(tmp784, (3, 4, 2, 0, 1))
    r3new.abaab += np.transpose(tmp784, (2, 4, 3, 0, 1)) * -1
    tmp785 = einsum(t1.bb, (0, 1), tmp735, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp735
    tmp786 = einsum(t1.aa, (0, 1), tmp785, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp785
    r3new.abaab += np.transpose(tmp786, (3, 4, 2, 0, 1)) * 2
    r3new.abaab += np.transpose(tmp786, (2, 4, 3, 0, 1)) * -2
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1302, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += einsum(r1.a, (0,), ints.tmp1210, (1, 2, 3, 4), (0, 4, 3, 1, 2)) * -1
    r3new.abaab += np.transpose(tmp525, (3, 4, 2, 0, 1))
    del tmp525
    r3new.abaab += einsum(r1.a, (0,), ints.tmp900, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.baaba = np.copy(np.transpose(tmp508, (4, 2, 3, 1, 0))) * -1
    r3new.baaba += np.transpose(tmp39, (4, 3, 2, 1, 0)) * 6
    r3new.baaba += np.transpose(tmp509, (4, 3, 2, 1, 0)) * 2
    del tmp509
    r3new.baaba += np.transpose(tmp510, (4, 3, 2, 1, 0)) * -2
    del tmp510
    r3new.baaba += einsum(r1.a, (0,), ints.tmp873, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(ints.tmp234, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.baaba += np.transpose(tmp503, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp499, (4, 2, 3, 1, 0))
    r3new.baaba += np.transpose(tmp113, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp504, (4, 3, 2, 1, 0)) * -2
    del tmp504
    r3new.baaba += np.transpose(tmp506, (4, 3, 2, 1, 0)) * 2
    del tmp506
    r3new.baaba += np.transpose(tmp500, (4, 3, 2, 1, 0))
    r3new.baaba += np.transpose(tmp502, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(ints.tmp66, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp867, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp245, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp113, (4, 2, 3, 1, 0)) * -2
    del tmp113
    r3new.baaba += np.transpose(tmp500, (4, 2, 3, 1, 0)) * -1
    del tmp500
    r3new.baaba += np.transpose(tmp499, (4, 2, 3, 1, 0))
    del tmp499
    r3new.baaba += np.transpose(tmp503, (4, 3, 2, 1, 0))
    del tmp503
    r3new.baaba += einsum(ints.tmp66, (0, 1), r2.bab, (2, 3, 4), (2, 3, 1, 4, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp245, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp867, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp511, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp513, (4, 3, 2, 1, 0)) * 2
    del tmp513
    r3new.baaba += np.transpose(tmp514, (4, 3, 2, 1, 0)) * -2
    del tmp514
    r3new.baaba += np.transpose(tmp516, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp878, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp527, (4, 3, 2, 1, 0)) * -2
    del tmp527
    r3new.baaba += np.transpose(tmp528, (4, 3, 2, 1, 0)) * 2
    del tmp528
    r3new.baaba += np.transpose(tmp519, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp521, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp523, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp518, (4, 3, 2, 1, 0)) * 2
    del tmp518
    r3new.baaba += np.transpose(tmp523, (4, 3, 2, 1, 0))
    del tmp523
    r3new.baaba += np.transpose(tmp519, (4, 3, 2, 1, 0)) * -2
    del tmp519
    r3new.baaba += np.transpose(tmp521, (4, 3, 2, 1, 0)) * 2
    del tmp521
    r3new.baaba += np.transpose(tmp538, (4, 2, 3, 1, 0))
    del tmp538
    r3new.baaba += np.transpose(tmp534, (4, 3, 2, 1, 0)) * 2
    del tmp534
    r3new.baaba += einsum(ints.tmp283, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.baaba += np.transpose(tmp533, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp529, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(ints.tmp445, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp907, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp529, (4, 3, 2, 1, 0)) * -1
    del tmp529
    r3new.baaba += np.transpose(tmp533, (4, 3, 2, 1, 0))
    del tmp533
    r3new.baaba += einsum(ints.tmp445, (0, 1), r2.bab, (2, 3, 4), (2, 3, 1, 4, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp907, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    tmp1083 = einsum(r2.bab, (0, 1, 2), ints.tmp1641, (3, 4, 5, 2), (3, 4, 5, 1, 0)) * -1
    tmp1084 = einsum(t1.aa, (0, 1), tmp1083, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1083
    r3new.baaba += np.transpose(tmp1084, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1644, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    tmp1085 = np.copy(np.transpose(tmp549, (0, 2, 1, 4, 3))) * -3
    del tmp549
    tmp1085 += np.transpose(tmp550, (0, 2, 1, 4, 3))
    del tmp550
    r3new.baaba += einsum(t1.bb, (0, 1), tmp1085, (2, 3, 4, 5, 1), (5, 4, 3, 0, 2)) * 2
    del tmp1085
    r3new.baaba += einsum(r2.aaa, (0, 1, 2), ints.tmp1640, (3, 2, 4, 5), (5, 0, 1, 4, 3)) * 2
    r3new.baaba += einsum(ints.tmp372, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.baaba += np.transpose(tmp539, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp541, (4, 3, 2, 1, 0)) * -2
    del tmp541
    tmp1086 = np.copy(np.transpose(tmp543, (0, 1, 3, 2, 4))) * 2
    del tmp543
    tmp1086 += np.transpose(tmp542, (0, 1, 3, 2, 4))
    del tmp542
    tmp1087 = einsum(t1.aa, (0, 1), tmp1086, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp1086
    r3new.baaba += np.transpose(tmp1087, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(ints.tmp114, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.baaba += np.transpose(tmp1087, (4, 2, 3, 1, 0)) * -1
    del tmp1087
    r3new.baaba += np.transpose(tmp539, (4, 2, 3, 1, 0)) * -2
    del tmp539
    r3new.baaba += einsum(ints.tmp660, (0, 1), r2.bab, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    tmp1088 = einsum(r2.bab, (0, 1, 2), ints.tmp1646, (3, 4, 2, 5), (3, 4, 5, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp1088, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += einsum(t1.aa, (0, 1), tmp545, (2, 3, 4, 1, 5), (5, 3, 4, 2, 0)) * -2
    del tmp545
    r3new.baaba += np.transpose(tmp554, (4, 3, 2, 1, 0)) * 2
    del tmp554
    r3new.baaba += np.transpose(tmp556, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1650, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1648, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += einsum(ints.tmp270, (0, 1), r3.ababa, (2, 3, 4, 0, 5), (3, 2, 4, 1, 5)) * 4
    r3new.baaba += np.transpose(tmp568, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp566, (4, 3, 2, 1, 0)) * 2
    del tmp566
    r3new.baaba += np.transpose(tmp567, (4, 3, 2, 1, 0)) * -4
    del tmp567
    r3new.baaba += np.transpose(tmp569, (4, 3, 2, 1, 0)) * -4
    del tmp569
    r3new.baaba += np.transpose(tmp573, (4, 3, 2, 1, 0)) * -1
    del tmp573
    r3new.baaba += einsum(r1.a, (0,), ints.tmp960, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.baaba += np.transpose(tmp559, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp560, (4, 2, 3, 1, 0)) * -4
    r3new.baaba += np.transpose(tmp564, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp557, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp558, (4, 3, 2, 1, 0)) * 4
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1085, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.baaba += np.transpose(tmp557, (4, 2, 3, 1, 0)) * -2
    del tmp557
    r3new.baaba += np.transpose(tmp558, (4, 2, 3, 1, 0)) * -4
    del tmp558
    r3new.baaba += np.transpose(tmp559, (4, 3, 2, 1, 0)) * -2
    del tmp559
    r3new.baaba += np.transpose(tmp560, (4, 3, 2, 1, 0)) * 4
    del tmp560
    r3new.baaba += np.transpose(tmp564, (4, 3, 2, 1, 0))
    del tmp564
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1085, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.baaba += np.transpose(tmp578, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(tmp29, (0, 1, 2), t2.abab, (0, 3, 4, 5), (5, 4, 2, 3, 1)) * -2
    del tmp29
    r3new.baaba += einsum(r1.a, (0,), ints.tmp978, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1651, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp577, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1654, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1089 = np.copy(np.transpose(tmp134, (1, 0, 2))) * 2
    tmp1089 += np.transpose(tmp135, (1, 0, 2))
    r3new.baaba += einsum(tmp1089, (0, 1, 2), t2.abab, (3, 0, 4, 5), (5, 4, 2, 1, 3)) * -1
    del tmp1089
    r3new.baaba += np.transpose(tmp590, (4, 2, 3, 1, 0)) * -1
    del tmp590
    r3new.baaba += np.transpose(tmp578, (4, 3, 2, 1, 0)) * -1
    del tmp578
    tmp1090 = np.copy(tmp586) * 0.5
    del tmp586
    tmp1090 += np.transpose(tmp28, (1, 0, 2)) * -0.5
    del tmp28
    tmp1090 += np.transpose(tmp587, (1, 0, 2))
    del tmp587
    r3new.baaba += einsum(tmp1090, (0, 1, 2), t2.abab, (0, 3, 4, 5), (5, 2, 4, 3, 1)) * -2
    del tmp1090
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1651, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp978, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp585, (4, 2, 3, 1, 0)) * -1
    del tmp585
    r3new.baaba += np.transpose(tmp577, (4, 3, 2, 1, 0)) * -2
    del tmp577
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1654, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    tmp1091 = np.copy(tmp135) * 0.5
    del tmp135
    tmp1091 += tmp144 * -0.5
    del tmp144
    tmp1091 += np.transpose(tmp134, (1, 0, 2))
    del tmp134
    r3new.baaba += einsum(tmp1091, (0, 1, 2), t2.abab, (3, 1, 4, 5), (5, 2, 4, 0, 3)) * 2
    del tmp1091
    r3new.baaba += np.transpose(tmp603, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp604, (4, 2, 3, 1, 0)) * -2
    del tmp604
    r3new.baaba += np.transpose(tmp606, (4, 2, 3, 1, 0)) * -1
    tmp1092 = np.copy(tmp655) * -1
    del tmp655
    tmp1092 += tmp605
    del tmp605
    tmp1093 = einsum(t1.aa, (0, 1), tmp1092, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1092
    r3new.baaba += np.transpose(tmp1093, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1030, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp1093, (4, 2, 3, 1, 0))
    del tmp1093
    r3new.baaba += np.transpose(tmp603, (4, 3, 2, 1, 0)) * 2
    del tmp603
    r3new.baaba += np.transpose(tmp607, (4, 3, 2, 1, 0)) * 2
    del tmp607
    r3new.baaba += np.transpose(tmp606, (4, 3, 2, 1, 0))
    del tmp606
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1030, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp591, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp594, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp595, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp602, (4, 2, 3, 1, 0))
    del tmp602
    r3new.baaba += np.transpose(tmp592, (4, 3, 2, 1, 0)) * -2
    del tmp592
    r3new.baaba += np.transpose(tmp595, (4, 3, 2, 1, 0))
    del tmp595
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1019, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += einsum(t2.abab, (0, 1, 2, 3), tmp44, (0, 4, 2, 5, 6), (3, 5, 6, 1, 4)) * 6
    del tmp44
    tmp1094 = np.copy(np.transpose(tmp39, (0, 1, 3, 2, 4))) * -1
    del tmp39
    tmp1094 += np.transpose(tmp40, (0, 1, 3, 2, 4)) * 0.3333333333333333
    del tmp40
    r3new.baaba += einsum(t2.bbbb, (0, 1, 2, 3), tmp1094, (4, 1, 5, 6, 3), (2, 5, 6, 0, 4)) * -12
    del tmp1094
    r3new.baaba += einsum(ints.tmp1016, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * -4
    r3new.baaba += np.transpose(tmp591, (4, 3, 2, 1, 0)) * -2
    del tmp591
    r3new.baaba += np.transpose(tmp594, (4, 3, 2, 1, 0))
    del tmp594
    r3new.baaba += np.transpose(tmp611, (4, 3, 2, 1, 0))
    del tmp611
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1659, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.baaba += np.transpose(tmp615, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp614, (4, 2, 3, 1, 0))
    r3new.baaba += np.transpose(tmp613, (4, 3, 2, 1, 0)) * 4
    r3new.baaba += np.transpose(tmp617, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp618, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += einsum(ints.tmp210, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.baaba += np.transpose(tmp613, (4, 2, 3, 1, 0)) * -4
    del tmp613
    r3new.baaba += np.transpose(tmp617, (4, 2, 3, 1, 0)) * 2
    del tmp617
    r3new.baaba += np.transpose(tmp618, (4, 2, 3, 1, 0)) * 2
    del tmp618
    r3new.baaba += np.transpose(tmp614, (4, 3, 2, 1, 0)) * -1
    del tmp614
    r3new.baaba += np.transpose(tmp615, (4, 3, 2, 1, 0)) * 2
    del tmp615
    r3new.baaba += einsum(ints.tmp210, (0, 1), r2.bab, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1041, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.baaba += np.transpose(tmp633, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp634, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp637, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp638, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp632, (4, 2, 3, 1, 0))
    r3new.baaba += np.transpose(tmp630, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1101, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp619, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp620, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp622, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp621, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(tmp66, (0, 1, 2), t2.abab, (0, 3, 4, 5), (5, 4, 2, 3, 1)) * -6
    del tmp66
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1100, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp630, (4, 2, 3, 1, 0)) * -2
    del tmp630
    r3new.baaba += np.transpose(tmp632, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp637, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp633, (4, 3, 2, 1, 0))
    r3new.baaba += np.transpose(tmp634, (4, 3, 2, 1, 0))
    r3new.baaba += np.transpose(tmp638, (4, 3, 2, 1, 0))
    del tmp638
    r3new.baaba += np.transpose(tmp650, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1101, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp620, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp621, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp622, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp619, (4, 3, 2, 1, 0))
    r3new.baaba += np.transpose(tmp624, (4, 3, 2, 1, 0))
    del tmp624
    r3new.baaba += np.transpose(tmp648, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1100, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp644, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp640, (4, 3, 2, 1, 0)) * 2
    del tmp640
    r3new.baaba += np.transpose(tmp642, (4, 3, 2, 1, 0)) * 2
    del tmp642
    r3new.baaba += np.transpose(tmp646, (4, 3, 2, 1, 0)) * -1
    del tmp646
    r3new.baaba += einsum(r2.bab, (0, 1, 2), ints.tmp562, (3, 4, 5, 1), (0, 4, 5, 2, 3))
    r3new.baaba += np.transpose(tmp619, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp620, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp622, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp676, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp621, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1661, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp633, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp634, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp637, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp632, (4, 2, 3, 1, 0))
    r3new.baaba += np.transpose(tmp749, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1663, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp620, (4, 3, 2, 1, 0)) * 2
    del tmp620
    r3new.baaba += np.transpose(tmp621, (4, 3, 2, 1, 0)) * -1
    del tmp621
    r3new.baaba += np.transpose(tmp622, (4, 3, 2, 1, 0)) * -2
    del tmp622
    r3new.baaba += np.transpose(tmp619, (4, 3, 2, 1, 0))
    del tmp619
    r3new.baaba += np.transpose(tmp648, (4, 3, 2, 1, 0))
    del tmp648
    r3new.baaba += np.transpose(tmp676, (4, 3, 2, 1, 0))
    del tmp676
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1661, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp632, (4, 3, 2, 1, 0)) * -1
    del tmp632
    r3new.baaba += np.transpose(tmp637, (4, 3, 2, 1, 0)) * -2
    del tmp637
    r3new.baaba += np.transpose(tmp749, (4, 3, 2, 1, 0)) * -1
    del tmp749
    r3new.baaba += np.transpose(tmp633, (4, 3, 2, 1, 0))
    del tmp633
    r3new.baaba += np.transpose(tmp634, (4, 3, 2, 1, 0))
    del tmp634
    r3new.baaba += np.transpose(tmp650, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1663, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp651, (4, 3, 2, 1, 0)) * 2
    del tmp651
    r3new.baaba += np.transpose(tmp653, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp657, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp652, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1227, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    tmp1095 = np.copy(tmp647) * -1
    del tmp647
    tmp1095 += np.transpose(tmp589, (1, 0, 2, 3, 4)) * -1
    del tmp589
    r3new.baaba += einsum(t1.aa, (0, 1), tmp1095, (0, 2, 3, 4, 5), (5, 4, 1, 3, 2))
    del tmp1095
    r3new.baaba += np.transpose(tmp653, (4, 3, 2, 1, 0)) * -1
    del tmp653
    r3new.baaba += np.transpose(tmp657, (4, 3, 2, 1, 0)) * -1
    del tmp657
    r3new.baaba += np.transpose(tmp652, (4, 3, 2, 1, 0))
    del tmp652
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1227, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1096 = np.copy(tmp312) * -1
    del tmp312
    tmp1096 += tmp50
    del tmp50
    tmp1097 = einsum(tmp1096, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 4, 2, 5))
    del tmp1096
    r3new.baaba += np.transpose(tmp1097, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp665, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += np.transpose(tmp667, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1665, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1099 = np.copy(tmp129) * 0.5
    del tmp129
    tmp1098 = einsum(t1.bb, (0, 1), tmp130, (2, 3, 1), (0, 2, 3))
    tmp1099 += tmp1098
    del tmp1098
    tmp1100 = einsum(tmp1099, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5)) * 2
    del tmp1099
    r3new.baaba += np.transpose(tmp1100, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp659, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1669, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp516, (4, 2, 3, 1, 0)) * -1
    del tmp516
    r3new.baaba += np.transpose(tmp665, (4, 3, 2, 1, 0)) * -2
    del tmp665
    r3new.baaba += np.transpose(tmp667, (4, 3, 2, 1, 0)) * -1
    del tmp667
    r3new.baaba += np.transpose(tmp1097, (4, 3, 2, 1, 0))
    del tmp1097
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1665, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1125, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp502, (4, 2, 3, 1, 0)) * -1
    del tmp502
    r3new.baaba += np.transpose(tmp659, (4, 3, 2, 1, 0)) * -2
    del tmp659
    r3new.baaba += np.transpose(tmp1100, (4, 3, 2, 1, 0))
    del tmp1100
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1669, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    tmp1101 = einsum(tmp130, (0, 1, 2), t2.abab, (3, 4, 5, 2), (3, 4, 0, 5, 1)) * 2
    del tmp130
    tmp1102 = np.copy(tmp1101)
    del tmp1101
    tmp1102 += tmp733
    del tmp733
    tmp1103 = einsum(t1.bb, (0, 1), tmp1102, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1102
    r3new.baaba += np.transpose(tmp1103, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp738, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp739, (4, 2, 3, 1, 0))
    del tmp739
    r3new.baaba += np.transpose(tmp736, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1673, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp736, (4, 2, 3, 1, 0)) * -2
    del tmp736
    r3new.baaba += np.transpose(tmp1103, (4, 3, 2, 1, 0))
    del tmp1103
    r3new.baaba += np.transpose(tmp738, (4, 3, 2, 1, 0))
    del tmp738
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1674, (1, 2, 3, 0, 4, 5), (5, 4, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1673, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp681, (4, 3, 2, 1, 0)) * 2
    del tmp681
    r3new.baaba += np.transpose(tmp685, (4, 3, 2, 1, 0)) * -1
    del tmp685
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1149, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += einsum(ints.tmp273, (0, 1), r2.aaa, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.baaba += np.transpose(tmp680, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp677, (4, 2, 3, 1, 0))
    r3new.baaba += einsum(ints.tmp191, (0, 1), r2.bab, (2, 3, 4), (2, 1, 3, 4, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1142, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp677, (4, 3, 2, 1, 0)) * -1
    del tmp677
    r3new.baaba += np.transpose(tmp680, (4, 3, 2, 1, 0))
    del tmp680
    r3new.baaba += einsum(ints.tmp191, (0, 1), r2.bab, (2, 3, 4), (2, 3, 1, 4, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1142, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp581, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp686, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (4, 2, 0, 3, 1))
    r3new.baaba += np.transpose(tmp686, (4, 2, 3, 1, 0))
    del tmp686
    r3new.baaba += np.transpose(tmp581, (4, 3, 2, 1, 0))
    del tmp581
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1160, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), v.aabb.ovov, (1, 2, 3, 4), (4, 0, 2, 3, 1)) * -1
    r3new.baaba += np.transpose(tmp598, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp687, (4, 3, 2, 1, 0)) * 2
    del tmp687
    r3new.baaba += np.transpose(tmp688, (4, 3, 2, 1, 0)) * -2
    del tmp688
    r3new.baaba += np.transpose(tmp691, (4, 3, 2, 1, 0)) * -1
    del tmp691
    r3new.baaba += np.transpose(tmp598, (4, 3, 2, 1, 0))
    del tmp598
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1163, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp671, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp692, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp682, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1172, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp170, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp682, (4, 2, 3, 1, 0)) * -2
    del tmp682
    r3new.baaba += np.transpose(tmp671, (4, 3, 2, 1, 0))
    del tmp671
    r3new.baaba += np.transpose(tmp692, (4, 3, 2, 1, 0))
    del tmp692
    r3new.baaba += einsum(r1.a, (0,), ints.tmp170, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1172, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp693, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp694, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1173, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1176, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp693, (4, 2, 3, 1, 0)) * 2
    del tmp693
    r3new.baaba += np.transpose(tmp694, (4, 2, 3, 1, 0))
    del tmp694
    r3new.baaba += np.transpose(tmp696, (4, 3, 2, 1, 0)) * 2
    del tmp696
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1176, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1173, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp700, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp697, (4, 3, 2, 1, 0)) * -2
    del tmp697
    r3new.baaba += np.transpose(tmp698, (4, 3, 2, 1, 0)) * -2
    del tmp698
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1183, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp701, (4, 3, 2, 1, 0))
    del tmp701
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1163, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp704, (4, 2, 3, 1, 0))
    del tmp704
    r3new.baaba += np.transpose(tmp703, (4, 3, 2, 1, 0)) * 2
    del tmp703
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1225, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp716, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp717, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp717, (4, 2, 3, 1, 0)) * 2
    del tmp717
    r3new.baaba += np.transpose(tmp716, (4, 3, 2, 1, 0)) * 2
    del tmp716
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1209, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp707, (4, 3, 2, 1, 0)) * -2
    del tmp707
    r3new.baaba += np.transpose(tmp710, (4, 3, 2, 1, 0)) * -1
    del tmp710
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.baaba += np.transpose(tmp706, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1191, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp715, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp711, (4, 3, 2, 1, 0))
    del tmp711
    r3new.baaba += einsum(r1.a, (0,), ints.tmp986, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp719, (4, 2, 3, 1, 0))
    del tmp719
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1198, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.baaba += np.transpose(tmp706, (4, 2, 3, 1, 0)) * 2
    del tmp706
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1191, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp715, (4, 2, 3, 1, 0))
    del tmp715
    r3new.baaba += einsum(r1.a, (0,), ints.tmp986, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp556, (4, 2, 3, 1, 0)) * -2
    del tmp556
    r3new.baaba += np.transpose(tmp1088, (4, 3, 2, 1, 0))
    del tmp1088
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1648, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1650, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp721, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1676, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.baaba += np.transpose(tmp721, (4, 2, 3, 1, 0)) * -2
    del tmp721
    r3new.baaba += np.transpose(tmp722, (4, 3, 2, 1, 0)) * 2
    del tmp722
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1676, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.baaba += np.transpose(tmp724, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1679, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1678, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1104 = einsum(r2.aaa, (0, 1, 2), ints.tmp1641, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.baaba += einsum(t1.bb, (0, 1), tmp1104, (2, 3, 0, 4, 5), (1, 5, 4, 3, 2)) * 2
    del tmp1104
    r3new.baaba += np.transpose(tmp724, (4, 2, 3, 1, 0)) * 2
    del tmp724
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1678, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1679, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp726, (4, 2, 3, 1, 0)) * 2
    del tmp726
    r3new.baaba += np.transpose(tmp568, (4, 3, 2, 1, 0))
    del tmp568
    r3new.baaba += einsum(r1.a, (0,), ints.tmp960, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1225, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp732, (4, 2, 3, 1, 0))
    del tmp732
    r3new.baaba += np.transpose(tmp729, (4, 3, 2, 1, 0)) * -1
    del tmp729
    r3new.baaba += np.transpose(tmp743, (4, 2, 3, 1, 0))
    r3new.baaba += np.transpose(tmp740, (4, 3, 2, 1, 0)) * -2
    del tmp740
    r3new.baaba += np.transpose(tmp743, (4, 3, 2, 1, 0)) * -1
    del tmp743
    r3new.baaba += np.transpose(tmp576, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1252, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp576, (4, 2, 3, 1, 0)) * -2
    del tmp576
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1252, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp744, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp745, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp747, (4, 3, 2, 1, 0))
    del tmp747
    r3new.baaba += np.transpose(tmp744, (4, 3, 2, 1, 0)) * -1
    del tmp744
    r3new.baaba += np.transpose(tmp745, (4, 3, 2, 1, 0)) * -1
    del tmp745
    r3new.baaba += np.transpose(tmp750, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp752, (4, 3, 2, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp753, (4, 3, 2, 1, 0))
    r3new.baaba += np.transpose(tmp754, (4, 3, 2, 1, 0))
    r3new.baaba += np.transpose(tmp754, (4, 2, 3, 1, 0)) * -1
    del tmp754
    r3new.baaba += np.transpose(tmp750, (4, 3, 2, 1, 0)) * -1
    del tmp750
    r3new.baaba += np.transpose(tmp752, (4, 3, 2, 1, 0)) * -1
    del tmp752
    r3new.baaba += np.transpose(tmp753, (4, 3, 2, 1, 0))
    del tmp753
    r3new.baaba += np.transpose(tmp755, (4, 2, 3, 1, 0)) * -1
    del tmp755
    r3new.baaba += np.transpose(tmp644, (4, 3, 2, 1, 0)) * 2
    del tmp644
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1268, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp757, (4, 3, 2, 1, 0)) * 2
    del tmp757
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1268, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp770, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += np.transpose(tmp769, (4, 3, 2, 1, 0)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1287, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp769, (4, 2, 3, 1, 0)) * 2
    del tmp769
    r3new.baaba += np.transpose(tmp770, (4, 3, 2, 1, 0)) * 2
    del tmp770
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1287, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp764, (4, 3, 2, 1, 0)) * -2
    del tmp764
    r3new.baaba += np.transpose(tmp766, (4, 3, 2, 1, 0)) * -1
    del tmp766
    r3new.baaba += np.transpose(tmp1084, (4, 3, 2, 1, 0))
    del tmp1084
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1644, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp758, (4, 3, 2, 1, 0)) * -4
    del tmp758
    r3new.baaba += np.transpose(tmp762, (4, 3, 2, 1, 0)) * -1
    del tmp762
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1277, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp774, (4, 2, 3, 1, 0))
    del tmp774
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1277, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp772, (4, 2, 3, 1, 0)) * 2
    del tmp772
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1149, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp780, (4, 2, 3, 1, 0)) * -1
    r3new.baaba += np.transpose(tmp776, (4, 3, 2, 1, 0)) * 2
    del tmp776
    r3new.baaba += np.transpose(tmp780, (4, 3, 2, 1, 0))
    del tmp780
    r3new.baaba += np.transpose(tmp636, (4, 2, 3, 1, 0)) * -2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1302, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1105 = einsum(t1.bb, (0, 1), tmp625, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp625
    r3new.baaba += np.transpose(tmp1105, (4, 2, 3, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1210, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp636, (4, 3, 2, 1, 0)) * 2
    del tmp636
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1302, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp1105, (4, 3, 2, 1, 0)) * -2
    del tmp1105
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1210, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp663, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1303, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp663, (4, 2, 3, 1, 0)) * -2
    del tmp663
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1303, (1, 2, 3, 4), (4, 0, 3, 2, 1))
    r3new.baaba += np.transpose(tmp511, (4, 2, 3, 1, 0)) * -1
    del tmp511
    r3new.baaba += einsum(r1.a, (0,), ints.tmp878, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp650, (4, 2, 3, 1, 0)) * -1
    del tmp650
    r3new.baaba += np.transpose(tmp700, (4, 3, 2, 1, 0))
    del tmp700
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1183, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp508, (4, 3, 2, 1, 0))
    del tmp508
    r3new.baaba += einsum(r1.a, (0,), ints.tmp873, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp784, (4, 3, 2, 1, 0))
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1134, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * -1
    r3new.baaba += np.transpose(tmp784, (4, 2, 3, 1, 0)) * -1
    del tmp784
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1134, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.baaba += np.transpose(tmp786, (4, 3, 2, 1, 0)) * 2
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1682, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.baaba += np.transpose(tmp786, (4, 2, 3, 1, 0)) * -2
    del tmp786
    r3new.baaba += einsum(r1.a, (0,), ints.tmp1682, (1, 2, 3, 4), (4, 0, 3, 2, 1)) * 2
    r3new.abbab = einsum(r1.b, (0,), ints.tmp1173, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp245, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp170, (2, 4, 3, 0, 1)) * 6
    tmp787 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovvv, (3, 4, 5, 1), (3, 2, 4, 0, 5))
    r3new.abbab += np.transpose(tmp787, (2, 4, 3, 0, 1)) * 2
    tmp788 = einsum(r2.bbb, (0, 1, 2), ints.tmp249, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp788, (2, 4, 3, 0, 1)) * -2
    tmp789 = einsum(ints.tmp43, (0, 1, 2, 3), r3.babab, (4, 2, 5, 0, 6), (1, 6, 3, 4, 5)) * -1
    r3new.abbab += np.transpose(tmp789, (2, 4, 3, 0, 1)) * -2
    tmp790 = einsum(r2.aba, (0, 1, 2), ints.tmp865, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp793 = np.copy(tmp790)
    tmp792 = einsum(tmp791, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 2, 4, 5))
    del tmp791
    tmp793 += tmp792
    tmp794 = einsum(t1.bb, (0, 1), tmp793, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp793
    r3new.abbab += np.transpose(tmp794, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(ints.tmp66, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1269, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp795 = einsum(r1.b, (0,), ints.tmp1320, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp795, (2, 3, 4, 0, 1))
    tmp799 = einsum(r2.aba, (0, 1, 2), ints.tmp174, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp799, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp73, (2, 4, 3, 0, 1)) * 2
    tmp796 = einsum(ints.tmp227, (0, 1), r3.babab, (2, 3, 4, 5, 0), (5, 1, 3, 2, 4)) * -1
    r3new.abbab += np.transpose(tmp796, (2, 4, 3, 0, 1)) * 2
    tmp797 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 5, 6, 0, 3), (2, 5, 1, 4, 6)) * -1
    tmp798 = einsum(t1.aa, (0, 1), tmp797, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp797
    r3new.abbab += np.transpose(tmp798, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(ints.tmp234, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1269, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp73, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp795, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp799, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(ints.tmp234, (0, 1), r2.aba, (2, 3, 4), (2, 3, 1, 4, 0))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1177, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp804 = einsum(r1.b, (0,), ints.tmp1328, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp804, (2, 3, 4, 0, 1)) * -1
    tmp800 = einsum(r2.aba, (0, 1, 2), ints.tmp1181, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp800, (2, 3, 4, 0, 1))
    tmp801 = einsum(ints.tmp60, (0, 1), r3.babab, (2, 3, 4, 0, 5), (1, 5, 3, 2, 4)) * -1
    r3new.abbab += np.transpose(tmp801, (2, 4, 3, 0, 1)) * 2
    tmp802 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 2), (0, 5, 4, 6, 3)) * -1
    tmp803 = einsum(t1.bb, (0, 1), tmp802, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp802
    r3new.abbab += np.transpose(tmp803, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1217, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp941, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp806 = einsum(r2.aba, (0, 1, 2), ints.tmp930, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp807 = einsum(t1.bb, (0, 1), tmp806, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp806
    r3new.abbab += np.transpose(tmp807, (2, 3, 4, 0, 1))
    tmp805 = einsum(v.aabb.vvvv, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 6), (5, 6, 0, 4, 2)) * -1
    r3new.abbab += np.transpose(tmp805, (2, 4, 3, 0, 1)) * -2
    tmp808 = einsum(ints.tmp92, (0, 1), r3.babab, (2, 0, 3, 4, 5), (4, 5, 1, 2, 3)) * -1
    r3new.abbab += np.transpose(tmp808, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r2.bbb, (0, 1, 2), ints.tmp945, (3, 4, 2, 5), (5, 0, 1, 3, 4)) * 2
    tmp809 = einsum(r2.aba, (0, 1, 2), v.aabb.vvvv, (3, 0, 4, 5), (2, 3, 1, 4, 5))
    tmp811 = np.copy(np.transpose(tmp809, (0, 1, 2, 4, 3))) * -0.5
    tmp810 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 1, 5, 6, 2), (6, 0, 4, 5, 3)) * -1
    tmp811 += np.transpose(tmp810, (0, 1, 3, 4, 2)) * -1
    r3new.abbab += einsum(t1.bb, (0, 1), tmp811, (2, 3, 4, 1, 5), (3, 5, 4, 2, 0)) * 2
    del tmp811
    r3new.abbab += einsum(r1.b, (0,), ints.tmp934, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp813 = einsum(ints.tmp181, (0, 1), r3.babab, (2, 3, 0, 4, 5), (4, 5, 3, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp813, (2, 3, 4, 0, 1)) * -2
    tmp815 = einsum(ints.tmp359, (0, 1, 2, 3), r3.babab, (4, 5, 1, 6, 0), (6, 5, 2, 3, 4)) * -1
    tmp816 = einsum(t1.bb, (0, 1), tmp815, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp815
    r3new.abbab += np.transpose(tmp816, (2, 3, 4, 0, 1)) * -2
    tmp817 = einsum(r2.aba, (0, 1, 2), v.bbbb.vvvv, (3, 4, 5, 1), (2, 0, 3, 4, 5))
    tmp818 = einsum(t1.bb, (0, 1), tmp817, (2, 3, 4, 1, 5), (2, 0, 3, 5, 4))
    del tmp817
    r3new.abbab += np.transpose(tmp818, (2, 3, 4, 0, 1))
    tmp814 = einsum(v.bbbb.vvvv, (0, 1, 2, 3), r3.babab, (1, 4, 3, 5, 6), (5, 6, 4, 0, 2)) * -1
    r3new.abbab += np.transpose(tmp814, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp818, (2, 4, 3, 0, 1)) * -1
    tmp812 = einsum(r2.bbb, (0, 1, 2), ints.tmp930, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    r3new.abbab += einsum(t1.aa, (0, 1), tmp812, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3)) * 2
    del tmp812
    r3new.abbab += einsum(r1.b, (0,), ints.tmp934, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp813, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp816, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp907, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp819 = einsum(r2.bbb, (0, 1, 2), ints.tmp908, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp819, (2, 4, 3, 0, 1)) * 2
    tmp822 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 3, 6, 2), (0, 1, 6, 4, 5))
    tmp823 = np.copy(np.transpose(tmp822, (0, 1, 2, 4, 3))) * 3
    del tmp822
    tmp820 = einsum(r2.bbb, (0, 1, 2), v.aabb.oovv, (3, 4, 5, 1), (3, 4, 2, 0, 5))
    tmp823 += np.transpose(tmp820, (1, 0, 2, 3, 4)) * -1
    tmp821 = einsum(ints.tmp58, (0, 1, 2, 3), r3.babab, (4, 3, 5, 2, 6), (0, 1, 6, 4, 5)) * -1
    tmp823 += np.transpose(tmp821, (1, 0, 2, 4, 3))
    del tmp821
    tmp824 = einsum(t1.aa, (0, 1), tmp823, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp823
    r3new.abbab += np.transpose(tmp824, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(ints.tmp445, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    tmp825 = einsum(r2.aba, (0, 1, 2), ints.tmp914, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp825, (2, 3, 4, 0, 1)) * -1
    tmp826 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.aabaa, (4, 1, 5, 6, 0), (6, 2, 3, 4, 5))
    tmp827 = einsum(t1.bb, (0, 1), tmp826, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp826
    r3new.abbab += np.transpose(tmp827, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(ints.tmp337, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.abbab += np.transpose(tmp827, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp825, (2, 4, 3, 0, 1))
    tmp828 = einsum(tmp102, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 4, 2, 5))
    del tmp102
    r3new.abbab += np.transpose(tmp828, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(ints.tmp337, (0, 1), r2.aba, (2, 3, 4), (2, 3, 1, 4, 0)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp889, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp922, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp829 = einsum(r2.aba, (0, 1, 2), ints.tmp886, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp830 = einsum(t1.bb, (0, 1), tmp829, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp829
    r3new.abbab += np.transpose(tmp830, (2, 3, 4, 0, 1))
    tmp831 = einsum(r2.bbb, (0, 1, 2), v.aabb.vvvv, (3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp834 = np.copy(np.transpose(tmp831, (0, 2, 1, 3, 4)))
    tmp832 = einsum(ints.tmp90, (0, 1, 2, 3), r3.babab, (4, 1, 5, 0, 6), (6, 2, 3, 4, 5)) * -1
    tmp834 += np.transpose(tmp832, (0, 2, 1, 4, 3)) * -1
    tmp833 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.bbbbb, (4, 5, 3, 6, 2), (6, 0, 1, 4, 5))
    tmp834 += np.transpose(tmp833, (0, 2, 1, 4, 3)) * -3
    r3new.abbab += einsum(t1.aa, (0, 1), tmp834, (2, 1, 3, 4, 5), (3, 5, 4, 0, 2)) * 2
    del tmp834
    r3new.abbab += einsum(r2.bbb, (0, 1, 2), ints.tmp888, (3, 4, 2, 5), (5, 0, 1, 3, 4)) * 2
    r3new.abbab += einsum(ints.tmp660, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * -4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1222, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp839 = einsum(r2.aba, (0, 1, 2), ints.tmp933, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp839, (2, 3, 4, 0, 1))
    tmp835 = einsum(ints.tmp930, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 3), (0, 2, 5, 4, 6)) * -1
    r3new.abbab += np.transpose(tmp835, (2, 4, 3, 0, 1)) * -2
    tmp836 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.aabaa, (4, 1, 5, 6, 0), (6, 4, 5, 2, 3))
    tmp837 = einsum(t1.bb, (0, 1), tmp836, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp836
    r3new.abbab += np.transpose(tmp837, (2, 4, 3, 0, 1)) * 2
    tmp838 = einsum(ints.tmp244, (0, 1), r3.babab, (2, 3, 4, 5, 0), (5, 1, 3, 2, 4)) * -1
    r3new.abbab += np.transpose(tmp838, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(ints.tmp372, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1222, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp837, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp839, (2, 4, 3, 0, 1)) * -1
    del tmp839
    r3new.abbab += einsum(ints.tmp255, (0, 1), r2.aba, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp906, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp840 = einsum(r2.aba, (0, 1, 2), ints.tmp899, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp840, (2, 3, 4, 0, 1))
    tmp841 = einsum(ints.tmp106, (0, 1), r3.babab, (2, 3, 4, 0, 5), (1, 5, 3, 2, 4)) * -1
    r3new.abbab += np.transpose(tmp841, (2, 4, 3, 0, 1)) * 2
    tmp842 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 6, 0, 2), (5, 1, 4, 6, 3)) * -1
    tmp843 = einsum(t1.bb, (0, 1), tmp842, (2, 3, 4, 5, 1), (0, 2, 3, 4, 5))
    del tmp842
    tmp844 = einsum(t1.aa, (0, 1), tmp843, (2, 3, 1, 4, 5), (0, 2, 3, 5, 4)) * -1
    del tmp843
    r3new.abbab += np.transpose(tmp844, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1030, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp852 = einsum(r1.b, (0,), ints.tmp1377, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp852, (2, 3, 4, 0, 1)) * -1
    tmp847 = einsum(r2.aba, (0, 1, 2), ints.tmp311, (3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp847, (2, 3, 4, 0, 1))
    tmp850 = einsum(r1.b, (0,), ints.tmp1386, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp851 = einsum(t1.bb, (0, 1), tmp850, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp851, (2, 3, 4, 0, 1))
    tmp845 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 5, 6, 2), (6, 0, 4, 5, 3)) * -1
    tmp846 = einsum(t2.abab, (0, 1, 2, 3), tmp845, (4, 0, 5, 6, 3), (4, 1, 2, 5, 6))
    r3new.abbab += np.transpose(tmp846, (2, 4, 3, 0, 1)) * -2
    tmp848 = einsum(ints.tmp108, (0, 1), r3.babab, (2, 1, 3, 4, 5), (4, 5, 0, 2, 3)) * -1
    r3new.abbab += np.transpose(tmp848, (2, 4, 3, 0, 1)) * 4
    tmp849 = einsum(r2.bbb, (0, 1, 2), ints.tmp1026, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp849, (2, 4, 3, 0, 1)) * -4
    r3new.abbab += np.transpose(tmp852, (2, 4, 3, 0, 1))
    tmp853 = np.copy(np.transpose(tmp175, (0, 2, 1))) * -0.16666666666666666
    del tmp175
    tmp853 += np.transpose(tmp177, (0, 2, 1)) * 0.3333333333333333
    del tmp177
    tmp853 += np.transpose(tmp178, (0, 2, 1)) * -1
    del tmp178
    tmp853 += np.transpose(tmp176, (2, 1, 0)) * 0.3333333333333333
    del tmp176
    tmp854 = einsum(tmp853, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * 6
    del tmp853
    r3new.abbab += np.transpose(tmp854, (2, 4, 3, 0, 1))
    tmp855 = einsum(ints.tmp16, (0, 1), r3.babab, (2, 1, 3, 4, 5), (0, 4, 5, 2, 3)) * -1
    tmp857 = np.copy(np.transpose(tmp855, (0, 1, 2, 4, 3))) * -1
    del tmp855
    tmp856 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 6), (5, 0, 6, 4, 2)) * -1
    tmp857 += np.transpose(tmp856, (1, 0, 2, 3, 4))
    tmp858 = einsum(t1.aa, (0, 1), tmp857, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp857
    r3new.abbab += np.transpose(tmp858, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1040, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp862 = einsum(ints.tmp299, (0, 1), r3.babab, (2, 3, 1, 4, 5), (4, 5, 3, 0, 2)) * -1
    r3new.abbab += np.transpose(tmp862, (2, 3, 4, 0, 1)) * 4
    tmp863 = einsum(r2.aba, (0, 1, 2), ints.tmp380, (3, 4, 1, 5), (2, 3, 0, 4, 5))
    r3new.abbab += np.transpose(tmp863, (2, 3, 4, 0, 1)) * -1
    tmp865 = einsum(r1.b, (0,), ints.tmp1398, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp867 = np.copy(tmp865) * 0.5
    tmp866 = einsum(tmp12, (0, 1, 2), t2.abab, (3, 4, 1, 5), (0, 3, 4, 2, 5)) * 0.5
    del tmp12
    tmp867 += np.transpose(tmp866, (1, 0, 2, 4, 3))
    tmp868 = einsum(t1.aa, (0, 1), tmp867, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp867
    r3new.abbab += np.transpose(tmp868, (2, 3, 4, 0, 1)) * -1
    tmp864 = einsum(tmp88, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 5, 2))
    del tmp88
    r3new.abbab += np.transpose(tmp864, (2, 3, 4, 0, 1))
    tmp869 = einsum(ints.tmp35, (0, 1), r3.babab, (2, 3, 1, 4, 5), (4, 0, 5, 3, 2)) * -1
    tmp871 = np.copy(tmp869)
    del tmp869
    tmp870 = einsum(v.bbbb.ovvv, (0, 1, 2, 3), r3.babab, (3, 4, 1, 5, 6), (5, 6, 0, 4, 2))
    tmp871 += np.transpose(tmp870, (0, 2, 1, 3, 4)) * -1
    del tmp870
    tmp872 = einsum(t1.bb, (0, 1), tmp871, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp871
    r3new.abbab += np.transpose(tmp872, (2, 3, 4, 0, 1))
    tmp859 = einsum(t2.abab, (0, 1, 2, 3), tmp84, (4, 0, 5, 2, 6), (4, 1, 5, 6, 3))
    del tmp84
    r3new.abbab += np.transpose(tmp859, (2, 4, 3, 0, 1)) * -2
    tmp861 = einsum(tmp860, (0, 1, 2, 3), r3.babab, (4, 5, 2, 6, 0), (6, 1, 5, 4, 3)) * -1
    del tmp860
    r3new.abbab += np.transpose(tmp861, (2, 4, 3, 0, 1)) * 4
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1040, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp859, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp861, (2, 3, 4, 0, 1)) * -4
    r3new.abbab += np.transpose(tmp862, (2, 4, 3, 0, 1)) * -4
    r3new.abbab += np.transpose(tmp864, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp872, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp863, (2, 4, 3, 0, 1))
    del tmp863
    r3new.abbab += np.transpose(tmp868, (2, 4, 3, 0, 1))
    del tmp868
    r3new.abbab += einsum(r1.b, (0,), ints.tmp977, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp873 = einsum(r2.aba, (0, 1, 2), ints.tmp274, (3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp873, (2, 3, 4, 0, 1)) * -1
    tmp874 = einsum(r2.aba, (0, 1, 2), v.aabb.ovoo, (3, 0, 4, 5), (2, 3, 4, 5, 1))
    tmp875 = einsum(t1.bb, (0, 1), tmp874, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp874
    tmp876 = einsum(t1.aa, (0, 1), tmp875, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp875
    r3new.abbab += np.transpose(tmp876, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(tmp159, (0, 1, 2), t2.abab, (3, 0, 4, 5), (4, 5, 2, 3, 1)) * 2
    del tmp159
    r3new.abbab += einsum(r1.b, (0,), ints.tmp988, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp877 = einsum(r2.bbb, (0, 1, 2), ints.tmp153, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.abbab += np.transpose(tmp877, (2, 3, 4, 0, 1)) * 2
    tmp881 = einsum(tmp95, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 3, 4, 5, 2))
    del tmp95
    r3new.abbab += np.transpose(tmp881, (2, 3, 4, 0, 1)) * -1
    tmp878 = einsum(r2.bbb, (0, 1, 2), v.aabb.ooov, (3, 4, 5, 1), (3, 4, 2, 5, 0))
    tmp879 = einsum(t1.bb, (0, 1), tmp878, (2, 3, 4, 0, 5), (3, 2, 4, 5, 1))
    del tmp878
    tmp880 = einsum(t1.aa, (0, 1), tmp879, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp879
    r3new.abbab += np.transpose(tmp880, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp977, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp885 = einsum(tmp884, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 2, 4, 5))
    del tmp884
    tmp886 = einsum(t1.bb, (0, 1), tmp885, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * -1
    r3new.abbab += np.transpose(tmp886, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp876, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp873, (2, 4, 3, 0, 1))
    tmp882 = einsum(r1.b, (0,), ints.tmp1414, (1, 2, 0, 3), (1, 2, 3))
    tmp883 = np.copy(tmp882) * 0.5
    tmp883 += tmp158
    tmp883 += np.transpose(tmp157, (1, 0, 2)) * 0.5
    r3new.abbab += einsum(tmp883, (0, 1, 2), t2.abab, (3, 0, 4, 5), (4, 2, 5, 3, 1)) * -2
    del tmp883
    r3new.abbab += einsum(r1.b, (0,), ints.tmp988, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp880, (2, 3, 4, 0, 1)) * -2
    tmp890 = einsum(tmp71, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 3, 2, 4, 5))
    del tmp71
    tmp891 = einsum(t1.bb, (0, 1), tmp890, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += np.transpose(tmp891, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp877, (2, 4, 3, 0, 1)) * -2
    tmp887 = einsum(r1.b, (0,), ints.tmp1421, (1, 2, 0, 3), (1, 2, 3))
    tmp888 = np.copy(tmp887)
    del tmp887
    tmp888 += tmp93
    del tmp93
    tmp888 += np.transpose(tmp94, (1, 0, 2)) * 2
    del tmp94
    tmp889 = einsum(tmp888, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 4, 5, 2))
    del tmp888
    r3new.abbab += np.transpose(tmp889, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1019, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp895 = einsum(r2.aba, (0, 1, 2), ints.tmp1442, (3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp895, (2, 3, 4, 0, 1)) * -2
    tmp896 = einsum(r1.b, (0,), ints.tmp1436, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp897 = einsum(t1.bb, (0, 1), tmp896, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp897, (2, 3, 4, 0, 1)) * -1
    tmp894 = einsum(r1.b, (0,), ints.tmp1432, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp894, (2, 3, 4, 0, 1))
    tmp898 = einsum(r2.aba, (0, 1, 2), ints.tmp1009, (2, 3, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp898, (2, 3, 4, 0, 1))
    tmp901 = einsum(r1.b, (0,), ints.tmp1428, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp902 = einsum(t1.bb, (0, 1), tmp901, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp901
    tmp903 = einsum(t1.aa, (0, 1), tmp902, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp903, (2, 3, 4, 0, 1))
    tmp904 = np.copy(np.transpose(tmp75, (1, 0, 2))) * 0.5
    tmp904 += np.transpose(tmp77, (1, 0, 2)) * -1
    tmp904 += np.transpose(tmp76, (1, 0, 2))
    tmp905 = einsum(tmp904, (0, 1, 2), t2.abab, (3, 4, 0, 5), (3, 4, 1, 5, 2)) * 2
    del tmp904
    r3new.abbab += np.transpose(tmp905, (2, 3, 4, 0, 1))
    tmp892 = einsum(t2.bbbb, (0, 1, 2, 3), tmp73, (4, 1, 5, 6, 3), (4, 0, 5, 6, 2))
    r3new.abbab += np.transpose(tmp892, (2, 4, 3, 0, 1)) * 4
    tmp893 = einsum(t2.abab, (0, 1, 2, 3), tmp74, (0, 4, 2, 5, 6), (4, 1, 5, 6, 3))
    del tmp74
    r3new.abbab += np.transpose(tmp893, (2, 4, 3, 0, 1)) * 2
    tmp899 = einsum(v.aabb.vvov, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 6), (5, 6, 2, 0, 4)) * -1
    tmp900 = einsum(t1.bb, (0, 1), tmp899, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp899
    r3new.abbab += np.transpose(tmp900, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(ints.tmp1016, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1019, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp892, (2, 3, 4, 0, 1)) * -4
    r3new.abbab += np.transpose(tmp893, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp900, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp895, (2, 4, 3, 0, 1)) * 2
    del tmp895
    r3new.abbab += np.transpose(tmp903, (2, 4, 3, 0, 1)) * -1
    tmp906 = einsum(r2.aba, (0, 1, 2), ints.tmp1445, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp906, (2, 4, 3, 0, 1)) * -1
    tmp907 = np.copy(tmp75) * 0.5
    del tmp75
    tmp907 += tmp77 * -1
    del tmp77
    tmp907 += np.transpose(tmp76, (1, 0, 2))
    del tmp76
    tmp908 = einsum(tmp907, (0, 1, 2), t2.abab, (3, 4, 1, 5), (3, 4, 0, 5, 2)) * 2
    del tmp907
    r3new.abbab += np.transpose(tmp908, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp897, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1447, (1, 2, 3, 4, 0, 5), (3, 5, 4, 1, 2)) * -1
    r3new.abbab += einsum(ints.tmp1016, (0, 1), r2.aba, (2, 3, 4), (2, 3, 1, 4, 0)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1030, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp909 = einsum(t1.aa, (0, 1), tmp856, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp856
    r3new.abbab += np.transpose(tmp909, (2, 3, 4, 0, 1)) * -2
    tmp910 = einsum(tmp185, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 5, 0, 2)) * 2
    del tmp185
    r3new.abbab += np.transpose(tmp910, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp847, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp851, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1041, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    tmp911 = einsum(r2.bbb, (0, 1, 2), ints.tmp831, (3, 4, 1, 5), (3, 2, 4, 5, 0))
    r3new.abbab += np.transpose(tmp911, (2, 3, 4, 0, 1)) * 2
    tmp912 = einsum(r2.bbb, (0, 1, 2), ints.tmp1045, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp912, (2, 4, 3, 0, 1)) * -4
    r3new.abbab += einsum(t2.aaaa, (0, 1, 2, 3), tmp171, (1, 4, 3, 5, 6), (2, 5, 6, 0, 4)) * -12
    del tmp171
    tmp913 = np.copy(np.transpose(tmp172, (0, 1, 3, 2, 4)))
    del tmp172
    tmp913 += np.transpose(tmp173, (1, 0, 4, 3, 2)) * -3
    del tmp173
    r3new.abbab += einsum(t2.abab, (0, 1, 2, 3), tmp913, (4, 1, 5, 6, 3), (2, 5, 6, 0, 4)) * -2
    del tmp913
    r3new.abbab += einsum(ints.tmp149, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1069, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp920 = einsum(r2.bbb, (0, 1, 2), ints.tmp1049, (3, 4, 2, 5, 6, 1), (3, 4, 5, 6, 0))
    r3new.abbab += np.transpose(tmp920, (2, 3, 4, 0, 1)) * 2
    tmp921 = einsum(r2.aba, (0, 1, 2), ints.tmp1051, (2, 3, 4, 0, 5, 6), (3, 4, 5, 6, 1))
    r3new.abbab += np.transpose(tmp921, (2, 3, 4, 0, 1)) * -1
    tmp923 = einsum(r2.aba, (0, 1, 2), ints.tmp312, (3, 4, 5, 0), (2, 3, 4, 5, 1))
    tmp925 = np.copy(tmp923)
    tmp924 = einsum(tmp181, (0, 1, 2), t2.abab, (3, 4, 5, 1), (3, 4, 0, 5, 2))
    tmp925 += tmp924
    tmp926 = einsum(t1.bb, (0, 1), tmp925, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp925
    r3new.abbab += np.transpose(tmp926, (2, 3, 4, 0, 1)) * -1
    tmp918 = einsum(r1.b, (0,), ints.tmp1459, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp918, (2, 3, 4, 0, 1))
    tmp919 = einsum(r2.aba, (0, 1, 2), ints.tmp223, (3, 4, 0, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp919, (2, 3, 4, 0, 1))
    tmp922 = einsum(tmp387, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 4, 5, 2)) * 2
    del tmp387
    r3new.abbab += np.transpose(tmp922, (2, 3, 4, 0, 1))
    tmp914 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 1, 3, 5, 6), (5, 0, 6, 2, 4)) * -1
    tmp915 = einsum(t2.abab, (0, 1, 2, 3), tmp914, (4, 0, 5, 1, 6), (4, 5, 2, 6, 3))
    r3new.abbab += np.transpose(tmp915, (2, 4, 3, 0, 1)) * -2
    tmp916 = einsum(t1.bb, (0, 1), tmp914, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp914
    tmp917 = einsum(t1.aa, (0, 1), tmp916, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp917, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1087, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp928 = einsum(r2.bbb, (0, 1, 2), ints.tmp192, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.abbab += np.transpose(tmp928, (2, 3, 4, 0, 1)) * -2
    tmp929 = einsum(r2.bbb, (0, 1, 2), ints.tmp1077, (3, 2, 4, 5, 1, 6), (3, 4, 5, 6, 0))
    r3new.abbab += np.transpose(tmp929, (2, 3, 4, 0, 1)) * -2
    tmp932 = einsum(r2.aba, (0, 1, 2), ints.tmp1070, (3, 2, 4, 5, 0, 6), (3, 4, 5, 6, 1))
    r3new.abbab += np.transpose(tmp932, (2, 3, 4, 0, 1)) * -1
    tmp933 = np.copy(tmp192)
    del tmp192
    tmp933 += np.transpose(tmp193, (1, 0, 2)) * -1
    del tmp193
    tmp933 += np.transpose(tmp194, (1, 0, 2)) * -1
    del tmp194
    tmp933 += np.transpose(tmp195, (1, 0, 2)) * 3
    del tmp195
    tmp934 = einsum(tmp933, (0, 1, 2), t2.abab, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * 2
    del tmp933
    r3new.abbab += np.transpose(tmp934, (2, 3, 4, 0, 1)) * -1
    tmp930 = einsum(r2.bbb, (0, 1, 2), ints.tmp120, (3, 4, 5, 1), (3, 4, 2, 5, 0))
    tmp931 = einsum(t1.bb, (0, 1), tmp930, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    del tmp930
    r3new.abbab += np.transpose(tmp931, (2, 4, 3, 0, 1)) * -2
    tmp927 = einsum(r1.b, (0,), ints.tmp1473, (1, 2, 3, 0, 4, 5), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp927, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1069, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp915, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp917, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp918, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp919, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp920, (2, 4, 3, 0, 1)) * -2
    tmp937 = einsum(tmp101, (0, 1, 2), t2.abab, (0, 3, 4, 5), (1, 3, 4, 5, 2)) * 2
    del tmp101
    r3new.abbab += np.transpose(tmp937, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp921, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp926, (2, 4, 3, 0, 1))
    tmp935 = einsum(r1.b, (0,), ints.tmp1049, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp936 = einsum(t1.bb, (0, 1), tmp935, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp936, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1087, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp927, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp931, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp928, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp929, (2, 4, 3, 0, 1)) * 2
    tmp938 = einsum(r1.b, (0,), ints.tmp1077, (1, 2, 3, 4, 0, 5), (1, 2, 3, 4, 5))
    tmp939 = einsum(t1.bb, (0, 1), tmp938, (2, 0, 3, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp939, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp932, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp934, (2, 4, 3, 0, 1))
    del tmp934
    tmp940 = einsum(v.bbbb.ovov, (0, 1, 2, 3), r3.babab, (1, 4, 3, 5, 6), (5, 6, 0, 2, 4)) * -1
    tmp941 = einsum(t2.bbbb, (0, 1, 2, 3), tmp940, (4, 5, 0, 1, 6), (4, 5, 6, 2, 3))
    r3new.abbab += np.transpose(tmp941, (2, 4, 3, 0, 1)) * -2
    tmp942 = einsum(t1.bb, (0, 1), tmp940, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp940
    tmp943 = einsum(t1.bb, (0, 1), tmp942, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1)) * -1
    del tmp942
    r3new.abbab += np.transpose(tmp943, (2, 4, 3, 0, 1)) * -2
    tmp944 = einsum(tmp107, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 3, 2, 4, 5)) * -4
    del tmp107
    r3new.abbab += np.transpose(tmp944, (2, 4, 3, 0, 1))
    tmp946 = einsum(tmp81, (0, 1, 2), t2.abab, (3, 4, 2, 5), (3, 4, 0, 1, 5))
    del tmp81
    tmp947 = np.copy(tmp946) * -1
    tmp945 = einsum(r2.aba, (0, 1, 2), ints.tmp286, (3, 4, 5, 1), (2, 3, 4, 0, 5))
    tmp947 += tmp945
    tmp948 = einsum(t1.bb, (0, 1), tmp947, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp947
    r3new.abbab += np.transpose(tmp948, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r2.aba, (0, 1, 2), ints.tmp1488, (3, 4, 5, 1), (0, 4, 5, 2, 3))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1100, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp920, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp921, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp918, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp919, (2, 3, 4, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1101, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp928, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp929, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp932, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp927, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1100, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp918, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp919, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp920, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp921, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp936, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1101, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp927, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp928, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp929, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp939, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp932, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp939, (2, 3, 4, 0, 1))
    tmp950 = einsum(r1.b, (0,), ints.tmp1494, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp950, (2, 4, 3, 0, 1)) * -1
    tmp951 = einsum(tmp19, (0,), t3.babbab, (1, 2, 0, 3, 4, 5), (2, 1, 4, 5, 3))
    del tmp19
    r3new.abbab += np.transpose(tmp951, (2, 4, 3, 0, 1)) * -1
    tmp949 = einsum(tmp150, (0, 1, 2), t3.babbab, (2, 3, 1, 4, 5, 6), (3, 0, 5, 6, 4))
    del tmp150
    r3new.abbab += np.transpose(tmp949, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp950, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp951, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp949, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp956 = einsum(r2.aba, (0, 1, 2), ints.tmp167, (3, 0, 4, 5), (2, 3, 4, 5, 1))
    tmp957 = einsum(t1.bb, (0, 1), tmp956, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5))
    del tmp956
    r3new.abbab += np.transpose(tmp957, (2, 3, 4, 0, 1)) * -1
    tmp959 = np.copy(tmp180)
    del tmp180
    tmp958 = einsum(t1.bb, (0, 1), tmp181, (2, 1, 3), (0, 2, 3))
    del tmp181
    tmp959 += tmp958
    del tmp958
    tmp960 = einsum(tmp959, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 5, 2))
    del tmp959
    r3new.abbab += np.transpose(tmp960, (2, 3, 4, 0, 1)) * -1
    tmp952 = einsum(r2.aba, (0, 1, 2), v.aabb.ovov, (3, 0, 4, 5), (2, 3, 4, 1, 5))
    tmp953 = einsum(t1.bb, (0, 1), tmp952, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    tmp954 = einsum(t1.bb, (0, 1), tmp953, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp953
    tmp955 = einsum(t1.aa, (0, 1), tmp954, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp954
    r3new.abbab += np.transpose(tmp955, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1137, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp965 = einsum(r2.bbb, (0, 1, 2), ints.tmp167, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp966 = einsum(t1.aa, (0, 1), tmp965, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp965
    r3new.abbab += np.transpose(tmp966, (2, 3, 4, 0, 1)) * 2
    tmp967 = np.copy(tmp416)
    del tmp416
    tmp967 += tmp89
    del tmp89
    tmp968 = einsum(tmp967, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 4, 5, 2))
    del tmp967
    r3new.abbab += np.transpose(tmp968, (2, 3, 4, 0, 1)) * -1
    tmp961 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovov, (3, 4, 5, 1), (3, 2, 5, 4, 0))
    tmp962 = einsum(t1.aa, (0, 1), tmp961, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    tmp963 = einsum(t1.bb, (0, 1), tmp962, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp962
    tmp964 = einsum(t1.aa, (0, 1), tmp963, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp963
    r3new.abbab += np.transpose(tmp964, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp969 = einsum(t1.bb, (0, 1), tmp792, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp792
    r3new.abbab += np.transpose(tmp969, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp955, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp957, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp960, (2, 4, 3, 0, 1))
    del tmp960
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1137, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp964, (2, 3, 4, 0, 1)) * -2
    tmp970 = einsum(tmp80, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 2, 3, 4, 5))
    tmp971 = einsum(t1.bb, (0, 1), tmp970, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    r3new.abbab += np.transpose(tmp971, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp966, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp968, (2, 4, 3, 0, 1))
    del tmp968
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1142, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp972 = einsum(r2.bbb, (0, 1, 2), ints.tmp1133, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp972, (2, 4, 3, 0, 1)) * 2
    tmp973 = np.copy(np.transpose(tmp169, (0, 1, 2, 4, 3))) * -1
    tmp973 += np.transpose(tmp170, (0, 1, 2, 4, 3)) * -3
    tmp973 += np.transpose(tmp787, (0, 1, 2, 4, 3)) * -1
    tmp974 = einsum(t1.aa, (0, 1), tmp973, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5)) * 0.3333333333333333
    del tmp973
    tmp975 = einsum(t1.aa, (0, 1), tmp974, (2, 0, 3, 4, 5), (2, 3, 1, 5, 4)) * 6
    del tmp974
    r3new.abbab += np.transpose(tmp975, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(ints.tmp191, (0, 1), r2.bbb, (2, 3, 4), (1, 2, 3, 0, 4)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1149, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp976 = einsum(r2.aba, (0, 1, 2), ints.tmp1147, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp976, (2, 3, 4, 0, 1)) * -1
    tmp978 = np.copy(tmp73) * 2
    tmp977 = einsum(r2.aba, (0, 1, 2), v.aabb.vvov, (3, 0, 4, 5), (2, 4, 3, 1, 5))
    tmp978 += tmp977 * -1
    tmp979 = einsum(t1.bb, (0, 1), tmp978, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp978
    tmp980 = einsum(t1.bb, (0, 1), tmp979, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp979
    r3new.abbab += np.transpose(tmp980, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += einsum(ints.tmp273, (0, 1), r2.aba, (2, 3, 4), (2, 1, 3, 4, 0))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1149, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp976, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp980, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(ints.tmp273, (0, 1), r2.aba, (2, 3, 4), (2, 3, 1, 4, 0)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp978, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp983 = einsum(tmp443, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (0, 1, 3, 4, 5)) * -1
    del tmp443
    tmp984 = einsum(t1.aa, (0, 1), tmp983, (2, 0, 3, 4, 5), (2, 3, 1, 5, 4)) * 2
    del tmp983
    r3new.abbab += np.transpose(tmp984, (2, 3, 4, 0, 1))
    tmp981 = einsum(r2.bbb, (0, 1, 2), v.aabb.ovoo, (3, 4, 5, 2), (3, 5, 4, 0, 1))
    r3new.abbab += np.transpose(tmp981, (2, 4, 3, 0, 1)) * -2
    tmp982 = einsum(tmp439, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 3, 2, 4, 5)) * -2
    del tmp439
    r3new.abbab += np.transpose(tmp982, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (2, 4, 0, 1, 3))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp978, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (2, 0, 4, 1, 3)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1228, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp936, (2, 3, 4, 0, 1)) * -1
    tmp986 = einsum(v.aabb.oooo, (0, 1, 2, 3), r3.babab, (4, 5, 6, 1, 3), (0, 2, 5, 4, 6)) * -1
    r3new.abbab += np.transpose(tmp986, (2, 4, 3, 0, 1)) * -2
    tmp985 = einsum(tmp68, (0, 1, 2), t3.babbab, (3, 1, 2, 4, 5, 6), (0, 3, 5, 4, 6))
    del tmp68
    r3new.abbab += np.transpose(tmp985, (2, 4, 3, 0, 1))
    tmp987 = einsum(r2.aba, (0, 1, 2), v.aabb.ooov, (3, 2, 4, 5), (3, 4, 0, 1, 5))
    r3new.abbab += np.transpose(tmp987, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1535, (1, 2, 3, 4, 5, 0), (3, 5, 4, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1228, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp987, (2, 3, 4, 0, 1)) * -1
    tmp988 = einsum(r1.b, (0,), ints.tmp1533, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp988, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp985, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp170, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp977, (2, 4, 3, 0, 1)) * -1
    tmp989 = einsum(v.aabb.vvoo, (0, 1, 2, 3), r3.babab, (4, 1, 5, 6, 3), (6, 2, 0, 4, 5)) * -1
    r3new.abbab += np.transpose(tmp989, (2, 4, 3, 0, 1)) * 2
    tmp990 = einsum(r2.bbb, (0, 1, 2), ints.tmp1124, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp990, (2, 4, 3, 0, 1)) * -2
    tmp991 = einsum(tmp80, (0, 1, 2), t2.bbbb, (3, 2, 4, 5), (0, 1, 3, 4, 5))
    del tmp80
    tmp992 = einsum(t1.aa, (0, 1), tmp991, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp991
    r3new.abbab += np.transpose(tmp992, (2, 4, 3, 0, 1)) * -2
    tmp993 = einsum(tmp488, (0, 1, 2), t2.bbbb, (3, 1, 4, 5), (0, 3, 2, 4, 5)) * -2
    del tmp488
    r3new.abbab += np.transpose(tmp993, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp170, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp977, (2, 3, 4, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp245, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1173, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp787, (2, 3, 4, 0, 1)) * -2
    tmp994 = einsum(t1.bb, (0, 1), tmp790, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp790
    r3new.abbab += np.transpose(tmp994, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp873, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp995 = einsum(ints.tmp220, (0, 1, 2, 3), r3.babab, (4, 5, 2, 6, 0), (6, 1, 5, 3, 4)) * -1
    r3new.abbab += np.transpose(tmp995, (2, 4, 3, 0, 1)) * 2
    tmp996 = einsum(r2.aba, (0, 1, 2), v.bbbb.ovvv, (3, 4, 5, 1), (2, 3, 0, 4, 5))
    r3new.abbab += np.transpose(tmp996, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp873, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp995, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp996, (2, 3, 4, 0, 1)) * -1
    tmp997 = einsum(r2.bbb, (0, 1, 2), ints.tmp869, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp998 = einsum(t1.aa, (0, 1), tmp997, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp997
    r3new.abbab += np.transpose(tmp998, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1183, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1000 = einsum(r2.bbb, (0, 1, 2), ints.tmp865, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp1001 = einsum(t1.aa, (0, 1), tmp1000, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1000
    r3new.abbab += np.transpose(tmp1001, (2, 4, 3, 0, 1)) * 2
    tmp999 = einsum(v.aabb.oovv, (0, 1, 2, 3), r3.babab, (4, 5, 3, 1, 6), (0, 6, 5, 4, 2)) * -1
    r3new.abbab += np.transpose(tmp999, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1183, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp999, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp941, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1217, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp805, (2, 3, 4, 0, 1)) * 2
    tmp1002 = einsum(t1.bb, (0, 1), tmp809, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    r3new.abbab += np.transpose(tmp1002, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp807, (2, 4, 3, 0, 1)) * -1
    del tmp807
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1163, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1003 = einsum(r2.bbb, (0, 1, 2), v.aabb.oooo, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    tmp1004 = einsum(t1.aa, (0, 1), tmp1003, (2, 0, 3, 4, 5), (2, 3, 1, 5, 4)) * -1
    del tmp1003
    r3new.abbab += np.transpose(tmp1004, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1163, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp1005 = einsum(r2.aba, (0, 1, 2), v.aabb.oooo, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp1006 = einsum(t1.bb, (0, 1), tmp1005, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp1006, (2, 4, 3, 0, 1)) * -1
    tmp1008 = einsum(r1.b, (0,), ints.tmp1557, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp1009 = einsum(t1.bb, (0, 1), tmp1008, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1008
    tmp1010 = einsum(t1.bb, (0, 1), tmp1009, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1009
    r3new.abbab += np.transpose(tmp1010, (2, 3, 4, 0, 1)) * -1
    tmp1007 = einsum(r1.b, (0,), ints.tmp1555, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp1007, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp1010, (2, 4, 3, 0, 1))
    tmp1011 = np.copy(np.transpose(tmp935, (0, 2, 1, 3, 4))) * -1
    del tmp935
    tmp1011 += np.transpose(tmp1005, (0, 2, 1, 3, 4))
    del tmp1005
    tmp1011 += np.transpose(tmp890, (0, 2, 1, 3, 4))
    del tmp890
    tmp1012 = einsum(t1.bb, (0, 1), tmp1011, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1011
    r3new.abbab += np.transpose(tmp1012, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1191, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1013 = einsum(r2.aba, (0, 1, 2), v.aabb.vvoo, (3, 0, 4, 5), (2, 4, 5, 3, 1))
    tmp1014 = einsum(t1.bb, (0, 1), tmp1013, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1013
    r3new.abbab += np.transpose(tmp1014, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp1016 = einsum(r2.aba, (0, 1, 2), ints.tmp1158, (2, 3, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp1016, (2, 3, 4, 0, 1))
    tmp1015 = einsum(t1.bb, (0, 1), tmp961, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp961
    r3new.abbab += np.transpose(tmp1015, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1191, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp1014, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -2
    r3new.abbab += np.transpose(tmp1015, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp1016, (2, 4, 3, 0, 1)) * -1
    tmp1017 = einsum(tmp190, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 2, 5))
    del tmp190
    r3new.abbab += np.transpose(tmp1017, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp1018 = einsum(r2.bbb, (0, 1, 2), ints.tmp975, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp1018, (2, 4, 3, 0, 1)) * -2
    tmp1020 = np.copy(tmp952)
    tmp1019 = einsum(v.aabb.ovoo, (0, 1, 2, 3), r3.babab, (4, 1, 5, 6, 3), (6, 0, 2, 4, 5)) * -1
    tmp1020 += np.transpose(tmp1019, (0, 1, 2, 4, 3)) * 2
    del tmp1019
    tmp1021 = einsum(t1.aa, (0, 1), tmp1020, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1020
    r3new.abbab += np.transpose(tmp1021, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1251, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp1022 = einsum(r2.aba, (0, 1, 2), ints.tmp220, (3, 4, 1, 5), (2, 3, 4, 0, 5))
    tmp1024 = np.copy(tmp1022) * 0.5
    tmp1023 = einsum(ints.tmp277, (0, 1, 2, 3), r3.babab, (4, 5, 3, 6, 2), (6, 0, 1, 5, 4)) * -1
    tmp1024 += tmp1023
    tmp1025 = einsum(t1.bb, (0, 1), tmp1024, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1024
    r3new.abbab += np.transpose(tmp1025, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1177, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp804, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp800, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp1026 = einsum(t1.aa, (0, 1), tmp952, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp952
    r3new.abbab += np.transpose(tmp1026, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp907, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp1027 = einsum(t1.aa, (0, 1), tmp820, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp820
    r3new.abbab += np.transpose(tmp1027, (2, 3, 4, 0, 1)) * 2
    tmp1028 = np.copy(tmp1023) * 2
    del tmp1023
    tmp1028 += tmp1022
    del tmp1022
    r3new.abbab += einsum(t1.bb, (0, 1), tmp1028, (2, 0, 3, 4, 5), (4, 1, 5, 2, 3)) * -1
    del tmp1028
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1251, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp922, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp889, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1029 = einsum(t1.aa, (0, 1), tmp831, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp1029, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp830, (2, 4, 3, 0, 1)) * -1
    del tmp830
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1159, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1030 = einsum(v.aabb.ooov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 1, 6), (0, 6, 2, 5, 4)) * -1
    tmp1031 = einsum(t1.bb, (0, 1), tmp1030, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1030
    r3new.abbab += np.transpose(tmp1031, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1159, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp1031, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp900, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    tmp1033 = einsum(v.aabb.ovvv, (0, 1, 2, 3), r3.babab, (4, 5, 3, 0, 6), (6, 5, 1, 4, 2)) * -1
    tmp1034 = einsum(t1.aa, (0, 1), tmp1033, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    del tmp1033
    r3new.abbab += np.transpose(tmp1034, (2, 4, 3, 0, 1)) * 2
    tmp1032 = einsum(r2.bbb, (0, 1, 2), ints.tmp886, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    r3new.abbab += einsum(t1.aa, (0, 1), tmp1032, (2, 0, 3, 4, 5), (1, 5, 4, 2, 3)) * 2
    del tmp1032
    r3new.abbab += einsum(r1.b, (0,), ints.tmp900, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += np.transpose(tmp1034, (2, 3, 4, 0, 1)) * -2
    tmp1036 = einsum(r2.aba, (0, 1, 2), v.bbbb.ooov, (3, 4, 5, 1), (2, 3, 4, 5, 0))
    tmp1037 = einsum(t1.bb, (0, 1), tmp1036, (2, 3, 4, 0, 5), (2, 4, 3, 5, 1))
    del tmp1036
    tmp1038 = einsum(t1.bb, (0, 1), tmp1037, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1037
    r3new.abbab += np.transpose(tmp1038, (2, 3, 4, 0, 1)) * -1
    tmp1035 = einsum(r2.aba, (0, 1, 2), ints.tmp325, (3, 4, 5, 1), (2, 3, 0, 4, 5))
    r3new.abbab += np.transpose(tmp1035, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp1038, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp960, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp1039 = einsum(r2.aba, (0, 1, 2), ints.tmp957, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp1039, (2, 3, 4, 0, 1)) * 2
    tmp1040 = einsum(r2.bbb, (0, 1, 2), ints.tmp213, (3, 4, 5, 1), (3, 2, 4, 5, 0))
    r3new.abbab += np.transpose(tmp1040, (2, 3, 4, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp960, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -2
    r3new.abbab += np.transpose(tmp1039, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp1040, (2, 4, 3, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1041, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.abbab += np.transpose(tmp911, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1224, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    tmp1041 = einsum(v.aabb.ovov, (0, 1, 2, 3), r3.babab, (4, 5, 3, 0, 6), (6, 2, 5, 1, 4)) * -1
    tmp1042 = einsum(t2.abab, (0, 1, 2, 3), tmp1041, (4, 1, 5, 2, 6), (0, 4, 5, 6, 3))
    r3new.abbab += np.transpose(tmp1042, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1224, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.abbab += np.transpose(tmp1042, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1250, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1161, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1250, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1161, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp1043 = einsum(r2.aba, (0, 1, 2), ints.tmp1591, (3, 2, 4, 5, 6, 1), (3, 4, 0, 5, 6))
    r3new.abbab += np.transpose(tmp1043, (2, 3, 4, 0, 1)) * -1
    tmp1044 = einsum(r1.b, (0,), ints.tmp1591, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    tmp1045 = einsum(t1.aa, (0, 1), tmp1044, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1044
    r3new.abbab += np.transpose(tmp1045, (2, 3, 4, 0, 1))
    tmp1046 = einsum(r1.b, (0,), ints.tmp1595, (1, 2, 3, 4, 5, 0), (1, 2, 3, 4, 5))
    r3new.abbab += np.transpose(tmp1046, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp1043, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += np.transpose(tmp1045, (2, 3, 4, 0, 1))
    r3new.abbab += np.transpose(tmp1046, (2, 4, 3, 0, 1))
    r3new.abbab += np.transpose(tmp948, (2, 3, 4, 0, 1)) * -1
    tmp1047 = einsum(r2.aba, (0, 1, 2), ints.tmp326, (3, 4, 5, 1), (2, 3, 0, 4, 5))
    r3new.abbab += np.transpose(tmp1047, (2, 4, 3, 0, 1)) * -1
    tmp1048 = np.copy(tmp938)
    del tmp938
    tmp1048 += np.transpose(tmp885, (0, 2, 1, 3, 4)) * -1
    del tmp885
    tmp1049 = einsum(t1.bb, (0, 1), tmp1048, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1048
    r3new.abbab += np.transpose(tmp1049, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1606, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp1050 = einsum(r2.aba, (0, 1, 2), ints.tmp1272, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.abbab += np.transpose(tmp1050, (2, 3, 4, 0, 1)) * 2
    tmp1051 = einsum(r2.bbb, (0, 1, 2), v.aabb.vvov, (3, 4, 5, 1), (2, 5, 3, 4, 0))
    tmp1052 = einsum(t1.aa, (0, 1), tmp1051, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp1051
    tmp1053 = einsum(t1.bb, (0, 1), tmp1052, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1052
    r3new.abbab += np.transpose(tmp1053, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1606, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -2
    r3new.abbab += np.transpose(tmp1053, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += np.transpose(tmp1050, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1287, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp1054 = einsum(r2.bbb, (0, 1, 2), ints.tmp1120, (3, 4, 2, 5), (3, 4, 5, 0, 1))
    r3new.abbab += np.transpose(tmp1054, (2, 4, 3, 0, 1)) * -2
    tmp1055 = einsum(r2.aba, (0, 1, 2), v.aabb.ovvv, (3, 0, 4, 5), (2, 3, 1, 4, 5))
    tmp1056 = np.copy(np.transpose(tmp1055, (0, 1, 2, 4, 3)))
    tmp1056 += np.transpose(tmp845, (0, 1, 3, 4, 2)) * 2
    del tmp845
    tmp1057 = einsum(t1.bb, (0, 1), tmp1056, (2, 3, 4, 1, 5), (2, 3, 0, 4, 5)) * 0.5
    del tmp1056
    tmp1058 = einsum(t1.aa, (0, 1), tmp1057, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5)) * 2
    del tmp1057
    r3new.abbab += np.transpose(tmp1058, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1287, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp1059 = einsum(t1.bb, (0, 1), tmp1055, (2, 3, 4, 5, 1), (2, 3, 0, 4, 5))
    del tmp1055
    tmp1060 = einsum(t1.aa, (0, 1), tmp1059, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1059
    r3new.abbab += np.transpose(tmp1060, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1142, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp1061 = einsum(t1.aa, (0, 1), tmp787, (2, 3, 1, 4, 5), (0, 2, 3, 4, 5))
    tmp1062 = einsum(t1.aa, (0, 1), tmp1061, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1061
    r3new.abbab += np.transpose(tmp1062, (2, 3, 4, 0, 1)) * 2
    tmp1065 = einsum(r2.aba, (0, 1, 2), v.bbbb.ovov, (3, 4, 5, 1), (2, 3, 5, 0, 4))
    tmp1066 = einsum(t1.bb, (0, 1), tmp1065, (2, 3, 4, 5, 1), (2, 0, 4, 3, 5))
    del tmp1065
    tmp1067 = einsum(t1.bb, (0, 1), tmp1066, (2, 3, 4, 0, 5), (2, 3, 4, 5, 1))
    del tmp1066
    tmp1068 = einsum(t1.bb, (0, 1), tmp1067, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5))
    del tmp1067
    r3new.abbab += np.transpose(tmp1068, (2, 3, 4, 0, 1))
    tmp1063 = einsum(r2.aba, (0, 1, 2), ints.tmp339, (3, 4, 1, 5), (2, 0, 3, 4, 5))
    tmp1064 = einsum(t1.bb, (0, 1), tmp1063, (2, 3, 4, 5, 1), (2, 0, 3, 4, 5))
    del tmp1063
    r3new.abbab += np.transpose(tmp1064, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += np.transpose(tmp1068, (2, 4, 3, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1626, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * 2
    tmp1069 = einsum(r2.aba, (0, 1, 2), ints.tmp301, (3, 4, 0, 5), (3, 2, 4, 5, 1))
    tmp1070 = einsum(t1.aa, (0, 1), tmp1069, (0, 2, 3, 4, 5), (2, 3, 1, 4, 5))
    r3new.abbab += np.transpose(tmp1070, (2, 3, 4, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1210, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    tmp1071 = einsum(r2.bbb, (0, 1, 2), ints.tmp211, (3, 4, 5, 1), (3, 4, 2, 5, 0))
    tmp1072 = einsum(t1.aa, (0, 1), tmp1071, (2, 0, 3, 4, 5), (2, 3, 1, 4, 5))
    del tmp1071
    r3new.abbab += np.transpose(tmp1072, (2, 3, 4, 0, 1)) * 2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1626, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -2
    r3new.abbab += np.transpose(tmp1070, (2, 4, 3, 0, 1)) * -1
    del tmp1070
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1210, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    r3new.abbab += np.transpose(tmp1072, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1119, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1136, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1119, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1136, (1, 2, 3, 4), (3, 0, 4, 1, 2))
    tmp1073 = einsum(r2.aba, (0, 1, 2), ints.tmp869, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp1074 = einsum(t1.bb, (0, 1), tmp1073, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.abbab += np.transpose(tmp1074, (2, 4, 3, 0, 1)) * -1
    tmp1075 = np.copy(tmp1073)
    del tmp1073
    tmp1075 += tmp970
    del tmp970
    tmp1076 = einsum(t1.bb, (0, 1), tmp1075, (2, 0, 3, 4, 5), (2, 3, 4, 1, 5))
    del tmp1075
    r3new.abbab += np.transpose(tmp1076, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1290, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * -1
    tmp1078 = np.copy(tmp85) * 2
    del tmp85
    tmp1077 = einsum(r2.aba, (0, 1, 2), ints.tmp179, (3, 1, 4, 5), (2, 3, 0, 4, 5))
    tmp1078 += tmp1077
    del tmp1077
    tmp1079 = einsum(t1.bb, (0, 1), tmp1078, (2, 3, 4, 1, 5), (2, 0, 3, 4, 5)) * 0.5
    del tmp1078
    tmp1080 = einsum(t1.bb, (0, 1), tmp1079, (2, 3, 0, 4, 5), (2, 3, 4, 1, 5)) * 2
    del tmp1079
    r3new.abbab += np.transpose(tmp1080, (2, 4, 3, 0, 1))
    r3new.abbab += einsum(r1.b, (0,), ints.tmp906, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp840, (2, 4, 3, 0, 1)) * -1
    del tmp840
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1290, (1, 2, 3, 4), (3, 4, 0, 1, 2))
    r3new.abbab += np.transpose(tmp1080, (2, 3, 4, 0, 1)) * -1
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1293, (1, 2, 3, 4), (3, 4, 0, 1, 2)) * -2
    tmp1081 = einsum(t1.aa, (0, 1), tmp1041, (2, 3, 4, 1, 5), (0, 2, 3, 4, 5))
    del tmp1041
    tmp1082 = einsum(t1.bb, (0, 1), tmp1081, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1081
    r3new.abbab += np.transpose(tmp1082, (2, 4, 3, 0, 1)) * -2
    r3new.abbab += einsum(r1.b, (0,), ints.tmp1293, (1, 2, 3, 4), (3, 0, 4, 1, 2)) * 2
    r3new.abbab += np.transpose(tmp1082, (2, 3, 4, 0, 1)) * 2
    r3new.babba = einsum(r1.b, (0,), ints.tmp1269, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.babba += np.transpose(tmp798, (3, 2, 4, 1, 0)) * 2
    del tmp798
    r3new.babba += np.transpose(tmp795, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp799, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp73, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp796, (4, 2, 3, 1, 0)) * 2
    del tmp796
    r3new.babba += einsum(ints.tmp234, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1173, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp245, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp170, (3, 2, 4, 1, 0)) * -6
    r3new.babba += np.transpose(tmp789, (3, 2, 4, 1, 0)) * 2
    del tmp789
    r3new.babba += np.transpose(tmp787, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp788, (4, 2, 3, 1, 0)) * -2
    del tmp788
    r3new.babba += np.transpose(tmp794, (4, 2, 3, 1, 0))
    del tmp794
    r3new.babba += einsum(ints.tmp66, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1268, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp73, (3, 2, 4, 1, 0)) * -2
    del tmp73
    r3new.babba += np.transpose(tmp795, (3, 2, 4, 1, 0))
    del tmp795
    r3new.babba += np.transpose(tmp799, (4, 2, 3, 1, 0)) * -1
    del tmp799
    r3new.babba += einsum(ints.tmp234, (0, 1), r2.aba, (2, 3, 4), (3, 2, 1, 0, 4))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1177, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.babba += np.transpose(tmp803, (3, 2, 4, 1, 0)) * 2
    del tmp803
    r3new.babba += np.transpose(tmp804, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp800, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp801, (4, 2, 3, 1, 0)) * 2
    del tmp801
    r3new.babba += einsum(r1.b, (0,), ints.tmp1644, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp813, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp814, (3, 2, 4, 1, 0)) * 2
    del tmp814
    r3new.babba += np.transpose(tmp816, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp818, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp818, (4, 2, 3, 1, 0)) * -1
    del tmp818
    tmp1106 = einsum(r2.bbb, (0, 1, 2), ints.tmp1641, (3, 4, 5, 2), (3, 4, 5, 0, 1))
    r3new.babba += einsum(t1.aa, (0, 1), tmp1106, (2, 0, 3, 4, 5), (4, 1, 5, 3, 2)) * -2
    del tmp1106
    r3new.babba += einsum(r1.b, (0,), ints.tmp1678, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1648, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1107 = einsum(r2.aba, (0, 1, 2), ints.tmp1641, (3, 2, 4, 5), (3, 4, 5, 0, 1))
    tmp1108 = einsum(t1.bb, (0, 1), tmp1107, (2, 3, 0, 4, 5), (2, 3, 4, 5, 1))
    del tmp1107
    r3new.babba += np.transpose(tmp1108, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp805, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp808, (4, 2, 3, 1, 0)) * -2
    del tmp808
    r3new.babba += einsum(r2.bbb, (0, 1, 2), ints.tmp1646, (3, 4, 2, 5), (0, 5, 1, 4, 3)) * 2
    tmp1109 = np.copy(np.transpose(tmp809, (0, 1, 2, 4, 3)))
    del tmp809
    tmp1109 += np.transpose(tmp810, (0, 1, 3, 4, 2)) * 2
    del tmp810
    r3new.babba += einsum(t1.bb, (0, 1), tmp1109, (2, 3, 4, 1, 5), (5, 3, 4, 0, 2)) * -1
    del tmp1109
    r3new.babba += einsum(r1.b, (0,), ints.tmp1644, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1650, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp813, (4, 2, 3, 1, 0)) * 2
    del tmp813
    r3new.babba += np.transpose(tmp816, (4, 2, 3, 1, 0)) * 2
    del tmp816
    r3new.babba += np.transpose(tmp825, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp827, (4, 2, 3, 1, 0)) * -2
    r3new.babba += einsum(ints.tmp283, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.babba += einsum(r1.b, (0,), ints.tmp907, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp819, (4, 2, 3, 1, 0)) * 2
    del tmp819
    r3new.babba += np.transpose(tmp824, (4, 2, 3, 1, 0))
    del tmp824
    r3new.babba += einsum(ints.tmp64, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * 4
    r3new.babba += np.transpose(tmp827, (3, 2, 4, 1, 0)) * 2
    del tmp827
    r3new.babba += np.transpose(tmp825, (4, 2, 3, 1, 0))
    del tmp825
    r3new.babba += np.transpose(tmp828, (4, 2, 3, 1, 0))
    del tmp828
    r3new.babba += einsum(ints.tmp283, (0, 1), r2.aba, (2, 3, 4), (3, 2, 1, 0, 4)) * -1
    r3new.babba += np.transpose(tmp835, (3, 2, 4, 1, 0)) * 2
    del tmp835
    r3new.babba += np.transpose(tmp844, (3, 2, 4, 1, 0)) * 2
    del tmp844
    tmp1110 = einsum(r2.aba, (0, 1, 2), ints.tmp1640, (3, 2, 4, 5), (3, 4, 0, 5, 1))
    r3new.babba += np.transpose(tmp1110, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp837, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp838, (4, 2, 3, 1, 0)) * 2
    del tmp838
    r3new.babba += einsum(ints.tmp255, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4)) * -2
    tmp1111 = np.copy(np.transpose(tmp831, (0, 2, 1, 3, 4))) * -1
    del tmp831
    tmp1111 += np.transpose(tmp833, (0, 2, 1, 4, 3)) * 3
    del tmp833
    tmp1111 += np.transpose(tmp832, (0, 2, 1, 4, 3))
    del tmp832
    r3new.babba += einsum(t1.aa, (0, 1), tmp1111, (2, 1, 3, 4, 5), (5, 3, 4, 2, 0)) * -2
    del tmp1111
    r3new.babba += einsum(ints.tmp114, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1679, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp837, (3, 2, 4, 1, 0)) * -2
    del tmp837
    r3new.babba += np.transpose(tmp1110, (4, 2, 3, 1, 0)) * -1
    del tmp1110
    r3new.babba += einsum(ints.tmp372, (0, 1), r2.aba, (2, 3, 4), (3, 2, 1, 0, 4))
    r3new.babba += np.transpose(tmp841, (4, 2, 3, 1, 0)) * 2
    del tmp841
    tmp1112 = einsum(r2.aba, (0, 1, 2), ints.tmp1689, (3, 4, 1, 5), (2, 3, 0, 4, 5))
    r3new.babba += np.transpose(tmp1112, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp862, (3, 2, 4, 1, 0)) * 4
    r3new.babba += np.transpose(tmp864, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp872, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp859, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp861, (4, 2, 3, 1, 0)) * 4
    r3new.babba += einsum(t1.aa, (0, 1), tmp865, (2, 0, 3, 4, 5), (4, 1, 5, 3, 2)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1030, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1113 = np.copy(tmp1010)
    del tmp1010
    tmp1113 += tmp852
    del tmp852
    r3new.babba += np.transpose(tmp1113, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp846, (3, 2, 4, 1, 0)) * 2
    del tmp846
    r3new.babba += np.transpose(tmp847, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp851, (3, 2, 4, 1, 0))
    del tmp851
    r3new.babba += np.transpose(tmp848, (4, 2, 3, 1, 0)) * 4
    del tmp848
    r3new.babba += np.transpose(tmp849, (4, 2, 3, 1, 0)) * -4
    del tmp849
    r3new.babba += np.transpose(tmp1113, (4, 2, 3, 1, 0))
    del tmp1113
    r3new.babba += np.transpose(tmp854, (4, 2, 3, 1, 0))
    del tmp854
    r3new.babba += np.transpose(tmp858, (4, 2, 3, 1, 0))
    del tmp858
    r3new.babba += np.transpose(tmp859, (3, 2, 4, 1, 0)) * 2
    del tmp859
    r3new.babba += np.transpose(tmp861, (3, 2, 4, 1, 0)) * -4
    del tmp861
    r3new.babba += np.transpose(tmp1112, (4, 2, 3, 1, 0)) * 2
    del tmp1112
    r3new.babba += np.transpose(tmp862, (4, 2, 3, 1, 0)) * -4
    del tmp862
    r3new.babba += np.transpose(tmp864, (4, 2, 3, 1, 0)) * -1
    del tmp864
    r3new.babba += np.transpose(tmp872, (4, 2, 3, 1, 0)) * -1
    del tmp872
    tmp1114 = np.copy(tmp902) * -1
    del tmp902
    tmp1114 += tmp865
    del tmp865
    r3new.babba += einsum(t1.aa, (0, 1), tmp1114, (2, 0, 3, 4, 5), (5, 1, 4, 3, 2))
    del tmp1114
    r3new.babba += einsum(r1.b, (0,), ints.tmp1651, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp877, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp881, (3, 2, 4, 1, 0)) * -1
    del tmp881
    r3new.babba += einsum(r1.b, (0,), ints.tmp1654, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp873, (3, 2, 4, 1, 0)) * -1
    tmp1115 = np.copy(tmp158) * 2
    tmp1115 += tmp156
    del tmp156
    tmp1115 += np.transpose(tmp157, (1, 0, 2))
    r3new.babba += einsum(tmp1115, (0, 1, 2), t2.abab, (3, 0, 4, 5), (5, 4, 2, 1, 3))
    del tmp1115
    r3new.babba += einsum(r1.b, (0,), ints.tmp988, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp880, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp891, (3, 2, 4, 1, 0)) * -1
    del tmp891
    r3new.babba += np.transpose(tmp877, (4, 2, 3, 1, 0)) * -2
    del tmp877
    r3new.babba += np.transpose(tmp889, (4, 2, 3, 1, 0))
    del tmp889
    r3new.babba += einsum(r1.b, (0,), ints.tmp977, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp886, (3, 2, 4, 1, 0)) * -1
    del tmp886
    r3new.babba += np.transpose(tmp876, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp873, (4, 2, 3, 1, 0))
    del tmp873
    tmp1116 = np.copy(tmp158) * 2
    del tmp158
    tmp1116 += tmp882
    del tmp882
    tmp1116 += np.transpose(tmp157, (1, 0, 2))
    del tmp157
    r3new.babba += einsum(tmp1116, (0, 1, 2), t2.abab, (3, 0, 4, 5), (2, 4, 5, 1, 3)) * -1
    del tmp1116
    r3new.babba += einsum(r1.b, (0,), ints.tmp1019, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1117 = einsum(r2.aba, (0, 1, 2), ints.tmp1005, (3, 0, 4, 5), (2, 3, 4, 5, 1))
    r3new.babba += np.transpose(tmp1117, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp897, (3, 2, 4, 1, 0)) * -1
    del tmp897
    r3new.babba += np.transpose(tmp894, (3, 2, 4, 1, 0))
    del tmp894
    r3new.babba += np.transpose(tmp898, (3, 2, 4, 1, 0))
    del tmp898
    r3new.babba += np.transpose(tmp905, (3, 2, 4, 1, 0))
    del tmp905
    r3new.babba += np.transpose(tmp892, (4, 2, 3, 1, 0)) * 4
    r3new.babba += np.transpose(tmp893, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp900, (4, 2, 3, 1, 0)) * 2
    r3new.babba += einsum(ints.tmp1697, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4)) * -3
    r3new.babba += einsum(r1.b, (0,), ints.tmp1019, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    tmp1118 = np.copy(tmp896)
    del tmp896
    tmp1118 += tmp946
    del tmp946
    r3new.babba += einsum(t1.bb, (0, 1), tmp1118, (2, 3, 0, 4, 5), (1, 4, 5, 3, 2))
    del tmp1118
    r3new.babba += np.transpose(tmp892, (3, 2, 4, 1, 0)) * -4
    del tmp892
    r3new.babba += np.transpose(tmp893, (3, 2, 4, 1, 0)) * -2
    del tmp893
    r3new.babba += np.transpose(tmp900, (3, 2, 4, 1, 0)) * -2
    del tmp900
    r3new.babba += np.transpose(tmp906, (4, 2, 3, 1, 0)) * -1
    del tmp906
    r3new.babba += np.transpose(tmp908, (4, 2, 3, 1, 0)) * -1
    del tmp908
    r3new.babba += np.transpose(tmp1117, (4, 2, 3, 1, 0))
    del tmp1117
    r3new.babba += einsum(r1.b, (0,), ints.tmp1698, (1, 2, 3, 4, 5, 0), (5, 3, 4, 2, 1)) * -1
    r3new.babba += einsum(ints.tmp1697, (0, 1), r2.aba, (2, 3, 4), (3, 2, 1, 0, 4)) * 3
    r3new.babba += einsum(r1.b, (0,), ints.tmp1030, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    tmp1119 = np.copy(tmp850)
    del tmp850
    tmp1119 += tmp924
    del tmp924
    r3new.babba += einsum(t1.bb, (0, 1), tmp1119, (2, 3, 0, 4, 5), (1, 4, 5, 3, 2)) * -1
    del tmp1119
    r3new.babba += einsum(r1.b, (0,), ints.tmp1673, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp909, (3, 2, 4, 1, 0)) * -2
    del tmp909
    r3new.babba += np.transpose(tmp910, (3, 2, 4, 1, 0)) * -1
    del tmp910
    r3new.babba += np.transpose(tmp847, (4, 2, 3, 1, 0)) * -1
    del tmp847
    r3new.babba += einsum(r1.b, (0,), ints.tmp1041, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.babba += np.transpose(tmp912, (4, 2, 3, 1, 0)) * -4
    del tmp912
    r3new.babba += einsum(r2.bbb, (0, 1, 2), ints.tmp201, (3, 4, 1, 5), (5, 4, 0, 2, 3)) * 4
    tmp1120 = np.copy(np.transpose(tmp169, (0, 1, 2, 4, 3))) * -1
    del tmp169
    tmp1120 += np.transpose(tmp170, (0, 1, 2, 4, 3)) * -3
    del tmp170
    r3new.babba += einsum(t2.aaaa, (0, 1, 2, 3), tmp1120, (1, 4, 3, 5, 6), (5, 2, 6, 4, 0)) * -4
    del tmp1120
    r3new.babba += einsum(t2.abab, (0, 1, 2, 3), tmp174, (4, 1, 5, 6, 3), (5, 2, 6, 4, 0)) * -6
    del tmp174
    r3new.babba += einsum(ints.tmp210, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * -4
    r3new.babba += einsum(r1.b, (0,), ints.tmp1101, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    tmp1121 = einsum(tmp196, (0, 1, 2), t2.abab, (3, 0, 4, 5), (3, 1, 4, 5, 2)) * 6
    del tmp196
    r3new.babba += np.transpose(tmp1121, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp928, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp929, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp932, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp927, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1100, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp920, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp921, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp918, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp919, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp922, (3, 2, 4, 1, 0))
    del tmp922
    r3new.babba += np.transpose(tmp915, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp941, (3, 2, 4, 1, 0)) * 2
    del tmp941
    r3new.babba += np.transpose(tmp943, (4, 2, 3, 1, 0)) * -2
    del tmp943
    r3new.babba += np.transpose(tmp944, (4, 2, 3, 1, 0))
    del tmp944
    r3new.babba += np.transpose(tmp948, (4, 2, 3, 1, 0))
    del tmp948
    r3new.babba += einsum(r2.aba, (0, 1, 2), ints.tmp1702, (3, 4, 5, 1), (4, 0, 5, 3, 2)) * 6
    r3new.babba += einsum(r1.b, (0,), ints.tmp1085, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.babba += np.transpose(tmp927, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp931, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp928, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp929, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp939, (4, 2, 3, 1, 0)) * -1
    r3new.babba += np.transpose(tmp1121, (4, 2, 3, 1, 0))
    del tmp1121
    r3new.babba += np.transpose(tmp932, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1097, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.babba += np.transpose(tmp915, (3, 2, 4, 1, 0)) * 2
    del tmp915
    r3new.babba += np.transpose(tmp917, (3, 2, 4, 1, 0)) * 2
    del tmp917
    r3new.babba += np.transpose(tmp918, (4, 2, 3, 1, 0)) * -1
    r3new.babba += np.transpose(tmp919, (4, 2, 3, 1, 0)) * -1
    r3new.babba += np.transpose(tmp920, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp937, (4, 2, 3, 1, 0)) * -1
    del tmp937
    r3new.babba += np.transpose(tmp921, (4, 2, 3, 1, 0))
    r3new.babba += np.transpose(tmp926, (4, 2, 3, 1, 0))
    del tmp926
    r3new.babba += np.transpose(tmp936, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1661, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp920, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp921, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp918, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp919, (3, 2, 4, 1, 0))
    tmp1122 = np.copy(tmp1069) * -0.5
    tmp1122 += np.transpose(tmp866, (0, 1, 2, 4, 3))
    tmp1122 += np.transpose(tmp916, (1, 0, 2, 4, 3))
    del tmp916
    r3new.babba += einsum(t1.aa, (0, 1), tmp1122, (0, 2, 3, 4, 5), (4, 1, 5, 3, 2)) * -2
    del tmp1122
    r3new.babba += einsum(r1.b, (0,), ints.tmp1663, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp1072, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp928, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp929, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp932, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp927, (4, 2, 3, 1, 0))
    r3new.babba += np.transpose(tmp949, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp939, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp950, (4, 2, 3, 1, 0)) * -1
    r3new.babba += np.transpose(tmp951, (4, 2, 3, 1, 0)) * -1
    r3new.babba += np.transpose(tmp949, (3, 2, 4, 1, 0)) * -1
    del tmp949
    r3new.babba += np.transpose(tmp950, (4, 2, 3, 1, 0)) * -1
    del tmp950
    r3new.babba += np.transpose(tmp951, (4, 2, 3, 1, 0)) * -1
    del tmp951
    r3new.babba += einsum(r1.b, (0,), ints.tmp1665, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1123 = einsum(tmp91, (0, 1, 2), t2.abab, (1, 3, 4, 5), (0, 3, 4, 5, 2)) * 2
    del tmp91
    r3new.babba += np.transpose(tmp1123, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp966, (3, 2, 4, 1, 0)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1669, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    tmp1124 = einsum(tmp183, (0, 1, 2), t2.abab, (3, 1, 4, 5), (3, 0, 4, 5, 2)) * 2
    del tmp183
    r3new.babba += np.transpose(tmp1124, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp957, (3, 2, 4, 1, 0)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1137, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp964, (3, 2, 4, 1, 0)) * -2
    r3new.babba += np.transpose(tmp971, (3, 2, 4, 1, 0)) * -1
    del tmp971
    r3new.babba += np.transpose(tmp966, (4, 2, 3, 1, 0)) * -2
    del tmp966
    r3new.babba += np.transpose(tmp1123, (4, 2, 3, 1, 0))
    del tmp1123
    r3new.babba += einsum(r1.b, (0,), ints.tmp1122, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp969, (3, 2, 4, 1, 0)) * -1
    del tmp969
    r3new.babba += np.transpose(tmp955, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp1124, (4, 2, 3, 1, 0))
    del tmp1124
    r3new.babba += np.transpose(tmp957, (4, 2, 3, 1, 0))
    del tmp957
    r3new.babba += einsum(r1.b, (0,), ints.tmp1038, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp918, (4, 2, 3, 1, 0)) * -1
    del tmp918
    r3new.babba += np.transpose(tmp919, (4, 2, 3, 1, 0)) * -1
    del tmp919
    r3new.babba += np.transpose(tmp920, (4, 2, 3, 1, 0)) * -2
    del tmp920
    r3new.babba += np.transpose(tmp921, (4, 2, 3, 1, 0))
    del tmp921
    r3new.babba += np.transpose(tmp936, (4, 2, 3, 1, 0))
    tmp1125 = np.copy(tmp1069) * -0.5
    del tmp1069
    tmp1125 += np.transpose(tmp866, (0, 1, 2, 4, 3))
    del tmp866
    r3new.babba += einsum(t1.aa, (0, 1), tmp1125, (0, 2, 3, 4, 5), (5, 1, 4, 3, 2)) * 2
    del tmp1125
    r3new.babba += einsum(r1.b, (0,), ints.tmp1149, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp976, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp980, (3, 2, 4, 1, 0)) * -1
    r3new.babba += einsum(ints.tmp273, (0, 1), r2.aba, (2, 3, 4), (1, 2, 3, 0, 4))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1142, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp972, (4, 2, 3, 1, 0)) * 2
    del tmp972
    r3new.babba += np.transpose(tmp975, (4, 2, 3, 1, 0))
    del tmp975
    r3new.babba += einsum(ints.tmp191, (0, 1), r2.bbb, (2, 3, 4), (2, 1, 3, 4, 0)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1149, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp976, (4, 2, 3, 1, 0))
    del tmp976
    r3new.babba += np.transpose(tmp980, (4, 2, 3, 1, 0))
    del tmp980
    r3new.babba += einsum(ints.tmp273, (0, 1), r2.aba, (2, 3, 4), (3, 2, 1, 0, 4)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp978, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp984, (3, 2, 4, 1, 0))
    del tmp984
    r3new.babba += np.transpose(tmp981, (4, 2, 3, 1, 0)) * -2
    del tmp981
    r3new.babba += np.transpose(tmp982, (4, 2, 3, 1, 0)) * -1
    del tmp982
    r3new.babba += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (4, 2, 0, 3, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp978, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += einsum(r1.b, (0,), v.aabb.ovov, (1, 2, 3, 4), (0, 2, 4, 3, 1)) * -1
    r3new.babba += np.transpose(tmp936, (3, 2, 4, 1, 0)) * -1
    del tmp936
    r3new.babba += np.transpose(tmp985, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp986, (3, 2, 4, 1, 0)) * 2
    del tmp986
    r3new.babba += np.transpose(tmp903, (3, 2, 4, 1, 0))
    del tmp903
    r3new.babba += einsum(r1.b, (0,), ints.tmp1707, (1, 2, 3, 4, 5, 0), (4, 3, 5, 2, 1))
    r3new.babba += np.transpose(tmp987, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1225, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp985, (3, 2, 4, 1, 0)) * -1
    del tmp985
    r3new.babba += np.transpose(tmp987, (3, 2, 4, 1, 0)) * -1
    del tmp987
    r3new.babba += np.transpose(tmp988, (4, 2, 3, 1, 0)) * -1
    del tmp988
    r3new.babba += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp170, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp989, (3, 2, 4, 1, 0)) * -2
    del tmp989
    r3new.babba += np.transpose(tmp992, (3, 2, 4, 1, 0)) * 2
    del tmp992
    r3new.babba += np.transpose(tmp977, (4, 2, 3, 1, 0)) * -1
    r3new.babba += np.transpose(tmp990, (4, 2, 3, 1, 0)) * -2
    del tmp990
    r3new.babba += np.transpose(tmp993, (4, 2, 3, 1, 0)) * -1
    del tmp993
    r3new.babba += einsum(r1.b, (0,), ints.tmp873, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp878, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp995, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp996, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp873, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp995, (3, 2, 4, 1, 0)) * -2
    del tmp995
    r3new.babba += np.transpose(tmp996, (3, 2, 4, 1, 0)) * -1
    del tmp996
    r3new.babba += np.transpose(tmp998, (3, 2, 4, 1, 0)) * -2
    del tmp998
    r3new.babba += einsum(r1.b, (0,), ints.tmp245, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1173, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp787, (3, 2, 4, 1, 0)) * -2
    del tmp787
    r3new.babba += np.transpose(tmp994, (4, 2, 3, 1, 0)) * -1
    del tmp994
    r3new.babba += einsum(r1.b, (0,), ints.tmp170, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1125, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp977, (3, 2, 4, 1, 0))
    del tmp977
    r3new.babba += einsum(r1.b, (0,), ints.tmp1183, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp1001, (3, 2, 4, 1, 0)) * -2
    del tmp1001
    r3new.babba += np.transpose(tmp999, (4, 2, 3, 1, 0)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1183, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp867, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp999, (3, 2, 4, 1, 0)) * -2
    del tmp999
    r3new.babba += einsum(r1.b, (0,), ints.tmp1678, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp805, (3, 2, 4, 1, 0)) * 2
    del tmp805
    r3new.babba += np.transpose(tmp1002, (3, 2, 4, 1, 0))
    del tmp1002
    r3new.babba += np.transpose(tmp1108, (4, 2, 3, 1, 0)) * -1
    del tmp1108
    r3new.babba += einsum(r1.b, (0,), ints.tmp1163, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp1004, (4, 2, 3, 1, 0)) * 2
    del tmp1004
    r3new.babba += einsum(r1.b, (0,), ints.tmp1163, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1227, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp1006, (4, 2, 3, 1, 0)) * -1
    del tmp1006
    r3new.babba += np.transpose(tmp1007, (4, 2, 3, 1, 0)) * 2
    del tmp1007
    r3new.babba += np.transpose(tmp1012, (4, 2, 3, 1, 0))
    del tmp1012
    r3new.babba += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp1018, (4, 2, 3, 1, 0)) * -2
    del tmp1018
    r3new.babba += np.transpose(tmp1021, (4, 2, 3, 1, 0))
    del tmp1021
    r3new.babba += np.transpose(tmp1025, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.babba += np.transpose(tmp1015, (4, 2, 3, 1, 0)) * -2
    r3new.babba += einsum(r2.aba, (0, 1, 2), ints.tmp1709, (2, 3, 4, 5), (5, 0, 1, 4, 3)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1191, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp1014, (4, 2, 3, 1, 0))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1198, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.babba += np.transpose(tmp1015, (3, 2, 4, 1, 0)) * 2
    del tmp1015
    r3new.babba += np.transpose(tmp1016, (4, 2, 3, 1, 0)) * -1
    del tmp1016
    r3new.babba += np.transpose(tmp1017, (4, 2, 3, 1, 0))
    del tmp1017
    r3new.babba += einsum(r1.b, (0,), ints.tmp1191, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp1014, (3, 2, 4, 1, 0)) * -1
    del tmp1014
    r3new.babba += einsum(r1.b, (0,), ints.tmp1176, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp804, (3, 2, 4, 1, 0)) * -1
    del tmp804
    r3new.babba += np.transpose(tmp800, (4, 2, 3, 1, 0)) * -1
    del tmp800
    r3new.babba += np.transpose(tmp1025, (3, 2, 4, 1, 0)) * -1
    del tmp1025
    r3new.babba += einsum(r1.b, (0,), ints.tmp907, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp986, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp1027, (3, 2, 4, 1, 0)) * 2
    del tmp1027
    r3new.babba += einsum(r1.b, (0,), ints.tmp1209, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp976, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp1026, (3, 2, 4, 1, 0)) * -1
    del tmp1026
    r3new.babba += np.transpose(tmp1029, (3, 2, 4, 1, 0)) * -2
    del tmp1029
    r3new.babba += np.transpose(tmp1031, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp1031, (3, 2, 4, 1, 0)) * 2
    del tmp1031
    r3new.babba += np.transpose(tmp1034, (4, 2, 3, 1, 0)) * 2
    r3new.babba += np.transpose(tmp1034, (3, 2, 4, 1, 0)) * -2
    del tmp1034
    r3new.babba += np.transpose(tmp1038, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp1035, (4, 2, 3, 1, 0)) * 2
    del tmp1035
    r3new.babba += np.transpose(tmp1038, (4, 2, 3, 1, 0))
    del tmp1038
    r3new.babba += einsum(r1.b, (0,), ints.tmp960, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.babba += np.transpose(tmp1039, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp1040, (3, 2, 4, 1, 0)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp960, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.babba += np.transpose(tmp1039, (4, 2, 3, 1, 0)) * -2
    del tmp1039
    r3new.babba += np.transpose(tmp1040, (4, 2, 3, 1, 0)) * 2
    del tmp1040
    r3new.babba += einsum(r1.b, (0,), ints.tmp1041, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1085, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -2
    r3new.babba += np.transpose(tmp911, (4, 2, 3, 1, 0)) * -2
    del tmp911
    r3new.babba += np.transpose(tmp1042, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp1042, (3, 2, 4, 1, 0)) * 2
    del tmp1042
    r3new.babba += einsum(r1.b, (0,), ints.tmp1160, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp880, (4, 2, 3, 1, 0)) * 2
    del tmp880
    r3new.babba += einsum(r1.b, (0,), ints.tmp1252, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp876, (4, 2, 3, 1, 0)) * -1
    del tmp876
    r3new.babba += einsum(r1.b, (0,), ints.tmp1160, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1252, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1224, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * 2
    r3new.babba += np.transpose(tmp927, (3, 2, 4, 1, 0)) * -1
    del tmp927
    r3new.babba += np.transpose(tmp1072, (4, 2, 3, 1, 0)) * -2
    del tmp1072
    r3new.babba += np.transpose(tmp928, (4, 2, 3, 1, 0)) * 2
    del tmp928
    r3new.babba += np.transpose(tmp929, (4, 2, 3, 1, 0)) * 2
    del tmp929
    r3new.babba += np.transpose(tmp939, (4, 2, 3, 1, 0)) * -1
    del tmp939
    r3new.babba += np.transpose(tmp932, (4, 2, 3, 1, 0))
    del tmp932
    r3new.babba += np.transpose(tmp1043, (3, 2, 4, 1, 0)) * -1
    r3new.babba += np.transpose(tmp1045, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp1046, (4, 2, 3, 1, 0))
    r3new.babba += np.transpose(tmp1043, (3, 2, 4, 1, 0)) * -1
    del tmp1043
    r3new.babba += np.transpose(tmp1045, (3, 2, 4, 1, 0))
    del tmp1045
    r3new.babba += np.transpose(tmp1046, (4, 2, 3, 1, 0))
    del tmp1046
    r3new.babba += np.transpose(tmp1047, (4, 2, 3, 1, 0)) * -1
    del tmp1047
    r3new.babba += np.transpose(tmp1049, (4, 2, 3, 1, 0))
    del tmp1049
    r3new.babba += einsum(r1.b, (0,), ints.tmp1287, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp1054, (4, 2, 3, 1, 0)) * -2
    del tmp1054
    r3new.babba += np.transpose(tmp1058, (4, 2, 3, 1, 0))
    del tmp1058
    r3new.babba += einsum(r1.b, (0,), ints.tmp1606, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.babba += np.transpose(tmp1050, (3, 2, 4, 1, 0)) * 2
    r3new.babba += np.transpose(tmp1053, (4, 2, 3, 1, 0)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1606, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.babba += np.transpose(tmp1053, (3, 2, 4, 1, 0)) * 2
    del tmp1053
    r3new.babba += np.transpose(tmp1050, (4, 2, 3, 1, 0)) * -2
    del tmp1050
    r3new.babba += einsum(r1.b, (0,), ints.tmp1142, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1134, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += np.transpose(tmp1062, (3, 2, 4, 1, 0)) * 2
    del tmp1062
    r3new.babba += einsum(r1.b, (0,), ints.tmp1287, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1
    r3new.babba += einsum(r1.b, (0,), ints.tmp1121, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp1060, (3, 2, 4, 1, 0)) * -1
    del tmp1060
    r3new.babba += np.transpose(tmp1068, (3, 2, 4, 1, 0))
    r3new.babba += np.transpose(tmp1064, (4, 2, 3, 1, 0)) * -2
    del tmp1064
    r3new.babba += np.transpose(tmp1068, (4, 2, 3, 1, 0)) * -1
    del tmp1068
    r3new.babba += einsum(r1.b, (0,), ints.tmp1626, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * 2
    r3new.babba += np.transpose(tmp931, (4, 2, 3, 1, 0)) * -2
    del tmp931
    r3new.babba += einsum(t1.bb, (0, 1), tmp923, (2, 3, 0, 4, 5), (1, 4, 5, 3, 2)) * -1
    del tmp923
    r3new.babba += einsum(r1.b, (0,), ints.tmp1210, (1, 2, 3, 4), (4, 3, 0, 2, 1))
    r3new.babba += einsum(t1.bb, (0, 1), tmp945, (2, 3, 0, 4, 5), (1, 4, 5, 3, 2)) * -1
    del tmp945
    r3new.babba += einsum(r1.b, (0,), ints.tmp1172, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp964, (4, 2, 3, 1, 0)) * 2
    del tmp964
    r3new.babba += einsum(r1.b, (0,), ints.tmp1303, (1, 2, 3, 4), (4, 3, 0, 2, 1)) * -1
    r3new.babba += np.transpose(tmp955, (4, 2, 3, 1, 0)) * -1
    del tmp955
    r3new.babba += einsum(r1.b, (0,), ints.tmp1172, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += einsum(r1.b, (0,), ints.tmp1303, (1, 2, 3, 4), (0, 3, 4, 2, 1))
    r3new.babba += np.transpose(tmp1074, (4, 2, 3, 1, 0)) * -1
    del tmp1074
    r3new.babba += np.transpose(tmp1076, (4, 2, 3, 1, 0))
    del tmp1076
    r3new.babba += np.transpose(tmp1080, (4, 2, 3, 1, 0))
    r3new.babba += np.transpose(tmp1080, (3, 2, 4, 1, 0)) * -1
    del tmp1080
    r3new.babba += np.transpose(tmp1082, (4, 2, 3, 1, 0)) * -2
    r3new.babba += np.transpose(tmp1082, (3, 2, 4, 1, 0)) * 2
    del tmp1082
    r3new.babba += einsum(r1.b, (0,), ints.tmp1626, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -2
    r3new.babba += einsum(r1.b, (0,), ints.tmp1210, (1, 2, 3, 4), (0, 3, 4, 2, 1)) * -1

    return {"r1new": r1new, "r2new": r2new, "r3new": r3new}

