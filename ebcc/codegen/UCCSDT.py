# Code generated by qwick.

import numpy as np
from ebcc.util import pack_2e, einsum, Namespace

def energy(f=None, v=None, nocc=None, nvir=None, t1=None, t2=None, t3=None, **kwargs):
    # energy
    e_cc = 0.0
    e_cc += np.einsum("ia,ia->", f.aa.ov, t1.aa)
    e_cc += np.einsum("ia,ia->", f.bb.ov, t1.bb)
    e_cc += np.einsum("ijab,iajb->", t2.abab, v.aabb.ovov)
    e_cc += np.einsum("ijab,iajb->", t2.aaaa, v.aaaa.ovov) * 0.5
    e_cc += np.einsum("ijab,iajb->", t2.bbbb, v.bbbb.ovov) * 0.5
    e_cc += np.einsum("ijab,ibja->", t2.aaaa, v.aaaa.ovov) * -0.5
    e_cc += np.einsum("ijab,ibja->", t2.bbbb, v.bbbb.ovov) * -0.5
    e_cc += np.einsum("ia,jb,iajb->", t1.aa, t1.aa, v.aaaa.ovov) * 0.5
    e_cc += np.einsum("ia,jb,ibja->", t1.aa, t1.aa, v.aaaa.ovov) * -0.5
    e_cc += np.einsum("ia,jb,iajb->", t1.aa, t1.bb, v.aabb.ovov)
    e_cc += np.einsum("ia,jb,iajb->", t1.bb, t1.bb, v.bbbb.ovov) * 0.5
    e_cc += np.einsum("ia,jb,ibja->", t1.bb, t1.bb, v.bbbb.ovov) * -0.5

    return e_cc

def update_amps(f=None, v=None, nocc=None, nvir=None, t1=None, t2=None, t3=None, **kwargs):
    t1new = Namespace()
    t2new = Namespace()
    t3new = Namespace()

    # T1 amplitudes
    t1new_aa = np.zeros((nocc[0], nvir[0]), dtype=np.float64)
    t1new_aa += np.einsum("ia->ia", f.aa.ov)
    t1new_aa += np.einsum("ij,ja->ia", f.aa.oo, t1.aa) * -1.0
    t1new_aa += np.einsum("ab,ib->ia", f.aa.vv, t1.aa)
    t1new_aa += np.einsum("jb,ijab->ia", f.bb.ov, t2.abab)
    t1new_aa += np.einsum("jb,ijab->ia", f.aa.ov, t2.aaaa) * 2.0
    t1new_aa += np.einsum("jb,ijab->ia", t1.aa, v.aaaa.oovv) * -1.0
    t1new_aa += np.einsum("jb,iajb->ia", t1.aa, v.aaaa.ovov)
    t1new_aa += np.einsum("jb,iajb->ia", t1.bb, v.aabb.ovov)
    t1new_aa += np.einsum("jkab,ijkb->ia", t2.abab, v.aabb.ooov) * -1.0
    t1new_aa += np.einsum("ijbc,jcab->ia", t2.abab, v.bbaa.ovvv)
    t1new_aa += np.einsum("jkab,ijkb->ia", t2.aaaa, v.aaaa.ooov) * -1.0
    t1new_aa += np.einsum("jkab,ikjb->ia", t2.aaaa, v.aaaa.ooov)
    t1new_aa += np.einsum("ijbc,jbac->ia", t2.aaaa, v.aaaa.ovvv) * -1.0
    t1new_aa += np.einsum("ijbc,jcab->ia", t2.aaaa, v.aaaa.ovvv)
    t1new_aa += np.einsum("jbkc,ijkabc->ia", v.bbaa.ovov, t3.abaaba)
    t1new_aa += np.einsum("jbkc,ikjacb->ia", v.aabb.ovov, t3.abaaba)
    t1new_aa += np.einsum("jbkc,ijkabc->ia", v.aaaa.ovov, t3.aaaaaa) * 3.0
    t1new_aa += np.einsum("jbkc,ijkabc->ia", v.bbbb.ovov, t3.abbabb)
    t1new_aa += np.einsum("jb,ib,ja->ia", f.aa.ov, t1.aa, t1.aa) * -1.0
    t1new_aa += np.einsum("jb,ka,ijkb->ia", t1.aa, t1.aa, v.aaaa.ooov)
    t1new_aa += np.einsum("jb,ka,ikjb->ia", t1.aa, t1.aa, v.aaaa.ooov) * -1.0
    t1new_aa += np.einsum("ib,jc,jbac->ia", t1.aa, t1.aa, v.aaaa.ovvv) * -1.0
    t1new_aa += np.einsum("ib,jc,jcab->ia", t1.aa, t1.aa, v.aaaa.ovvv)
    t1new_aa += np.einsum("ja,kb,ijkb->ia", t1.aa, t1.bb, v.aabb.ooov) * -1.0
    t1new_aa += np.einsum("ib,jc,jcab->ia", t1.aa, t1.bb, v.bbaa.ovvv)
    t1new_aa += np.einsum("ib,jkac,jbkc->ia", t1.aa, t2.abab, v.aabb.ovov) * -1.0
    t1new_aa += np.einsum("ja,ikbc,jbkc->ia", t1.aa, t2.abab, v.aabb.ovov) * -1.0
    t1new_aa += np.einsum("jb,ikac,jbkc->ia", t1.aa, t2.abab, v.aabb.ovov)
    t1new_aa += np.einsum("ib,jkac,jbkc->ia", t1.aa, t2.aaaa, v.aaaa.ovov) * -1.0
    t1new_aa += np.einsum("ib,jkac,jckb->ia", t1.aa, t2.aaaa, v.aaaa.ovov)
    t1new_aa += np.einsum("ja,ikbc,jbkc->ia", t1.aa, t2.aaaa, v.aaaa.ovov) * -1.0
    t1new_aa += np.einsum("ja,ikbc,jckb->ia", t1.aa, t2.aaaa, v.aaaa.ovov)
    t1new_aa += np.einsum("jb,ikac,jbkc->ia", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t1new_aa += np.einsum("jb,ikac,jckb->ia", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t1new_aa += np.einsum("jb,ikac,jbkc->ia", t1.bb, t2.abab, v.bbbb.ovov)
    t1new_aa += np.einsum("jb,ikac,jckb->ia", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t1new_aa += np.einsum("jb,ikac,jbkc->ia", t1.bb, t2.aaaa, v.bbaa.ovov) * 2.0
    t1new_aa += np.einsum("ib,jc,ka,jbkc->ia", t1.aa, t1.aa, t1.aa, v.aaaa.ovov)
    t1new_aa += np.einsum("ib,jc,ka,jckb->ia", t1.aa, t1.aa, t1.aa, v.aaaa.ovov) * -1.0
    t1new_aa += np.einsum("ib,ja,kc,jbkc->ia", t1.aa, t1.aa, t1.bb, v.aabb.ovov) * -1.0

    # T1 amplitudes
    t1new_bb = np.zeros((nocc[1], nvir[1]), dtype=np.float64)
    t1new_bb += np.einsum("ia->ia", f.bb.ov)
    t1new_bb += np.einsum("ij,ja->ia", f.bb.oo, t1.bb) * -1.0
    t1new_bb += np.einsum("ab,ib->ia", f.bb.vv, t1.bb)
    t1new_bb += np.einsum("jb,jiba->ia", f.aa.ov, t2.abab)
    t1new_bb += np.einsum("jb,ijab->ia", f.bb.ov, t2.bbbb) * 2.0
    t1new_bb += np.einsum("jb,iajb->ia", t1.aa, v.bbaa.ovov)
    t1new_bb += np.einsum("jb,ijab->ia", t1.bb, v.bbbb.oovv) * -1.0
    t1new_bb += np.einsum("jb,iajb->ia", t1.bb, v.bbbb.ovov)
    t1new_bb += np.einsum("jkba,ikjb->ia", t2.abab, v.bbaa.ooov) * -1.0
    t1new_bb += np.einsum("jibc,jbac->ia", t2.abab, v.aabb.ovvv)
    t1new_bb += np.einsum("jkab,ijkb->ia", t2.bbbb, v.bbbb.ooov) * -1.0
    t1new_bb += np.einsum("jkab,ikjb->ia", t2.bbbb, v.bbbb.ooov)
    t1new_bb += np.einsum("ijbc,jbac->ia", t2.bbbb, v.bbbb.ovvv) * -1.0
    t1new_bb += np.einsum("ijbc,jcab->ia", t2.bbbb, v.bbbb.ovvv)
    t1new_bb += np.einsum("jbkc,jikbac->ia", v.aaaa.ovov, t3.abaaba)
    t1new_bb += np.einsum("jbkc,ijkabc->ia", v.aabb.ovov, t3.babbab)
    t1new_bb += np.einsum("jbkc,ijkabc->ia", v.bbaa.ovov, t3.bbabba)
    t1new_bb += np.einsum("jbkc,ijkabc->ia", v.bbbb.ovov, t3.bbbbbb) * 3.0
    t1new_bb += np.einsum("jb,ib,ja->ia", f.bb.ov, t1.bb, t1.bb) * -1.0
    t1new_bb += np.einsum("jb,ka,ikjb->ia", t1.aa, t1.bb, v.bbaa.ooov) * -1.0
    t1new_bb += np.einsum("jb,ic,jbac->ia", t1.aa, t1.bb, v.aabb.ovvv)
    t1new_bb += np.einsum("jb,ka,ijkb->ia", t1.bb, t1.bb, v.bbbb.ooov)
    t1new_bb += np.einsum("jb,ka,ikjb->ia", t1.bb, t1.bb, v.bbbb.ooov) * -1.0
    t1new_bb += np.einsum("ib,jc,jbac->ia", t1.bb, t1.bb, v.bbbb.ovvv) * -1.0
    t1new_bb += np.einsum("ib,jc,jcab->ia", t1.bb, t1.bb, v.bbbb.ovvv)
    t1new_bb += np.einsum("jb,kica,jbkc->ia", t1.aa, t2.abab, v.aaaa.ovov)
    t1new_bb += np.einsum("jb,kica,jckb->ia", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t1new_bb += np.einsum("jb,ikac,jbkc->ia", t1.aa, t2.bbbb, v.aabb.ovov) * 2.0
    t1new_bb += np.einsum("ib,jkca,jckb->ia", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t1new_bb += np.einsum("ja,kibc,jckb->ia", t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t1new_bb += np.einsum("jb,kica,jbkc->ia", t1.bb, t2.abab, v.bbaa.ovov)
    t1new_bb += np.einsum("ib,jkac,jbkc->ia", t1.bb, t2.bbbb, v.bbbb.ovov) * -1.0
    t1new_bb += np.einsum("ib,jkac,jckb->ia", t1.bb, t2.bbbb, v.bbbb.ovov)
    t1new_bb += np.einsum("ja,ikbc,jbkc->ia", t1.bb, t2.bbbb, v.bbbb.ovov) * -1.0
    t1new_bb += np.einsum("ja,ikbc,jckb->ia", t1.bb, t2.bbbb, v.bbbb.ovov)
    t1new_bb += np.einsum("jb,ikac,jbkc->ia", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t1new_bb += np.einsum("jb,ikac,jckb->ia", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t1new_bb += np.einsum("jb,ic,ka,jbkc->ia", t1.aa, t1.bb, t1.bb, v.aabb.ovov) * -1.0
    t1new_bb += np.einsum("ib,jc,ka,jbkc->ia", t1.bb, t1.bb, t1.bb, v.bbbb.ovov)
    t1new_bb += np.einsum("ib,jc,ka,jckb->ia", t1.bb, t1.bb, t1.bb, v.bbbb.ovov) * -1.0

    # T2 amplitudes
    t2new_aaaa = np.zeros((nocc[0], nocc[0], nvir[0], nvir[0]), dtype=np.float64)
    t2new_aaaa += np.einsum("iajb->ijab", v.aaaa.ovov)
    t2new_aaaa += np.einsum("ibja->ijab", v.aaaa.ovov) * -1.0
    t2new_aaaa += np.einsum("ik,jkab->ijab", f.aa.oo, t2.aaaa) * 2.0
    t2new_aaaa += np.einsum("jk,ikab->ijab", f.aa.oo, t2.aaaa) * -2.0
    t2new_aaaa += np.einsum("ac,ijbc->ijab", f.aa.vv, t2.aaaa) * -2.0
    t2new_aaaa += np.einsum("bc,ijac->ijab", f.aa.vv, t2.aaaa) * 2.0
    t2new_aaaa += np.einsum("ka,ikjb->ijab", t1.aa, v.aaaa.ooov) * -1.0
    t2new_aaaa += np.einsum("ka,jkib->ijab", t1.aa, v.aaaa.ooov)
    t2new_aaaa += np.einsum("kb,ikja->ijab", t1.aa, v.aaaa.ooov)
    t2new_aaaa += np.einsum("kb,jkia->ijab", t1.aa, v.aaaa.ooov) * -1.0
    t2new_aaaa += np.einsum("ic,jabc->ijab", t1.aa, v.aaaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("ic,jbac->ijab", t1.aa, v.aaaa.ovvv)
    t2new_aaaa += np.einsum("jc,iabc->ijab", t1.aa, v.aaaa.ovvv)
    t2new_aaaa += np.einsum("jc,ibac->ijab", t1.aa, v.aaaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("kc,ikjacb->ijab", f.bb.ov, t3.abaaba) * 2.0
    t2new_aaaa += np.einsum("kc,ijkabc->ijab", f.aa.ov, t3.aaaaaa) * 6.0
    t2new_aaaa += np.einsum("ikbc,jakc->ijab", t2.abab, v.aabb.ovov) * -1.0
    t2new_aaaa += np.einsum("ikac,jbkc->ijab", t2.abab, v.aabb.ovov)
    t2new_aaaa += np.einsum("jkbc,iakc->ijab", t2.abab, v.aabb.ovov)
    t2new_aaaa += np.einsum("jkac,ibkc->ijab", t2.abab, v.aabb.ovov) * -1.0
    t2new_aaaa += np.einsum("klab,ikjl->ijab", t2.aaaa, v.aaaa.oooo)
    t2new_aaaa += np.einsum("klab,iljk->ijab", t2.aaaa, v.aaaa.oooo) * -1.0
    t2new_aaaa += np.einsum("ikac,jkbc->ijab", t2.aaaa, v.aaaa.oovv) * -2.0
    t2new_aaaa += np.einsum("ikbc,jkac->ijab", t2.aaaa, v.aaaa.oovv) * 2.0
    t2new_aaaa += np.einsum("jkac,ikbc->ijab", t2.aaaa, v.aaaa.oovv) * 2.0
    t2new_aaaa += np.einsum("jkbc,ikac->ijab", t2.aaaa, v.aaaa.oovv) * -2.0
    t2new_aaaa += np.einsum("ikbc,jakc->ijab", t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ikac,jbkc->ijab", t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jkbc,iakc->ijab", t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jkac,ibkc->ijab", t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ijcd,acbd->ijab", t2.aaaa, v.aaaa.vvvv)
    t2new_aaaa += np.einsum("ijcd,adbc->ijab", t2.aaaa, v.aaaa.vvvv) * -1.0
    t2new_aaaa += np.einsum("iklc,jlkacb->ijab", v.aabb.ooov, t3.abaaba) * 2.0
    t2new_aaaa += np.einsum("jklc,ilkacb->ijab", v.aabb.ooov, t3.abaaba) * -2.0
    t2new_aaaa += np.einsum("kcad,ikjbcd->ijab", v.bbaa.ovvv, t3.abaaba) * -2.0
    t2new_aaaa += np.einsum("kcbd,ikjacd->ijab", v.bbaa.ovvv, t3.abaaba) * 2.0
    t2new_aaaa += np.einsum("iklc,jklabc->ijab", v.aaaa.ooov, t3.aaaaaa) * 6.0
    t2new_aaaa += np.einsum("jklc,iklabc->ijab", v.aaaa.ooov, t3.aaaaaa) * -6.0
    t2new_aaaa += np.einsum("kcad,ijkbcd->ijab", v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t2new_aaaa += np.einsum("kcbd,ijkacd->ijab", v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t2new_aaaa += np.einsum("kc,ic,jkab->ijab", f.aa.ov, t1.aa, t2.aaaa) * 2.0
    t2new_aaaa += np.einsum("kc,jc,ikab->ijab", f.aa.ov, t1.aa, t2.aaaa) * -2.0
    t2new_aaaa += np.einsum("kc,ka,ijbc->ijab", f.aa.ov, t1.aa, t2.aaaa) * 2.0
    t2new_aaaa += np.einsum("kc,kb,ijac->ijab", f.aa.ov, t1.aa, t2.aaaa) * -2.0
    t2new_aaaa += np.einsum("ic,ka,jkbc->ijab", t1.aa, t1.aa, v.aaaa.oovv)
    t2new_aaaa += np.einsum("ic,kb,jkac->ijab", t1.aa, t1.aa, v.aaaa.oovv) * -1.0
    t2new_aaaa += np.einsum("jc,ka,ikbc->ijab", t1.aa, t1.aa, v.aaaa.oovv) * -1.0
    t2new_aaaa += np.einsum("jc,kb,ikac->ijab", t1.aa, t1.aa, v.aaaa.oovv)
    t2new_aaaa += np.einsum("ka,lb,ikjl->ijab", t1.aa, t1.aa, v.aaaa.oooo)
    t2new_aaaa += np.einsum("ka,lb,iljk->ijab", t1.aa, t1.aa, v.aaaa.oooo) * -1.0
    t2new_aaaa += np.einsum("ic,ka,jbkc->ijab", t1.aa, t1.aa, v.aaaa.ovov) * -1.0
    t2new_aaaa += np.einsum("ic,kb,jakc->ijab", t1.aa, t1.aa, v.aaaa.ovov)
    t2new_aaaa += np.einsum("jc,ka,ibkc->ijab", t1.aa, t1.aa, v.aaaa.ovov)
    t2new_aaaa += np.einsum("jc,kb,iakc->ijab", t1.aa, t1.aa, v.aaaa.ovov) * -1.0
    t2new_aaaa += np.einsum("ic,jd,acbd->ijab", t1.aa, t1.aa, v.aaaa.vvvv)
    t2new_aaaa += np.einsum("ic,jd,adbc->ijab", t1.aa, t1.aa, v.aaaa.vvvv) * -1.0
    t2new_aaaa += np.einsum("ka,ilbc,jklc->ijab", t1.aa, t2.abab, v.aabb.ooov)
    t2new_aaaa += np.einsum("ka,jlbc,iklc->ijab", t1.aa, t2.abab, v.aabb.ooov) * -1.0
    t2new_aaaa += np.einsum("kb,ilac,jklc->ijab", t1.aa, t2.abab, v.aabb.ooov) * -1.0
    t2new_aaaa += np.einsum("kb,jlac,iklc->ijab", t1.aa, t2.abab, v.aabb.ooov)
    t2new_aaaa += np.einsum("ic,jkad,kdbc->ijab", t1.aa, t2.abab, v.bbaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("ic,jkbd,kdac->ijab", t1.aa, t2.abab, v.bbaa.ovvv)
    t2new_aaaa += np.einsum("jc,ikad,kdbc->ijab", t1.aa, t2.abab, v.bbaa.ovvv)
    t2new_aaaa += np.einsum("jc,ikbd,kdac->ijab", t1.aa, t2.abab, v.bbaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("ic,klab,jklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -1.0
    t2new_aaaa += np.einsum("ic,klab,jlkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov)
    t2new_aaaa += np.einsum("jc,klab,iklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov)
    t2new_aaaa += np.einsum("jc,klab,ilkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -1.0
    t2new_aaaa += np.einsum("ka,ilbc,jklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t2new_aaaa += np.einsum("ka,ilbc,jlkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t2new_aaaa += np.einsum("ka,jlbc,iklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t2new_aaaa += np.einsum("ka,jlbc,ilkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t2new_aaaa += np.einsum("kb,ilac,jklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t2new_aaaa += np.einsum("kb,ilac,jlkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t2new_aaaa += np.einsum("kb,jlac,iklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t2new_aaaa += np.einsum("kb,jlac,ilkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t2new_aaaa += np.einsum("kc,ilab,jklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t2new_aaaa += np.einsum("kc,ilab,jlkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t2new_aaaa += np.einsum("kc,jlab,iklc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t2new_aaaa += np.einsum("kc,jlab,ilkc->ijab", t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t2new_aaaa += np.einsum("ic,jkad,kcbd->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("ic,jkbd,kcad->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("ic,jkad,kdbc->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("ic,jkbd,kdac->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("jc,ikad,kcbd->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("jc,ikbd,kcad->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("jc,ikad,kdbc->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("jc,ikbd,kdac->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("ka,ijcd,kcbd->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("ka,ijcd,kdbc->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv)
    t2new_aaaa += np.einsum("kb,ijcd,kcad->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv)
    t2new_aaaa += np.einsum("kb,ijcd,kdac->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("kc,ijad,kcbd->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("kc,ijbd,kcad->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("kc,ijad,kdbc->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("kc,ijbd,kdac->ijab", t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("kc,ilab,jlkc->ijab", t1.bb, t2.aaaa, v.aabb.ooov) * -2.0
    t2new_aaaa += np.einsum("kc,jlab,ilkc->ijab", t1.bb, t2.aaaa, v.aabb.ooov) * 2.0
    t2new_aaaa += np.einsum("kc,ijad,kcbd->ijab", t1.bb, t2.aaaa, v.bbaa.ovvv) * 2.0
    t2new_aaaa += np.einsum("kc,ijbd,kcad->ijab", t1.bb, t2.aaaa, v.bbaa.ovvv) * -2.0
    t2new_aaaa += np.einsum("ic,kcld,jlkadb->ijab", t1.aa, v.aabb.ovov, t3.abaaba)
    t2new_aaaa += np.einsum("ic,kdlc,jkladb->ijab", t1.aa, v.bbaa.ovov, t3.abaaba)
    t2new_aaaa += np.einsum("jc,kcld,ilkadb->ijab", t1.aa, v.aabb.ovov, t3.abaaba) * -1.0
    t2new_aaaa += np.einsum("jc,kdlc,ikladb->ijab", t1.aa, v.bbaa.ovov, t3.abaaba) * -1.0
    t2new_aaaa += np.einsum("ka,kcld,iljbdc->ijab", t1.aa, v.aabb.ovov, t3.abaaba) * 2.0
    t2new_aaaa += np.einsum("kb,kcld,iljadc->ijab", t1.aa, v.aabb.ovov, t3.abaaba) * -2.0
    t2new_aaaa += np.einsum("kc,kcld,iljadb->ijab", t1.aa, v.aabb.ovov, t3.abaaba) * 2.0
    t2new_aaaa += np.einsum("ic,kcld,jklabd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t2new_aaaa += np.einsum("ic,kdlc,jklabd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t2new_aaaa += np.einsum("jc,kcld,iklabd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t2new_aaaa += np.einsum("jc,kdlc,iklabd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t2new_aaaa += np.einsum("ka,kcld,ijlbcd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t2new_aaaa += np.einsum("kb,kcld,ijlacd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t2new_aaaa += np.einsum("kc,kcld,ijlabd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t2new_aaaa += np.einsum("kc,kdlc,ijlabd->ijab", t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t2new_aaaa += np.einsum("kc,kcld,iljadb->ijab", t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t2new_aaaa += np.einsum("kc,kdlc,iljadb->ijab", t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t2new_aaaa += np.einsum("kc,kcld,ijlabd->ijab", t1.bb, v.bbaa.ovov, t3.aaaaaa) * 6.0
    t2new_aaaa += np.einsum("ikac,jlbd,kcld->ijab", t2.abab, t2.abab, v.bbbb.ovov)
    t2new_aaaa += np.einsum("ikbc,jlad,kcld->ijab", t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t2new_aaaa += np.einsum("ikac,jlbd,kdlc->ijab", t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t2new_aaaa += np.einsum("ikbc,jlad,kdlc->ijab", t2.abab, t2.abab, v.bbbb.ovov)
    t2new_aaaa += np.einsum("ikac,jlbd,kcld->ijab", t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ikbc,jlad,kcld->ijab", t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ikcd,jlab,kdlc->ijab", t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jkac,ilbd,kcld->ijab", t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t2new_aaaa += np.einsum("jkbc,ilad,kcld->ijab", t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jkcd,ilab,kdlc->ijab", t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t2new_aaaa += np.einsum("klac,ijbd,kdlc->ijab", t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t2new_aaaa += np.einsum("klbc,ijad,kdlc->ijab", t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t2new_aaaa += np.einsum("ikac,jlbd,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t2new_aaaa += np.einsum("ikab,jlcd,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ikbc,jlad,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t2new_aaaa += np.einsum("ikcd,jlab,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ikac,jlbd,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t2new_aaaa += np.einsum("ikab,jlcd,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ikbc,jlad,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t2new_aaaa += np.einsum("ikcd,jlab,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ijac,klbd,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ijbc,klad,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ijcd,klab,kcld->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov)
    t2new_aaaa += np.einsum("ijac,klbd,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ijbc,klad,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ijcd,klab,kdlc->ijab", t2.aaaa, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_aaaa += np.einsum("ic,ka,lb,jklc->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ooov) * -1.0
    t2new_aaaa += np.einsum("ic,ka,lb,jlkc->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ooov)
    t2new_aaaa += np.einsum("jc,ka,lb,iklc->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ooov)
    t2new_aaaa += np.einsum("jc,ka,lb,ilkc->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ooov) * -1.0
    t2new_aaaa += np.einsum("ic,jd,ka,kcbd->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("ic,jd,ka,kdbc->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ovvv)
    t2new_aaaa += np.einsum("ic,jd,kb,kcad->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ovvv)
    t2new_aaaa += np.einsum("ic,jd,kb,kdac->ijab", t1.aa, t1.aa, t1.aa, v.aaaa.ovvv) * -1.0
    t2new_aaaa += np.einsum("ic,ka,jlbd,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aabb.ovov) * -1.0
    t2new_aaaa += np.einsum("ic,kb,jlad,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aabb.ovov)
    t2new_aaaa += np.einsum("jc,ka,ilbd,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aabb.ovov)
    t2new_aaaa += np.einsum("jc,kb,ilad,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aabb.ovov) * -1.0
    t2new_aaaa += np.einsum("ic,jd,klab,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov)
    t2new_aaaa += np.einsum("ic,jd,klab,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_aaaa += np.einsum("ic,ka,jlbd,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ic,ka,jlbd,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ic,kb,jlad,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ic,kb,jlad,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ic,kd,jlab,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ic,kd,jlab,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jc,ka,ilbd,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jc,ka,ilbd,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("jc,kb,ilad,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("jc,kb,ilad,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jc,kd,ilab,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jc,kd,ilab,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ka,lb,ijcd,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov)
    t2new_aaaa += np.einsum("ka,lb,ijcd,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_aaaa += np.einsum("kc,la,ijbd,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("kc,la,ijbd,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("kc,lb,ijad,kcld->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_aaaa += np.einsum("kc,lb,ijad,kdlc->ijab", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_aaaa += np.einsum("ic,kd,jlab,kdlc->ijab", t1.aa, t1.bb, t2.aaaa, v.bbaa.ovov) * 2.0
    t2new_aaaa += np.einsum("jc,kd,ilab,kdlc->ijab", t1.aa, t1.bb, t2.aaaa, v.bbaa.ovov) * -2.0
    t2new_aaaa += np.einsum("ka,lc,ijbd,kdlc->ijab", t1.aa, t1.bb, t2.aaaa, v.aabb.ovov) * 2.0
    t2new_aaaa += np.einsum("kb,lc,ijad,kdlc->ijab", t1.aa, t1.bb, t2.aaaa, v.aabb.ovov) * -2.0
    t2new_aaaa += np.einsum("ic,jd,ka,lb,kcld->ijab", t1.aa, t1.aa, t1.aa, t1.aa, v.aaaa.ovov)
    t2new_aaaa += np.einsum("ic,jd,ka,lb,kdlc->ijab", t1.aa, t1.aa, t1.aa, t1.aa, v.aaaa.ovov) * -1.0

    # T2 amplitudes
    t2new_abab = np.zeros((nocc[0], nocc[1], nvir[0], nvir[1]), dtype=np.float64)
    t2new_abab += np.einsum("iajb->ijab", v.aabb.ovov)
    t2new_abab += np.einsum("ik,kjab->ijab", f.aa.oo, t2.abab) * -1.0
    t2new_abab += np.einsum("jk,ikab->ijab", f.bb.oo, t2.abab) * -1.0
    t2new_abab += np.einsum("ac,ijcb->ijab", f.aa.vv, t2.abab)
    t2new_abab += np.einsum("bc,ijac->ijab", f.bb.vv, t2.abab)
    t2new_abab += np.einsum("ka,ikjb->ijab", t1.aa, v.aabb.ooov) * -1.0
    t2new_abab += np.einsum("ic,jbac->ijab", t1.aa, v.bbaa.ovvv)
    t2new_abab += np.einsum("kb,jkia->ijab", t1.bb, v.bbaa.ooov) * -1.0
    t2new_abab += np.einsum("jc,iabc->ijab", t1.bb, v.aabb.ovvv)
    t2new_abab += np.einsum("kc,ijkabc->ijab", f.aa.ov, t3.abaaba) * 2.0
    t2new_abab += np.einsum("kc,ijkabc->ijab", f.bb.ov, t3.abbabb) * 2.0
    t2new_abab += np.einsum("klab,ikjl->ijab", t2.abab, v.aabb.oooo)
    t2new_abab += np.einsum("ikac,jkbc->ijab", t2.abab, v.bbbb.oovv) * -1.0
    t2new_abab += np.einsum("ikcb,jkac->ijab", t2.abab, v.bbaa.oovv) * -1.0
    t2new_abab += np.einsum("kjac,ikbc->ijab", t2.abab, v.aabb.oovv) * -1.0
    t2new_abab += np.einsum("kjcb,ikac->ijab", t2.abab, v.aaaa.oovv) * -1.0
    t2new_abab += np.einsum("ikac,jbkc->ijab", t2.abab, v.bbbb.ovov)
    t2new_abab += np.einsum("kjcb,iakc->ijab", t2.abab, v.aaaa.ovov)
    t2new_abab += np.einsum("ijcd,acbd->ijab", t2.abab, v.aabb.vvvv)
    t2new_abab += np.einsum("ikac,jbkc->ijab", t2.aaaa, v.bbaa.ovov) * 2.0
    t2new_abab += np.einsum("jkbc,iakc->ijab", t2.bbbb, v.aabb.ovov) * 2.0
    t2new_abab += np.einsum("iklc,kjlabc->ijab", v.aaaa.ooov, t3.abaaba) * -2.0
    t2new_abab += np.einsum("jklc,iklabc->ijab", v.bbaa.ooov, t3.abaaba) * -2.0
    t2new_abab += np.einsum("kcad,ijkcbd->ijab", v.aaaa.ovvv, t3.abaaba) * -2.0
    t2new_abab += np.einsum("kcbd,ijkadc->ijab", v.aabb.ovvv, t3.abaaba) * 2.0
    t2new_abab += np.einsum("iklc,jklbac->ijab", v.aabb.ooov, t3.babbab) * -2.0
    t2new_abab += np.einsum("jklc,iklabc->ijab", v.bbbb.ooov, t3.abbabb) * -2.0
    t2new_abab += np.einsum("kcad,ijkdbc->ijab", v.bbaa.ovvv, t3.abbabb) * 2.0
    t2new_abab += np.einsum("kcbd,ijkacd->ijab", v.bbbb.ovvv, t3.abbabb) * -2.0
    t2new_abab += np.einsum("kc,ic,kjab->ijab", f.aa.ov, t1.aa, t2.abab) * -1.0
    t2new_abab += np.einsum("kc,ka,ijcb->ijab", f.aa.ov, t1.aa, t2.abab) * -1.0
    t2new_abab += np.einsum("kc,jc,ikab->ijab", f.bb.ov, t1.bb, t2.abab) * -1.0
    t2new_abab += np.einsum("kc,kb,ijac->ijab", f.bb.ov, t1.bb, t2.abab) * -1.0
    t2new_abab += np.einsum("ic,ka,jbkc->ijab", t1.aa, t1.aa, v.bbaa.ovov) * -1.0
    t2new_abab += np.einsum("ic,kb,jkac->ijab", t1.aa, t1.bb, v.bbaa.oovv) * -1.0
    t2new_abab += np.einsum("ka,jc,ikbc->ijab", t1.aa, t1.bb, v.aabb.oovv) * -1.0
    t2new_abab += np.einsum("ka,lb,ikjl->ijab", t1.aa, t1.bb, v.aabb.oooo)
    t2new_abab += np.einsum("ic,jd,acbd->ijab", t1.aa, t1.bb, v.aabb.vvvv)
    t2new_abab += np.einsum("jc,kb,iakc->ijab", t1.bb, t1.bb, v.aabb.ovov) * -1.0
    t2new_abab += np.einsum("ic,klab,jlkc->ijab", t1.aa, t2.abab, v.bbaa.ooov)
    t2new_abab += np.einsum("ka,ilcb,jlkc->ijab", t1.aa, t2.abab, v.bbaa.ooov)
    t2new_abab += np.einsum("ka,ljcb,iklc->ijab", t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t2new_abab += np.einsum("ka,ljcb,ilkc->ijab", t1.aa, t2.abab, v.aaaa.ooov)
    t2new_abab += np.einsum("kc,ilab,jlkc->ijab", t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t2new_abab += np.einsum("kc,ljab,iklc->ijab", t1.aa, t2.abab, v.aaaa.ooov)
    t2new_abab += np.einsum("kc,ljab,ilkc->ijab", t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t2new_abab += np.einsum("ic,kjad,kcbd->ijab", t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t2new_abab += np.einsum("ic,kjdb,kcad->ijab", t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t2new_abab += np.einsum("ic,kjdb,kdac->ijab", t1.aa, t2.abab, v.aaaa.ovvv)
    t2new_abab += np.einsum("ka,ijcd,kcbd->ijab", t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t2new_abab += np.einsum("kc,ijad,kcbd->ijab", t1.aa, t2.abab, v.aabb.ovvv)
    t2new_abab += np.einsum("kc,ijdb,kcad->ijab", t1.aa, t2.abab, v.aaaa.ovvv)
    t2new_abab += np.einsum("kc,ijdb,kdac->ijab", t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t2new_abab += np.einsum("ka,jlbc,iklc->ijab", t1.aa, t2.bbbb, v.aabb.ooov) * -2.0
    t2new_abab += np.einsum("ic,jkbd,kdac->ijab", t1.aa, t2.bbbb, v.bbaa.ovvv) * 2.0
    t2new_abab += np.einsum("jc,klab,iklc->ijab", t1.bb, t2.abab, v.aabb.ooov)
    t2new_abab += np.einsum("kb,ilac,jklc->ijab", t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t2new_abab += np.einsum("kb,ilac,jlkc->ijab", t1.bb, t2.abab, v.bbbb.ooov)
    t2new_abab += np.einsum("kb,ljac,ilkc->ijab", t1.bb, t2.abab, v.aabb.ooov)
    t2new_abab += np.einsum("kc,ilab,jklc->ijab", t1.bb, t2.abab, v.bbbb.ooov)
    t2new_abab += np.einsum("kc,ilab,jlkc->ijab", t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t2new_abab += np.einsum("kc,ljab,ilkc->ijab", t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t2new_abab += np.einsum("jc,ikad,kcbd->ijab", t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t2new_abab += np.einsum("jc,ikdb,kcad->ijab", t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t2new_abab += np.einsum("jc,ikad,kdbc->ijab", t1.bb, t2.abab, v.bbbb.ovvv)
    t2new_abab += np.einsum("kb,ijcd,kdac->ijab", t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t2new_abab += np.einsum("kc,ijad,kcbd->ijab", t1.bb, t2.abab, v.bbbb.ovvv)
    t2new_abab += np.einsum("kc,ijdb,kcad->ijab", t1.bb, t2.abab, v.bbaa.ovvv)
    t2new_abab += np.einsum("kc,ijad,kdbc->ijab", t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t2new_abab += np.einsum("kb,ilac,jklc->ijab", t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t2new_abab += np.einsum("jc,ikad,kdbc->ijab", t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t2new_abab += np.einsum("ic,kcld,kjlabd->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * -1.0
    t2new_abab += np.einsum("ic,kdlc,kjlabd->ijab", t1.aa, v.aaaa.ovov, t3.abaaba)
    t2new_abab += np.einsum("ka,kcld,ijlcbd->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t2new_abab += np.einsum("kc,kcld,ijlabd->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t2new_abab += np.einsum("kc,kdlc,ijlabd->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t2new_abab += np.einsum("ic,kcld,jklbad->ijab", t1.aa, v.aabb.ovov, t3.babbab) * -1.0
    t2new_abab += np.einsum("ic,kdlc,jklbda->ijab", t1.aa, v.bbaa.ovov, t3.bbabba) * -1.0
    t2new_abab += np.einsum("ka,kcld,ijlcbd->ijab", t1.aa, v.aabb.ovov, t3.abbabb) * -2.0
    t2new_abab += np.einsum("kc,kcld,ijlabd->ijab", t1.aa, v.aabb.ovov, t3.abbabb) * 2.0
    t2new_abab += np.einsum("jc,kcld,iklabd->ijab", t1.bb, v.bbaa.ovov, t3.abaaba) * -1.0
    t2new_abab += np.einsum("jc,kdlc,ilkabd->ijab", t1.bb, v.aabb.ovov, t3.abaaba) * -1.0
    t2new_abab += np.einsum("kb,kcld,ijlacd->ijab", t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t2new_abab += np.einsum("kc,kcld,ijlabd->ijab", t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t2new_abab += np.einsum("jc,kcld,iklabd->ijab", t1.bb, v.bbbb.ovov, t3.abbabb) * -1.0
    t2new_abab += np.einsum("jc,kdlc,iklabd->ijab", t1.bb, v.bbbb.ovov, t3.abbabb)
    t2new_abab += np.einsum("kb,kcld,ijlacd->ijab", t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t2new_abab += np.einsum("kc,kcld,ijlabd->ijab", t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t2new_abab += np.einsum("kc,kdlc,ijlabd->ijab", t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t2new_abab += np.einsum("ijcb,klad,kcld->ijab", t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t2new_abab += np.einsum("ijcd,klab,kcld->ijab", t2.abab, t2.abab, v.aabb.ovov)
    t2new_abab += np.einsum("ijac,kldb,kdlc->ijab", t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t2new_abab += np.einsum("ikac,ljdb,kcld->ijab", t2.abab, t2.abab, v.bbaa.ovov)
    t2new_abab += np.einsum("ikab,ljcd,kdlc->ijab", t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t2new_abab += np.einsum("ikcb,ljad,kdlc->ijab", t2.abab, t2.abab, v.bbaa.ovov)
    t2new_abab += np.einsum("ikcd,ljab,kdlc->ijab", t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t2new_abab += np.einsum("ikac,jlbd,kcld->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_abab += np.einsum("ikab,jlcd,kcld->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_abab += np.einsum("ikac,jlbd,kdlc->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_abab += np.einsum("ikab,jlcd,kdlc->ijab", t2.abab, t2.bbbb, v.bbbb.ovov)
    t2new_abab += np.einsum("ijac,klbd,kcld->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_abab += np.einsum("ijcb,klad,kcld->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_abab += np.einsum("ijac,klbd,kdlc->ijab", t2.abab, t2.bbbb, v.bbbb.ovov)
    t2new_abab += np.einsum("ijcb,klad,kdlc->ijab", t2.abab, t2.aaaa, v.aaaa.ovov)
    t2new_abab += np.einsum("kjab,ilcd,kcld->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_abab += np.einsum("kjcb,ilad,kcld->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_abab += np.einsum("kjab,ilcd,kdlc->ijab", t2.abab, t2.aaaa, v.aaaa.ovov)
    t2new_abab += np.einsum("kjcb,ilad,kdlc->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_abab += np.einsum("ikac,jlbd,kcld->ijab", t2.aaaa, t2.bbbb, v.aabb.ovov) * 4.0
    t2new_abab += np.einsum("ic,ka,lb,jlkc->ijab", t1.aa, t1.aa, t1.bb, v.bbaa.ooov)
    t2new_abab += np.einsum("ic,ka,jd,kcbd->ijab", t1.aa, t1.aa, t1.bb, v.aabb.ovvv) * -1.0
    t2new_abab += np.einsum("ka,jc,lb,iklc->ijab", t1.aa, t1.bb, t1.bb, v.aabb.ooov)
    t2new_abab += np.einsum("ic,jd,kb,kdac->ijab", t1.aa, t1.bb, t1.bb, v.bbaa.ovvv) * -1.0
    t2new_abab += np.einsum("ic,ka,ljdb,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t2new_abab += np.einsum("ic,ka,ljdb,kdlc->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t2new_abab += np.einsum("ic,kd,ljab,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t2new_abab += np.einsum("ic,kd,ljab,kdlc->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t2new_abab += np.einsum("kc,la,ijdb,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t2new_abab += np.einsum("kc,la,ijdb,kdlc->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t2new_abab += np.einsum("ic,ka,jlbd,kcld->ijab", t1.aa, t1.aa, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_abab += np.einsum("ic,jd,klab,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t2new_abab += np.einsum("ic,kb,ljad,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.bbaa.ovov)
    t2new_abab += np.einsum("ic,kd,ljab,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t2new_abab += np.einsum("ka,jc,ildb,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t2new_abab += np.einsum("kc,jd,ilab,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t2new_abab += np.einsum("ka,lb,ijcd,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t2new_abab += np.einsum("ka,lc,ijdb,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t2new_abab += np.einsum("kc,lb,ijad,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t2new_abab += np.einsum("jc,kb,ilad,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t2new_abab += np.einsum("jc,kb,ilad,kdlc->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t2new_abab += np.einsum("jc,kd,ilab,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t2new_abab += np.einsum("jc,kd,ilab,kdlc->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t2new_abab += np.einsum("kc,lb,ijad,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t2new_abab += np.einsum("kc,lb,ijad,kdlc->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t2new_abab += np.einsum("jc,kb,ilad,kcld->ijab", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * -2.0
    t2new_abab += np.einsum("ic,ka,jd,lb,kcld->ijab", t1.aa, t1.aa, t1.bb, t1.bb, v.aabb.ovov)

    # T2 amplitudes
    t2new_baba = np.zeros((nocc[1], nocc[0], nvir[1], nvir[0]), dtype=np.float64)
    t2new_baba += np.einsum("iajb->ijab", v.bbaa.ovov)
    t2new_baba += np.einsum("ik,jkba->ijab", f.bb.oo, t2.abab) * -1.0
    t2new_baba += np.einsum("jk,kiba->ijab", f.aa.oo, t2.abab) * -1.0
    t2new_baba += np.einsum("ac,jibc->ijab", f.bb.vv, t2.abab)
    t2new_baba += np.einsum("bc,jica->ijab", f.aa.vv, t2.abab)
    t2new_baba += np.einsum("kb,jkia->ijab", t1.aa, v.aabb.ooov) * -1.0
    t2new_baba += np.einsum("jc,iabc->ijab", t1.aa, v.bbaa.ovvv)
    t2new_baba += np.einsum("ka,ikjb->ijab", t1.bb, v.bbaa.ooov) * -1.0
    t2new_baba += np.einsum("ic,jbac->ijab", t1.bb, v.aabb.ovvv)
    t2new_baba += np.einsum("kc,jikbac->ijab", f.aa.ov, t3.abaaba) * 2.0
    t2new_baba += np.einsum("kc,ijkabc->ijab", f.bb.ov, t3.babbab) * 2.0
    t2new_baba += np.einsum("klba,iljk->ijab", t2.abab, v.bbaa.oooo)
    t2new_baba += np.einsum("jkbc,ikac->ijab", t2.abab, v.bbbb.oovv) * -1.0
    t2new_baba += np.einsum("jkca,ikbc->ijab", t2.abab, v.bbaa.oovv) * -1.0
    t2new_baba += np.einsum("kibc,jkac->ijab", t2.abab, v.aabb.oovv) * -1.0
    t2new_baba += np.einsum("kica,jkbc->ijab", t2.abab, v.aaaa.oovv) * -1.0
    t2new_baba += np.einsum("jkbc,iakc->ijab", t2.abab, v.bbbb.ovov)
    t2new_baba += np.einsum("kica,jbkc->ijab", t2.abab, v.aaaa.ovov)
    t2new_baba += np.einsum("jicd,adbc->ijab", t2.abab, v.bbaa.vvvv)
    t2new_baba += np.einsum("ikac,jbkc->ijab", t2.bbbb, v.aabb.ovov) * 2.0
    t2new_baba += np.einsum("jkbc,iakc->ijab", t2.aaaa, v.bbaa.ovov) * 2.0
    t2new_baba += np.einsum("iklc,jklbac->ijab", v.bbaa.ooov, t3.abaaba) * -2.0
    t2new_baba += np.einsum("jklc,kilbac->ijab", v.aaaa.ooov, t3.abaaba) * -2.0
    t2new_baba += np.einsum("kcad,jikbdc->ijab", v.aabb.ovvv, t3.abaaba) * 2.0
    t2new_baba += np.einsum("kcbd,jikcad->ijab", v.aaaa.ovvv, t3.abaaba) * -2.0
    t2new_baba += np.einsum("iklc,jklbac->ijab", v.bbbb.ooov, t3.abbabb) * -2.0
    t2new_baba += np.einsum("jklc,iklabc->ijab", v.aabb.ooov, t3.babbab) * -2.0
    t2new_baba += np.einsum("kcad,ijkcbd->ijab", v.bbbb.ovvv, t3.babbab) * -2.0
    t2new_baba += np.einsum("kcbd,ijkadc->ijab", v.bbaa.ovvv, t3.babbab) * 2.0
    t2new_baba += np.einsum("kc,jc,kiba->ijab", f.aa.ov, t1.aa, t2.abab) * -1.0
    t2new_baba += np.einsum("kc,kb,jica->ijab", f.aa.ov, t1.aa, t2.abab) * -1.0
    t2new_baba += np.einsum("kc,ic,jkba->ijab", f.bb.ov, t1.bb, t2.abab) * -1.0
    t2new_baba += np.einsum("kc,ka,jibc->ijab", f.bb.ov, t1.bb, t2.abab) * -1.0
    t2new_baba += np.einsum("jc,kb,iakc->ijab", t1.aa, t1.aa, v.bbaa.ovov) * -1.0
    t2new_baba += np.einsum("jc,ka,ikbc->ijab", t1.aa, t1.bb, v.bbaa.oovv) * -1.0
    t2new_baba += np.einsum("kb,ic,jkac->ijab", t1.aa, t1.bb, v.aabb.oovv) * -1.0
    t2new_baba += np.einsum("kb,la,iljk->ijab", t1.aa, t1.bb, v.bbaa.oooo)
    t2new_baba += np.einsum("jc,id,adbc->ijab", t1.aa, t1.bb, v.bbaa.vvvv)
    t2new_baba += np.einsum("ic,ka,jbkc->ijab", t1.bb, t1.bb, v.aabb.ovov) * -1.0
    t2new_baba += np.einsum("jc,klba,ilkc->ijab", t1.aa, t2.abab, v.bbaa.ooov)
    t2new_baba += np.einsum("kb,jlca,ilkc->ijab", t1.aa, t2.abab, v.bbaa.ooov)
    t2new_baba += np.einsum("kb,lica,jklc->ijab", t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t2new_baba += np.einsum("kb,lica,jlkc->ijab", t1.aa, t2.abab, v.aaaa.ooov)
    t2new_baba += np.einsum("kc,jlba,ilkc->ijab", t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t2new_baba += np.einsum("kc,liba,jklc->ijab", t1.aa, t2.abab, v.aaaa.ooov)
    t2new_baba += np.einsum("kc,liba,jlkc->ijab", t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t2new_baba += np.einsum("jc,kibd,kcad->ijab", t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t2new_baba += np.einsum("jc,kida,kcbd->ijab", t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t2new_baba += np.einsum("jc,kida,kdbc->ijab", t1.aa, t2.abab, v.aaaa.ovvv)
    t2new_baba += np.einsum("kb,jicd,kcad->ijab", t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t2new_baba += np.einsum("kc,jibd,kcad->ijab", t1.aa, t2.abab, v.aabb.ovvv)
    t2new_baba += np.einsum("kc,jida,kcbd->ijab", t1.aa, t2.abab, v.aaaa.ovvv)
    t2new_baba += np.einsum("kc,jida,kdbc->ijab", t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t2new_baba += np.einsum("kb,ilac,jklc->ijab", t1.aa, t2.bbbb, v.aabb.ooov) * -2.0
    t2new_baba += np.einsum("jc,ikad,kdbc->ijab", t1.aa, t2.bbbb, v.bbaa.ovvv) * 2.0
    t2new_baba += np.einsum("ic,klba,jklc->ijab", t1.bb, t2.abab, v.aabb.ooov)
    t2new_baba += np.einsum("ka,jlbc,iklc->ijab", t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t2new_baba += np.einsum("ka,jlbc,ilkc->ijab", t1.bb, t2.abab, v.bbbb.ooov)
    t2new_baba += np.einsum("ka,libc,jlkc->ijab", t1.bb, t2.abab, v.aabb.ooov)
    t2new_baba += np.einsum("kc,jlba,iklc->ijab", t1.bb, t2.abab, v.bbbb.ooov)
    t2new_baba += np.einsum("kc,jlba,ilkc->ijab", t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t2new_baba += np.einsum("kc,liba,jlkc->ijab", t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t2new_baba += np.einsum("ic,jkbd,kcad->ijab", t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t2new_baba += np.einsum("ic,jkda,kcbd->ijab", t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t2new_baba += np.einsum("ic,jkbd,kdac->ijab", t1.bb, t2.abab, v.bbbb.ovvv)
    t2new_baba += np.einsum("ka,jicd,kdbc->ijab", t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t2new_baba += np.einsum("kc,jibd,kcad->ijab", t1.bb, t2.abab, v.bbbb.ovvv)
    t2new_baba += np.einsum("kc,jida,kcbd->ijab", t1.bb, t2.abab, v.bbaa.ovvv)
    t2new_baba += np.einsum("kc,jibd,kdac->ijab", t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t2new_baba += np.einsum("ka,jlbc,iklc->ijab", t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t2new_baba += np.einsum("ic,jkbd,kdac->ijab", t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t2new_baba += np.einsum("jc,kcld,kilbad->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * -1.0
    t2new_baba += np.einsum("jc,kdlc,kilbad->ijab", t1.aa, v.aaaa.ovov, t3.abaaba)
    t2new_baba += np.einsum("kb,kcld,jilcad->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t2new_baba += np.einsum("kc,kcld,jilbad->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t2new_baba += np.einsum("kc,kdlc,jilbad->ijab", t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t2new_baba += np.einsum("jc,kcld,iklabd->ijab", t1.aa, v.aabb.ovov, t3.babbab) * -1.0
    t2new_baba += np.einsum("jc,kdlc,ikladb->ijab", t1.aa, v.bbaa.ovov, t3.bbabba) * -1.0
    t2new_baba += np.einsum("kb,kcld,ijlacd->ijab", t1.aa, v.aabb.ovov, t3.babbab) * -2.0
    t2new_baba += np.einsum("kc,kcld,ijlabd->ijab", t1.aa, v.aabb.ovov, t3.babbab) * 2.0
    t2new_baba += np.einsum("ic,kcld,jklbad->ijab", t1.bb, v.bbaa.ovov, t3.abaaba) * -1.0
    t2new_baba += np.einsum("ic,kdlc,jlkbad->ijab", t1.bb, v.aabb.ovov, t3.abaaba) * -1.0
    t2new_baba += np.einsum("ka,kcld,jilbcd->ijab", t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t2new_baba += np.einsum("kc,kcld,jilbad->ijab", t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t2new_baba += np.einsum("ic,kcld,jklbad->ijab", t1.bb, v.bbbb.ovov, t3.abbabb) * -1.0
    t2new_baba += np.einsum("ic,kdlc,jklbad->ijab", t1.bb, v.bbbb.ovov, t3.abbabb)
    t2new_baba += np.einsum("ka,kcld,ijlcbd->ijab", t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t2new_baba += np.einsum("kc,kcld,ijlabd->ijab", t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t2new_baba += np.einsum("kc,kdlc,ijlabd->ijab", t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t2new_baba += np.einsum("jica,klbd,kcld->ijab", t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t2new_baba += np.einsum("jicd,klba,kcld->ijab", t2.abab, t2.abab, v.aabb.ovov)
    t2new_baba += np.einsum("jibc,klda,kdlc->ijab", t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t2new_baba += np.einsum("jkbc,lida,kcld->ijab", t2.abab, t2.abab, v.bbaa.ovov)
    t2new_baba += np.einsum("jkba,licd,kdlc->ijab", t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t2new_baba += np.einsum("jkca,libd,kdlc->ijab", t2.abab, t2.abab, v.bbaa.ovov)
    t2new_baba += np.einsum("jkcd,liba,kdlc->ijab", t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t2new_baba += np.einsum("jkbc,ilad,kcld->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_baba += np.einsum("jkba,ilcd,kcld->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_baba += np.einsum("jkbc,ilad,kdlc->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_baba += np.einsum("jkba,ilcd,kdlc->ijab", t2.abab, t2.bbbb, v.bbbb.ovov)
    t2new_baba += np.einsum("jibc,klad,kcld->ijab", t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_baba += np.einsum("jica,klbd,kcld->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_baba += np.einsum("jibc,klad,kdlc->ijab", t2.abab, t2.bbbb, v.bbbb.ovov)
    t2new_baba += np.einsum("jica,klbd,kdlc->ijab", t2.abab, t2.aaaa, v.aaaa.ovov)
    t2new_baba += np.einsum("kiba,jlcd,kcld->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t2new_baba += np.einsum("kica,jlbd,kcld->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t2new_baba += np.einsum("kiba,jlcd,kdlc->ijab", t2.abab, t2.aaaa, v.aaaa.ovov)
    t2new_baba += np.einsum("kica,jlbd,kdlc->ijab", t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t2new_baba += np.einsum("ikac,jlbd,kcld->ijab", t2.bbbb, t2.aaaa, v.bbaa.ovov) * 4.0
    t2new_baba += np.einsum("jc,kb,la,ilkc->ijab", t1.aa, t1.aa, t1.bb, v.bbaa.ooov)
    t2new_baba += np.einsum("jc,kb,id,kcad->ijab", t1.aa, t1.aa, t1.bb, v.aabb.ovvv) * -1.0
    t2new_baba += np.einsum("kb,ic,la,jklc->ijab", t1.aa, t1.bb, t1.bb, v.aabb.ooov)
    t2new_baba += np.einsum("jc,id,ka,kdbc->ijab", t1.aa, t1.bb, t1.bb, v.bbaa.ovvv) * -1.0
    t2new_baba += np.einsum("jc,kb,lida,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t2new_baba += np.einsum("jc,kb,lida,kdlc->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t2new_baba += np.einsum("jc,kd,liba,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t2new_baba += np.einsum("jc,kd,liba,kdlc->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t2new_baba += np.einsum("kc,lb,jida,kcld->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t2new_baba += np.einsum("kc,lb,jida,kdlc->ijab", t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t2new_baba += np.einsum("jc,kb,ilad,kcld->ijab", t1.aa, t1.aa, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_baba += np.einsum("jc,id,klba,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t2new_baba += np.einsum("jc,ka,libd,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.bbaa.ovov)
    t2new_baba += np.einsum("jc,kd,liba,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t2new_baba += np.einsum("kb,ic,jlda,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t2new_baba += np.einsum("kc,id,jlba,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t2new_baba += np.einsum("kb,la,jicd,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t2new_baba += np.einsum("kb,lc,jida,kdlc->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t2new_baba += np.einsum("kc,la,jibd,kcld->ijab", t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t2new_baba += np.einsum("ic,ka,jlbd,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t2new_baba += np.einsum("ic,ka,jlbd,kdlc->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t2new_baba += np.einsum("ic,kd,jlba,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t2new_baba += np.einsum("ic,kd,jlba,kdlc->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t2new_baba += np.einsum("kc,la,jibd,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t2new_baba += np.einsum("kc,la,jibd,kdlc->ijab", t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t2new_baba += np.einsum("ic,ka,jlbd,kcld->ijab", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * -2.0
    t2new_baba += np.einsum("jc,kb,id,la,kcld->ijab", t1.aa, t1.aa, t1.bb, t1.bb, v.aabb.ovov)

    # T2 amplitudes
    t2new_bbbb = np.zeros((nocc[1], nocc[1], nvir[1], nvir[1]), dtype=np.float64)
    t2new_bbbb += np.einsum("iajb->ijab", v.bbbb.ovov)
    t2new_bbbb += np.einsum("ibja->ijab", v.bbbb.ovov) * -1.0
    t2new_bbbb += np.einsum("ik,jkab->ijab", f.bb.oo, t2.bbbb) * 2.0
    t2new_bbbb += np.einsum("jk,ikab->ijab", f.bb.oo, t2.bbbb) * -2.0
    t2new_bbbb += np.einsum("ac,ijbc->ijab", f.bb.vv, t2.bbbb) * -2.0
    t2new_bbbb += np.einsum("bc,ijac->ijab", f.bb.vv, t2.bbbb) * 2.0
    t2new_bbbb += np.einsum("ka,ikjb->ijab", t1.bb, v.bbbb.ooov) * -1.0
    t2new_bbbb += np.einsum("ka,jkib->ijab", t1.bb, v.bbbb.ooov)
    t2new_bbbb += np.einsum("kb,ikja->ijab", t1.bb, v.bbbb.ooov)
    t2new_bbbb += np.einsum("kb,jkia->ijab", t1.bb, v.bbbb.ooov) * -1.0
    t2new_bbbb += np.einsum("ic,jabc->ijab", t1.bb, v.bbbb.ovvv) * -1.0
    t2new_bbbb += np.einsum("ic,jbac->ijab", t1.bb, v.bbbb.ovvv)
    t2new_bbbb += np.einsum("jc,iabc->ijab", t1.bb, v.bbbb.ovvv)
    t2new_bbbb += np.einsum("jc,ibac->ijab", t1.bb, v.bbbb.ovvv) * -1.0
    t2new_bbbb += np.einsum("kc,ijkabc->ijab", f.aa.ov, t3.bbabba) * 2.0
    t2new_bbbb += np.einsum("kc,ijkabc->ijab", f.bb.ov, t3.bbbbbb) * 6.0
    t2new_bbbb += np.einsum("kjcb,iakc->ijab", t2.abab, v.bbaa.ovov)
    t2new_bbbb += np.einsum("kjca,ibkc->ijab", t2.abab, v.bbaa.ovov) * -1.0
    t2new_bbbb += np.einsum("kicb,jakc->ijab", t2.abab, v.bbaa.ovov) * -1.0
    t2new_bbbb += np.einsum("kica,jbkc->ijab", t2.abab, v.bbaa.ovov)
    t2new_bbbb += np.einsum("klab,ikjl->ijab", t2.bbbb, v.bbbb.oooo)
    t2new_bbbb += np.einsum("klab,iljk->ijab", t2.bbbb, v.bbbb.oooo) * -1.0
    t2new_bbbb += np.einsum("ikac,jkbc->ijab", t2.bbbb, v.bbbb.oovv) * -2.0
    t2new_bbbb += np.einsum("ikbc,jkac->ijab", t2.bbbb, v.bbbb.oovv) * 2.0
    t2new_bbbb += np.einsum("jkac,ikbc->ijab", t2.bbbb, v.bbbb.oovv) * 2.0
    t2new_bbbb += np.einsum("jkbc,ikac->ijab", t2.bbbb, v.bbbb.oovv) * -2.0
    t2new_bbbb += np.einsum("ikbc,jakc->ijab", t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ikac,jbkc->ijab", t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("jkbc,iakc->ijab", t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("jkac,ibkc->ijab", t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ijcd,acbd->ijab", t2.bbbb, v.bbbb.vvvv)
    t2new_bbbb += np.einsum("ijcd,adbc->ijab", t2.bbbb, v.bbbb.vvvv) * -1.0
    t2new_bbbb += np.einsum("iklc,jklabc->ijab", v.bbaa.ooov, t3.bbabba) * 2.0
    t2new_bbbb += np.einsum("iklc,jklabc->ijab", v.bbbb.ooov, t3.bbbbbb) * 6.0
    t2new_bbbb += np.einsum("jklc,iklabc->ijab", v.bbaa.ooov, t3.bbabba) * -2.0
    t2new_bbbb += np.einsum("jklc,iklabc->ijab", v.bbbb.ooov, t3.bbbbbb) * -6.0
    t2new_bbbb += np.einsum("kcad,ijkbcd->ijab", v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t2new_bbbb += np.einsum("kcad,ijkbdc->ijab", v.aabb.ovvv, t3.bbabba) * -2.0
    t2new_bbbb += np.einsum("kcbd,ijkacd->ijab", v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t2new_bbbb += np.einsum("kcbd,ijkadc->ijab", v.aabb.ovvv, t3.bbabba) * 2.0
    t2new_bbbb += np.einsum("kc,ic,jkab->ijab", f.bb.ov, t1.bb, t2.bbbb) * 2.0
    t2new_bbbb += np.einsum("kc,jc,ikab->ijab", f.bb.ov, t1.bb, t2.bbbb) * -2.0
    t2new_bbbb += np.einsum("kc,ka,ijbc->ijab", f.bb.ov, t1.bb, t2.bbbb) * 2.0
    t2new_bbbb += np.einsum("kc,kb,ijac->ijab", f.bb.ov, t1.bb, t2.bbbb) * -2.0
    t2new_bbbb += np.einsum("ic,ka,jkbc->ijab", t1.bb, t1.bb, v.bbbb.oovv)
    t2new_bbbb += np.einsum("ic,kb,jkac->ijab", t1.bb, t1.bb, v.bbbb.oovv) * -1.0
    t2new_bbbb += np.einsum("jc,ka,ikbc->ijab", t1.bb, t1.bb, v.bbbb.oovv) * -1.0
    t2new_bbbb += np.einsum("jc,kb,ikac->ijab", t1.bb, t1.bb, v.bbbb.oovv)
    t2new_bbbb += np.einsum("ka,lb,ikjl->ijab", t1.bb, t1.bb, v.bbbb.oooo)
    t2new_bbbb += np.einsum("ka,lb,iljk->ijab", t1.bb, t1.bb, v.bbbb.oooo) * -1.0
    t2new_bbbb += np.einsum("ic,ka,jbkc->ijab", t1.bb, t1.bb, v.bbbb.ovov) * -1.0
    t2new_bbbb += np.einsum("ic,kb,jakc->ijab", t1.bb, t1.bb, v.bbbb.ovov)
    t2new_bbbb += np.einsum("jc,ka,ibkc->ijab", t1.bb, t1.bb, v.bbbb.ovov)
    t2new_bbbb += np.einsum("jc,kb,iakc->ijab", t1.bb, t1.bb, v.bbbb.ovov) * -1.0
    t2new_bbbb += np.einsum("ic,jd,acbd->ijab", t1.bb, t1.bb, v.bbbb.vvvv)
    t2new_bbbb += np.einsum("ic,jd,adbc->ijab", t1.bb, t1.bb, v.bbbb.vvvv) * -1.0
    t2new_bbbb += np.einsum("kc,ilab,jlkc->ijab", t1.aa, t2.bbbb, v.bbaa.ooov) * -2.0
    t2new_bbbb += np.einsum("kc,jlab,ilkc->ijab", t1.aa, t2.bbbb, v.bbaa.ooov) * 2.0
    t2new_bbbb += np.einsum("kc,ijad,kcbd->ijab", t1.aa, t2.bbbb, v.aabb.ovvv) * 2.0
    t2new_bbbb += np.einsum("kc,ijbd,kcad->ijab", t1.aa, t2.bbbb, v.aabb.ovvv) * -2.0
    t2new_bbbb += np.einsum("ka,ljcb,iklc->ijab", t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t2new_bbbb += np.einsum("ka,licb,jklc->ijab", t1.bb, t2.abab, v.bbaa.ooov)
    t2new_bbbb += np.einsum("kb,ljca,iklc->ijab", t1.bb, t2.abab, v.bbaa.ooov)
    t2new_bbbb += np.einsum("kb,lica,jklc->ijab", t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t2new_bbbb += np.einsum("ic,kjdb,kdac->ijab", t1.bb, t2.abab, v.aabb.ovvv)
    t2new_bbbb += np.einsum("ic,kjda,kdbc->ijab", t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t2new_bbbb += np.einsum("jc,kidb,kdac->ijab", t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t2new_bbbb += np.einsum("jc,kida,kdbc->ijab", t1.bb, t2.abab, v.aabb.ovvv)
    t2new_bbbb += np.einsum("ic,klab,jklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -1.0
    t2new_bbbb += np.einsum("ic,klab,jlkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov)
    t2new_bbbb += np.einsum("jc,klab,iklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov)
    t2new_bbbb += np.einsum("jc,klab,ilkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -1.0
    t2new_bbbb += np.einsum("ka,ilbc,jklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t2new_bbbb += np.einsum("ka,ilbc,jlkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t2new_bbbb += np.einsum("ka,jlbc,iklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t2new_bbbb += np.einsum("ka,jlbc,ilkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t2new_bbbb += np.einsum("kb,ilac,jklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t2new_bbbb += np.einsum("kb,ilac,jlkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t2new_bbbb += np.einsum("kb,jlac,iklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t2new_bbbb += np.einsum("kb,jlac,ilkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t2new_bbbb += np.einsum("kc,ilab,jklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t2new_bbbb += np.einsum("kc,ilab,jlkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t2new_bbbb += np.einsum("kc,jlab,iklc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t2new_bbbb += np.einsum("kc,jlab,ilkc->ijab", t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t2new_bbbb += np.einsum("ic,jkad,kcbd->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t2new_bbbb += np.einsum("ic,jkbd,kcad->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t2new_bbbb += np.einsum("ic,jkad,kdbc->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t2new_bbbb += np.einsum("ic,jkbd,kdac->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t2new_bbbb += np.einsum("jc,ikad,kcbd->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t2new_bbbb += np.einsum("jc,ikbd,kcad->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t2new_bbbb += np.einsum("jc,ikad,kdbc->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t2new_bbbb += np.einsum("jc,ikbd,kdac->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t2new_bbbb += np.einsum("ka,ijcd,kcbd->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -1.0
    t2new_bbbb += np.einsum("ka,ijcd,kdbc->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv)
    t2new_bbbb += np.einsum("kb,ijcd,kcad->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv)
    t2new_bbbb += np.einsum("kb,ijcd,kdac->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -1.0
    t2new_bbbb += np.einsum("kc,ijad,kcbd->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t2new_bbbb += np.einsum("kc,ijbd,kcad->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t2new_bbbb += np.einsum("kc,ijad,kdbc->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t2new_bbbb += np.einsum("kc,ijbd,kdac->ijab", t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t2new_bbbb += np.einsum("kc,kcld,ijlabd->ijab", t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t2new_bbbb += np.einsum("kc,kcld,ijlabd->ijab", t1.aa, v.aabb.ovov, t3.bbbbbb) * 6.0
    t2new_bbbb += np.einsum("kc,kdlc,ijlabd->ijab", t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t2new_bbbb += np.einsum("ic,kcld,jklabd->ijab", t1.bb, v.bbaa.ovov, t3.bbabba)
    t2new_bbbb += np.einsum("ic,kcld,jklabd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t2new_bbbb += np.einsum("ic,kdlc,jkladb->ijab", t1.bb, v.aabb.ovov, t3.babbab)
    t2new_bbbb += np.einsum("ic,kdlc,jklabd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t2new_bbbb += np.einsum("jc,kcld,iklabd->ijab", t1.bb, v.bbaa.ovov, t3.bbabba) * -1.0
    t2new_bbbb += np.einsum("jc,kcld,iklabd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t2new_bbbb += np.einsum("jc,kdlc,ikladb->ijab", t1.bb, v.aabb.ovov, t3.babbab) * -1.0
    t2new_bbbb += np.einsum("jc,kdlc,iklabd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t2new_bbbb += np.einsum("ka,kcld,ijlbcd->ijab", t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t2new_bbbb += np.einsum("ka,kcld,ijlbcd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t2new_bbbb += np.einsum("kb,kcld,ijlacd->ijab", t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t2new_bbbb += np.einsum("kb,kcld,ijlacd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t2new_bbbb += np.einsum("kc,kcld,ijlabd->ijab", t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t2new_bbbb += np.einsum("kc,kcld,ijlabd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t2new_bbbb += np.einsum("kc,kdlc,ijlabd->ijab", t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t2new_bbbb += np.einsum("kica,ljdb,kcld->ijab", t2.abab, t2.abab, v.aaaa.ovov)
    t2new_bbbb += np.einsum("kicb,ljda,kcld->ijab", t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t2new_bbbb += np.einsum("kica,ljdb,kdlc->ijab", t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t2new_bbbb += np.einsum("kicb,ljda,kdlc->ijab", t2.abab, t2.abab, v.aaaa.ovov)
    t2new_bbbb += np.einsum("kjcb,ilad,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t2new_bbbb += np.einsum("kjcd,ilab,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_bbbb += np.einsum("kjca,ilbd,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_bbbb += np.einsum("klcb,ijad,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_bbbb += np.einsum("klca,ijbd,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t2new_bbbb += np.einsum("kicb,jlad,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_bbbb += np.einsum("kicd,jlab,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t2new_bbbb += np.einsum("kica,jlbd,kcld->ijab", t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t2new_bbbb += np.einsum("ikac,jlbd,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t2new_bbbb += np.einsum("ikab,jlcd,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ikbc,jlad,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t2new_bbbb += np.einsum("ikcd,jlab,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ikac,jlbd,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t2new_bbbb += np.einsum("ikab,jlcd,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ikbc,jlad,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t2new_bbbb += np.einsum("ikcd,jlab,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ijac,klbd,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ijbc,klad,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ijcd,klab,kcld->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov)
    t2new_bbbb += np.einsum("ijac,klbd,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ijbc,klad,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ijcd,klab,kdlc->ijab", t2.bbbb, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_bbbb += np.einsum("ic,ka,lb,jklc->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ooov) * -1.0
    t2new_bbbb += np.einsum("ic,ka,lb,jlkc->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ooov)
    t2new_bbbb += np.einsum("jc,ka,lb,iklc->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ooov)
    t2new_bbbb += np.einsum("jc,ka,lb,ilkc->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ooov) * -1.0
    t2new_bbbb += np.einsum("ic,jd,ka,kcbd->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ovvv) * -1.0
    t2new_bbbb += np.einsum("ic,jd,ka,kdbc->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ovvv)
    t2new_bbbb += np.einsum("ic,jd,kb,kcad->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ovvv)
    t2new_bbbb += np.einsum("ic,jd,kb,kdac->ijab", t1.bb, t1.bb, t1.bb, v.bbbb.ovvv) * -1.0
    t2new_bbbb += np.einsum("kc,id,jlab,kcld->ijab", t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t2new_bbbb += np.einsum("kc,jd,ilab,kcld->ijab", t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_bbbb += np.einsum("kc,la,ijbd,kcld->ijab", t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t2new_bbbb += np.einsum("kc,lb,ijad,kcld->ijab", t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t2new_bbbb += np.einsum("ic,ka,ljdb,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t2new_bbbb += np.einsum("ic,kb,ljda,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t2new_bbbb += np.einsum("jc,ka,lidb,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t2new_bbbb += np.einsum("jc,kb,lida,kcld->ijab", t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t2new_bbbb += np.einsum("ic,jd,klab,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov)
    t2new_bbbb += np.einsum("ic,jd,klab,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_bbbb += np.einsum("ic,ka,jlbd,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ic,ka,jlbd,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ic,kb,jlad,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ic,kb,jlad,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ic,kd,jlab,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ic,kd,jlab,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("jc,ka,ilbd,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("jc,ka,ilbd,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("jc,kb,ilad,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("jc,kb,ilad,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("jc,kd,ilab,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("jc,kd,ilab,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("ka,lb,ijcd,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov)
    t2new_bbbb += np.einsum("ka,lb,ijcd,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -1.0
    t2new_bbbb += np.einsum("kc,la,ijbd,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("kc,la,ijbd,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("kc,lb,ijad,kcld->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t2new_bbbb += np.einsum("kc,lb,ijad,kdlc->ijab", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t2new_bbbb += np.einsum("ic,jd,ka,lb,kcld->ijab", t1.bb, t1.bb, t1.bb, t1.bb, v.bbbb.ovov)
    t2new_bbbb += np.einsum("ic,jd,ka,lb,kdlc->ijab", t1.bb, t1.bb, t1.bb, t1.bb, v.bbbb.ovov) * -1.0

    # T3 amplitudes
    t3new_aaaaaa = np.zeros((nocc[0], nocc[0], nocc[0], nvir[0], nvir[0], nvir[0]), dtype=np.float64)
    t3new_aaaaaa += np.einsum("il,jklabc->ijkabc", f.aa.oo, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jl,iklabc->ijkabc", f.aa.oo, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kl,ijlabc->ijkabc", f.aa.oo, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ad,ijkbcd->ijkabc", f.aa.vv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("bd,ijkacd->ijkabc", f.aa.vv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("cd,ijkabd->ijkabc", f.aa.vv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ilab,jlkc->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ilac,jlkb->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ilbc,jlka->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ilab,kljc->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ilac,kljb->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ilbc,klja->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlab,ilkc->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlac,ilkb->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jlbc,ilka->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlab,klic->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jlac,klib->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlbc,klia->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klab,iljc->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klac,iljb->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("klbc,ilja->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klab,jlic->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("klac,jlib->ijkabc", t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klbc,jlia->ijkabc", t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ikbd,jacd->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ikcd,jabd->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ikad,jbcd->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ikcd,jbad->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ikad,jcbd->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ikbd,jcad->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ijbd,kacd->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ijcd,kabd->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ijad,kbcd->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ijcd,kbad->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ijad,kcbd->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ijbd,kcad->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jkbd,iacd->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jkcd,iabd->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jkad,ibcd->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jkcd,ibad->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jkad,icbd->ijkabc", t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jkbd,icad->ijkabc", t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("iald,jlkbdc->ijkabc", v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ibld,jlkadc->ijkabc", v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("icld,jlkadb->ijkabc", v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jald,ilkbdc->ijkabc", v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("jbld,ilkadc->ijkabc", v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jcld,ilkadb->ijkabc", v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("kald,iljbdc->ijkabc", v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("kbld,iljadc->ijkabc", v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("kcld,iljadb->ijkabc", v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("iljm,klmabc->ijkabc", v.aaaa.oooo, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ilkm,jlmabc->ijkabc", v.aaaa.oooo, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jlkm,ilmabc->ijkabc", v.aaaa.oooo, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ilad,jklbcd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ilbd,jklacd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ilcd,jklabd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jlad,iklbcd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jlbd,iklacd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jlcd,iklabd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("klad,ijlbcd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("klbd,ijlacd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("klcd,ijlabd->ijkabc", v.aaaa.oovv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("iald,jklbcd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ibld,jklacd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("icld,jklabd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jald,iklbcd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jbld,iklacd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jcld,iklabd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kald,ijlbcd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kbld,ijlacd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kcld,ijlabd->ijkabc", v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("adbe,ijkcde->ijkabc", v.aaaa.vvvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("adce,ijkbde->ijkabc", v.aaaa.vvvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("bdce,ijkade->ijkabc", v.aaaa.vvvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,id,jklabc->ijkabc", f.aa.ov, t1.aa, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,jd,iklabc->ijkabc", f.aa.ov, t1.aa, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,kd,ijlabc->ijkabc", f.aa.ov, t1.aa, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,la,ijkbcd->ijkabc", f.aa.ov, t1.aa, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,lb,ijkacd->ijkabc", f.aa.ov, t1.aa, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,lc,ijkabd->ijkabc", f.aa.ov, t1.aa, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,ikad,jlbc->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * -4.0
    t3new_aaaaaa += np.einsum("ld,ikbd,jlac->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * 4.0
    t3new_aaaaaa += np.einsum("ld,ikcd,jlab->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * -4.0
    t3new_aaaaaa += np.einsum("ld,ilac,jkbd->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * -4.0
    t3new_aaaaaa += np.einsum("ld,ilab,jkcd->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * 4.0
    t3new_aaaaaa += np.einsum("ld,ilbc,jkad->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijad,klbc->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijbd,klac->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * -4.0
    t3new_aaaaaa += np.einsum("ld,ijcd,klab->ijkabc", f.aa.ov, t2.aaaa, t2.aaaa) * 4.0
    t3new_aaaaaa += np.einsum("id,jlac,klbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("id,jlab,klcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("id,jlbc,klad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("id,klac,jlbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("id,klab,jlcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("id,klbc,jlad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ilac,klbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ilab,klcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ilbc,klad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("jd,klac,ilbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("jd,klab,ilcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("jd,klbc,ilad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("kd,ilac,jlbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("kd,ilab,jlcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("kd,ilbc,jlad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("kd,jlac,ilbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("kd,jlab,ilcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("kd,jlbc,ilad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("la,imbc,jlkm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("la,imbc,jmkl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("la,jmbc,ilkm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("la,jmbc,imkl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("la,kmbc,iljm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("la,kmbc,imjl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("lb,imac,jlkm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("lb,imac,jmkl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("lb,jmac,ilkm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("lb,jmac,imkl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("lb,kmac,iljm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("lb,kmac,imjl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("lc,imab,jlkm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("lc,imab,jmkl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("lc,jmab,ilkm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("lc,jmab,imkl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("lc,kmab,iljm->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * -2.0
    t3new_aaaaaa += np.einsum("lc,kmab,imjl->ijkabc", t1.aa, t2.aaaa, v.aaaa.oooo) * 2.0
    t3new_aaaaaa += np.einsum("la,ikbd,jlcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("la,ikcd,jlbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("la,ijbd,klcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("la,ijcd,klbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("la,jkbd,ilcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("la,jkcd,ilbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("lb,ikad,jlcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("lb,ikcd,jlad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("lb,ijad,klcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("lb,ijcd,klad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("lb,jkad,ilcd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("lb,jkcd,ilad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("lc,ikad,jlbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("lc,ikbd,jlad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("lc,ijad,klbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("lc,ijbd,klad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("lc,jkad,ilbd->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * -2.0
    t3new_aaaaaa += np.einsum("lc,jkbd,ilad->ijkabc", t1.aa, t2.aaaa, v.aaaa.oovv) * 2.0
    t3new_aaaaaa += np.einsum("id,jlbc,kald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,jlac,kbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,jlab,kcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,klbc,jald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,klac,jbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,klab,jcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ilbc,kald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ilac,kbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ilab,kcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,klbc,iald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,klac,ibld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,klab,icld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,ilbc,jald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,ilac,jbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ilab,jcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,jlbc,iald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,jlac,ibld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,jlab,icld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,ikcd,jbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,ikbd,jcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,ijcd,kbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,ijbd,kcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,jkcd,ibld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,jkbd,icld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,ikcd,jald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lb,ikad,jcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,ijcd,kald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,ijad,kcld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lb,jkcd,iald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,jkad,icld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,ikbd,jald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lc,ikad,jbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,ijbd,kald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,ijad,kbld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lc,jkbd,iald->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,jkad,ibld->ijkabc", t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,jkbe,adce->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("id,jkce,adbe->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("id,jkbe,aecd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("id,jkce,aebd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("id,jkae,bdce->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("id,jkae,becd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikbe,adce->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ikce,adbe->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikbe,aecd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikce,aebd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ikae,bdce->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikae,becd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijbe,adce->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,ijce,adbe->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijbe,aecd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijce,aebd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,ijae,bdce->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijae,becd->ijkabc", t1.aa, t2.aaaa, v.aaaa.vvvv) * 2.0
    t3new_aaaaaa += np.einsum("la,ilmd,jmkbdc->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("la,jlmd,imkbdc->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("la,klmd,imjbdc->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("lb,ilmd,jmkadc->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("lb,jlmd,imkadc->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("lb,klmd,imjadc->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("lc,ilmd,jmkadb->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("lc,jlmd,imkadb->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("lc,klmd,imjadb->ijkabc", t1.aa, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("id,lead,jlkbec->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("id,lebd,jlkaec->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("id,lecd,jlkaeb->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jd,lead,ilkbec->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("jd,lebd,ilkaec->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jd,lecd,ilkaeb->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("kd,lead,iljbec->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("kd,lebd,iljaec->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("kd,lecd,iljaeb->ijkabc", t1.aa, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("id,jlmd,klmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,klmd,jlmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,ilmd,klmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,klmd,ilmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,ilmd,jlmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,jlmd,ilmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("la,imld,jkmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("la,jlmd,ikmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("la,jmld,ikmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("la,klmd,ijmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("la,kmld,ijmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lb,ilmd,jkmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lb,imld,jkmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lb,jmld,ikmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lb,klmd,ijmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lb,kmld,ijmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lc,ilmd,jkmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lc,imld,jkmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lc,jlmd,ikmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lc,jmld,ikmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lc,klmd,ijmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lc,kmld,ijmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,ilmd,jkmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,imld,jkmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,jlmd,ikmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,jmld,ikmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,klmd,ijmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,kmld,ijmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,ldae,jklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,ldbe,jklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,ldce,jklabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,lead,jklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,lebd,jklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,lecd,jklabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,ldae,iklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,ldbe,iklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,ldce,iklabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,lead,iklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,lebd,iklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,lecd,iklabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,ldae,ijlbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,ldbe,ijlace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,ldce,ijlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,lead,ijlbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,lebd,ijlace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,lecd,ijlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("la,ldbe,ijkcde->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("la,ldce,ijkbde->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lb,ldae,ijkcde->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lb,ldce,ijkade->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lc,ldae,ijkbde->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lc,ldbe,ijkade->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,ldae,ijkbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,ldbe,ijkace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,ldce,ijkabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,lead,ijkbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,lebd,ijkace->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,lecd,ijkabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,imld,jkmabc->ijkabc", t1.bb, v.aabb.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,jmld,ikmabc->ijkabc", t1.bb, v.aabb.ooov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,kmld,ijmabc->ijkabc", t1.bb, v.aabb.ooov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,ldae,ijkbce->ijkabc", t1.bb, v.bbaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,ldbe,ijkace->ijkabc", t1.bb, v.bbaa.ovvv, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,ldce,ijkabe->ijkabc", t1.bb, v.bbaa.ovvv, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ilad,jmbc,kmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ilbd,jmac,kmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ilcd,jmab,kmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ilad,kmbc,jmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ilbd,kmac,jmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ilcd,kmab,jmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlad,imbc,kmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlbd,imac,kmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jlcd,imab,kmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlad,kmbc,imld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jlbd,kmac,imld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlcd,kmab,imld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klad,imbc,jmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klbd,imac,jmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("klcd,imab,jmld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klad,jmbc,imld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("klbd,jmac,imld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aaaaaa += np.einsum("klcd,jmab,imld->ijkabc", t2.abab, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ilad,jkbe,ldce->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilad,jkce,ldbe->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilbd,jkae,ldce->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilbd,jkce,ldae->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilcd,jkae,ldbe->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilcd,jkbe,ldae->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jlad,ikbe,ldce->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jlad,ikce,ldbe->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jlbd,ikae,ldce->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jlbd,ikce,ldae->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jlcd,ikae,ldbe->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jlcd,ikbe,ldae->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("klad,ijbe,ldce->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("klad,ijce,ldbe->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("klbd,ijae,ldce->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("klbd,ijce,ldae->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("klcd,ijae,ldbe->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("klcd,ijbe,ldae->ijkabc", t2.abab, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilac,jmbd,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilad,jmbc,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilab,jmcd,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilbc,jmad,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilbd,jmac,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilcd,jmab,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilac,jmbd,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilad,jmbc,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilab,jmcd,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilbc,jmad,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilbd,jmac,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilcd,jmab,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilac,kmbd,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilad,kmbc,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilbc,kmad,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilbd,kmac,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilcd,kmab,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilac,kmbd,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilad,kmbc,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilab,kmcd,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilbc,kmad,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ilbd,kmac,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("ilcd,kmab,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("ikad,lmbc,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ikbd,lmac,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ikcd,lmab,jlmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ikad,lmbc,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ikbd,lmac,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ikcd,lmab,jmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ijad,lmbc,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ijbd,lmac,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ijcd,lmab,klmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ijad,lmbc,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ijbd,lmac,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("ijcd,lmab,kmld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jlac,kmbd,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("jlad,kmbc,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("jlab,kmcd,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("jlbc,kmad,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("jlbd,kmac,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("jlcd,kmab,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("jlac,kmbd,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("jlad,kmbc,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("jlab,kmcd,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("jlbc,kmad,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("jlbd,kmac,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 4.0
    t3new_aaaaaa += np.einsum("jlcd,kmab,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -4.0
    t3new_aaaaaa += np.einsum("jkad,lmbc,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jkbd,lmac,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jkcd,lmab,ilmd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jkad,lmbc,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jkbd,lmac,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jkcd,lmab,imld->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("ikad,jlbe,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ikad,jlce,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ikbd,jlae,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ikbd,jlce,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ikcd,jlae,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ikcd,jlbe,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ikde,jlac,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ikde,jlab,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ikde,jlbc,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ikad,jlbe,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ikad,jlce,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ikbd,jlae,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ikbd,jlce,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ikcd,jlae,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ikcd,jlbe,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ikde,jlac,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ikde,jlab,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ikde,jlbc,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilad,jkbe,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ilad,jkce,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ilac,jkde,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilab,jkde,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilbd,jkae,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ilbd,jkce,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ilbc,jkde,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilcd,jkae,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ilcd,jkbe,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ilad,jkbe,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ilad,jkce,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ilac,jkde,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ilab,jkde,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilbd,jkae,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ilbd,jkce,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ilbc,jkde,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilcd,jkae,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ilcd,jkbe,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijad,klbe,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijad,klce,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ijbd,klae,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ijbd,klce,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijcd,klae,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijcd,klbe,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ijde,klac,ldbe->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ijde,klab,ldce->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ijde,klbc,ldae->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ijad,klbe,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ijad,klce,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijbd,klae,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijbd,klce,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ijcd,klae,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -4.0
    t3new_aaaaaa += np.einsum("ijcd,klbe,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 4.0
    t3new_aaaaaa += np.einsum("ijde,klac,lebd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("ijde,klab,lecd->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ijde,klbc,lead->ijkabc", t2.aaaa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("ilad,ldme,jmkbec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("ilbd,ldme,jmkaec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("ilcd,ldme,jmkaeb->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("ilad,lemd,jmkbec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("ilbd,lemd,jmkaec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("ilcd,lemd,jmkaeb->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("jlad,ldme,imkbec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("jlbd,ldme,imkaec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("jlcd,ldme,imkaeb->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("jlad,lemd,imkbec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("jlbd,lemd,imkaec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("jlcd,lemd,imkaeb->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("klad,ldme,imjbec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("klbd,ldme,imjaec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("klcd,ldme,imjaeb->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("klad,lemd,imjbec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("klbd,lemd,imjaec->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aaaaaa += np.einsum("klcd,lemd,imjaeb->ijkabc", t2.abab, v.bbbb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aaaaaa += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_aaaaaa += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_aaaaaa += np.einsum("ilcd,ldme,jkmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_aaaaaa += np.einsum("ilde,lemd,jkmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_aaaaaa += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_aaaaaa += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_aaaaaa += np.einsum("jlde,lemd,ikmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("klad,ldme,ijmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_aaaaaa += np.einsum("klbd,ldme,ijmace->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_aaaaaa += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_aaaaaa += np.einsum("klde,lemd,ijmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lmad,lemd,ijkbce->ijkabc", t2.abab, v.aabb.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lmbd,lemd,ijkace->ijkabc", t2.abab, v.aabb.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.abab, v.aabb.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ijad,ldme,kmlbec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ijbd,ldme,kmlaec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("ijcd,ldme,kmlaeb->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ijad,lemd,klmbec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ijbd,lemd,klmaec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("ijcd,lemd,klmaeb->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ikad,ldme,jmlbec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("ikbd,ldme,jmlaec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ikcd,ldme,jmlaeb->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("ikad,lemd,jlmbec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("ikbd,lemd,jlmaec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("ikcd,lemd,jlmaeb->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("ilab,ldme,jmkced->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.0
    t3new_aaaaaa += np.einsum("ilac,ldme,jmkbed->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.0
    t3new_aaaaaa += np.einsum("ilad,ldme,jmkbec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.00000000000004
    t3new_aaaaaa += np.einsum("ilbc,ldme,jmkaed->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.0
    t3new_aaaaaa += np.einsum("ilbd,ldme,jmkaec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.00000000000004
    t3new_aaaaaa += np.einsum("ilcd,ldme,jmkaeb->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.00000000000004
    t3new_aaaaaa += np.einsum("jkad,ldme,imlbec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jkbd,ldme,imlaec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("jkcd,ldme,imlaeb->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jkad,lemd,ilmbec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jkbd,lemd,ilmaec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("jkcd,lemd,ilmaeb->ijkabc", t2.aaaa, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jlab,ldme,imkced->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.0
    t3new_aaaaaa += np.einsum("jlac,ldme,imkbed->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.0
    t3new_aaaaaa += np.einsum("jlad,ldme,imkbec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.00000000000004
    t3new_aaaaaa += np.einsum("jlbc,ldme,imkaed->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.0
    t3new_aaaaaa += np.einsum("jlbd,ldme,imkaec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.00000000000004
    t3new_aaaaaa += np.einsum("jlcd,ldme,imkaeb->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.00000000000004
    t3new_aaaaaa += np.einsum("klab,ldme,imjced->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.0
    t3new_aaaaaa += np.einsum("klac,ldme,imjbed->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.0
    t3new_aaaaaa += np.einsum("klad,ldme,imjbec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.00000000000004
    t3new_aaaaaa += np.einsum("klbc,ldme,imjaed->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.0
    t3new_aaaaaa += np.einsum("klbd,ldme,imjaec->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * -4.00000000000004
    t3new_aaaaaa += np.einsum("klcd,ldme,imjaeb->ijkabc", t2.aaaa, v.aabb.ovov, t3.abaaba) * 4.00000000000004
    t3new_aaaaaa += np.einsum("ijad,ldme,klmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ijbd,ldme,klmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ijcd,ldme,klmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ijde,ldme,klmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aaaaaa += np.einsum("ijad,lemd,klmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ijbd,lemd,klmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ijcd,lemd,klmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ijde,lemd,klmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aaaaaa += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ikbd,ldme,jlmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ikcd,ldme,jlmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ikde,ldme,jlmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aaaaaa += np.einsum("ikad,lemd,jlmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ikbd,lemd,jlmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ikcd,lemd,jlmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ikde,lemd,jlmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aaaaaa += np.einsum("ilab,ldme,jkmcde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.0
    t3new_aaaaaa += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.0
    t3new_aaaaaa += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("ilbc,ldme,jkmade->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.0
    t3new_aaaaaa += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("ilcd,ldme,jkmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("ilde,ldme,jkmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("ilbd,lemd,jkmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("ilcd,lemd,jkmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("ilde,lemd,jkmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jkad,ldme,ilmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jkcd,ldme,ilmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jkde,ldme,ilmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aaaaaa += np.einsum("jkad,lemd,ilmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jkbd,lemd,ilmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jkcd,lemd,ilmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jkde,lemd,ilmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aaaaaa += np.einsum("jlab,ldme,ikmcde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.0
    t3new_aaaaaa += np.einsum("jlac,ldme,ikmbde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.0
    t3new_aaaaaa += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.0
    t3new_aaaaaa += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("jlde,ldme,ikmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jlad,lemd,ikmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("jlcd,lemd,ikmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("jlde,lemd,ikmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("klab,ldme,ijmcde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.0
    t3new_aaaaaa += np.einsum("klac,ldme,ijmbde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.0
    t3new_aaaaaa += np.einsum("klad,ldme,ijmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("klbc,ldme,ijmade->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.0
    t3new_aaaaaa += np.einsum("klbd,ldme,ijmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("klde,ldme,ijmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("klad,lemd,ijmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("klbd,lemd,ijmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aaaaaa += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -12.000000000000123
    t3new_aaaaaa += np.einsum("klde,lemd,ijmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lmab,ldme,ijkcde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lmac,ldme,ijkbde->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lmad,ldme,ijkbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lmbc,ldme,ijkade->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lmbd,ldme,ijkace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lmcd,ldme,ijkabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lmad,lemd,ijkbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lmbd,lemd,ijkace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,la,jmbc,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("id,la,jmbc,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,la,kmbc,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,la,kmbc,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,jmac,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,lb,jmac,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,kmac,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,kmac,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,jmab,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("id,lc,jmab,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,kmab,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,kmab,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,imbc,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jd,la,imbc,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,kmbc,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,kmbc,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,imac,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,lb,imac,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,kmac,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,kmac,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,imab,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("jd,lc,imab,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,kmab,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,kmab,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,imbc,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("kd,la,imbc,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,jmbc,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,jmbc,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,imac,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,lb,imac,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,jmac,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,jmac,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,imab,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("kd,lc,imab,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,jmab,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,jmab,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("la,mb,ikcd,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("la,mb,ikcd,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("la,mb,ijcd,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("la,mb,ijcd,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("la,mb,jkcd,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("la,mb,jkcd,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("la,mc,ikbd,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("la,mc,ikbd,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("la,mc,ijbd,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("la,mc,ijbd,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("la,mc,jkbd,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("la,mc,jkbd,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("lb,mc,ikad,jlmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("lb,mc,ikad,jmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("lb,mc,ijad,klmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("lb,mc,ijad,kmld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("lb,mc,jkad,ilmd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aaaaaa += np.einsum("lb,mc,jkad,imld->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aaaaaa += np.einsum("id,je,klac,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,je,klab,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,je,klbc,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,je,klac,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,je,klab,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,je,klbc,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,jlac,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,ke,jlab,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,jlbc,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,jlac,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,jlab,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,ke,jlbc,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,la,jkbe,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,la,jkce,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,la,jkbe,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,la,jkce,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,jkae,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,lb,jkce,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,jkae,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,jkce,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,jkae,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,lc,jkbe,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,jkae,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,jkbe,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,ilac,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ke,ilab,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,ilbc,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,ilac,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,ilab,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,ke,ilbc,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,la,ikbe,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,la,ikce,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,ikbe,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,ikce,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,ikae,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,lb,ikce,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,ikae,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,ikce,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,ikae,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("jd,lc,ikbe,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,ikae,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,ikbe,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,ijbe,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,la,ijce,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,ijbe,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,ijce,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,ijae,ldce->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,lb,ijce,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,ijae,lecd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,ijce,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("kd,lc,ijbe,ldae->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,ijae,lebd->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,ijbe,lead->ijkabc", t1.aa, t1.aa, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aaaaaa += np.einsum("id,la,ldme,jmkbec->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,ldme,jmkaec->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("id,lc,ldme,jmkaeb->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,ldme,imkbec->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,ldme,imkaec->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("jd,lc,ldme,imkaeb->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,ldme,imjbec->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,ldme,imjaec->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aaaaaa += np.einsum("kd,lc,ldme,imjaeb->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aaaaaa += np.einsum("id,je,ldme,klmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aaaaaa += np.einsum("id,je,lemd,klmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aaaaaa += np.einsum("id,ke,ldme,jlmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aaaaaa += np.einsum("id,ke,lemd,jlmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aaaaaa += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,la,lemd,jkmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,lb,ldme,jkmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,lb,lemd,jkmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,lc,ldme,jkmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,lc,lemd,jkmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,le,ldme,jkmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,le,lemd,jkmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,ke,ldme,ilmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aaaaaa += np.einsum("jd,ke,lemd,ilmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aaaaaa += np.einsum("jd,la,ldme,ikmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,la,lemd,ikmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,lb,lemd,ikmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,lc,ldme,ikmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("jd,lc,lemd,ikmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,le,ldme,ikmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,le,lemd,ikmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,la,ldme,ijmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,la,lemd,ijmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,lb,ldme,ijmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,lb,lemd,ijmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("kd,lc,lemd,ijmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,le,ldme,ijmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("la,mb,ldme,ijkcde->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("la,mc,ldme,ijkbde->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lb,mc,ldme,ijkade->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,ma,ldme,ijkbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,ma,lemd,ijkbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,mb,ldme,ijkace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("ld,mb,lemd,ijkace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("ld,mc,lemd,ijkabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("id,le,lemd,jkmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("jd,le,lemd,ikmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("la,md,lemd,ijkbce->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("lb,md,lemd,ijkace->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.aaaaaa) * 6.0
    t3new_aaaaaa += np.einsum("lc,md,lemd,ijkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.aaaaaa) * -6.0
    t3new_aaaaaa += np.einsum("id,jlae,kmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,jlbe,kmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,jlce,kmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,klae,jmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,klbe,jmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,klce,jmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ilae,kmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ilbe,kmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ilce,kmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,klae,imbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,klbe,imac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,klce,imab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ilbe,jmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,ilce,jmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,jlae,imbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,jlbe,imac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,jlce,imab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,imbd,jkce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,imcd,jkbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,jmbd,ikce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,jmcd,ikbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,kmbd,ijce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,kmcd,ijbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,imad,jkce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,imcd,jkae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lb,jmad,ikce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lb,jmcd,ikae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,kmad,ijce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,kmcd,ijae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,imbd,jkae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lc,jmad,ikbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lc,jmbd,ikae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,kmad,ijbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,kmbd,ijae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,jlac,kmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("id,jlae,kmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,jlab,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,jlbc,kmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,jlbe,kmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("id,jlce,kmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,jlac,kmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,jlae,kmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("id,jlab,kmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("id,jlbc,kmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("id,jlbe,kmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,jlce,kmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("id,jkae,lmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,jkbe,lmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,jkce,lmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,jkae,lmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,jkbe,lmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,jkce,lmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ilac,kmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("jd,ilae,kmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("jd,ilbc,kmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("jd,ilbe,kmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("jd,ilce,kmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("jd,ilac,kmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("jd,ilae,kmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("jd,ilab,kmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("jd,ilbc,kmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("jd,ilbe,kmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("jd,ilce,kmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("jd,ikae,lmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikbe,lmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ikce,lmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikae,lmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ikbe,lmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ikce,lmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("kd,ilae,jmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("kd,ilab,jmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("kd,ilbc,jmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("kd,ilbe,jmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("kd,ilce,jmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("kd,ilac,jmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("kd,ilab,jmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("kd,ilbc,jmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("kd,ilbe,jmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("kd,ilce,jmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("kd,ijae,lmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijbe,lmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,ijce,lmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijae,lmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,ijbe,lmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,ijce,lmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,ikbd,jmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("la,ikcd,jmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("la,ikde,jmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,ikbd,jmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("la,ikcd,jmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("la,ikde,jmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,imbd,jkce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("la,imbc,jkde,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,imcd,jkbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("la,imbd,jkce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("la,imbc,jkde,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("la,imcd,jkbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("la,ijbd,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("la,ijcd,kmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("la,ijde,kmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("la,ijbd,kmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("la,ijcd,kmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("la,ijde,kmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,ikad,jmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lb,ikcd,jmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lb,ikde,jmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lb,ikad,jmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lb,ikcd,jmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lb,ikde,jmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,imad,jkce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lb,imac,jkde,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,imcd,jkae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lb,imad,jkce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lb,imac,jkde,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lb,imcd,jkae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lb,ijcd,kmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lb,ijde,kmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lb,ijad,kmce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lb,ijcd,kmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lb,ijde,kmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lc,ikbd,jmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lc,ikde,jmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lc,ikad,jmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lc,ikbd,jmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lc,ikde,jmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,imad,jkbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lc,imab,jkde,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,imbd,jkae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lc,imab,jkde,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("lc,imbd,jkae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lc,ijad,kmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lc,ijbd,kmae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lc,ijde,kmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("lc,ijad,kmbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("lc,ijbd,kmae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("lc,ijde,kmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ikbe,jmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ikce,jmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ikae,jmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ikbe,jmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ikce,jmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,imab,jkce,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,imbc,jkae,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,imac,jkbe,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,imab,jkce,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,imbc,jkae,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ijae,kmbc,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijbe,kmac,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ijce,kmab,ldme->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijae,kmbc,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ijbe,kmac,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijce,kmab,lemd->ijkabc", t1.aa, t2.aaaa, t2.aaaa, v.aaaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ikbe,jmac,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ikce,jmab,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,imab,jkce,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,imbc,jkae,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijae,kmbc,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("ld,ijbe,kmac,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_aaaaaa += np.einsum("ld,ijce,kmab,ldme->ijkabc", t1.bb, t2.aaaa, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_aaaaaa += np.einsum("id,je,la,kmbc,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,je,la,kmbc,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,je,lb,kmac,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,je,lb,kmac,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,je,lc,kmab,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,je,lc,kmab,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,la,jmbc,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,la,jmbc,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,ke,lb,jmac,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,ke,lb,jmac,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,lc,jmab,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,ke,lc,jmab,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,la,mb,jkce,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,la,mb,jkce,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,la,mc,jkbe,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("id,la,mc,jkbe,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,mc,jkae,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("id,lb,mc,jkae,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ke,la,imbc,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,la,imbc,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ke,lb,imac,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,ke,lb,imac,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,lc,imab,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,ke,lc,imab,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,la,mb,ikce,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,la,mb,ikce,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,mc,ikbe,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("jd,la,mc,ikbe,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,mc,ikae,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("jd,lb,mc,ikae,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,la,mb,ijce,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,la,mb,ijce,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,mc,ijbe,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aaaaaa += np.einsum("kd,la,mc,ijbe,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,mc,ijae,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aaaaaa += np.einsum("kd,lb,mc,ijae,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.aaaa, v.aaaa.ovov) * 2.0

    # T3 amplitudes
    t3new_aabaab = np.zeros((nocc[0], nocc[0], nocc[1], nvir[0], nvir[0], nvir[1]), dtype=np.float64)
    t3new_aabaab += np.einsum("il,jklacb->ijkabc", f.aa.oo, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jl,iklacb->ijkabc", f.aa.oo, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kl,iljacb->ijkabc", f.bb.oo, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ad,ikjbcd->ijkabc", f.aa.vv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("bd,ikjacd->ijkabc", f.aa.vv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("cd,ikjadb->ijkabc", f.bb.vv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ilac,kljb->ijkabc", t2.abab, v.bbaa.ooov) * -1.0
    t3new_aabaab += np.einsum("ilbc,klja->ijkabc", t2.abab, v.bbaa.ooov)
    t3new_aabaab += np.einsum("jlac,klib->ijkabc", t2.abab, v.bbaa.ooov)
    t3new_aabaab += np.einsum("jlbc,klia->ijkabc", t2.abab, v.bbaa.ooov) * -1.0
    t3new_aabaab += np.einsum("lkac,iljb->ijkabc", t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("lkbc,ilja->ijkabc", t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("lkac,jlib->ijkabc", t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("lkbc,jlia->ijkabc", t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("ikbd,jacd->ijkabc", t2.abab, v.aabb.ovvv) * -1.0
    t3new_aabaab += np.einsum("ikdc,jabd->ijkabc", t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ikad,jbcd->ijkabc", t2.abab, v.aabb.ovvv)
    t3new_aabaab += np.einsum("ikdc,jbad->ijkabc", t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("jkbd,iacd->ijkabc", t2.abab, v.aabb.ovvv)
    t3new_aabaab += np.einsum("jkdc,iabd->ijkabc", t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("jkad,ibcd->ijkabc", t2.abab, v.aabb.ovvv) * -1.0
    t3new_aabaab += np.einsum("jkdc,ibad->ijkabc", t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilab,jlkc->ijkabc", t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aabaab += np.einsum("jlab,ilkc->ijkabc", t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aabaab += np.einsum("ijad,kcbd->ijkabc", t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("ijbd,kcad->ijkabc", t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("iljm,lkmacb->ijkabc", v.aaaa.oooo, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ilkm,jmlacb->ijkabc", v.aabb.oooo, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jlkm,imlacb->ijkabc", v.aabb.oooo, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ilad,jklbcd->ijkabc", v.aaaa.oovv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ilbd,jklacd->ijkabc", v.aaaa.oovv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ilcd,jkladb->ijkabc", v.aabb.oovv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jlad,iklbcd->ijkabc", v.aaaa.oovv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jlbd,iklacd->ijkabc", v.aaaa.oovv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jlcd,ikladb->ijkabc", v.aabb.oovv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("klad,iljbcd->ijkabc", v.bbaa.oovv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("klbd,iljacd->ijkabc", v.bbaa.oovv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("klcd,iljadb->ijkabc", v.bbbb.oovv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("iald,jklbcd->ijkabc", v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ibld,jklacd->ijkabc", v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jald,iklbcd->ijkabc", v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jbld,iklacd->ijkabc", v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("kcld,iljadb->ijkabc", v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("adbe,ikjdce->ijkabc", v.aaaa.vvvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("adce,ikjbed->ijkabc", v.aabb.vvvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("bdce,ikjaed->ijkabc", v.aabb.vvvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("iald,jklbcd->ijkabc", v.aabb.ovov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("ibld,jklacd->ijkabc", v.aabb.ovov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("jald,iklbcd->ijkabc", v.aabb.ovov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("jbld,iklacd->ijkabc", v.aabb.ovov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("kcld,ijlabd->ijkabc", v.bbaa.ovov, t3.aaaaaa) * 6.0
    t3new_aabaab += np.einsum("ld,id,jklacb->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,jd,iklacb->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,la,ikjbcd->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,lb,ikjacd->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,kd,iljacb->ijkabc", f.bb.ov, t1.bb, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,lc,ikjadb->ijkabc", f.bb.ov, t1.bb, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,ikad,jlbc->ijkabc", f.bb.ov, t2.abab, t2.abab) * -1.0
    t3new_aabaab += np.einsum("ld,ikbd,jlac->ijkabc", f.bb.ov, t2.abab, t2.abab)
    t3new_aabaab += np.einsum("ld,ilac,jkbd->ijkabc", f.bb.ov, t2.abab, t2.abab) * -1.0
    t3new_aabaab += np.einsum("ld,ilbc,jkad->ijkabc", f.bb.ov, t2.abab, t2.abab)
    t3new_aabaab += np.einsum("ld,ikdc,jlab->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * 2.0
    t3new_aabaab += np.einsum("ld,jkdc,ilab->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * -2.0
    t3new_aabaab += np.einsum("ld,lkac,ijbd->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * 2.0
    t3new_aabaab += np.einsum("ld,lkbc,ijad->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * -2.0
    t3new_aabaab += np.einsum("id,jlac,klbd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv)
    t3new_aabaab += np.einsum("id,jlbc,klad->ijkabc", t1.aa, t2.abab, v.bbaa.oovv) * -1.0
    t3new_aabaab += np.einsum("id,lkac,jlbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_aabaab += np.einsum("id,lkbc,jlad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_aabaab += np.einsum("jd,ilac,klbd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv) * -1.0
    t3new_aabaab += np.einsum("jd,ilbc,klad->ijkabc", t1.aa, t2.abab, v.bbaa.oovv)
    t3new_aabaab += np.einsum("jd,lkac,ilbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_aabaab += np.einsum("jd,lkbc,ilad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_aabaab += np.einsum("la,imbc,jlkm->ijkabc", t1.aa, t2.abab, v.aabb.oooo) * -1.0
    t3new_aabaab += np.einsum("la,jmbc,ilkm->ijkabc", t1.aa, t2.abab, v.aabb.oooo)
    t3new_aabaab += np.einsum("la,mkbc,iljm->ijkabc", t1.aa, t2.abab, v.aaaa.oooo)
    t3new_aabaab += np.einsum("la,mkbc,imjl->ijkabc", t1.aa, t2.abab, v.aaaa.oooo) * -1.0
    t3new_aabaab += np.einsum("lb,imac,jlkm->ijkabc", t1.aa, t2.abab, v.aabb.oooo)
    t3new_aabaab += np.einsum("lb,jmac,ilkm->ijkabc", t1.aa, t2.abab, v.aabb.oooo) * -1.0
    t3new_aabaab += np.einsum("lb,mkac,iljm->ijkabc", t1.aa, t2.abab, v.aaaa.oooo) * -1.0
    t3new_aabaab += np.einsum("lb,mkac,imjl->ijkabc", t1.aa, t2.abab, v.aaaa.oooo)
    t3new_aabaab += np.einsum("la,ikbd,jlcd->ijkabc", t1.aa, t2.abab, v.aabb.oovv)
    t3new_aabaab += np.einsum("la,ikdc,jlbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_aabaab += np.einsum("la,jkbd,ilcd->ijkabc", t1.aa, t2.abab, v.aabb.oovv) * -1.0
    t3new_aabaab += np.einsum("la,jkdc,ilbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_aabaab += np.einsum("lb,ikad,jlcd->ijkabc", t1.aa, t2.abab, v.aabb.oovv) * -1.0
    t3new_aabaab += np.einsum("lb,ikdc,jlad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_aabaab += np.einsum("lb,jkad,ilcd->ijkabc", t1.aa, t2.abab, v.aabb.oovv)
    t3new_aabaab += np.einsum("lb,jkdc,ilad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_aabaab += np.einsum("id,lkbc,jald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("id,lkac,jbld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,lkbc,iald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,lkac,ibld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("la,ikdc,jbld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("la,jkdc,ibld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("lb,ikdc,jald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("lb,jkdc,iald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("id,jkbe,adce->ijkabc", t1.aa, t2.abab, v.aabb.vvvv)
    t3new_aabaab += np.einsum("id,jkec,adbe->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv)
    t3new_aabaab += np.einsum("id,jkec,aebd->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv) * -1.0
    t3new_aabaab += np.einsum("id,jkae,bdce->ijkabc", t1.aa, t2.abab, v.aabb.vvvv) * -1.0
    t3new_aabaab += np.einsum("jd,ikbe,adce->ijkabc", t1.aa, t2.abab, v.aabb.vvvv) * -1.0
    t3new_aabaab += np.einsum("jd,ikec,adbe->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv) * -1.0
    t3new_aabaab += np.einsum("jd,ikec,aebd->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv)
    t3new_aabaab += np.einsum("jd,ikae,bdce->ijkabc", t1.aa, t2.abab, v.aabb.vvvv)
    t3new_aabaab += np.einsum("id,jlab,kcld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("jd,ilab,kcld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("la,ijbd,kcld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lb,ijad,kcld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("kd,ilbc,jald->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("kd,ilac,jbld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,jlbc,iald->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,jlac,ibld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("lc,ikbd,jald->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("lc,ikad,jbld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("lc,jkbd,iald->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("lc,jkad,ibld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("kd,ilab,jlcd->ijkabc", t1.bb, t2.aaaa, v.aabb.oovv) * -2.0
    t3new_aabaab += np.einsum("kd,jlab,ilcd->ijkabc", t1.bb, t2.aaaa, v.aabb.oovv) * 2.0
    t3new_aabaab += np.einsum("lc,imab,jmkl->ijkabc", t1.bb, t2.aaaa, v.aabb.oooo) * 2.0
    t3new_aabaab += np.einsum("lc,jmab,imkl->ijkabc", t1.bb, t2.aaaa, v.aabb.oooo) * -2.0
    t3new_aabaab += np.einsum("lc,ijad,klbd->ijkabc", t1.bb, t2.aaaa, v.bbaa.oovv) * -2.0
    t3new_aabaab += np.einsum("lc,ijbd,klad->ijkabc", t1.bb, t2.aaaa, v.bbaa.oovv) * 2.0
    t3new_aabaab += np.einsum("kd,ijbe,aecd->ijkabc", t1.bb, t2.aaaa, v.aabb.vvvv) * -2.0
    t3new_aabaab += np.einsum("kd,ijae,becd->ijkabc", t1.bb, t2.aaaa, v.aabb.vvvv) * 2.0
    t3new_aabaab += np.einsum("id,jlmd,lkmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,klmd,jlmacb->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,ilmd,lkmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,klmd,ilmacb->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,imld,jkmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("la,jlmd,ikmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("la,jmld,ikmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,kmld,imjbcd->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lb,ilmd,jkmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lb,imld,jkmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lb,jmld,ikmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lb,kmld,imjacd->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,ilmd,jkmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,imld,jkmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,jlmd,ikmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,jmld,ikmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,kmld,imjacb->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,ldae,jklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,ldbe,jklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("id,ldce,jklaeb->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("id,lead,jklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("id,lebd,jklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,ldae,iklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,ldbe,iklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,ldce,iklaeb->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,lead,iklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,lebd,iklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("la,ldbe,ikjdce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,ldce,ikjbed->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lb,ldae,ikjdce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lb,ldce,ikjaed->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,ldae,ikjbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,ldbe,ikjace->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,ldce,ikjaeb->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,lead,ikjbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,lebd,ikjace->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.aa, v.aabb.ooov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("la,jlmd,ikmbcd->ijkabc", t1.aa, v.aabb.ooov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("lb,ilmd,jkmacd->ijkabc", t1.aa, v.aabb.ooov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.aa, v.aabb.ooov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("id,lead,jklbce->ijkabc", t1.aa, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("id,lebd,jklace->ijkabc", t1.aa, v.bbaa.ovvv, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("jd,lead,iklbce->ijkabc", t1.aa, v.bbaa.ovvv, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("jd,lebd,iklace->ijkabc", t1.aa, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("kd,ilmd,jmlacb->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kd,jlmd,imlacb->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lc,imld,jkmadb->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lc,jmld,ikmadb->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lc,klmd,imjadb->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lc,kmld,imjadb->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,imld,jkmacb->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,jmld,ikmacb->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,klmd,imjacb->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,kmld,imjacb->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kd,ldae,iljbce->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("kd,ldbe,iljace->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kd,ldce,iljaeb->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kd,lecd,iljaeb->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lc,ldae,ikjbde->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lc,ldbe,ikjade->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,ldae,ikjbce->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,ldbe,ikjace->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,ldce,ikjaeb->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,lecd,ikjaeb->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lc,klmd,ijmabd->ijkabc", t1.bb, v.bbaa.ooov, t3.aaaaaa) * -6.0
    t3new_aabaab += np.einsum("kd,lecd,ijlabe->ijkabc", t1.bb, v.aabb.ovvv, t3.aaaaaa) * 6.0
    t3new_aabaab += np.einsum("ilac,jmbd,klmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilad,jmbc,klmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_aabaab += np.einsum("ilbc,jmad,klmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_aabaab += np.einsum("ilbd,jmac,klmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilac,jmbd,kmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_aabaab += np.einsum("ilad,jmbc,kmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilbc,jmad,kmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilbd,jmac,kmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_aabaab += np.einsum("ikad,lmbc,jlmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("ikbd,lmac,jlmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilac,mkbd,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("ilad,mkbc,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilbc,mkad,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("ilbd,mkac,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("jkad,lmbc,ilmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("jkbd,lmac,ilmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("jlac,mkbd,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("jlad,mkbc,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("jlbc,mkad,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("jlbd,mkac,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("ikad,jlbe,ldce->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_aabaab += np.einsum("ikad,jlec,ldbe->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ikbd,jlae,ldce->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_aabaab += np.einsum("ikbd,jlec,ldae->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("ikad,jlbe,lecd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_aabaab += np.einsum("ikbd,jlae,lecd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_aabaab += np.einsum("ikdc,jlae,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ikde,jlac,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("ikdc,jlbe,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("ikde,jlbc,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilad,jkbe,ldce->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_aabaab += np.einsum("ilad,jkec,ldbe->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("ilbd,jkae,ldce->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilbd,jkec,ldae->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilad,jkbe,lecd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilac,jkde,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilbd,jkae,lecd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_aabaab += np.einsum("ilbc,jkde,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("ildc,jkae,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("ildc,jkbe,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("ilac,jmbd,klmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_aabaab += np.einsum("ilbc,jmad,klmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_aabaab += np.einsum("ildc,jmab,klmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_aabaab += np.einsum("ikdc,lmab,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("ikdc,lmab,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov)
    t3new_aabaab += np.einsum("jlac,imbd,klmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_aabaab += np.einsum("jlbc,imad,klmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_aabaab += np.einsum("jldc,imab,klmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_aabaab += np.einsum("jkdc,lmab,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov)
    t3new_aabaab += np.einsum("jkdc,lmab,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("lkac,imbd,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aabaab += np.einsum("lkbc,imad,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lkdc,imab,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aabaab += np.einsum("lkac,imbd,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lkbc,imad,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aabaab += np.einsum("lkdc,imab,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lmac,ijbd,kmld->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lmbc,ijad,kmld->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_aabaab += np.einsum("lkac,jmbd,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lkbc,jmad,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aabaab += np.einsum("lkdc,jmab,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lkac,jmbd,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aabaab += np.einsum("lkbc,jmad,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lkdc,jmab,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_aabaab += np.einsum("ikdc,jlae,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("ikde,jlab,ldce->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_aabaab += np.einsum("ikdc,jlbe,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("ikad,jlbe,lecd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_aabaab += np.einsum("ikbd,jlae,lecd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_aabaab += np.einsum("ikdc,jlae,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("ikdc,jlbe,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("jkdc,ilae,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("jkde,ilab,ldce->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_aabaab += np.einsum("jkdc,ilbe,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("jkad,ilbe,lecd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_aabaab += np.einsum("jkbd,ilae,lecd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_aabaab += np.einsum("jkdc,ilae,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("jkdc,ilbe,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("lkac,ijde,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("lkbc,ijde,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("lkdc,ijae,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("lkdc,ijbe,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("lkad,ijbe,lecd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_aabaab += np.einsum("lkac,ijde,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("lkbd,ijae,lecd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_aabaab += np.einsum("lkbc,ijde,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("lkdc,ijae,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("lkdc,ijbe,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.aaaa, t2.bbbb, v.aabb.ooov) * -4.0
    t3new_aabaab += np.einsum("jlab,kmcd,ilmd->ijkabc", t2.aaaa, t2.bbbb, v.aabb.ooov) * 4.0
    t3new_aabaab += np.einsum("ijad,klce,lebd->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ovvv) * 4.0
    t3new_aabaab += np.einsum("ijbd,klce,lead->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ovvv) * -4.0
    t3new_aabaab += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("ikbd,ldme,jlmace->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("ikdc,ldme,jmlaeb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("ikde,ldme,jmlacb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("ikad,lemd,jmlbce->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("ikbd,lemd,jmlace->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("ikdc,lemd,jlmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("ikde,lemd,jlmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_aabaab += np.einsum("ilbc,ldme,jkmade->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_aabaab += np.einsum("ildc,lemd,jkmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_aabaab += np.einsum("ilde,lemd,jkmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jkad,ldme,ilmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("jkdc,ldme,imlaeb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("jkde,ldme,imlacb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("jkad,lemd,imlbce->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("jkbd,lemd,imlace->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("jkdc,lemd,ilmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("jkde,lemd,ilmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("jlac,ldme,ikmbde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_aabaab += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_aabaab += np.einsum("jldc,lemd,ikmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_aabaab += np.einsum("jlde,lemd,ikmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lkac,ldme,imjbed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lkbc,ldme,imjaed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lkdc,ldme,imjaeb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aabaab += np.einsum("lkde,ldme,imjacb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lkad,lemd,imjbce->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.00000000000002
    t3new_aabaab += np.einsum("lkbd,lemd,imjace->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.00000000000002
    t3new_aabaab += np.einsum("lmac,ldme,ikjbed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lmbc,ldme,ikjaed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lmdc,ldme,ikjaeb->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lmad,lemd,ikjbce->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lmbd,lemd,ikjace->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_aabaab += np.einsum("ikbd,ldme,jlmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_aabaab += np.einsum("ikdc,ldme,jlmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aabaab += np.einsum("ikad,lemd,jlmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_aabaab += np.einsum("ikbd,lemd,jlmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_aabaab += np.einsum("ikdc,lemd,jlmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aabaab += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.00000000000002
    t3new_aabaab += np.einsum("ilbc,ldme,jkmade->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.00000000000002
    t3new_aabaab += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.00000000000002
    t3new_aabaab += np.einsum("ilbd,lemd,jkmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.00000000000002
    t3new_aabaab += np.einsum("jkad,ldme,ilmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_aabaab += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_aabaab += np.einsum("jkdc,ldme,ilmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_aabaab += np.einsum("jkad,lemd,ilmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_aabaab += np.einsum("jkbd,lemd,ilmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_aabaab += np.einsum("jkdc,lemd,ilmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_aabaab += np.einsum("jlac,ldme,ikmbde->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.00000000000002
    t3new_aabaab += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.00000000000002
    t3new_aabaab += np.einsum("jlad,lemd,ikmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.00000000000002
    t3new_aabaab += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.00000000000002
    t3new_aabaab += np.einsum("lkac,ldme,ijmbde->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_aabaab += np.einsum("lkbc,ldme,ijmade->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_aabaab += np.einsum("lkdc,ldme,ijmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_aabaab += np.einsum("lkdc,lemd,ijmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_aabaab += np.einsum("ijad,ldme,lkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ijbd,ldme,lkmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ijde,ldme,lkmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("ijad,lemd,lkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ijbd,lemd,lkmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ijde,lemd,lkmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("ilab,ldme,jkmdce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.0
    t3new_aabaab += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_aabaab += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_aabaab += np.einsum("ilde,ldme,jkmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_aabaab += np.einsum("ilbd,lemd,jkmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_aabaab += np.einsum("ilde,lemd,jkmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jlab,ldme,ikmdce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.0
    t3new_aabaab += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_aabaab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_aabaab += np.einsum("jlde,ldme,ikmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jlad,lemd,ikmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_aabaab += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_aabaab += np.einsum("jlde,lemd,ikmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("klcd,ldme,imjaeb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 4.00000000000004
    t3new_aabaab += np.einsum("klde,ldme,imjacb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("klcd,lemd,imjaeb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -4.00000000000004
    t3new_aabaab += np.einsum("klde,lemd,imjacb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lmab,ldme,ikjdce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lmad,ldme,ikjbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lmbd,ldme,ikjace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lmcd,ldme,ikjaeb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lmad,lemd,ikjbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lmbd,lemd,ikjace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lmcd,lemd,ikjaeb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ijad,ldme,klmcbe->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -2.0
    t3new_aabaab += np.einsum("ijbd,ldme,klmcae->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 2.0
    t3new_aabaab += np.einsum("ijad,lemd,klmceb->ijkabc", t2.aaaa, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_aabaab += np.einsum("ijbd,lemd,klmcea->ijkabc", t2.aaaa, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_aabaab += np.einsum("ilab,ldme,jkmdce->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * -4.0
    t3new_aabaab += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * 4.00000000000004
    t3new_aabaab += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * -4.00000000000004
    t3new_aabaab += np.einsum("jlab,ldme,ikmdce->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * 4.0
    t3new_aabaab += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * -4.00000000000004
    t3new_aabaab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * 4.00000000000004
    t3new_aabaab += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_aabaab += np.einsum("id,la,jmbc,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov)
    t3new_aabaab += np.einsum("id,la,mkbc,jlmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("id,la,mkbc,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("id,lb,jmac,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t3new_aabaab += np.einsum("id,lb,mkac,jlmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("id,lb,mkac,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("jd,la,imbc,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t3new_aabaab += np.einsum("jd,la,mkbc,ilmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("jd,la,mkbc,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("jd,lb,imac,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov)
    t3new_aabaab += np.einsum("jd,lb,mkac,ilmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("jd,lb,mkac,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("la,mb,ikdc,jlmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("la,mb,ikdc,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("la,mb,jkdc,ilmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_aabaab += np.einsum("la,mb,jkdc,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_aabaab += np.einsum("id,je,lkac,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("id,je,lkbc,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("id,je,lkac,lebd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("id,je,lkbc,lead->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("id,la,jkbe,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t3new_aabaab += np.einsum("id,la,jkec,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("id,la,jkec,lebd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("id,lb,jkae,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv)
    t3new_aabaab += np.einsum("id,lb,jkec,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("id,lb,jkec,lead->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,la,ikbe,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv)
    t3new_aabaab += np.einsum("jd,la,ikec,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("jd,la,ikec,lebd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,lb,ikae,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,lb,ikec,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,lb,ikec,lead->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_aabaab += np.einsum("la,kd,imbc,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("la,kd,jmbc,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("lb,kd,imac,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("lb,kd,jmac,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("la,mc,ikbd,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("la,mc,jkbd,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("lb,mc,ikad,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_aabaab += np.einsum("lb,mc,jkad,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_aabaab += np.einsum("id,ke,jlac,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("id,ke,jlbc,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("id,lc,jkae,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("id,lc,jkbe,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,ke,ilac,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,ke,ilbc,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("jd,lc,ikae,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_aabaab += np.einsum("jd,lc,ikbe,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_aabaab += np.einsum("id,lc,jmab,klmd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_aabaab += np.einsum("jd,lc,imab,klmd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_aabaab += np.einsum("la,mc,ijbd,kmld->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_aabaab += np.einsum("lb,mc,ijad,kmld->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_aabaab += np.einsum("id,ke,jlab,ldce->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_aabaab += np.einsum("jd,ke,ilab,ldce->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_aabaab += np.einsum("la,kd,ijbe,lecd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_aabaab += np.einsum("lb,kd,ijae,lecd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_aabaab += np.einsum("kd,lc,imab,jmld->ijkabc", t1.bb, t1.bb, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_aabaab += np.einsum("kd,lc,jmab,imld->ijkabc", t1.bb, t1.bb, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_aabaab += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_aabaab += np.einsum("kd,lc,ijbe,ldae->ijkabc", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_aabaab += np.einsum("id,je,ldme,lkmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("id,je,lemd,lkmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,la,lemd,jkmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("id,lb,ldme,jkmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("id,lb,lemd,jkmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,le,ldme,jkmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,le,lemd,jkmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,la,ldme,ikmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,la,lemd,ikmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("jd,lb,lemd,ikmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,le,ldme,ikmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,le,lemd,ikmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,mb,ldme,ikjdce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,ma,ldme,ikjbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,ma,lemd,ikjbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,mb,ldme,ikjace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,mb,lemd,ikjace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("id,lb,ldme,jkmace->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("jd,la,ldme,ikmbce->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_aabaab += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_aabaab += np.einsum("id,ke,ldme,jmlacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("id,ke,lemd,jlmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_aabaab += np.einsum("id,lc,lemd,jkmaeb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("id,le,lemd,jkmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,ke,ldme,imlacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("jd,ke,lemd,ilmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba)
    t3new_aabaab += np.einsum("jd,lc,lemd,ikmaeb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("jd,le,lemd,ikmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,kd,lemd,imjbce->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("lb,kd,lemd,imjace->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("ld,ke,ldme,imjacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,mc,ldme,ikjbed->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("la,md,lemd,ikjbce->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lb,mc,ldme,ikjaed->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("lb,md,lemd,ikjace->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,mc,ldme,ikjaeb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kd,lc,ldme,imjaeb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("kd,lc,lemd,imjaeb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("kd,le,ldme,imjacb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("kd,le,lemd,imjacb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,mc,ldme,ikjaeb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_aabaab += np.einsum("ld,mc,lemd,ikjaeb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_aabaab += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_aabaab += np.einsum("id,jkae,lmbc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("id,jkbe,lmac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("id,jlac,mkbe,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_aabaab += np.einsum("id,jlae,mkbc,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_aabaab += np.einsum("id,jlbc,mkae,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_aabaab += np.einsum("id,jlbe,mkac,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,ikae,lmbc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("jd,ikbe,lmac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,ilac,mkbe,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_aabaab += np.einsum("jd,ilae,mkbc,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,ilbc,mkae,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,ilbe,mkac,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_aabaab += np.einsum("la,ikdc,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("la,ikde,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("la,ikbd,jmec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("la,imbc,jkde,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("la,imdc,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("la,imbd,jkec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("lb,ikdc,jmae,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("lb,ikde,jmac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("lb,ikad,jmec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("lb,imac,jkde,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("lb,imdc,jkae,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("lb,imad,jkec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("ld,ikbe,jmac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("ld,imbc,jkae,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("id,jkec,lmab,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_aabaab += np.einsum("id,jkec,lmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("id,lkac,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("id,lkbc,jmae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("id,lkec,jmab,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("id,lkac,jmbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("id,lkbc,jmae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("id,lkec,jmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("jd,ikec,lmab,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,ikec,lmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_aabaab += np.einsum("jd,lkac,imbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("jd,lkbc,imae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("jd,lkec,imab,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("jd,lkac,imbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("jd,lkbc,imae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("jd,lkec,imab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("la,ikdc,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("la,ikdc,jmbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("la,jkdc,imbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("la,jkdc,imbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("la,mkbc,ijde,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_aabaab += np.einsum("la,mkdc,ijbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("la,mkbc,ijde,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("la,mkdc,ijbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lb,ikdc,jmae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lb,ikdc,jmae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("lb,jkdc,imae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("lb,jkdc,imae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lb,mkac,ijde,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("lb,mkdc,ijae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lb,mkac,ijde,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_aabaab += np.einsum("lb,mkdc,ijae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("ld,ikec,jmab,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("ld,ikec,jmab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("ld,jkec,imab,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("ld,jkec,imab,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("ld,mkac,ijbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("ld,mkbc,ijae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("ld,mkac,ijbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_aabaab += np.einsum("ld,mkbc,ijae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_aabaab += np.einsum("id,jlab,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_aabaab += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_aabaab += np.einsum("la,ijbd,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_aabaab += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_aabaab += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,ilae,jmbc,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("kd,ilbc,jmae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("kd,ilbe,jmac,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,ilac,jmbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,ilbc,jmae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,ilbe,jmac,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("lc,ikbd,jmae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("lc,ikad,jmbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("lc,ikbd,jmae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("lc,imad,jkbe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("lc,imbd,jkae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("lc,imbd,jkae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("ld,ikbe,jmac,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("ld,ikae,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("ld,ikbe,jmac,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("ld,imbc,jkae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("ld,imac,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_aabaab += np.einsum("ld,imbc,jkae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_aabaab += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("kd,ilbc,jmae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("kd,ilec,jmab,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("kd,jlac,imbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("kd,jlbc,imae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("kd,jlec,imab,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("kd,lmac,ijbe,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aabaab += np.einsum("kd,lmbc,ijae,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_aabaab += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("lc,ikbd,jmae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lc,ikde,jmab,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("lc,jkad,imbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lc,jkbd,imae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("lc,jkde,imab,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("lc,mkad,ijbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("lc,mkbd,ijae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("ld,ikec,jmab,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("ld,jkec,imab,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("ld,mkac,ijbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("ld,mkbc,ijae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("id,je,la,mkbc,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("id,je,la,mkbc,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("id,je,lb,mkac,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("id,je,lb,mkac,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("id,la,mb,jkec,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("id,la,mb,jkec,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,la,mb,ikec,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,la,mb,ikec,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_aabaab += np.einsum("id,la,ke,jmbc,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("id,lb,ke,jmac,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("id,la,mc,jkbe,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("id,lb,mc,jkae,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,la,ke,imbc,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,lb,ke,imac,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("jd,la,mc,ikbe,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_aabaab += np.einsum("jd,lb,mc,ikae,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_aabaab += np.einsum("id,ke,lc,jmab,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_aabaab += np.einsum("jd,ke,lc,imab,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_aabaab += np.einsum("la,kd,mc,ijbe,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_aabaab += np.einsum("lb,kd,mc,ijae,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.aabb.ovov) * 2.0

    # T3 amplitudes
    t3new_abaaba = np.zeros((nocc[0], nocc[1], nocc[0], nvir[0], nvir[1], nvir[0]), dtype=np.float64)
    t3new_abaaba += np.einsum("il,kjlabc->ijkabc", f.aa.oo, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jl,ilkabc->ijkabc", f.bb.oo, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kl,ijlabc->ijkabc", f.aa.oo, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ad,ijkcbd->ijkabc", f.aa.vv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("bd,ijkadc->ijkabc", f.bb.vv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("cd,ijkabd->ijkabc", f.aa.vv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ilab,jlkc->ijkabc", t2.abab, v.bbaa.ooov) * -1.0
    t3new_abaaba += np.einsum("ilcb,jlka->ijkabc", t2.abab, v.bbaa.ooov)
    t3new_abaaba += np.einsum("klab,jlic->ijkabc", t2.abab, v.bbaa.ooov)
    t3new_abaaba += np.einsum("klcb,jlia->ijkabc", t2.abab, v.bbaa.ooov) * -1.0
    t3new_abaaba += np.einsum("ljab,ilkc->ijkabc", t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("ljcb,ilka->ijkabc", t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("ljab,klic->ijkabc", t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("ljcb,klia->ijkabc", t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("ijcd,kabd->ijkabc", t2.abab, v.aabb.ovvv) * -1.0
    t3new_abaaba += np.einsum("ijdb,kacd->ijkabc", t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ijad,kcbd->ijkabc", t2.abab, v.aabb.ovvv)
    t3new_abaaba += np.einsum("ijdb,kcad->ijkabc", t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("kjcd,iabd->ijkabc", t2.abab, v.aabb.ovvv)
    t3new_abaaba += np.einsum("kjdb,iacd->ijkabc", t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("kjad,icbd->ijkabc", t2.abab, v.aabb.ovvv) * -1.0
    t3new_abaaba += np.einsum("kjdb,icad->ijkabc", t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilac,kljb->ijkabc", t2.aaaa, v.aabb.ooov) * -2.0
    t3new_abaaba += np.einsum("klac,iljb->ijkabc", t2.aaaa, v.aabb.ooov) * 2.0
    t3new_abaaba += np.einsum("ikad,jbcd->ijkabc", t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("ikcd,jbad->ijkabc", t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("iljm,kmlabc->ijkabc", v.aabb.oooo, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ilkm,ljmabc->ijkabc", v.aaaa.oooo, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jlkm,ilmabc->ijkabc", v.bbaa.oooo, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ilad,kjlcbd->ijkabc", v.aaaa.oovv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ilbd,kjladc->ijkabc", v.aabb.oovv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ilcd,kjlabd->ijkabc", v.aaaa.oovv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jlad,ilkcbd->ijkabc", v.bbaa.oovv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jlbd,ilkadc->ijkabc", v.bbbb.oovv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jlcd,ilkabd->ijkabc", v.bbaa.oovv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("klad,ijlcbd->ijkabc", v.aaaa.oovv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("klbd,ijladc->ijkabc", v.aabb.oovv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("klcd,ijlabd->ijkabc", v.aaaa.oovv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("iald,kjlcbd->ijkabc", v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("icld,kjlabd->ijkabc", v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jbld,ilkadc->ijkabc", v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kald,ijlcbd->ijkabc", v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kcld,ijlabd->ijkabc", v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("adbe,ijkced->ijkabc", v.aabb.vvvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("adce,ijkdbe->ijkabc", v.aaaa.vvvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("bdce,ijkade->ijkabc", v.bbaa.vvvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("iald,jklbcd->ijkabc", v.aabb.ovov, t3.babbab) * 2.0
    t3new_abaaba += np.einsum("icld,jklbad->ijkabc", v.aabb.ovov, t3.babbab) * -2.0
    t3new_abaaba += np.einsum("jbld,iklacd->ijkabc", v.bbaa.ovov, t3.aaaaaa) * 6.0
    t3new_abaaba += np.einsum("kald,ijlcbd->ijkabc", v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abaaba += np.einsum("kcld,ijlabd->ijkabc", v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abaaba += np.einsum("ld,id,kjlabc->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,kd,ijlabc->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,la,ijkcbd->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,lc,ijkabd->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,jd,ilkabc->ijkabc", f.bb.ov, t1.bb, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,lb,ijkadc->ijkabc", f.bb.ov, t1.bb, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,ijad,klcb->ijkabc", f.bb.ov, t2.abab, t2.abab) * -1.0
    t3new_abaaba += np.einsum("ld,ijcd,klab->ijkabc", f.bb.ov, t2.abab, t2.abab)
    t3new_abaaba += np.einsum("ld,ilab,kjcd->ijkabc", f.bb.ov, t2.abab, t2.abab) * -1.0
    t3new_abaaba += np.einsum("ld,ilcb,kjad->ijkabc", f.bb.ov, t2.abab, t2.abab)
    t3new_abaaba += np.einsum("ld,ijdb,klac->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * 2.0
    t3new_abaaba += np.einsum("ld,kjdb,ilac->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * -2.0
    t3new_abaaba += np.einsum("ld,ljab,ikcd->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * 2.0
    t3new_abaaba += np.einsum("ld,ljcb,ikad->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * -2.0
    t3new_abaaba += np.einsum("id,klab,jlcd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv)
    t3new_abaaba += np.einsum("id,klcb,jlad->ijkabc", t1.aa, t2.abab, v.bbaa.oovv) * -1.0
    t3new_abaaba += np.einsum("id,ljab,klcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_abaaba += np.einsum("id,ljcb,klad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_abaaba += np.einsum("kd,ilab,jlcd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv) * -1.0
    t3new_abaaba += np.einsum("kd,ilcb,jlad->ijkabc", t1.aa, t2.abab, v.bbaa.oovv)
    t3new_abaaba += np.einsum("kd,ljab,ilcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_abaaba += np.einsum("kd,ljcb,ilad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_abaaba += np.einsum("la,imcb,jmkl->ijkabc", t1.aa, t2.abab, v.bbaa.oooo) * -1.0
    t3new_abaaba += np.einsum("la,kmcb,iljm->ijkabc", t1.aa, t2.abab, v.aabb.oooo)
    t3new_abaaba += np.einsum("la,mjcb,ilkm->ijkabc", t1.aa, t2.abab, v.aaaa.oooo)
    t3new_abaaba += np.einsum("la,mjcb,imkl->ijkabc", t1.aa, t2.abab, v.aaaa.oooo) * -1.0
    t3new_abaaba += np.einsum("lc,imab,jmkl->ijkabc", t1.aa, t2.abab, v.bbaa.oooo)
    t3new_abaaba += np.einsum("lc,kmab,iljm->ijkabc", t1.aa, t2.abab, v.aabb.oooo) * -1.0
    t3new_abaaba += np.einsum("lc,mjab,ilkm->ijkabc", t1.aa, t2.abab, v.aaaa.oooo) * -1.0
    t3new_abaaba += np.einsum("lc,mjab,imkl->ijkabc", t1.aa, t2.abab, v.aaaa.oooo)
    t3new_abaaba += np.einsum("la,ijcd,klbd->ijkabc", t1.aa, t2.abab, v.aabb.oovv)
    t3new_abaaba += np.einsum("la,ijdb,klcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_abaaba += np.einsum("la,kjcd,ilbd->ijkabc", t1.aa, t2.abab, v.aabb.oovv) * -1.0
    t3new_abaaba += np.einsum("la,kjdb,ilcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_abaaba += np.einsum("lc,ijad,klbd->ijkabc", t1.aa, t2.abab, v.aabb.oovv) * -1.0
    t3new_abaaba += np.einsum("lc,ijdb,klad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_abaaba += np.einsum("lc,kjad,ilbd->ijkabc", t1.aa, t2.abab, v.aabb.oovv)
    t3new_abaaba += np.einsum("lc,kjdb,ilad->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_abaaba += np.einsum("id,ljcb,kald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("id,ljab,kcld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ljcb,iald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ljab,icld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("la,ijdb,kcld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("la,kjdb,icld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("lc,ijdb,kald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("lc,kjdb,iald->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("id,kjce,adbe->ijkabc", t1.aa, t2.abab, v.aabb.vvvv)
    t3new_abaaba += np.einsum("id,kjeb,adce->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv)
    t3new_abaaba += np.einsum("id,kjeb,aecd->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv) * -1.0
    t3new_abaaba += np.einsum("id,kjae,becd->ijkabc", t1.aa, t2.abab, v.bbaa.vvvv) * -1.0
    t3new_abaaba += np.einsum("kd,ijce,adbe->ijkabc", t1.aa, t2.abab, v.aabb.vvvv) * -1.0
    t3new_abaaba += np.einsum("kd,ijeb,adce->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv) * -1.0
    t3new_abaaba += np.einsum("kd,ijeb,aecd->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv)
    t3new_abaaba += np.einsum("kd,ijae,becd->ijkabc", t1.aa, t2.abab, v.bbaa.vvvv)
    t3new_abaaba += np.einsum("id,klac,jbld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("kd,ilac,jbld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("la,ikcd,jbld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lc,ikad,jbld->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("jd,ilcb,kald->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("jd,ilab,kcld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,klcb,iald->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,klab,icld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("lb,ijcd,kald->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("lb,ijad,kcld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("lb,kjcd,iald->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("lb,kjad,icld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("jd,ilac,klbd->ijkabc", t1.bb, t2.aaaa, v.aabb.oovv) * -2.0
    t3new_abaaba += np.einsum("jd,klac,ilbd->ijkabc", t1.bb, t2.aaaa, v.aabb.oovv) * 2.0
    t3new_abaaba += np.einsum("lb,imac,jlkm->ijkabc", t1.bb, t2.aaaa, v.bbaa.oooo) * 2.0
    t3new_abaaba += np.einsum("lb,kmac,imjl->ijkabc", t1.bb, t2.aaaa, v.aabb.oooo) * -2.0
    t3new_abaaba += np.einsum("lb,ikad,jlcd->ijkabc", t1.bb, t2.aaaa, v.bbaa.oovv) * -2.0
    t3new_abaaba += np.einsum("lb,ikcd,jlad->ijkabc", t1.bb, t2.aaaa, v.bbaa.oovv) * 2.0
    t3new_abaaba += np.einsum("jd,ikce,aebd->ijkabc", t1.bb, t2.aaaa, v.aabb.vvvv) * -2.0
    t3new_abaaba += np.einsum("jd,ikae,bdce->ijkabc", t1.bb, t2.aaaa, v.bbaa.vvvv) * 2.0
    t3new_abaaba += np.einsum("id,jlmd,klmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,klmd,ljmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,ilmd,ljmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,jlmd,ilmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("la,ilmd,kjmcbd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,imld,kjmcbd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("la,jmld,imkcbd->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,klmd,ijmcbd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("la,kmld,ijmcbd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lc,ilmd,kjmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lc,imld,kjmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lc,jmld,imkabd->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lc,klmd,ijmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lc,kmld,ijmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,ilmd,kjmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,imld,kjmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,jmld,imkabc->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,klmd,ijmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,kmld,ijmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,ldae,kjlcbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,ldbe,kjlaec->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("id,ldce,kjlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("id,lead,kjlcbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("id,lecd,kjlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,ldae,ijlcbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,ldbe,ijlaec->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,ldce,ijlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,lead,ijlcbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,lecd,ijlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("la,ldbe,ijkced->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("la,ldce,ijkdbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lc,ldae,ijkdbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lc,ldbe,ijkaed->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,ldae,ijkcbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,ldbe,ijkaec->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,ldce,ijkabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,lead,ijkcbe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,lecd,ijkabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.aa, v.aabb.ooov, t3.babbab) * -2.0
    t3new_abaaba += np.einsum("la,klmd,ijmcbd->ijkabc", t1.aa, v.aabb.ooov, t3.abbabb) * 2.0
    t3new_abaaba += np.einsum("lc,ilmd,jkmbad->ijkabc", t1.aa, v.aabb.ooov, t3.babbab) * 2.0
    t3new_abaaba += np.einsum("lc,klmd,ijmabd->ijkabc", t1.aa, v.aabb.ooov, t3.abbabb) * -2.0
    t3new_abaaba += np.einsum("id,lead,jklbce->ijkabc", t1.aa, v.bbaa.ovvv, t3.babbab) * 2.0
    t3new_abaaba += np.einsum("id,lecd,jklbae->ijkabc", t1.aa, v.bbaa.ovvv, t3.babbab) * -2.0
    t3new_abaaba += np.einsum("kd,lead,ijlcbe->ijkabc", t1.aa, v.bbaa.ovvv, t3.abbabb) * -2.0
    t3new_abaaba += np.einsum("kd,lecd,ijlabe->ijkabc", t1.aa, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_abaaba += np.einsum("jd,ilmd,kmlabc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jd,klmd,imlabc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lb,imld,kjmadc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lb,jlmd,imkadc->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lb,jmld,imkadc->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lb,kmld,ijmadc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,imld,kjmabc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,jlmd,imkabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,jmld,imkabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,kmld,ijmabc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jd,ldae,ilkcbe->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jd,ldbe,ilkaec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jd,ldce,ilkabe->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jd,lebd,ilkaec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lb,ldae,ijkcde->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lb,ldce,ijkade->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,ldae,ijkcbe->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,ldbe,ijkaec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,ldce,ijkabe->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,lebd,ijkaec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.bb, v.bbaa.ooov, t3.aaaaaa) * -6.0
    t3new_abaaba += np.einsum("jd,lebd,iklace->ijkabc", t1.bb, v.aabb.ovvv, t3.aaaaaa) * 6.0
    t3new_abaaba += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilad,kmcb,jlmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_abaaba += np.einsum("ilcb,kmad,jlmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_abaaba += np.einsum("ilcd,kmab,jlmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilab,kmcd,jmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_abaaba += np.einsum("ilad,kmcb,jmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilcb,kmad,jmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilcd,kmab,jmld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_abaaba += np.einsum("ijad,lmcb,klmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("ijcd,lmab,klmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilab,mjcd,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("ilad,mjcb,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilcb,mjad,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("ilcd,mjab,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("kjad,lmcb,ilmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("kjcd,lmab,ilmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("klab,mjcd,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("klad,mjcb,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("klcb,mjad,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("klcd,mjab,imld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("ijad,klce,ldbe->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abaaba += np.einsum("ijad,kleb,ldce->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ijcd,klae,ldbe->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_abaaba += np.einsum("ijcd,kleb,ldae->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("ijad,klce,lebd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_abaaba += np.einsum("ijcd,klae,lebd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abaaba += np.einsum("ijdb,klae,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ijde,klab,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("ijdb,klce,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("ijde,klcb,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilad,kjce,ldbe->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_abaaba += np.einsum("ilad,kjeb,ldce->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("ilcd,kjae,ldbe->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilcd,kjeb,ldae->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilad,kjce,lebd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilab,kjde,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilcd,kjae,lebd->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_abaaba += np.einsum("ilcb,kjde,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("ildb,kjae,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("ildb,kjce,lead->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ilcb,kmad,jlmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ildb,kmac,jlmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ijdb,lmac,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("ijdb,lmac,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov)
    t3new_abaaba += np.einsum("klab,imcd,jlmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_abaaba += np.einsum("klcb,imad,jlmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_abaaba += np.einsum("kldb,imac,jlmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_abaaba += np.einsum("kjdb,lmac,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov)
    t3new_abaaba += np.einsum("kjdb,lmac,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("lmab,ikcd,jmld->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_abaaba += np.einsum("lmcb,ikad,jmld->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ljab,imcd,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ljcb,imad,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ljdb,imac,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ljab,imcd,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ljcb,imad,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ljdb,imac,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ljab,kmcd,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ljcb,kmad,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ljdb,kmac,ilmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ljab,kmcd,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ljcb,kmad,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_abaaba += np.einsum("ljdb,kmac,imld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_abaaba += np.einsum("ijde,klac,ldbe->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_abaaba += np.einsum("ijdb,klae,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("ijdb,klce,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("ijad,klce,lebd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_abaaba += np.einsum("ijcd,klae,lebd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_abaaba += np.einsum("ijdb,klae,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("ijdb,klce,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("kjde,ilac,ldbe->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_abaaba += np.einsum("kjdb,ilae,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("kjdb,ilce,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("kjad,ilce,lebd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_abaaba += np.einsum("kjcd,ilae,lebd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_abaaba += np.einsum("kjdb,ilae,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("kjdb,ilce,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("ljab,ikde,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ljcb,ikde,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("ljdb,ikae,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("ljdb,ikce,ldae->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("ljad,ikce,lebd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_abaaba += np.einsum("ljab,ikde,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("ljcd,ikae,lebd->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_abaaba += np.einsum("ljcb,ikde,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("ljdb,ikae,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("ljdb,ikce,lead->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("ilac,jmbd,klmd->ijkabc", t2.aaaa, t2.bbbb, v.aabb.ooov) * -4.0
    t3new_abaaba += np.einsum("jlbd,kmac,imld->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ooov) * 4.0
    t3new_abaaba += np.einsum("ikad,jlbe,lecd->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ovvv) * 4.0
    t3new_abaaba += np.einsum("ikcd,jlbe,lead->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ovvv) * -4.0
    t3new_abaaba += np.einsum("ijad,ldme,klmcbe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("ijcd,ldme,klmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("ijdb,ldme,kmlaec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("ijde,ldme,kmlabc->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("ijad,lemd,kmlcbe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("ijcd,lemd,kmlabe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("ijdb,lemd,klmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("ijde,lemd,klmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("ilab,ldme,kjmcde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ilad,ldme,kjmcbe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abaaba += np.einsum("ilcb,ldme,kjmade->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ilcd,ldme,kjmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abaaba += np.einsum("ildb,lemd,kjmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abaaba += np.einsum("ilde,lemd,kjmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kjad,ldme,ilmcbe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("kjcd,ldme,ilmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("kjdb,ldme,imlaec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("kjde,ldme,imlabc->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("kjad,lemd,imlcbe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("kjcd,lemd,imlabe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("kjdb,lemd,ilmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("kjde,lemd,ilmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("klab,ldme,ijmcde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("klad,ldme,ijmcbe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abaaba += np.einsum("klcb,ldme,ijmade->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abaaba += np.einsum("kldb,lemd,ijmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abaaba += np.einsum("klde,lemd,ijmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ljab,ldme,imkced->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ljcb,ldme,imkaed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ljdb,ldme,imkaec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.00000000000002
    t3new_abaaba += np.einsum("ljde,ldme,imkabc->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ljad,lemd,imkcbe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.00000000000002
    t3new_abaaba += np.einsum("ljcd,lemd,imkabe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.00000000000002
    t3new_abaaba += np.einsum("lmab,ldme,ijkced->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lmcb,ldme,ijkaed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lmdb,ldme,ijkaec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lmad,lemd,ijkcbe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ijad,ldme,klmcbe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_abaaba += np.einsum("ijcd,ldme,klmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_abaaba += np.einsum("ijdb,ldme,klmace->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_abaaba += np.einsum("ijad,lemd,klmcbe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_abaaba += np.einsum("ijcd,lemd,klmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_abaaba += np.einsum("ijdb,lemd,klmace->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_abaaba += np.einsum("ilab,ldme,jkmdce->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_abaaba += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.00000000000002
    t3new_abaaba += np.einsum("ilcb,ldme,jkmdae->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_abaaba += np.einsum("ilcd,ldme,jkmbae->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.00000000000002
    t3new_abaaba += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.00000000000002
    t3new_abaaba += np.einsum("ilcd,lemd,jkmbae->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.00000000000002
    t3new_abaaba += np.einsum("kjad,ldme,ilmcbe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_abaaba += np.einsum("kjcd,ldme,ilmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_abaaba += np.einsum("kjdb,ldme,ilmace->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_abaaba += np.einsum("kjad,lemd,ilmcbe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_abaaba += np.einsum("kjcd,lemd,ilmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_abaaba += np.einsum("kjdb,lemd,ilmace->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_abaaba += np.einsum("klab,ldme,ijmcde->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abaaba += np.einsum("klad,ldme,ijmcbe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.00000000000002
    t3new_abaaba += np.einsum("klcb,ldme,ijmade->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abaaba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.00000000000002
    t3new_abaaba += np.einsum("klad,lemd,ijmcbe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * 2.00000000000002
    t3new_abaaba += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -2.00000000000002
    t3new_abaaba += np.einsum("ljab,ldme,ikmcde->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_abaaba += np.einsum("ljcb,ldme,ikmade->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_abaaba += np.einsum("ljdb,ldme,ikmace->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_abaaba += np.einsum("ljdb,lemd,ikmace->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_abaaba += np.einsum("ikad,ldme,ljmcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ikcd,ldme,ljmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ikde,ldme,ljmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("ikad,lemd,ljmcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ikcd,lemd,ljmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ikde,lemd,ljmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("ilac,ldme,kjmdbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.0
    t3new_abaaba += np.einsum("ilad,ldme,kjmcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_abaaba += np.einsum("ilcd,ldme,kjmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_abaaba += np.einsum("ilde,ldme,kjmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ilad,lemd,kjmcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_abaaba += np.einsum("ilcd,lemd,kjmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_abaaba += np.einsum("ilde,lemd,kjmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jlbd,ldme,imkaec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 4.00000000000004
    t3new_abaaba += np.einsum("jlde,ldme,imkabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jlbd,lemd,imkaec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -4.00000000000004
    t3new_abaaba += np.einsum("jlde,lemd,imkabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("klac,ldme,ijmdbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.0
    t3new_abaaba += np.einsum("klad,ldme,ijmcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_abaaba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_abaaba += np.einsum("klde,ldme,ijmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("klad,lemd,ijmcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_abaaba += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_abaaba += np.einsum("klde,lemd,ijmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lmac,ldme,ijkdbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lmad,ldme,ijkcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lmbd,ldme,ijkaec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lmcd,ldme,ijkabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lmad,lemd,ijkcbe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lmbd,lemd,ijkaec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -2.0
    t3new_abaaba += np.einsum("ikcd,ldme,jlmbae->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 2.0
    t3new_abaaba += np.einsum("ikad,lemd,jlmbec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_abaaba += np.einsum("ikcd,lemd,jlmbea->ijkabc", t2.aaaa, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_abaaba += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -4.0
    t3new_abaaba += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 4.00000000000004
    t3new_abaaba += np.einsum("ilcd,ldme,jkmbae->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -4.00000000000004
    t3new_abaaba += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_abaaba += np.einsum("klac,ldme,ijmdbe->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * 4.0
    t3new_abaaba += np.einsum("klad,ldme,ijmcbe->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * -4.00000000000004
    t3new_abaaba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.aaaa, v.aabb.ovov, t3.abbabb) * 4.00000000000004
    t3new_abaaba += np.einsum("id,la,kmcb,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov)
    t3new_abaaba += np.einsum("id,la,mjcb,klmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("id,la,mjcb,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("id,lc,kmab,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abaaba += np.einsum("id,lc,mjab,klmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("id,lc,mjab,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("kd,la,imcb,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abaaba += np.einsum("kd,la,mjcb,ilmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("kd,la,mjcb,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("kd,lc,imab,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov)
    t3new_abaaba += np.einsum("kd,lc,mjab,ilmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("kd,lc,mjab,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("la,mc,ijdb,klmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("la,mc,ijdb,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("la,mc,kjdb,ilmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_abaaba += np.einsum("la,mc,kjdb,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abaaba += np.einsum("id,ke,ljab,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("id,ke,ljcb,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("id,ke,ljab,lecd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("id,ke,ljcb,lead->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("id,la,kjce,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abaaba += np.einsum("id,la,kjeb,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("id,la,kjeb,lecd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("id,lc,kjae,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv)
    t3new_abaaba += np.einsum("id,lc,kjeb,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("id,lc,kjeb,lead->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,la,ijce,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv)
    t3new_abaaba += np.einsum("kd,la,ijeb,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("kd,la,ijeb,lecd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,lc,ijeb,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,lc,ijeb,lead->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_abaaba += np.einsum("la,jd,imcb,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("la,jd,kmcb,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("lc,jd,imab,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("lc,jd,kmab,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("la,mb,ijcd,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("la,mb,kjcd,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("lc,mb,ijad,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_abaaba += np.einsum("lc,mb,kjad,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_abaaba += np.einsum("id,je,klab,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("id,je,klcb,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("id,lb,kjae,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("id,lb,kjce,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,je,ilab,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,je,ilcb,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("kd,lb,ijae,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abaaba += np.einsum("kd,lb,ijce,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_abaaba += np.einsum("id,lb,kmac,jlmd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_abaaba += np.einsum("kd,lb,imac,jlmd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_abaaba += np.einsum("la,mb,ikcd,jmld->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_abaaba += np.einsum("lc,mb,ikad,jmld->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_abaaba += np.einsum("id,je,klac,ldbe->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_abaaba += np.einsum("kd,je,ilac,ldbe->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_abaaba += np.einsum("la,jd,ikce,lebd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_abaaba += np.einsum("lc,jd,ikae,lebd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_abaaba += np.einsum("jd,lb,imac,kmld->ijkabc", t1.bb, t1.bb, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_abaaba += np.einsum("jd,lb,kmac,imld->ijkabc", t1.bb, t1.bb, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_abaaba += np.einsum("jd,lb,ikae,ldce->ijkabc", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_abaaba += np.einsum("jd,lb,ikce,ldae->ijkabc", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_abaaba += np.einsum("id,ke,ldme,ljmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("id,ke,lemd,ljmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("id,la,ldme,kjmcbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,la,lemd,kjmcbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("id,lc,ldme,kjmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("id,lc,lemd,kjmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,le,ldme,kjmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,le,lemd,kjmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,la,ldme,ijmcbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,la,lemd,ijmcbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("kd,lc,lemd,ijmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,le,ldme,ijmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,mc,ldme,ijkdbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,ma,ldme,ijkcbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,ma,lemd,ijkcbe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,mc,lemd,ijkabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.babbab) * -2.0
    t3new_abaaba += np.einsum("id,lc,ldme,jkmbae->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.babbab) * 2.0
    t3new_abaaba += np.einsum("kd,la,ldme,ijmcbe->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abaaba += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abaaba += np.einsum("id,je,ldme,kmlabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("id,je,lemd,klmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_abaaba += np.einsum("id,lb,lemd,kjmaec->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("id,le,lemd,kjmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,je,ldme,imlabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("kd,je,lemd,ilmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba)
    t3new_abaaba += np.einsum("kd,lb,lemd,ijmaec->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,jd,lemd,imkcbe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("lc,jd,lemd,imkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("ld,je,ldme,imkabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,mb,ldme,ijkced->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("la,md,lemd,ijkcbe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lc,mb,ldme,ijkaed->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("lc,md,lemd,ijkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,mb,ldme,ijkaec->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jd,lb,ldme,imkaec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("jd,lb,lemd,imkaec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jd,le,ldme,imkabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jd,le,lemd,imkabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,mb,ldme,ijkaec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_abaaba += np.einsum("ld,mb,lemd,ijkaec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_abaaba += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_abaaba += np.einsum("id,kjae,lmcb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("id,kjce,lmab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("id,klab,mjce,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abaaba += np.einsum("id,klae,mjcb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abaaba += np.einsum("id,klcb,mjae,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abaaba += np.einsum("id,klce,mjab,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ijae,lmcb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("kd,ijce,lmab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ilab,mjce,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abaaba += np.einsum("kd,ilae,mjcb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ilcb,mjae,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ilce,mjab,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abaaba += np.einsum("la,ijdb,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("la,ijde,kmcb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("la,ijcd,kmeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("la,imcb,kjde,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("la,imdb,kjce,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("la,imcd,kjeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("lc,ijdb,kmae,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("lc,ijde,kmab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("lc,ijad,kmeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("lc,imab,kjde,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("lc,imdb,kjae,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("lc,imad,kjeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("ld,ijae,kmcb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("ld,ijce,kmab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("ld,imab,kjce,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("ld,imcb,kjae,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("id,kjeb,lmac,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_abaaba += np.einsum("id,kjeb,lmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("id,ljab,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("id,ljcb,kmae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("id,ljeb,kmac,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("id,ljab,kmce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("id,ljcb,kmae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("id,ljeb,kmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("kd,ijeb,lmac,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,ijeb,lmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_abaaba += np.einsum("kd,ljab,imce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("kd,ljcb,imae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("kd,ljeb,imac,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("kd,ljab,imce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("kd,ljcb,imae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("kd,ljeb,imac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("la,ijdb,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("la,ijdb,kmce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("la,kjdb,imce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("la,kjdb,imce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("la,mjcb,ikde,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_abaaba += np.einsum("la,mjdb,ikce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("la,mjcb,ikde,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("la,mjdb,ikce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lc,ijdb,kmae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lc,ijdb,kmae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("lc,kjdb,imae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("lc,kjdb,imae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lc,mjab,ikde,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("lc,mjdb,ikae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lc,mjab,ikde,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_abaaba += np.einsum("lc,mjdb,ikae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("ld,ijeb,kmac,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("ld,ijeb,kmac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("ld,kjeb,imac,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("ld,kjeb,imac,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("ld,mjab,ikce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("ld,mjcb,ikae,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("ld,mjab,ikce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_abaaba += np.einsum("ld,mjcb,ikae,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_abaaba += np.einsum("id,jlbe,kmac,lemd->ijkabc", t1.aa, t2.bbbb, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_abaaba += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_abaaba += np.einsum("la,ikcd,jmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_abaaba += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.aa, t2.aaaa, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_abaaba += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,ilae,kmcb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("jd,ilcb,kmae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("jd,ilce,kmab,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,ilab,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("jd,ilae,kmcb,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,ilcb,kmae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,ilce,kmab,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("lb,ijcd,kmae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("lb,ijad,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("lb,ijcd,kmae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("lb,imad,kjce,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("lb,imcd,kjae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("lb,imad,kjce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("lb,imcd,kjae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("ld,ijae,kmcb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("ld,ijce,kmab,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("ld,ijae,kmcb,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("ld,ijce,kmab,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("ld,imab,kjce,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("ld,imcb,kjae,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("ld,imab,kjce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_abaaba += np.einsum("ld,imcb,kjae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abaaba += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("jd,ilcb,kmae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("jd,ileb,kmac,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("jd,klab,imce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("jd,klcb,imae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("jd,kleb,imac,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("jd,lmab,ikce,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_abaaba += np.einsum("jd,lmcb,ikae,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_abaaba += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("lb,ijcd,kmae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lb,ijde,kmac,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("lb,kjad,imce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lb,kjcd,imae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("lb,kjde,imac,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("lb,mjad,ikce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("lb,mjcd,ikae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("ld,ijeb,kmac,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("ld,kjeb,imac,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("ld,mjab,ikce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("ld,mjcb,ikae,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("id,ke,la,mjcb,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("id,ke,la,mjcb,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("id,ke,lc,mjab,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("id,ke,lc,mjab,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("id,la,mc,kjeb,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("id,la,mc,kjeb,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,la,mc,ijeb,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,la,mc,ijeb,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_abaaba += np.einsum("id,la,je,kmcb,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("id,lc,je,kmab,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("id,la,mb,kjce,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("id,lc,mb,kjae,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,la,je,imcb,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,lc,je,imab,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("kd,la,mb,ijce,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abaaba += np.einsum("kd,lc,mb,ijae,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_abaaba += np.einsum("id,je,lb,kmac,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_abaaba += np.einsum("kd,je,lb,imac,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_abaaba += np.einsum("la,jd,mb,ikce,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_abaaba += np.einsum("lc,jd,mb,ikae,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.aabb.ovov) * 2.0

    # T3 amplitudes
    t3new_abbabb = np.zeros((nocc[0], nocc[1], nocc[1], nvir[0], nvir[1], nvir[1]), dtype=np.float64)
    t3new_abbabb += np.einsum("il,jklbca->ijkabc", f.aa.oo, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("jl,iklabc->ijkabc", f.bb.oo, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("kl,ijlabc->ijkabc", f.bb.oo, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ad,ijkdbc->ijkabc", f.aa.vv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("bd,ijkacd->ijkabc", f.bb.vv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("cd,ijkabd->ijkabc", f.bb.vv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ilab,jlkc->ijkabc", t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("ilac,jlkb->ijkabc", t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("ilab,kljc->ijkabc", t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("ilac,kljb->ijkabc", t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("ljab,ilkc->ijkabc", t2.abab, v.aabb.ooov) * -1.0
    t3new_abbabb += np.einsum("ljac,ilkb->ijkabc", t2.abab, v.aabb.ooov)
    t3new_abbabb += np.einsum("lkab,iljc->ijkabc", t2.abab, v.aabb.ooov)
    t3new_abbabb += np.einsum("lkac,iljb->ijkabc", t2.abab, v.aabb.ooov) * -1.0
    t3new_abbabb += np.einsum("ikad,jbcd->ijkabc", t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("ikdc,jbad->ijkabc", t2.abab, v.bbaa.ovvv)
    t3new_abbabb += np.einsum("ikad,jcbd->ijkabc", t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikdb,jcad->ijkabc", t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijad,kbcd->ijkabc", t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijdc,kbad->ijkabc", t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijad,kcbd->ijkabc", t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("ijdb,kcad->ijkabc", t2.abab, v.bbaa.ovvv)
    t3new_abbabb += np.einsum("jlbc,klia->ijkabc", t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_abbabb += np.einsum("klbc,jlia->ijkabc", t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_abbabb += np.einsum("jkbd,iacd->ijkabc", t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_abbabb += np.einsum("jkcd,iabd->ijkabc", t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_abbabb += np.einsum("jbld,iklacd->ijkabc", v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("jcld,iklabd->ijkabc", v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("kbld,ijlacd->ijkabc", v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("kcld,ijlabd->ijkabc", v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("iljm,klmbac->ijkabc", v.aabb.oooo, t3.babbab) * -2.0
    t3new_abbabb += np.einsum("ilkm,jlmbac->ijkabc", v.aabb.oooo, t3.babbab) * 2.0
    t3new_abbabb += np.einsum("jlkm,ilmabc->ijkabc", v.bbbb.oooo, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ilad,jklbcd->ijkabc", v.aaaa.oovv, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ilbd,jklcda->ijkabc", v.aabb.oovv, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("ilcd,jklbda->ijkabc", v.aabb.oovv, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("jlad,ikldbc->ijkabc", v.bbaa.oovv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jlbd,iklacd->ijkabc", v.bbbb.oovv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jlcd,iklabd->ijkabc", v.bbbb.oovv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("klad,ijldbc->ijkabc", v.bbaa.oovv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("klbd,ijlacd->ijkabc", v.bbbb.oovv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("klcd,ijlabd->ijkabc", v.bbbb.oovv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("iald,jklbcd->ijkabc", v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("iald,jklbcd->ijkabc", v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_abbabb += np.einsum("jbld,iklacd->ijkabc", v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jcld,iklabd->ijkabc", v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kbld,ijlacd->ijkabc", v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kcld,ijlabd->ijkabc", v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("adbe,ijkdce->ijkabc", v.aabb.vvvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("adce,ijkdbe->ijkabc", v.aabb.vvvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("bdce,ijkade->ijkabc", v.bbbb.vvvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,id,jklbca->ijkabc", f.aa.ov, t1.aa, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ld,la,ijkdbc->ijkabc", f.aa.ov, t1.aa, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,jd,iklabc->ijkabc", f.bb.ov, t1.bb, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,kd,ijlabc->ijkabc", f.bb.ov, t1.bb, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,lb,ijkacd->ijkabc", f.bb.ov, t1.bb, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,lc,ijkabd->ijkabc", f.bb.ov, t1.bb, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,ijdb,lkac->ijkabc", f.aa.ov, t2.abab, t2.abab) * -1.0
    t3new_abbabb += np.einsum("ld,ijdc,lkab->ijkabc", f.aa.ov, t2.abab, t2.abab)
    t3new_abbabb += np.einsum("ld,ikdb,ljac->ijkabc", f.aa.ov, t2.abab, t2.abab)
    t3new_abbabb += np.einsum("ld,ikdc,ljab->ijkabc", f.aa.ov, t2.abab, t2.abab) * -1.0
    t3new_abbabb += np.einsum("ld,ikad,jlbc->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * -2.0
    t3new_abbabb += np.einsum("ld,ilac,jkbd->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * -2.0
    t3new_abbabb += np.einsum("ld,ilab,jkcd->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * 2.0
    t3new_abbabb += np.einsum("ld,ijad,klbc->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * 2.0
    t3new_abbabb += np.einsum("id,lkac,jbld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,lkab,jcld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("id,ljac,kbld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("id,ljab,kcld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ikdc,jbld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ikdb,jcld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("la,ijdc,kbld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("la,ijdb,kcld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,jlbc,klad->ijkabc", t1.aa, t2.bbbb, v.bbaa.oovv) * -2.0
    t3new_abbabb += np.einsum("id,klbc,jlad->ijkabc", t1.aa, t2.bbbb, v.bbaa.oovv) * 2.0
    t3new_abbabb += np.einsum("la,jmbc,ilkm->ijkabc", t1.aa, t2.bbbb, v.aabb.oooo) * 2.0
    t3new_abbabb += np.einsum("la,kmbc,iljm->ijkabc", t1.aa, t2.bbbb, v.aabb.oooo) * -2.0
    t3new_abbabb += np.einsum("la,jkbd,ilcd->ijkabc", t1.aa, t2.bbbb, v.aabb.oovv) * -2.0
    t3new_abbabb += np.einsum("la,jkcd,ilbd->ijkabc", t1.aa, t2.bbbb, v.aabb.oovv) * 2.0
    t3new_abbabb += np.einsum("id,jkbe,adce->ijkabc", t1.aa, t2.bbbb, v.aabb.vvvv) * 2.0
    t3new_abbabb += np.einsum("id,jkce,adbe->ijkabc", t1.aa, t2.bbbb, v.aabb.vvvv) * -2.0
    t3new_abbabb += np.einsum("jd,ilac,klbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_abbabb += np.einsum("jd,ilab,klcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_abbabb += np.einsum("jd,lkac,ilbd->ijkabc", t1.bb, t2.abab, v.aabb.oovv) * -1.0
    t3new_abbabb += np.einsum("jd,lkab,ilcd->ijkabc", t1.bb, t2.abab, v.aabb.oovv)
    t3new_abbabb += np.einsum("kd,ilac,jlbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_abbabb += np.einsum("kd,ilab,jlcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_abbabb += np.einsum("kd,ljac,ilbd->ijkabc", t1.bb, t2.abab, v.aabb.oovv)
    t3new_abbabb += np.einsum("kd,ljab,ilcd->ijkabc", t1.bb, t2.abab, v.aabb.oovv) * -1.0
    t3new_abbabb += np.einsum("lb,imac,jlkm->ijkabc", t1.bb, t2.abab, v.bbbb.oooo)
    t3new_abbabb += np.einsum("lb,imac,jmkl->ijkabc", t1.bb, t2.abab, v.bbbb.oooo) * -1.0
    t3new_abbabb += np.einsum("lb,mjac,imkl->ijkabc", t1.bb, t2.abab, v.aabb.oooo) * -1.0
    t3new_abbabb += np.einsum("lb,mkac,imjl->ijkabc", t1.bb, t2.abab, v.aabb.oooo)
    t3new_abbabb += np.einsum("lc,imab,jlkm->ijkabc", t1.bb, t2.abab, v.bbbb.oooo) * -1.0
    t3new_abbabb += np.einsum("lc,imab,jmkl->ijkabc", t1.bb, t2.abab, v.bbbb.oooo)
    t3new_abbabb += np.einsum("lc,mjab,imkl->ijkabc", t1.bb, t2.abab, v.aabb.oooo)
    t3new_abbabb += np.einsum("lc,mkab,imjl->ijkabc", t1.bb, t2.abab, v.aabb.oooo) * -1.0
    t3new_abbabb += np.einsum("lb,ikad,jlcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_abbabb += np.einsum("lb,ikdc,jlad->ijkabc", t1.bb, t2.abab, v.bbaa.oovv) * -1.0
    t3new_abbabb += np.einsum("lb,ijad,klcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_abbabb += np.einsum("lb,ijdc,klad->ijkabc", t1.bb, t2.abab, v.bbaa.oovv)
    t3new_abbabb += np.einsum("lc,ikad,jlbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_abbabb += np.einsum("lc,ikdb,jlad->ijkabc", t1.bb, t2.abab, v.bbaa.oovv)
    t3new_abbabb += np.einsum("lc,ijad,klbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_abbabb += np.einsum("lc,ijdb,klad->ijkabc", t1.bb, t2.abab, v.bbaa.oovv) * -1.0
    t3new_abbabb += np.einsum("jd,ilac,kbld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("jd,ilab,kcld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ilac,jbld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ilab,jcld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("lb,ikad,jcld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("lb,ijad,kcld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,ikad,jbld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,ijad,kbld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("jd,ikec,aebd->ijkabc", t1.bb, t2.abab, v.aabb.vvvv)
    t3new_abbabb += np.einsum("jd,ikeb,aecd->ijkabc", t1.bb, t2.abab, v.aabb.vvvv) * -1.0
    t3new_abbabb += np.einsum("jd,ikae,bdce->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv)
    t3new_abbabb += np.einsum("jd,ikae,becd->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv) * -1.0
    t3new_abbabb += np.einsum("kd,ijec,aebd->ijkabc", t1.bb, t2.abab, v.aabb.vvvv) * -1.0
    t3new_abbabb += np.einsum("kd,ijeb,aecd->ijkabc", t1.bb, t2.abab, v.aabb.vvvv)
    t3new_abbabb += np.einsum("kd,ijae,bdce->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv) * -1.0
    t3new_abbabb += np.einsum("kd,ijae,becd->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv)
    t3new_abbabb += np.einsum("jd,klbc,iald->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("kd,jlbc,iald->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("lb,jkcd,iald->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("lc,jkbd,iald->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("id,jlmd,klmbca->ijkabc", t1.aa, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("id,klmd,jlmbca->ijkabc", t1.aa, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.aa, v.aabb.ooov, t3.bbbbbb) * -6.0
    t3new_abbabb += np.einsum("la,imld,jkmbcd->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("la,jmld,ikmdbc->ijkabc", t1.aa, v.bbaa.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("la,kmld,ijmdbc->ijkabc", t1.aa, v.bbaa.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,ilmd,jkmbca->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("ld,imld,jkmbca->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ld,jmld,ikmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,kmld,ijmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("id,ldae,jklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("id,ldbe,jklcea->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("id,ldce,jklbea->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("id,lead,jklbce->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("id,lead,jklbce->ijkabc", t1.aa, v.bbaa.ovvv, t3.bbbbbb) * 6.0
    t3new_abbabb += np.einsum("la,ldbe,ijkdce->ijkabc", t1.aa, v.aabb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("la,ldce,ijkdbe->ijkabc", t1.aa, v.aabb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,ldae,ijkebc->ijkabc", t1.aa, v.aaaa.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,ldbe,ijkace->ijkabc", t1.aa, v.aabb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,ldce,ijkabe->ijkabc", t1.aa, v.aabb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,lead,ijkebc->ijkabc", t1.aa, v.aaaa.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("lb,klmd,ijmacd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("lc,jlmd,ikmabd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("lc,klmd,ijmabd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("jd,lebd,iklace->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("jd,lecd,iklabe->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("kd,lebd,ijlace->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("kd,lecd,ijlabe->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("jd,ilmd,klmbac->ijkabc", t1.bb, v.aabb.ooov, t3.babbab) * -2.0
    t3new_abbabb += np.einsum("jd,klmd,ilmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,ilmd,jlmbac->ijkabc", t1.bb, v.aabb.ooov, t3.babbab) * 2.0
    t3new_abbabb += np.einsum("kd,jlmd,ilmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lb,imld,jkmcda->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lb,jmld,ikmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lb,klmd,ijmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lb,kmld,ijmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lc,imld,jkmbda->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("lc,jlmd,ikmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lc,jmld,ikmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lc,klmd,ijmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lc,kmld,ijmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,imld,jkmbca->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ld,jlmd,ikmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,jmld,ikmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,klmd,ijmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,kmld,ijmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jd,ldae,iklebc->ijkabc", t1.bb, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jd,ldbe,iklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jd,ldce,iklabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jd,lebd,iklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jd,lecd,iklabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,ldae,ijlebc->ijkabc", t1.bb, v.bbaa.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,ldbe,ijlace->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("kd,ldce,ijlabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,lebd,ijlace->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,lecd,ijlabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lb,ldae,ijkecd->ijkabc", t1.bb, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lb,ldce,ijkade->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lc,ldae,ijkebd->ijkabc", t1.bb, v.bbaa.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lc,ldbe,ijkade->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,ldae,ijkebc->ijkabc", t1.bb, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,ldbe,ijkace->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,ldce,ijkabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,lebd,ijkace->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,lecd,ijkabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ikdb,lmac,jmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ikdc,lmab,jmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("ijdb,lmac,kmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("ijdc,lmab,kmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ilab,mkdc,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ilac,mkdb,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("ildb,mkac,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("ildc,mkab,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ilab,mjdc,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("ilac,mjdb,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ildb,mjac,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ildc,mjab,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("ljdb,mkac,ilmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_abbabb += np.einsum("ljdc,mkab,ilmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ljdb,mkac,imld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ljdc,mkab,imld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_abbabb += np.einsum("lkdb,mjac,ilmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abbabb += np.einsum("lkdc,mjab,ilmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_abbabb += np.einsum("lkdb,mjac,imld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_abbabb += np.einsum("lkdc,mjab,imld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_abbabb += np.einsum("ijdc,lkae,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("ijde,lkac,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijdb,lkae,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijde,lkab,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("ijdb,lkec,ldae->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijdc,lkeb,ldae->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_abbabb += np.einsum("ijad,lkec,lebd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("ijad,lkeb,lecd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ijdb,lkec,lead->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_abbabb += np.einsum("ijdc,lkeb,lead->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikdc,ljae,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikde,ljac,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("ikdb,ljae,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("ikde,ljab,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikdb,ljec,ldae->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_abbabb += np.einsum("ikdc,ljeb,ldae->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikad,ljec,lebd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikad,ljeb,lecd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("ikdb,ljec,lead->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("ikdc,ljeb,lead->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_abbabb += np.einsum("ilac,jmbd,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_abbabb += np.einsum("ilad,jmbc,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_abbabb += np.einsum("ilab,jmcd,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_abbabb += np.einsum("ilac,jmbd,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_abbabb += np.einsum("ilad,jmbc,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_abbabb += np.einsum("ilab,jmcd,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_abbabb += np.einsum("ilac,kmbd,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_abbabb += np.einsum("ilad,kmbc,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_abbabb += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_abbabb += np.einsum("ilac,kmbd,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_abbabb += np.einsum("ilad,kmbc,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_abbabb += np.einsum("ilab,kmcd,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_abbabb += np.einsum("ikad,lmbc,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov)
    t3new_abbabb += np.einsum("ikad,lmbc,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("ijad,lmbc,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("ijad,lmbc,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov)
    t3new_abbabb += np.einsum("lkac,jmbd,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_abbabb += np.einsum("lkad,jmbc,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_abbabb += np.einsum("lkab,jmcd,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_abbabb += np.einsum("lmac,jkbd,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_abbabb += np.einsum("lmab,jkcd,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_abbabb += np.einsum("ljac,kmbd,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_abbabb += np.einsum("ljad,kmbc,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_abbabb += np.einsum("ljab,kmcd,ilmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_abbabb += np.einsum("ikad,jlbe,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_abbabb += np.einsum("ikad,jlce,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_abbabb += np.einsum("ikad,jlbe,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_abbabb += np.einsum("ikad,jlce,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_abbabb += np.einsum("ikdc,jlbe,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_abbabb += np.einsum("ikde,jlbc,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_abbabb += np.einsum("ikdb,jlce,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_abbabb += np.einsum("ilad,jkbe,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_abbabb += np.einsum("ilad,jkce,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_abbabb += np.einsum("ilac,jkde,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("ilab,jkde,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ilad,jkbe,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_abbabb += np.einsum("ilad,jkce,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_abbabb += np.einsum("ilac,jkde,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("ilab,jkde,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("ildc,jkbe,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_abbabb += np.einsum("ildb,jkce,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_abbabb += np.einsum("ijad,klbe,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_abbabb += np.einsum("ijad,klce,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_abbabb += np.einsum("ijad,klbe,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_abbabb += np.einsum("ijad,klce,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_abbabb += np.einsum("ijdc,klbe,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_abbabb += np.einsum("ijde,klbc,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_abbabb += np.einsum("ijdb,klce,lead->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_abbabb += np.einsum("ilad,jmbc,kmld->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ooov) * -4.0
    t3new_abbabb += np.einsum("ilad,kmbc,jmld->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ooov) * 4.0
    t3new_abbabb += np.einsum("ilad,jkbe,ldce->ijkabc", t2.aaaa, t2.bbbb, v.aabb.ovvv) * 4.0
    t3new_abbabb += np.einsum("ilad,jkce,ldbe->ijkabc", t2.aaaa, t2.bbbb, v.aabb.ovvv) * -4.0
    t3new_abbabb += np.einsum("ijdb,ldme,lkmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_abbabb += np.einsum("ijdc,ldme,lkmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_abbabb += np.einsum("ijdb,lemd,lkmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_abbabb += np.einsum("ijdc,lemd,lkmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_abbabb += np.einsum("ikdb,ldme,ljmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_abbabb += np.einsum("ikdc,ldme,ljmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_abbabb += np.einsum("ikdb,lemd,ljmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_abbabb += np.einsum("ikdc,lemd,ljmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_abbabb += np.einsum("ljab,ldme,ikmdce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("ljac,ldme,ikmdbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("ljdb,ldme,ikmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abbabb += np.einsum("ljdc,ldme,ikmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abbabb += np.einsum("ljdb,lemd,ikmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abbabb += np.einsum("ljdc,lemd,ikmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abbabb += np.einsum("lkab,ldme,ijmdce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("lkac,ldme,ijmdbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("lkdb,ldme,ijmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abbabb += np.einsum("lkdc,ldme,ijmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abbabb += np.einsum("lkdb,lemd,ijmace->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_abbabb += np.einsum("lkdc,lemd,ijmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_abbabb += np.einsum("ijad,ldme,klmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_abbabb += np.einsum("ijad,ldme,klmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_abbabb += np.einsum("ijdb,ldme,klmcae->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_abbabb += np.einsum("ijdc,ldme,klmbae->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_abbabb += np.einsum("ijde,ldme,klmbac->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_abbabb += np.einsum("ijad,lemd,klmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_abbabb += np.einsum("ijad,lemd,klmbec->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_abbabb += np.einsum("ijdb,lemd,klmcea->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_abbabb += np.einsum("ijdc,lemd,klmbea->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_abbabb += np.einsum("ijde,lemd,klmbca->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_abbabb += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_abbabb += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_abbabb += np.einsum("ikdb,ldme,jlmcae->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_abbabb += np.einsum("ikdc,ldme,jlmbae->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_abbabb += np.einsum("ikde,ldme,jlmbac->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_abbabb += np.einsum("ikad,lemd,jlmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_abbabb += np.einsum("ikad,lemd,jlmbec->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_abbabb += np.einsum("ikdb,lemd,jlmcea->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_abbabb += np.einsum("ikdc,lemd,jlmbea->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_abbabb += np.einsum("ikde,lemd,jlmbca->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_abbabb += np.einsum("ilab,ldme,jkmcde->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("ilab,ldme,jkmcde->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_abbabb += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_abbabb += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_abbabb += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_abbabb += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_abbabb += np.einsum("ildb,lemd,jkmcea->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_abbabb += np.einsum("ildc,lemd,jkmbea->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_abbabb += np.einsum("ilde,lemd,jkmbca->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ljab,ldme,ikmdce->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ljac,ldme,ikmdbe->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ljdb,ldme,ikmace->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.00000000000002
    t3new_abbabb += np.einsum("ljdc,ldme,ikmabe->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.00000000000002
    t3new_abbabb += np.einsum("ljde,ldme,ikmabc->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ljad,lemd,ikmebc->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.00000000000002
    t3new_abbabb += np.einsum("lkab,ldme,ijmdce->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lkac,ldme,ijmdbe->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lkdb,ldme,ijmace->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.00000000000002
    t3new_abbabb += np.einsum("lkdc,ldme,ijmabe->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.00000000000002
    t3new_abbabb += np.einsum("lkde,ldme,ijmabc->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lkad,lemd,ijmebc->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.00000000000002
    t3new_abbabb += np.einsum("lmab,ldme,ijkdce->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lmac,ldme,ijkdbe->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lmdb,ldme,ijkace->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lmdc,ldme,ijkabe->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lmad,lemd,ijkebc->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("jkcd,ldme,ilmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("jkbd,lemd,imlace->ijkabc", t2.bbbb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("jkcd,lemd,imlabe->ijkabc", t2.bbbb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.0
    t3new_abbabb += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_abbabb += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_abbabb += np.einsum("klbc,ldme,ijmade->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.0
    t3new_abbabb += np.einsum("klbd,ldme,ijmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_abbabb += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_abbabb += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_abbabb += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.aaaa, v.aabb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_abbabb += np.einsum("ilde,ldme,jkmbca->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_abbabb += np.einsum("ilde,lemd,jkmbca->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jkcd,ldme,ilmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jkde,ldme,ilmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb)
    t3new_abbabb += np.einsum("jkbd,lemd,ilmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jkcd,lemd,ilmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jkde,lemd,ilmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_abbabb += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.0
    t3new_abbabb += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.00000000000004
    t3new_abbabb += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.00000000000004
    t3new_abbabb += np.einsum("jlde,ldme,ikmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.00000000000004
    t3new_abbabb += np.einsum("jlcd,lemd,ikmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.00000000000004
    t3new_abbabb += np.einsum("jlde,lemd,ikmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("klbc,ldme,ijmade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.0
    t3new_abbabb += np.einsum("klbd,ldme,ijmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.00000000000004
    t3new_abbabb += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.00000000000004
    t3new_abbabb += np.einsum("klde,ldme,ijmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("klbd,lemd,ijmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.00000000000004
    t3new_abbabb += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.00000000000004
    t3new_abbabb += np.einsum("klde,lemd,ijmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lmad,ldme,ijkebc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lmbc,ldme,ijkade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lmbd,ldme,ijkace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lmcd,ldme,ijkabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lmad,lemd,ijkebc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lmbd,lemd,ijkace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("id,la,jmbc,kmld->ijkabc", t1.aa, t1.aa, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_abbabb += np.einsum("id,la,kmbc,jmld->ijkabc", t1.aa, t1.aa, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_abbabb += np.einsum("id,la,jkbe,ldce->ijkabc", t1.aa, t1.aa, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_abbabb += np.einsum("id,la,jkce,ldbe->ijkabc", t1.aa, t1.aa, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_abbabb += np.einsum("id,lb,mkac,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("id,lb,mjac,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("id,lc,mkab,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("id,lc,mjab,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("la,mb,ikdc,jmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("la,mb,ijdc,kmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("la,mc,ikdb,jmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_abbabb += np.einsum("la,mc,ijdb,kmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_abbabb += np.einsum("id,je,lkac,ldbe->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("id,je,lkab,ldce->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("id,ke,ljac,ldbe->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("id,ke,ljab,ldce->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("la,jd,ikec,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("la,jd,ikeb,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("la,kd,ijec,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_abbabb += np.einsum("la,kd,ijeb,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_abbabb += np.einsum("la,jd,kmbc,ilmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_abbabb += np.einsum("la,kd,jmbc,ilmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_abbabb += np.einsum("la,mb,jkcd,ilmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_abbabb += np.einsum("la,mc,jkbd,ilmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_abbabb += np.einsum("id,je,klbc,lead->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_abbabb += np.einsum("id,ke,jlbc,lead->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_abbabb += np.einsum("id,lb,jkce,lead->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_abbabb += np.einsum("id,lc,jkbe,lead->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_abbabb += np.einsum("jd,lb,imac,klmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("jd,lb,imac,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("jd,lb,mkac,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov)
    t3new_abbabb += np.einsum("jd,lc,imab,klmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("jd,lc,imab,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("jd,lc,mkab,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_abbabb += np.einsum("kd,lb,imac,jlmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("kd,lb,imac,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("kd,lb,mjac,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_abbabb += np.einsum("kd,lc,imab,jlmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("kd,lc,imab,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("kd,lc,mjab,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov)
    t3new_abbabb += np.einsum("lb,mc,ikad,jlmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("lb,mc,ikad,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("lb,mc,ijad,klmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_abbabb += np.einsum("lb,mc,ijad,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_abbabb += np.einsum("jd,ke,ilac,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("jd,ke,ilab,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("jd,ke,ilac,lebd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("jd,ke,ilab,lecd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("jd,lb,ikae,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("jd,lb,ikec,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("jd,lb,ikae,lecd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("jd,lc,ikae,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("jd,lc,ikeb,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_abbabb += np.einsum("jd,lc,ikae,lebd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("kd,lb,ijae,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("kd,lb,ijec,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_abbabb += np.einsum("kd,lb,ijae,lecd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_abbabb += np.einsum("kd,lc,ijeb,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_abbabb += np.einsum("kd,lc,ijae,lebd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_abbabb += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_abbabb += np.einsum("id,la,lemd,jkmbce->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("id,le,ldme,jkmbca->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("id,le,lemd,jkmbca->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("ld,ma,ldme,ijkebc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,ma,lemd,ijkebc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("id,je,ldme,klmbac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -1.0
    t3new_abbabb += np.einsum("id,je,lemd,klmbca->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_abbabb += np.einsum("id,ke,ldme,jlmbac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab)
    t3new_abbabb += np.einsum("id,ke,lemd,jlmbca->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba)
    t3new_abbabb += np.einsum("id,lb,lemd,jkmcea->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("id,lc,lemd,jkmbea->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_abbabb += np.einsum("id,le,lemd,jkmbca->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_abbabb += np.einsum("la,jd,lemd,ikmebc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,je,ldme,ikmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("la,kd,lemd,ijmebc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,ke,ldme,ijmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("la,mb,ldme,ijkdce->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("la,mc,ldme,ijkdbe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("la,md,lemd,ijkebc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,mb,ldme,ijkace->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("jd,lc,ldme,ikmabe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("kd,lb,ldme,ijmace->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_abbabb += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_abbabb += np.einsum("jd,ke,ldme,ilmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb)
    t3new_abbabb += np.einsum("jd,ke,lemd,ilmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_abbabb += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jd,lb,lemd,ikmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jd,lc,ldme,ikmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("jd,lc,lemd,ikmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jd,le,ldme,ikmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("jd,le,lemd,ikmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("kd,lb,ldme,ijmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("kd,lb,lemd,ijmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("kd,lc,lemd,ijmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("kd,le,ldme,ijmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("lb,mc,ldme,ijkade->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,mb,ldme,ijkace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("ld,mb,lemd,ijkace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_abbabb += np.einsum("ld,mc,lemd,ijkabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_abbabb += np.einsum("id,ljeb,mkac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("id,ljec,mkab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,ljeb,mkac,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,ljec,mkab,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("id,lkeb,mjac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,lkec,mjab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("id,lkeb,mjac,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("id,lkec,mjab,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ijdb,mkec,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ijdc,mkeb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("la,ijdb,mkec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("la,ijdc,mkeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ikdb,mjec,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("la,ikdc,mjeb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ikdb,mjec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("la,ikdc,mjeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("ld,ijeb,mkac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("ld,ijec,mkab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("ld,ijeb,mkac,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("ld,ijec,mkab,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("ld,ikeb,mjac,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("ld,ikec,mjab,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("ld,ikeb,mjac,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_abbabb += np.einsum("ld,ikec,mjab,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_abbabb += np.einsum("id,lkac,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("id,lkae,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("id,lkab,jmce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("id,lmac,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("id,lmab,jkce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("id,ljac,kmbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("id,ljae,kmbc,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("id,ljab,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("la,ikdc,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("la,ikde,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("la,ikdb,jmce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("la,imdc,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("la,imdb,jkce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("la,ijdc,kmbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("la,ijde,kmbc,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("la,ijdb,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,imab,jkce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("ld,ijae,kmbc,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("jd,ikeb,lmac,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abbabb += np.einsum("jd,ikec,lmab,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abbabb += np.einsum("jd,ilab,mkec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("jd,ilac,mkeb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("jd,ileb,mkac,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("jd,ilec,mkab,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ijeb,lmac,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov)
    t3new_abbabb += np.einsum("kd,ijec,lmab,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ilab,mjec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("kd,ilac,mjeb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ileb,mjac,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ilec,mjab,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("lb,ijad,mkec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("lb,ijdc,mkae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("lb,ijde,mkac,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("lb,ikad,mjec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("lb,ikdc,mjae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("lb,ikde,mjac,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,ijad,mkeb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("lc,ijdb,mkae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("lc,ijde,mkab,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,ikad,mjeb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,ikdb,mjae,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,ikde,mjab,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("ld,ijeb,mkac,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("ld,ijec,mkab,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("ld,ikeb,mjac,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("ld,ikec,mjab,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("jd,ilac,kmbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("jd,ilae,kmbc,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("jd,ilac,kmbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("jd,ilae,kmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("jd,ilab,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("jd,ikae,lmbc,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_abbabb += np.einsum("jd,ikae,lmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("kd,ilae,jmbc,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("kd,ilab,jmce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("kd,ilac,jmbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("kd,ilab,jmce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("kd,ijae,lmbc,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,ijae,lmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_abbabb += np.einsum("lb,ikad,jmce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("lb,ikad,jmce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("lb,imad,jkce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("lb,imac,jkde,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_abbabb += np.einsum("lb,imad,jkce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("lb,imac,jkde,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("lb,ijad,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("lc,ikad,jmbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("lc,imad,jkbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("lc,imab,jkde,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("lc,imab,jkde,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_abbabb += np.einsum("lc,ijad,kmbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("lc,ijad,kmbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,ikae,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,imab,jkce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("ld,imac,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("ld,imab,jkce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("ld,ijae,kmbc,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_abbabb += np.einsum("ld,ijae,kmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_abbabb += np.einsum("jd,ilae,kmbc,lemd->ijkabc", t1.bb, t2.aaaa, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_abbabb += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.bb, t2.aaaa, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_abbabb += np.einsum("lb,imad,jkce,lemd->ijkabc", t1.bb, t2.aaaa, t2.bbbb, v.bbaa.ovov) * 4.0
    t3new_abbabb += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.bb, t2.aaaa, t2.bbbb, v.bbaa.ovov) * -4.0
    t3new_abbabb += np.einsum("id,la,je,kmbc,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("id,la,ke,jmbc,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("id,la,mb,jkce,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_abbabb += np.einsum("id,la,mc,jkbe,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_abbabb += np.einsum("id,je,lb,mkac,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("id,je,lc,mkab,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,ke,lb,mjac,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t3new_abbabb += np.einsum("id,ke,lc,mjab,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t3new_abbabb += np.einsum("la,jd,mb,ikec,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov)
    t3new_abbabb += np.einsum("la,jd,mc,ikeb,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abbabb += np.einsum("la,kd,mb,ijec,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_abbabb += np.einsum("la,kd,mc,ijeb,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov)
    t3new_abbabb += np.einsum("jd,ke,lb,imac,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("jd,ke,lb,imac,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("jd,ke,lc,imab,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("jd,ke,lc,imab,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("jd,lb,mc,ikae,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_abbabb += np.einsum("jd,lb,mc,ikae,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,lb,mc,ijae,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_abbabb += np.einsum("kd,lb,mc,ijae,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)

    # T3 amplitudes
    t3new_baabaa = np.zeros((nocc[1], nocc[0], nocc[0], nvir[1], nvir[0], nvir[0]), dtype=np.float64)
    t3new_baabaa += np.einsum("il,jlkbac->ijkabc", f.bb.oo, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jl,kilbac->ijkabc", f.aa.oo, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kl,jilbac->ijkabc", f.aa.oo, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ad,jikbdc->ijkabc", f.bb.vv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("bd,jikcad->ijkabc", f.aa.vv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("cd,jikbad->ijkabc", f.aa.vv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jlba,ilkc->ijkabc", t2.abab, v.bbaa.ooov) * -1.0
    t3new_baabaa += np.einsum("jlca,ilkb->ijkabc", t2.abab, v.bbaa.ooov)
    t3new_baabaa += np.einsum("klba,iljc->ijkabc", t2.abab, v.bbaa.ooov)
    t3new_baabaa += np.einsum("klca,iljb->ijkabc", t2.abab, v.bbaa.ooov) * -1.0
    t3new_baabaa += np.einsum("liba,jlkc->ijkabc", t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("lica,jlkb->ijkabc", t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("liba,kljc->ijkabc", t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("lica,kljb->ijkabc", t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("jicd,kbad->ijkabc", t2.abab, v.aabb.ovvv) * -1.0
    t3new_baabaa += np.einsum("jida,kbcd->ijkabc", t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jibd,kcad->ijkabc", t2.abab, v.aabb.ovvv)
    t3new_baabaa += np.einsum("jida,kcbd->ijkabc", t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("kicd,jbad->ijkabc", t2.abab, v.aabb.ovvv)
    t3new_baabaa += np.einsum("kida,jbcd->ijkabc", t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("kibd,jcad->ijkabc", t2.abab, v.aabb.ovvv) * -1.0
    t3new_baabaa += np.einsum("kida,jcbd->ijkabc", t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlbc,klia->ijkabc", t2.aaaa, v.aabb.ooov) * -2.0
    t3new_baabaa += np.einsum("klbc,jlia->ijkabc", t2.aaaa, v.aabb.ooov) * 2.0
    t3new_baabaa += np.einsum("jkbd,iacd->ijkabc", t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("jkcd,iabd->ijkabc", t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("iljm,klmbac->ijkabc", v.bbaa.oooo, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ilkm,jlmbac->ijkabc", v.bbaa.oooo, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jlkm,limbac->ijkabc", v.aaaa.oooo, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ilad,jlkbdc->ijkabc", v.bbbb.oovv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ilbd,jlkcad->ijkabc", v.bbaa.oovv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ilcd,jlkbad->ijkabc", v.bbaa.oovv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jlad,kilbdc->ijkabc", v.aabb.oovv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jlbd,kilcad->ijkabc", v.aaaa.oovv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jlcd,kilbad->ijkabc", v.aaaa.oovv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("klad,jilbdc->ijkabc", v.aabb.oovv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("klbd,jilcad->ijkabc", v.aaaa.oovv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("klcd,jilbad->ijkabc", v.aaaa.oovv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("iald,jlkbdc->ijkabc", v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jbld,kilcad->ijkabc", v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jcld,kilbad->ijkabc", v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kbld,jilcad->ijkabc", v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kcld,jilbad->ijkabc", v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("adbe,jikcde->ijkabc", v.bbaa.vvvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("adce,jikbde->ijkabc", v.bbaa.vvvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("bdce,jikdae->ijkabc", v.aaaa.vvvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("iald,jklbcd->ijkabc", v.bbaa.ovov, t3.aaaaaa) * 6.0
    t3new_baabaa += np.einsum("jbld,iklacd->ijkabc", v.aabb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("jcld,iklabd->ijkabc", v.aabb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("kbld,ijlacd->ijkabc", v.aabb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("kcld,ijlabd->ijkabc", v.aabb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("ld,jd,kilbac->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,kd,jilbac->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,lb,jikcad->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,lc,jikbad->ijkabc", f.aa.ov, t1.aa, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,id,jlkbac->ijkabc", f.bb.ov, t1.bb, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,la,jikbdc->ijkabc", f.bb.ov, t1.bb, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,jibd,klca->ijkabc", f.bb.ov, t2.abab, t2.abab) * -1.0
    t3new_baabaa += np.einsum("ld,jicd,klba->ijkabc", f.bb.ov, t2.abab, t2.abab)
    t3new_baabaa += np.einsum("ld,jlba,kicd->ijkabc", f.bb.ov, t2.abab, t2.abab) * -1.0
    t3new_baabaa += np.einsum("ld,jlca,kibd->ijkabc", f.bb.ov, t2.abab, t2.abab)
    t3new_baabaa += np.einsum("ld,jida,klbc->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * 2.0
    t3new_baabaa += np.einsum("ld,kida,jlbc->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * -2.0
    t3new_baabaa += np.einsum("ld,liba,jkcd->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * 2.0
    t3new_baabaa += np.einsum("ld,lica,jkbd->ijkabc", f.aa.ov, t2.abab, t2.aaaa) * -2.0
    t3new_baabaa += np.einsum("jd,klba,ilcd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv)
    t3new_baabaa += np.einsum("jd,klca,ilbd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv) * -1.0
    t3new_baabaa += np.einsum("jd,liba,klcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_baabaa += np.einsum("jd,lica,klbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_baabaa += np.einsum("kd,jlba,ilcd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv) * -1.0
    t3new_baabaa += np.einsum("kd,jlca,ilbd->ijkabc", t1.aa, t2.abab, v.bbaa.oovv)
    t3new_baabaa += np.einsum("kd,liba,jlcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_baabaa += np.einsum("kd,lica,jlbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_baabaa += np.einsum("lb,jmca,imkl->ijkabc", t1.aa, t2.abab, v.bbaa.oooo) * -1.0
    t3new_baabaa += np.einsum("lb,kmca,imjl->ijkabc", t1.aa, t2.abab, v.bbaa.oooo)
    t3new_baabaa += np.einsum("lb,mica,jlkm->ijkabc", t1.aa, t2.abab, v.aaaa.oooo)
    t3new_baabaa += np.einsum("lb,mica,jmkl->ijkabc", t1.aa, t2.abab, v.aaaa.oooo) * -1.0
    t3new_baabaa += np.einsum("lc,jmba,imkl->ijkabc", t1.aa, t2.abab, v.bbaa.oooo)
    t3new_baabaa += np.einsum("lc,kmba,imjl->ijkabc", t1.aa, t2.abab, v.bbaa.oooo) * -1.0
    t3new_baabaa += np.einsum("lc,miba,jlkm->ijkabc", t1.aa, t2.abab, v.aaaa.oooo) * -1.0
    t3new_baabaa += np.einsum("lc,miba,jmkl->ijkabc", t1.aa, t2.abab, v.aaaa.oooo)
    t3new_baabaa += np.einsum("lb,jicd,klad->ijkabc", t1.aa, t2.abab, v.aabb.oovv)
    t3new_baabaa += np.einsum("lb,jida,klcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_baabaa += np.einsum("lb,kicd,jlad->ijkabc", t1.aa, t2.abab, v.aabb.oovv) * -1.0
    t3new_baabaa += np.einsum("lb,kida,jlcd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_baabaa += np.einsum("lc,jibd,klad->ijkabc", t1.aa, t2.abab, v.aabb.oovv) * -1.0
    t3new_baabaa += np.einsum("lc,jida,klbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv) * -1.0
    t3new_baabaa += np.einsum("lc,kibd,jlad->ijkabc", t1.aa, t2.abab, v.aabb.oovv)
    t3new_baabaa += np.einsum("lc,kida,jlbd->ijkabc", t1.aa, t2.abab, v.aaaa.oovv)
    t3new_baabaa += np.einsum("jd,lica,kbld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("jd,liba,kcld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,lica,jbld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,liba,jcld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("lb,jida,kcld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("lb,kida,jcld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("lc,jida,kbld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("lc,kida,jbld->ijkabc", t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,kibe,aecd->ijkabc", t1.aa, t2.abab, v.bbaa.vvvv) * -1.0
    t3new_baabaa += np.einsum("jd,kice,aebd->ijkabc", t1.aa, t2.abab, v.bbaa.vvvv)
    t3new_baabaa += np.einsum("jd,kiea,bdce->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv)
    t3new_baabaa += np.einsum("jd,kiea,becd->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv) * -1.0
    t3new_baabaa += np.einsum("kd,jibe,aecd->ijkabc", t1.aa, t2.abab, v.bbaa.vvvv)
    t3new_baabaa += np.einsum("kd,jice,aebd->ijkabc", t1.aa, t2.abab, v.bbaa.vvvv) * -1.0
    t3new_baabaa += np.einsum("kd,jiea,bdce->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv) * -1.0
    t3new_baabaa += np.einsum("kd,jiea,becd->ijkabc", t1.aa, t2.abab, v.aaaa.vvvv)
    t3new_baabaa += np.einsum("jd,klbc,iald->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("kd,jlbc,iald->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lb,jkcd,iald->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lc,jkbd,iald->ijkabc", t1.aa, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("id,jlca,kbld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("id,jlba,kcld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,klca,jbld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,klba,jcld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("la,jicd,kbld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("la,jibd,kcld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("la,kicd,jbld->ijkabc", t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("la,kibd,jcld->ijkabc", t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("id,jlbc,klad->ijkabc", t1.bb, t2.aaaa, v.aabb.oovv) * -2.0
    t3new_baabaa += np.einsum("id,klbc,jlad->ijkabc", t1.bb, t2.aaaa, v.aabb.oovv) * 2.0
    t3new_baabaa += np.einsum("la,jmbc,ilkm->ijkabc", t1.bb, t2.aaaa, v.bbaa.oooo) * 2.0
    t3new_baabaa += np.einsum("la,kmbc,iljm->ijkabc", t1.bb, t2.aaaa, v.bbaa.oooo) * -2.0
    t3new_baabaa += np.einsum("la,jkbd,ilcd->ijkabc", t1.bb, t2.aaaa, v.bbaa.oovv) * -2.0
    t3new_baabaa += np.einsum("la,jkcd,ilbd->ijkabc", t1.bb, t2.aaaa, v.bbaa.oovv) * 2.0
    t3new_baabaa += np.einsum("id,jkbe,adce->ijkabc", t1.bb, t2.aaaa, v.bbaa.vvvv) * 2.0
    t3new_baabaa += np.einsum("id,jkce,adbe->ijkabc", t1.bb, t2.aaaa, v.bbaa.vvvv) * -2.0
    t3new_baabaa += np.einsum("jd,ilmd,klmbac->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,klmd,limbac->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,ilmd,jlmbac->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,jlmd,limbac->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lb,imld,jmkcad->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,jlmd,kimcad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,jmld,kimcad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lb,klmd,jimcad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lb,kmld,jimcad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lc,imld,jmkbad->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lc,jlmd,kimbad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lc,jmld,kimbad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lc,klmd,jimbad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lc,kmld,jimbad->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,imld,jmkbac->ijkabc", t1.aa, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,jlmd,kimbac->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,jmld,kimbac->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,klmd,jimbac->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,kmld,jimbac->ijkabc", t1.aa, v.aaaa.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,ldae,kilbec->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jd,ldbe,kilcae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,ldce,kilbae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jd,lebd,kilcae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jd,lecd,kilbae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,ldae,jilbec->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,ldbe,jilcae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,ldce,jilbae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,lebd,jilcae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,lecd,jilbae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lb,ldae,jikced->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lb,ldce,jikdae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lc,ldae,jikbed->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lc,ldbe,jikdae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,ldae,jikbec->ijkabc", t1.aa, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,ldbe,jikcae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,ldce,jikbae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,lebd,jikcae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,lecd,jikbae->ijkabc", t1.aa, v.aaaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.aa, v.aabb.ooov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("lb,klmd,ijmacd->ijkabc", t1.aa, v.aabb.ooov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("lc,jlmd,ikmabd->ijkabc", t1.aa, v.aabb.ooov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("lc,klmd,ijmabd->ijkabc", t1.aa, v.aabb.ooov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("jd,lebd,iklace->ijkabc", t1.aa, v.bbaa.ovvv, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("jd,lecd,iklabe->ijkabc", t1.aa, v.bbaa.ovvv, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("kd,lebd,ijlace->ijkabc", t1.aa, v.bbaa.ovvv, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("kd,lecd,ijlabe->ijkabc", t1.aa, v.bbaa.ovvv, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("id,jlmd,kmlbac->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("id,klmd,jmlbac->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("la,ilmd,jmkbdc->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("la,imld,jmkbdc->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("la,jmld,kimbdc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("la,kmld,jimbdc->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,ilmd,jmkbac->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,imld,jmkbac->ijkabc", t1.bb, v.bbbb.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,jmld,kimbac->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,kmld,jimbac->ijkabc", t1.bb, v.aabb.ooov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("id,ldae,jlkbec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("id,ldbe,jlkcae->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("id,ldce,jlkbae->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("id,lead,jlkbec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("la,ldbe,jikcde->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("la,ldce,jikbde->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,ldae,jikbec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,ldbe,jikcae->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,ldce,jikbae->ijkabc", t1.bb, v.bbaa.ovvv, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,lead,jikbec->ijkabc", t1.bb, v.bbbb.ovvv, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.bb, v.bbaa.ooov, t3.aaaaaa) * -6.0
    t3new_baabaa += np.einsum("id,lead,jklbce->ijkabc", t1.bb, v.aabb.ovvv, t3.aaaaaa) * 6.0
    t3new_baabaa += np.einsum("jlba,kmcd,ilmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlbd,kmca,ilmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_baabaa += np.einsum("jlca,kmbd,ilmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_baabaa += np.einsum("jlcd,kmba,ilmd->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlba,kmcd,imld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_baabaa += np.einsum("jlbd,kmca,imld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlca,kmbd,imld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlcd,kmba,imld->ijkabc", t2.abab, t2.abab, v.bbbb.ooov)
    t3new_baabaa += np.einsum("jibd,lmca,klmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("jicd,lmba,klmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlba,micd,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("jlbd,mica,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlca,mibd,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("jlcd,miba,kmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("kibd,lmca,jlmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("kicd,lmba,jlmd->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("klba,micd,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("klbd,mica,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("klca,mibd,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("klcd,miba,jmld->ijkabc", t2.abab, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("jibd,klce,ldae->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_baabaa += np.einsum("jibd,klea,ldce->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jicd,klbe,ldae->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_baabaa += np.einsum("jicd,klea,ldbe->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jibd,klce,lead->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_baabaa += np.einsum("jicd,klbe,lead->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_baabaa += np.einsum("jida,klbe,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jide,klba,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jida,klce,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jide,klca,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlbd,kice,ldae->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_baabaa += np.einsum("jlbd,kiea,ldce->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jlcd,kibe,ldae->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlcd,kiea,ldbe->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlbd,kice,lead->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlba,kide,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlcd,kibe,lead->ijkabc", t2.abab, t2.abab, v.bbbb.ovvv)
    t3new_baabaa += np.einsum("jlca,kide,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jlda,kibe,lecd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jlda,kice,lebd->ijkabc", t2.abab, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jlba,kmcd,ilmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_baabaa += np.einsum("jlca,kmbd,ilmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_baabaa += np.einsum("jlda,kmbc,ilmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_baabaa += np.einsum("jida,lmbc,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("jida,lmbc,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov)
    t3new_baabaa += np.einsum("klba,jmcd,ilmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_baabaa += np.einsum("klca,jmbd,ilmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_baabaa += np.einsum("klda,jmbc,ilmd->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_baabaa += np.einsum("kida,lmbc,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov)
    t3new_baabaa += np.einsum("kida,lmbc,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("lmba,jkcd,imld->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_baabaa += np.einsum("lmca,jkbd,imld->ijkabc", t2.abab, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_baabaa += np.einsum("liba,jmcd,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_baabaa += np.einsum("lica,jmbd,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_baabaa += np.einsum("lida,jmbc,klmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_baabaa += np.einsum("liba,jmcd,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_baabaa += np.einsum("lica,jmbd,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_baabaa += np.einsum("lida,jmbc,kmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_baabaa += np.einsum("liba,kmcd,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_baabaa += np.einsum("lica,kmbd,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_baabaa += np.einsum("lida,kmbc,jlmd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_baabaa += np.einsum("liba,kmcd,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_baabaa += np.einsum("lica,kmbd,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * -2.0
    t3new_baabaa += np.einsum("lida,kmbc,jmld->ijkabc", t2.abab, t2.aaaa, v.aaaa.ooov) * 2.0
    t3new_baabaa += np.einsum("jide,klbc,ldae->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_baabaa += np.einsum("jida,klbe,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("jida,klce,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("jibd,klce,lead->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_baabaa += np.einsum("jicd,klbe,lead->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_baabaa += np.einsum("jida,klbe,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("jida,klce,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("kide,jlbc,ldae->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_baabaa += np.einsum("kida,jlbe,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("kida,jlce,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("kibd,jlce,lead->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_baabaa += np.einsum("kicd,jlbe,lead->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_baabaa += np.einsum("kida,jlbe,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("kida,jlce,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("liba,jkde,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("lica,jkde,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("lida,jkbe,ldce->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("lida,jkce,ldbe->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("libd,jkce,lead->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_baabaa += np.einsum("liba,jkde,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("licd,jkbe,lead->ijkabc", t2.abab, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_baabaa += np.einsum("lica,jkde,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("lida,jkbe,lecd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("lida,jkce,lebd->ijkabc", t2.abab, t2.aaaa, v.aaaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("ilad,jmbc,kmld->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ooov) * -4.0
    t3new_baabaa += np.einsum("ilad,kmbc,jmld->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ooov) * 4.0
    t3new_baabaa += np.einsum("ilad,jkbe,ldce->ijkabc", t2.bbbb, t2.aaaa, v.bbaa.ovvv) * 4.0
    t3new_baabaa += np.einsum("ilad,jkce,ldbe->ijkabc", t2.bbbb, t2.aaaa, v.bbaa.ovvv) * -4.0
    t3new_baabaa += np.einsum("jibd,ldme,klmcae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jicd,ldme,klmbae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("jida,ldme,kmlbec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("jide,ldme,kmlbac->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jibd,lemd,kmlcae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jicd,lemd,kmlbae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("jida,lemd,klmbec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("jide,lemd,klmbac->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jlba,ldme,kimcde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jlbd,ldme,kimcae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_baabaa += np.einsum("jlca,ldme,kimbde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jlcd,ldme,kimbae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_baabaa += np.einsum("jlda,lemd,kimbec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_baabaa += np.einsum("jlde,lemd,kimbac->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kibd,ldme,jlmcae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("kicd,ldme,jlmbae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("kida,ldme,jmlbec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("kide,ldme,jmlbac->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("kibd,lemd,jmlcae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("kicd,lemd,jmlbae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("kida,lemd,jlmbec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("kide,lemd,jlmbac->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("klba,ldme,jimcde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("klbd,ldme,jimcae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_baabaa += np.einsum("klca,ldme,jimbde->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("klcd,ldme,jimbae->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_baabaa += np.einsum("klda,lemd,jimbec->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_baabaa += np.einsum("klde,lemd,jimbac->ijkabc", t2.abab, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("liba,ldme,jmkced->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lica,ldme,jmkbed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lida,ldme,jmkbec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.00000000000002
    t3new_baabaa += np.einsum("lide,ldme,jmkbac->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("libd,lemd,jmkcae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.00000000000002
    t3new_baabaa += np.einsum("licd,lemd,jmkbae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.00000000000002
    t3new_baabaa += np.einsum("lmba,ldme,jikced->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lmca,ldme,jikbed->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lmda,ldme,jikbec->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lmbd,lemd,jikcae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lmcd,lemd,jikbae->ijkabc", t2.abab, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jibd,ldme,klmcae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_baabaa += np.einsum("jicd,ldme,klmbae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_baabaa += np.einsum("jida,ldme,klmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_baabaa += np.einsum("jibd,lemd,klmcae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_baabaa += np.einsum("jicd,lemd,klmbae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_baabaa += np.einsum("jida,lemd,klmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_baabaa += np.einsum("jlba,ldme,ikmdce->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.00000000000002
    t3new_baabaa += np.einsum("jlca,ldme,ikmdbe->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.00000000000002
    t3new_baabaa += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.00000000000002
    t3new_baabaa += np.einsum("jlcd,lemd,ikmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.00000000000002
    t3new_baabaa += np.einsum("kibd,ldme,jlmcae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_baabaa += np.einsum("kicd,ldme,jlmbae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_baabaa += np.einsum("kida,ldme,jlmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -3.0
    t3new_baabaa += np.einsum("kibd,lemd,jlmcae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_baabaa += np.einsum("kicd,lemd,jlmbae->ijkabc", t2.abab, v.bbbb.ovov, t3.abbabb)
    t3new_baabaa += np.einsum("kida,lemd,jlmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 3.0
    t3new_baabaa += np.einsum("klba,ldme,ijmdce->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("klbd,ldme,ijmace->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.00000000000002
    t3new_baabaa += np.einsum("klca,ldme,ijmdbe->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.00000000000002
    t3new_baabaa += np.einsum("klbd,lemd,ijmace->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * 2.00000000000002
    t3new_baabaa += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.babbab) * -2.00000000000002
    t3new_baabaa += np.einsum("liba,ldme,jkmcde->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 6.0
    t3new_baabaa += np.einsum("lica,ldme,jkmbde->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -6.0
    t3new_baabaa += np.einsum("lida,ldme,jkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * 6.0000000000000595
    t3new_baabaa += np.einsum("lida,lemd,jkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.aaaaaa) * -6.0000000000000595
    t3new_baabaa += np.einsum("ilad,ldme,jmkbec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 4.00000000000004
    t3new_baabaa += np.einsum("ilde,ldme,jmkbac->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ilad,lemd,jmkbec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -4.00000000000004
    t3new_baabaa += np.einsum("ilde,lemd,jmkbac->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jkbd,ldme,limcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jkcd,ldme,limbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jkde,ldme,limbac->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("jkbd,lemd,limcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jkcd,lemd,limbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jkde,lemd,limbac->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jlbc,ldme,kimdae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.0
    t3new_baabaa += np.einsum("jlbd,ldme,kimcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_baabaa += np.einsum("jlcd,ldme,kimbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_baabaa += np.einsum("jlde,ldme,kimbac->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jlbd,lemd,kimcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_baabaa += np.einsum("jlcd,lemd,kimbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_baabaa += np.einsum("jlde,lemd,kimbac->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("klbc,ldme,jimdae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.0
    t3new_baabaa += np.einsum("klbd,ldme,jimcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_baabaa += np.einsum("klcd,ldme,jimbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_baabaa += np.einsum("klde,ldme,jimbac->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("klbd,lemd,jimcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_baabaa += np.einsum("klcd,lemd,jimbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_baabaa += np.einsum("klde,lemd,jimbac->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lmad,ldme,jikbec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lmbc,ldme,jikdae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lmbd,ldme,jikcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lmcd,ldme,jikbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lmad,lemd,jikbec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lmbd,lemd,jikcae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lmcd,lemd,jikbae->ijkabc", t2.aaaa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.aaaaaa) * 12.000000000000123
    t3new_baabaa += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("jkcd,ldme,ilmabe->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("jkbd,lemd,ilmaec->ijkabc", t2.aaaa, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_baabaa += np.einsum("jkcd,lemd,ilmaeb->ijkabc", t2.aaaa, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_baabaa += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -4.0
    t3new_baabaa += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 4.00000000000004
    t3new_baabaa += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -4.00000000000004
    t3new_baabaa += np.einsum("klbc,ldme,ijmade->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 4.0
    t3new_baabaa += np.einsum("klbd,ldme,ijmace->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * -4.00000000000004
    t3new_baabaa += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.aaaa, v.aabb.ovov, t3.babbab) * 4.00000000000004
    t3new_baabaa += np.einsum("jd,lb,kmca,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov)
    t3new_baabaa += np.einsum("jd,lb,mica,klmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("jd,lb,mica,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("jd,lc,kmba,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t3new_baabaa += np.einsum("jd,lc,miba,klmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("jd,lc,miba,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("kd,lb,jmca,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov) * -1.0
    t3new_baabaa += np.einsum("kd,lb,mica,jlmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("kd,lb,mica,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("kd,lc,jmba,imld->ijkabc", t1.aa, t1.aa, t2.abab, v.bbaa.ooov)
    t3new_baabaa += np.einsum("kd,lc,miba,jlmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("kd,lc,miba,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("lb,mc,jida,klmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("lb,mc,jida,kmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("lb,mc,kida,jlmd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov)
    t3new_baabaa += np.einsum("lb,mc,kida,jmld->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ooov) * -1.0
    t3new_baabaa += np.einsum("jd,ke,liba,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jd,ke,lica,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("jd,ke,liba,lecd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("jd,ke,lica,lebd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jd,lb,kice,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t3new_baabaa += np.einsum("jd,lb,kiea,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jd,lb,kiea,lecd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("jd,lc,kibe,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv)
    t3new_baabaa += np.einsum("jd,lc,kiea,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("jd,lc,kiea,lebd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,lb,jice,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv)
    t3new_baabaa += np.einsum("kd,lb,jiea,ldce->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("kd,lb,jiea,lecd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,lc,jibe,ldae->ijkabc", t1.aa, t1.aa, t2.abab, v.aabb.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,lc,jiea,ldbe->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,lc,jiea,lebd->ijkabc", t1.aa, t1.aa, t2.abab, v.aaaa.ovvv)
    t3new_baabaa += np.einsum("lb,id,jmca,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("lb,id,kmca,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("lc,id,jmba,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("lc,id,kmba,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("lb,ma,jicd,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("lb,ma,kicd,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("lc,ma,jibd,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov)
    t3new_baabaa += np.einsum("lc,ma,kibd,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_baabaa += np.einsum("jd,ie,klba,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jd,ie,klca,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("jd,la,kibe,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jd,la,kice,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,ie,jlba,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,ie,jlca,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("kd,la,jibe,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_baabaa += np.einsum("kd,la,jice,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_baabaa += np.einsum("jd,la,kmbc,ilmd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_baabaa += np.einsum("kd,la,jmbc,ilmd->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_baabaa += np.einsum("lb,ma,jkcd,imld->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * -2.0
    t3new_baabaa += np.einsum("lc,ma,jkbd,imld->ijkabc", t1.aa, t1.bb, t2.aaaa, v.bbaa.ooov) * 2.0
    t3new_baabaa += np.einsum("jd,ie,klbc,ldae->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_baabaa += np.einsum("kd,ie,jlbc,ldae->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_baabaa += np.einsum("lb,id,jkce,lead->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * 2.0
    t3new_baabaa += np.einsum("lc,id,jkbe,lead->ijkabc", t1.aa, t1.bb, t2.aaaa, v.aabb.ovvv) * -2.0
    t3new_baabaa += np.einsum("id,la,jmbc,kmld->ijkabc", t1.bb, t1.bb, t2.aaaa, v.aabb.ooov) * 2.0
    t3new_baabaa += np.einsum("id,la,kmbc,jmld->ijkabc", t1.bb, t1.bb, t2.aaaa, v.aabb.ooov) * -2.0
    t3new_baabaa += np.einsum("id,la,jkbe,ldce->ijkabc", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovvv) * -2.0
    t3new_baabaa += np.einsum("id,la,jkce,ldbe->ijkabc", t1.bb, t1.bb, t2.aaaa, v.bbaa.ovvv) * 2.0
    t3new_baabaa += np.einsum("jd,ke,ldme,limbac->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("jd,ke,lemd,limbac->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jd,lb,ldme,kimcae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,lb,lemd,kimcae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jd,lc,ldme,kimbae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jd,lc,lemd,kimbae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,le,ldme,kimbac->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,le,lemd,kimbac->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,lb,ldme,jimcae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,lb,lemd,jimcae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,lc,ldme,jimbae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("kd,lc,lemd,jimbae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,le,ldme,jimbac->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,le,lemd,jimbac->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,mc,ldme,jikdae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,mb,ldme,jikcae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,mb,lemd,jikcae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,mc,ldme,jikbae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,mc,lemd,jikbae->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("jd,lc,ldme,ikmabe->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("kd,lb,ldme,ijmace->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.babbab) * 2.0
    t3new_baabaa += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.babbab) * -2.0
    t3new_baabaa += np.einsum("jd,ie,ldme,kmlbac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jd,ie,lemd,klmbac->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -1.0
    t3new_baabaa += np.einsum("jd,la,lemd,kimbec->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("jd,le,lemd,kimbac->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,ie,ldme,jmlbac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("kd,ie,lemd,jlmbac->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba)
    t3new_baabaa += np.einsum("kd,la,lemd,jimbec->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("kd,le,lemd,jimbac->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,id,lemd,jmkcae->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lc,id,lemd,jmkbae->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("ld,ie,ldme,jmkbac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,ma,ldme,jikced->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("lb,md,lemd,jikcae->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lc,ma,ldme,jikbed->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("lc,md,lemd,jikbae->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,ma,ldme,jikbec->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("id,la,ldme,jmkbec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("id,la,lemd,jmkbec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("id,le,ldme,jmkbac->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("id,le,lemd,jmkbac->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,ma,ldme,jikbec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * -2.0
    t3new_baabaa += np.einsum("ld,ma,lemd,jikbec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abaaba) * 2.0
    t3new_baabaa += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.aaaaaa) * -6.0
    t3new_baabaa += np.einsum("jd,kibe,lmca,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,kice,lmba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("jd,klba,mice,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,klbe,mica,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_baabaa += np.einsum("jd,klca,mibe,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_baabaa += np.einsum("jd,klce,miba,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,jibe,lmca,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("kd,jice,lmba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,jlba,mice,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_baabaa += np.einsum("kd,jlbe,mica,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,jlca,mibe,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,jlce,miba,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_baabaa += np.einsum("lb,jida,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("lb,jide,kmca,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("lb,jicd,kmea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("lb,jmca,kide,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("lb,jmda,kice,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("lb,jmcd,kiea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("lc,jida,kmbe,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("lc,jide,kmba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("lc,jibd,kmea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("lc,jmba,kide,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("lc,jmda,kibe,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("lc,jmbd,kiea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("ld,jibe,kmca,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("ld,jice,kmba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("ld,jmba,kice,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("ld,jmca,kibe,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("jd,kiea,lmbc,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_baabaa += np.einsum("jd,kiea,lmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,liba,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("jd,lica,kmbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("jd,liea,kmbc,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("jd,liba,kmce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("jd,lica,kmbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("jd,liea,kmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("kd,jiea,lmbc,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,jiea,lmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_baabaa += np.einsum("kd,liba,jmce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("kd,lica,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("kd,liea,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("kd,liba,jmce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("kd,lica,jmbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("kd,liea,jmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lb,jida,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lb,jida,kmce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lb,kida,jmce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lb,kida,jmce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lb,mica,jkde,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_baabaa += np.einsum("lb,mida,jkce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lb,mica,jkde,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("lb,mida,jkce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lc,jida,kmbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lc,jida,kmbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lc,kida,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("lc,kida,jmbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lc,miba,jkde,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("lc,mida,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lc,miba,jkde,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov)
    t3new_baabaa += np.einsum("lc,mida,jkbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("ld,jiea,kmbc,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("ld,jiea,kmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("ld,kiea,jmbc,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("ld,kiea,jmbc,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("ld,miba,jkce,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("ld,mica,jkbe,ldme->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("ld,miba,jkce,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * -2.0
    t3new_baabaa += np.einsum("ld,mica,jkbe,lemd->ijkabc", t1.aa, t2.abab, t2.aaaa, v.aaaa.ovov) * 2.0
    t3new_baabaa += np.einsum("jd,ilae,kmbc,lemd->ijkabc", t1.aa, t2.bbbb, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_baabaa += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.aa, t2.bbbb, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_baabaa += np.einsum("lb,imad,jkce,lemd->ijkabc", t1.aa, t2.bbbb, t2.aaaa, v.aabb.ovov) * 4.0
    t3new_baabaa += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.aa, t2.bbbb, t2.aaaa, v.aabb.ovov) * -4.0
    t3new_baabaa += np.einsum("id,jlba,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,jlbe,kmca,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("id,jlca,kmbe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("id,jlce,kmba,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,jlba,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("id,jlbe,kmca,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,jlca,kmbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,jlce,kmba,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("la,jibd,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("la,jicd,kmbe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("la,jibd,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("la,jicd,kmbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("la,jmbd,kice,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("la,jmcd,kibe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("la,jmbd,kice,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("la,jmcd,kibe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("ld,jibe,kmca,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("ld,jice,kmba,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("ld,jibe,kmca,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("ld,jice,kmba,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("ld,jmba,kice,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("ld,jmca,kibe,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("ld,jmba,kice,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov)
    t3new_baabaa += np.einsum("ld,jmca,kibe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbbb.ovov) * -1.0
    t3new_baabaa += np.einsum("id,jlba,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("id,jlca,kmbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("id,jlea,kmbc,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("id,klba,jmce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("id,klca,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("id,klea,jmbc,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("id,lmba,jkce,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_baabaa += np.einsum("id,lmca,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.aabb.ovov) * 2.0
    t3new_baabaa += np.einsum("la,jibd,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("la,jicd,kmbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("la,jide,kmbc,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("la,kibd,jmce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("la,kicd,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("la,kide,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("la,mibd,jkce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("la,micd,jkbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("ld,jiea,kmbc,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("ld,kiea,jmbc,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("ld,miba,jkce,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("ld,mica,jkbe,ldme->ijkabc", t1.bb, t2.abab, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("jd,ke,lb,mica,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("jd,ke,lb,mica,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,ke,lc,miba,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,ke,lc,miba,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("jd,lb,mc,kiea,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("jd,lb,mc,kiea,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,lb,mc,jiea,ldme->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,lb,mc,jiea,lemd->ijkabc", t1.aa, t1.aa, t1.aa, t2.abab, v.aaaa.ovov)
    t3new_baabaa += np.einsum("jd,lb,ie,kmca,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("jd,lc,ie,kmba,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("jd,lb,ma,kice,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("jd,lc,ma,kibe,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,lb,ie,jmca,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,lc,ie,jmba,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("kd,lb,ma,jice,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_baabaa += np.einsum("kd,lc,ma,jibe,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.abab, v.aabb.ovov)
    t3new_baabaa += np.einsum("jd,ie,la,kmbc,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * -2.0
    t3new_baabaa += np.einsum("kd,ie,la,jmbc,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.bbaa.ovov) * 2.0
    t3new_baabaa += np.einsum("lb,id,ma,jkce,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.aabb.ovov) * -2.0
    t3new_baabaa += np.einsum("lc,id,ma,jkbe,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.aaaa, v.aabb.ovov) * 2.0

    # T3 amplitudes
    t3new_babbab = np.zeros((nocc[1], nocc[0], nocc[1], nvir[1], nvir[0], nvir[1]), dtype=np.float64)
    t3new_babbab += np.einsum("il,jklbac->ijkabc", f.bb.oo, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("jl,iklacb->ijkabc", f.aa.oo, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("kl,ijlabc->ijkabc", f.bb.oo, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ad,ijkcbd->ijkabc", f.bb.vv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("bd,ijkadc->ijkabc", f.aa.vv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("cd,ijkabd->ijkabc", f.bb.vv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("jlba,ilkc->ijkabc", t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("jlbc,ilka->ijkabc", t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("jlba,klic->ijkabc", t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("jlbc,klia->ijkabc", t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("liba,jlkc->ijkabc", t2.abab, v.aabb.ooov) * -1.0
    t3new_babbab += np.einsum("libc,jlka->ijkabc", t2.abab, v.aabb.ooov)
    t3new_babbab += np.einsum("lkba,jlic->ijkabc", t2.abab, v.aabb.ooov)
    t3new_babbab += np.einsum("lkbc,jlia->ijkabc", t2.abab, v.aabb.ooov) * -1.0
    t3new_babbab += np.einsum("jkbd,iacd->ijkabc", t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("jkdc,iabd->ijkabc", t2.abab, v.bbaa.ovvv)
    t3new_babbab += np.einsum("jkbd,icad->ijkabc", t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("jkda,icbd->ijkabc", t2.abab, v.bbaa.ovvv) * -1.0
    t3new_babbab += np.einsum("jibd,kacd->ijkabc", t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("jidc,kabd->ijkabc", t2.abab, v.bbaa.ovvv) * -1.0
    t3new_babbab += np.einsum("jibd,kcad->ijkabc", t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("jida,kcbd->ijkabc", t2.abab, v.bbaa.ovvv)
    t3new_babbab += np.einsum("ilac,kljb->ijkabc", t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_babbab += np.einsum("klac,iljb->ijkabc", t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_babbab += np.einsum("ikad,jbcd->ijkabc", t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_babbab += np.einsum("ikcd,jbad->ijkabc", t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_babbab += np.einsum("iald,jklbcd->ijkabc", v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("icld,jklbad->ijkabc", v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("kald,jilbcd->ijkabc", v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("kcld,jilbad->ijkabc", v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("iljm,klmacb->ijkabc", v.bbaa.oooo, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("ilkm,jlmbac->ijkabc", v.bbbb.oooo, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("jlkm,ilmabc->ijkabc", v.aabb.oooo, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ilad,jklbcd->ijkabc", v.bbbb.oovv, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("ilbd,jkldac->ijkabc", v.bbaa.oovv, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("ilcd,jklbad->ijkabc", v.bbbb.oovv, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("jlad,iklcdb->ijkabc", v.aabb.oovv, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jlbd,iklacd->ijkabc", v.aaaa.oovv, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jlcd,ikladb->ijkabc", v.aabb.oovv, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("klad,ijlcbd->ijkabc", v.bbbb.oovv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("klbd,ijladc->ijkabc", v.bbaa.oovv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("klcd,ijlabd->ijkabc", v.bbbb.oovv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("iald,jklbcd->ijkabc", v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("icld,jklbad->ijkabc", v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("jbld,iklacd->ijkabc", v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jbld,iklacd->ijkabc", v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_babbab += np.einsum("kald,ijlcbd->ijkabc", v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("kcld,ijlabd->ijkabc", v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("adbe,ijkced->ijkabc", v.bbaa.vvvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("adce,ijkdbe->ijkabc", v.bbbb.vvvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("bdce,ijkade->ijkabc", v.aabb.vvvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,jd,iklacb->ijkabc", f.aa.ov, t1.aa, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("ld,lb,ijkadc->ijkabc", f.aa.ov, t1.aa, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,id,jklbac->ijkabc", f.bb.ov, t1.bb, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("ld,kd,ijlabc->ijkabc", f.bb.ov, t1.bb, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,la,ijkcbd->ijkabc", f.bb.ov, t1.bb, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,lc,ijkabd->ijkabc", f.bb.ov, t1.bb, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,jida,lkbc->ijkabc", f.aa.ov, t2.abab, t2.abab) * -1.0
    t3new_babbab += np.einsum("ld,jidc,lkba->ijkabc", f.aa.ov, t2.abab, t2.abab)
    t3new_babbab += np.einsum("ld,jkda,libc->ijkabc", f.aa.ov, t2.abab, t2.abab)
    t3new_babbab += np.einsum("ld,jkdc,liba->ijkabc", f.aa.ov, t2.abab, t2.abab) * -1.0
    t3new_babbab += np.einsum("ld,jkbd,ilac->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * -2.0
    t3new_babbab += np.einsum("ld,jlbc,ikad->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * -2.0
    t3new_babbab += np.einsum("ld,jlba,ikcd->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * 2.0
    t3new_babbab += np.einsum("ld,jibd,klac->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * 2.0
    t3new_babbab += np.einsum("jd,lkbc,iald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,lkba,icld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("jd,libc,kald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("jd,liba,kcld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jkdc,iald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jkda,icld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("lb,jidc,kald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("lb,jida,kcld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,ilac,klbd->ijkabc", t1.aa, t2.bbbb, v.bbaa.oovv) * -2.0
    t3new_babbab += np.einsum("jd,klac,ilbd->ijkabc", t1.aa, t2.bbbb, v.bbaa.oovv) * 2.0
    t3new_babbab += np.einsum("lb,imac,jlkm->ijkabc", t1.aa, t2.bbbb, v.aabb.oooo) * 2.0
    t3new_babbab += np.einsum("lb,kmac,imjl->ijkabc", t1.aa, t2.bbbb, v.bbaa.oooo) * -2.0
    t3new_babbab += np.einsum("lb,ikad,jlcd->ijkabc", t1.aa, t2.bbbb, v.aabb.oovv) * -2.0
    t3new_babbab += np.einsum("lb,ikcd,jlad->ijkabc", t1.aa, t2.bbbb, v.aabb.oovv) * 2.0
    t3new_babbab += np.einsum("jd,ikce,aebd->ijkabc", t1.aa, t2.bbbb, v.bbaa.vvvv) * -2.0
    t3new_babbab += np.einsum("jd,ikae,bdce->ijkabc", t1.aa, t2.bbbb, v.aabb.vvvv) * 2.0
    t3new_babbab += np.einsum("id,jlbc,klad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_babbab += np.einsum("id,jlba,klcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_babbab += np.einsum("id,lkbc,jlad->ijkabc", t1.bb, t2.abab, v.aabb.oovv) * -1.0
    t3new_babbab += np.einsum("id,lkba,jlcd->ijkabc", t1.bb, t2.abab, v.aabb.oovv)
    t3new_babbab += np.einsum("kd,jlbc,ilad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_babbab += np.einsum("kd,jlba,ilcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_babbab += np.einsum("kd,libc,jlad->ijkabc", t1.bb, t2.abab, v.aabb.oovv)
    t3new_babbab += np.einsum("kd,liba,jlcd->ijkabc", t1.bb, t2.abab, v.aabb.oovv) * -1.0
    t3new_babbab += np.einsum("la,jmbc,ilkm->ijkabc", t1.bb, t2.abab, v.bbbb.oooo)
    t3new_babbab += np.einsum("la,jmbc,imkl->ijkabc", t1.bb, t2.abab, v.bbbb.oooo) * -1.0
    t3new_babbab += np.einsum("la,mkbc,iljm->ijkabc", t1.bb, t2.abab, v.bbaa.oooo)
    t3new_babbab += np.einsum("la,mibc,jmkl->ijkabc", t1.bb, t2.abab, v.aabb.oooo) * -1.0
    t3new_babbab += np.einsum("lc,jmba,ilkm->ijkabc", t1.bb, t2.abab, v.bbbb.oooo) * -1.0
    t3new_babbab += np.einsum("lc,jmba,imkl->ijkabc", t1.bb, t2.abab, v.bbbb.oooo)
    t3new_babbab += np.einsum("lc,mkba,iljm->ijkabc", t1.bb, t2.abab, v.bbaa.oooo) * -1.0
    t3new_babbab += np.einsum("lc,miba,jmkl->ijkabc", t1.bb, t2.abab, v.aabb.oooo)
    t3new_babbab += np.einsum("la,jkbd,ilcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_babbab += np.einsum("la,jkdc,ilbd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv) * -1.0
    t3new_babbab += np.einsum("la,jibd,klcd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_babbab += np.einsum("la,jidc,klbd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv)
    t3new_babbab += np.einsum("lc,jkbd,ilad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_babbab += np.einsum("lc,jkda,ilbd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv)
    t3new_babbab += np.einsum("lc,jibd,klad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_babbab += np.einsum("lc,jida,klbd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv) * -1.0
    t3new_babbab += np.einsum("id,jlbc,kald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("id,jlba,kcld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jlbc,iald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jlba,icld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("la,jkbd,icld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("la,jibd,kcld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jkbd,iald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jibd,kald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("id,jkbe,adce->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv)
    t3new_babbab += np.einsum("id,jkec,adbe->ijkabc", t1.bb, t2.abab, v.bbaa.vvvv)
    t3new_babbab += np.einsum("id,jkbe,aecd->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv) * -1.0
    t3new_babbab += np.einsum("id,jkea,becd->ijkabc", t1.bb, t2.abab, v.aabb.vvvv) * -1.0
    t3new_babbab += np.einsum("kd,jibe,adce->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv) * -1.0
    t3new_babbab += np.einsum("kd,jiec,adbe->ijkabc", t1.bb, t2.abab, v.bbaa.vvvv) * -1.0
    t3new_babbab += np.einsum("kd,jibe,aecd->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv)
    t3new_babbab += np.einsum("kd,jiea,becd->ijkabc", t1.bb, t2.abab, v.aabb.vvvv)
    t3new_babbab += np.einsum("id,klac,jbld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("kd,ilac,jbld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("la,ikcd,jbld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("lc,ikad,jbld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("jd,ilmd,klmacb->ijkabc", t1.aa, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jd,klmd,ilmacb->ijkabc", t1.aa, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("lb,imld,jkmdac->ijkabc", t1.aa, v.bbaa.ooov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.aa, v.aabb.ooov, t3.bbbbbb) * -6.0
    t3new_babbab += np.einsum("lb,jmld,ikmacd->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("lb,kmld,ijmadc->ijkabc", t1.aa, v.bbaa.ooov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,imld,jkmbac->ijkabc", t1.aa, v.bbaa.ooov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("ld,jlmd,ikmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("ld,jmld,ikmacb->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("ld,kmld,ijmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("jd,ldae,iklceb->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jd,ldbe,iklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jd,ldce,iklaeb->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jd,lebd,iklace->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jd,lebd,iklace->ijkabc", t1.aa, v.bbaa.ovvv, t3.bbbbbb) * 6.0
    t3new_babbab += np.einsum("lb,ldae,ijkcde->ijkabc", t1.aa, v.aabb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lb,ldce,ijkade->ijkabc", t1.aa, v.aabb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,ldae,ijkcbe->ijkabc", t1.aa, v.aabb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,ldbe,ijkaec->ijkabc", t1.aa, v.aaaa.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,ldce,ijkabe->ijkabc", t1.aa, v.aabb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,lebd,ijkaec->ijkabc", t1.aa, v.aaaa.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("la,klmd,jimbcd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("lc,ilmd,jkmbad->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("lc,klmd,jimbad->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("id,lead,jklbce->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("id,lecd,jklbae->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("kd,lead,jilbce->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("kd,lecd,jilbae->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("id,jlmd,klmabc->ijkabc", t1.bb, v.aabb.ooov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("id,klmd,jlmbac->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("kd,ilmd,jlmbac->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("kd,jlmd,ilmabc->ijkabc", t1.bb, v.aabb.ooov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("la,imld,jkmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("la,jmld,ikmcdb->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("la,klmd,ijmcbd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("la,kmld,ijmcbd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lc,ilmd,jkmbad->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("lc,imld,jkmbad->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("lc,jmld,ikmadb->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("lc,klmd,ijmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lc,kmld,ijmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,ilmd,jkmbac->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("ld,imld,jkmbac->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("ld,jmld,ikmacb->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("ld,klmd,ijmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,kmld,ijmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("id,ldae,jklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("id,ldbe,jkleac->ijkabc", t1.bb, v.bbaa.ovvv, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("id,ldce,jklbae->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("id,lead,jklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("id,lecd,jklbae->ijkabc", t1.bb, v.bbbb.ovvv, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("kd,ldae,ijlcbe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("kd,ldbe,ijlaec->ijkabc", t1.bb, v.bbaa.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("kd,ldce,ijlabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("kd,lead,ijlcbe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("kd,lecd,ijlabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("la,ldbe,ijkced->ijkabc", t1.bb, v.bbaa.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("la,ldce,ijkdbe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lc,ldae,ijkdbe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lc,ldbe,ijkaed->ijkabc", t1.bb, v.bbaa.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,ldae,ijkcbe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,ldbe,ijkaec->ijkabc", t1.bb, v.bbaa.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,ldce,ijkabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,lead,ijkcbe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,lecd,ijkabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_babbab += np.einsum("jkda,lmbc,imld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jkdc,lmba,imld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jida,lmbc,kmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jidc,lmba,kmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jlba,mkdc,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jlbc,mkda,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jlda,mkbc,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jldc,mkba,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jlba,midc,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jlbc,mida,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jlda,mibc,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jldc,miba,klmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("lida,mkbc,jlmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_babbab += np.einsum("lidc,mkba,jlmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_babbab += np.einsum("lida,mkbc,jmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_babbab += np.einsum("lidc,mkba,jmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_babbab += np.einsum("lkda,mibc,jlmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_babbab += np.einsum("lkdc,miba,jlmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_babbab += np.einsum("lkda,mibc,jmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_babbab += np.einsum("lkdc,miba,jmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_babbab += np.einsum("jidc,lkbe,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jide,lkbc,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jida,lkbe,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jide,lkba,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jida,lkec,ldbe->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_babbab += np.einsum("jidc,lkea,ldbe->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_babbab += np.einsum("jibd,lkec,lead->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jibd,lkea,lecd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jida,lkec,lebd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_babbab += np.einsum("jidc,lkea,lebd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_babbab += np.einsum("jkdc,libe,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jkde,libc,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jkda,libe,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jkde,liba,ldce->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jkda,liec,ldbe->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_babbab += np.einsum("jkdc,liea,ldbe->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_babbab += np.einsum("jkbd,liec,lead->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jkbd,liea,lecd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jkda,liec,lebd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_babbab += np.einsum("jkdc,liea,lebd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_babbab += np.einsum("jlbc,imad,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_babbab += np.einsum("jlbd,imac,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_babbab += np.einsum("jlba,imcd,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_babbab += np.einsum("jlbc,imad,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_babbab += np.einsum("jlbd,imac,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_babbab += np.einsum("jlba,imcd,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_babbab += np.einsum("jlbc,kmad,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_babbab += np.einsum("jlbd,kmac,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_babbab += np.einsum("jlba,kmcd,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_babbab += np.einsum("jlbc,kmad,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_babbab += np.einsum("jlbd,kmac,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_babbab += np.einsum("jlba,kmcd,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_babbab += np.einsum("jkbd,lmac,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov)
    t3new_babbab += np.einsum("jkbd,lmac,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("jibd,lmac,klmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("jibd,lmac,kmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov)
    t3new_babbab += np.einsum("lkbc,imad,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_babbab += np.einsum("lkbd,imac,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_babbab += np.einsum("lkba,imcd,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_babbab += np.einsum("lmbc,ikad,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_babbab += np.einsum("lmba,ikcd,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_babbab += np.einsum("libc,kmad,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_babbab += np.einsum("libd,kmac,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_babbab += np.einsum("liba,kmcd,jlmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_babbab += np.einsum("jkbd,ilae,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_babbab += np.einsum("jkbd,ilce,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_babbab += np.einsum("jkbd,ilae,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_babbab += np.einsum("jkbd,ilce,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_babbab += np.einsum("jkdc,ilae,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_babbab += np.einsum("jkde,ilac,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_babbab += np.einsum("jkda,ilce,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_babbab += np.einsum("jlbd,ikae,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_babbab += np.einsum("jlbd,ikce,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_babbab += np.einsum("jlbc,ikde,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv)
    t3new_babbab += np.einsum("jlba,ikde,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("jlbd,ikae,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_babbab += np.einsum("jlbd,ikce,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_babbab += np.einsum("jlbc,ikde,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("jlba,ikde,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv)
    t3new_babbab += np.einsum("jldc,ikae,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_babbab += np.einsum("jlda,ikce,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_babbab += np.einsum("jibd,klae,ldce->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_babbab += np.einsum("jibd,klce,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_babbab += np.einsum("jibd,klae,lecd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_babbab += np.einsum("jibd,klce,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_babbab += np.einsum("jidc,klae,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_babbab += np.einsum("jide,klac,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_babbab += np.einsum("jida,klce,lebd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_babbab += np.einsum("ilac,jmbd,klmd->ijkabc", t2.bbbb, t2.aaaa, v.bbaa.ooov) * -4.0
    t3new_babbab += np.einsum("jlbd,kmac,imld->ijkabc", t2.aaaa, t2.bbbb, v.bbaa.ooov) * 4.0
    t3new_babbab += np.einsum("ikad,jlbe,lecd->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ovvv) * 4.0
    t3new_babbab += np.einsum("ikcd,jlbe,lead->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ovvv) * -4.0
    t3new_babbab += np.einsum("jida,ldme,lkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_babbab += np.einsum("jidc,ldme,lkmbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_babbab += np.einsum("jida,lemd,lkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_babbab += np.einsum("jidc,lemd,lkmbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_babbab += np.einsum("jkda,ldme,limbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_babbab += np.einsum("jkdc,ldme,limbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_babbab += np.einsum("jkda,lemd,limbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_babbab += np.einsum("jkdc,lemd,limbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_babbab += np.einsum("liba,ldme,jkmdce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("libc,ldme,jkmdae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("lida,ldme,jkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_babbab += np.einsum("lidc,ldme,jkmbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_babbab += np.einsum("lida,lemd,jkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_babbab += np.einsum("lidc,lemd,jkmbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_babbab += np.einsum("lkba,ldme,jimdce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("lkbc,ldme,jimdae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("lkda,ldme,jimbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_babbab += np.einsum("lkdc,ldme,jimbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_babbab += np.einsum("lkda,lemd,jimbce->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_babbab += np.einsum("lkdc,lemd,jimbae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_babbab += np.einsum("jibd,ldme,klmace->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_babbab += np.einsum("jibd,ldme,klmace->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_babbab += np.einsum("jida,ldme,klmcbe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_babbab += np.einsum("jidc,ldme,klmabe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_babbab += np.einsum("jide,ldme,klmabc->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_babbab += np.einsum("jibd,lemd,klmace->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_babbab += np.einsum("jibd,lemd,klmaec->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_babbab += np.einsum("jida,lemd,klmceb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_babbab += np.einsum("jidc,lemd,klmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_babbab += np.einsum("jide,lemd,klmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_babbab += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_babbab += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_babbab += np.einsum("jkda,ldme,ilmcbe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_babbab += np.einsum("jkdc,ldme,ilmabe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_babbab += np.einsum("jkde,ldme,ilmabc->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_babbab += np.einsum("jkbd,lemd,ilmace->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_babbab += np.einsum("jkbd,lemd,ilmaec->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_babbab += np.einsum("jkda,lemd,ilmceb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_babbab += np.einsum("jkdc,lemd,ilmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_babbab += np.einsum("jkde,lemd,ilmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_babbab += np.einsum("jlba,ldme,ikmcde->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jlba,ldme,ikmcde->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_babbab += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_babbab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_babbab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_babbab += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_babbab += np.einsum("jlda,lemd,ikmceb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_babbab += np.einsum("jldc,lemd,ikmaeb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_babbab += np.einsum("jlde,lemd,ikmacb->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("liba,ldme,jkmdce->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("libc,ldme,jkmdae->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("lida,ldme,jkmbce->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.00000000000002
    t3new_babbab += np.einsum("lidc,ldme,jkmbae->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.00000000000002
    t3new_babbab += np.einsum("lide,ldme,jkmbac->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("libd,lemd,jkmeac->ijkabc", t2.abab, v.aabb.ovov, t3.abbabb) * -2.00000000000002
    t3new_babbab += np.einsum("lkba,ldme,ijmcde->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lkbc,ldme,ijmade->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lkda,ldme,ijmcbe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.00000000000002
    t3new_babbab += np.einsum("lkdc,ldme,ijmabe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.00000000000002
    t3new_babbab += np.einsum("lkde,ldme,ijmabc->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lkbd,lemd,ijmaec->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.00000000000002
    t3new_babbab += np.einsum("lmba,ldme,ijkcde->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lmbc,ldme,ijkade->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lmda,ldme,ijkcbe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lmdc,ldme,ijkabe->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lmbd,lemd,ijkaec->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("ikcd,ldme,jlmbae->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("ikad,lemd,jmlbce->ijkabc", t2.bbbb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("ikcd,lemd,jmlbae->ijkabc", t2.bbbb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.0
    t3new_babbab += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_babbab += np.einsum("ilcd,ldme,jkmbae->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_babbab += np.einsum("klac,ldme,jimbde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.0
    t3new_babbab += np.einsum("klad,ldme,jimbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_babbab += np.einsum("klcd,ldme,jimbae->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_babbab += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("ikcd,ldme,jlmbae->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("ikde,ldme,jlmbac->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb)
    t3new_babbab += np.einsum("ikad,lemd,jlmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("ikcd,lemd,jlmbae->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("ikde,lemd,jlmbac->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_babbab += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.0
    t3new_babbab += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.00000000000004
    t3new_babbab += np.einsum("ilcd,ldme,jkmbae->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.00000000000004
    t3new_babbab += np.einsum("ilde,ldme,jkmbac->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -4.00000000000004
    t3new_babbab += np.einsum("ilcd,lemd,jkmbae->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 4.00000000000004
    t3new_babbab += np.einsum("ilde,lemd,jkmbac->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_babbab += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.aaaa, v.aabb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_babbab += np.einsum("jlde,ldme,ikmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_babbab += np.einsum("jlde,lemd,ikmacb->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("klac,ldme,ijmdbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.0
    t3new_babbab += np.einsum("klad,ldme,ijmcbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.00000000000004
    t3new_babbab += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.00000000000004
    t3new_babbab += np.einsum("klde,ldme,ijmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("klad,lemd,ijmcbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.00000000000004
    t3new_babbab += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.00000000000004
    t3new_babbab += np.einsum("klde,lemd,ijmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lmac,ldme,ijkdbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lmad,ldme,ijkcbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lmbd,ldme,ijkaec->ijkabc", t2.aaaa, v.aaaa.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lmcd,ldme,ijkabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lmad,lemd,ijkcbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lmbd,lemd,ijkaec->ijkabc", t2.aaaa, v.aaaa.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("jd,lb,imac,kmld->ijkabc", t1.aa, t1.aa, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_babbab += np.einsum("jd,lb,kmac,imld->ijkabc", t1.aa, t1.aa, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_babbab += np.einsum("jd,lb,ikae,ldce->ijkabc", t1.aa, t1.aa, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_babbab += np.einsum("jd,lb,ikce,ldae->ijkabc", t1.aa, t1.aa, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_babbab += np.einsum("jd,la,mkbc,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jd,la,mibc,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jd,lc,mkba,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("jd,lc,miba,klmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("lb,ma,jkdc,imld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("lb,ma,jidc,kmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("lb,mc,jkda,imld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_babbab += np.einsum("lb,mc,jida,kmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_babbab += np.einsum("jd,ie,lkbc,ldae->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("jd,ie,lkba,ldce->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jd,ke,libc,ldae->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("jd,ke,liba,ldce->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("lb,id,jkec,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("lb,id,jkea,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("lb,kd,jiec,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_babbab += np.einsum("lb,kd,jiea,lecd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_babbab += np.einsum("lb,id,kmac,jlmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_babbab += np.einsum("lb,kd,imac,jlmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_babbab += np.einsum("lb,ma,ikcd,jlmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_babbab += np.einsum("lb,mc,ikad,jlmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_babbab += np.einsum("jd,ie,klac,lebd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_babbab += np.einsum("jd,ke,ilac,lebd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_babbab += np.einsum("jd,la,ikce,lebd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_babbab += np.einsum("jd,lc,ikae,lebd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_babbab += np.einsum("id,la,jmbc,klmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("id,la,jmbc,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("id,la,mkbc,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov)
    t3new_babbab += np.einsum("id,lc,jmba,klmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("id,lc,jmba,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("id,lc,mkba,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_babbab += np.einsum("kd,la,jmbc,ilmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("kd,la,jmbc,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("kd,la,mibc,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_babbab += np.einsum("kd,lc,jmba,ilmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("kd,lc,jmba,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("kd,lc,miba,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov)
    t3new_babbab += np.einsum("la,mc,jkbd,ilmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("la,mc,jkbd,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("la,mc,jibd,klmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_babbab += np.einsum("la,mc,jibd,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_babbab += np.einsum("id,ke,jlbc,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("id,ke,jlba,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("id,ke,jlbc,lead->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("id,ke,jlba,lecd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("id,la,jkbe,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("id,la,jkec,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_babbab += np.einsum("id,la,jkbe,lecd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("id,lc,jkbe,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("id,lc,jkea,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_babbab += np.einsum("id,lc,jkbe,lead->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("kd,la,jibe,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("kd,la,jiec,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_babbab += np.einsum("kd,la,jibe,lecd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("kd,lc,jibe,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_babbab += np.einsum("kd,lc,jiea,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_babbab += np.einsum("kd,lc,jibe,lead->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_babbab += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_babbab += np.einsum("jd,lb,lemd,ikmace->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jd,le,ldme,ikmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jd,le,lemd,ikmacb->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("ld,mb,ldme,ijkaec->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,mb,lemd,ijkaec->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("jd,ie,ldme,klmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -1.0
    t3new_babbab += np.einsum("jd,ie,lemd,klmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_babbab += np.einsum("jd,ke,ldme,ilmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab)
    t3new_babbab += np.einsum("jd,ke,lemd,ilmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba)
    t3new_babbab += np.einsum("jd,la,lemd,ikmceb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("jd,lc,lemd,ikmaeb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_babbab += np.einsum("jd,le,lemd,ikmacb->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_babbab += np.einsum("lb,id,lemd,jkmeac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("ld,ie,ldme,jkmbac->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("lb,kd,lemd,ijmaec->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,ke,ldme,ijmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lb,ma,ldme,ijkcde->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("lb,mc,ldme,ijkade->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("lb,md,lemd,ijkaec->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,ma,ldme,ijkcbe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("id,lc,ldme,jkmbae->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("kd,la,ldme,jimbce->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_babbab += np.einsum("kd,lc,ldme,jimbae->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_babbab += np.einsum("id,ke,ldme,jlmbac->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb)
    t3new_babbab += np.einsum("id,ke,lemd,jlmbac->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_babbab += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("id,la,lemd,jkmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("id,lc,ldme,jkmbae->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("id,lc,lemd,jkmbae->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("id,le,ldme,jkmbac->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_babbab += np.einsum("id,le,lemd,jkmbac->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_babbab += np.einsum("kd,la,ldme,ijmcbe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("kd,la,lemd,ijmcbe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("kd,lc,lemd,ijmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("kd,le,ldme,ijmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("la,mc,ldme,ijkdbe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,ma,ldme,ijkcbe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("ld,ma,lemd,ijkcbe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_babbab += np.einsum("ld,mc,lemd,ijkabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_babbab += np.einsum("jd,liea,mkbc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("jd,liec,mkba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,liea,mkbc,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,liec,mkba,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("jd,lkea,mibc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,lkec,miba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("jd,lkea,mibc,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("jd,lkec,miba,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jida,mkec,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jidc,mkea,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("lb,jida,mkec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("lb,jidc,mkea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jkda,miec,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("lb,jkdc,miea,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jkda,miec,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("lb,jkdc,miea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("ld,jiea,mkbc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("ld,jiec,mkba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("ld,jiea,mkbc,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("ld,jiec,mkba,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("ld,jkea,mibc,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("ld,jkec,miba,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("ld,jkea,mibc,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_babbab += np.einsum("ld,jkec,miba,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_babbab += np.einsum("jd,lkbc,imae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("jd,lkbe,imac,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("jd,lkba,imce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("jd,lmbc,ikae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("jd,lmba,ikce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("jd,libc,kmae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("jd,libe,kmac,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("jd,liba,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("lb,jkdc,imae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("lb,jkde,imac,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("lb,jkda,imce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("lb,jmdc,ikae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("lb,jmda,ikce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("lb,jidc,kmae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("lb,jide,kmac,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("lb,jida,kmce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jkbe,imac,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jmbc,ikae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jmba,ikce,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("ld,jibe,kmac,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("id,jkea,lmbc,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_babbab += np.einsum("id,jkec,lmba,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov)
    t3new_babbab += np.einsum("id,jlba,mkec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("id,jlbc,mkea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("id,jlea,mkbc,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("id,jlec,mkba,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jiea,lmbc,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov)
    t3new_babbab += np.einsum("kd,jiec,lmba,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jlba,miec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("kd,jlbc,miea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jlea,mibc,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jlec,miba,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("la,jibd,mkec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("la,jidc,mkbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("la,jide,mkbc,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("la,jkbd,miec,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("la,jkdc,mibe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("la,jkde,mibc,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jibd,mkea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("lc,jida,mkbe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("lc,jide,mkba,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jkbd,miea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jkda,mibe,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jkde,miba,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("ld,jiea,mkbc,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("ld,jiec,mkba,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("ld,jkea,mibc,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("ld,jkec,miba,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("id,jlbc,kmae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("id,jlbe,kmac,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("id,jlba,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("id,jlbc,kmae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("id,jlbe,kmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("id,jlba,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("id,jkbe,lmac,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_babbab += np.einsum("id,jkbe,lmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jlbc,imae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("kd,jlbe,imac,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("kd,jlba,imce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("kd,jlbc,imae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("kd,jlbe,imac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("kd,jlba,imce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("kd,jibe,lmac,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,jibe,lmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_babbab += np.einsum("la,jkbd,imce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("la,jkbd,imce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("la,jmbd,ikce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("la,jmbc,ikde,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_babbab += np.einsum("la,jmbd,ikce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("la,jmbc,ikde,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("la,jibd,kmce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("la,jibd,kmce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("lc,jkbd,imae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("lc,jkbd,imae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("lc,jmbd,ikae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("lc,jmba,ikde,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("lc,jmbd,ikae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("lc,jmba,ikde,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_babbab += np.einsum("lc,jibd,kmae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("lc,jibd,kmae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jkbe,imac,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jkbe,imac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("ld,jmbc,ikae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jmba,ikce,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("ld,jmbc,ikae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("ld,jmba,ikce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("ld,jibe,kmac,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_babbab += np.einsum("ld,jibe,kmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_babbab += np.einsum("id,jlbe,kmac,lemd->ijkabc", t1.bb, t2.aaaa, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_babbab += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_babbab += np.einsum("la,ikcd,jmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_babbab += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_babbab += np.einsum("jd,lb,ie,kmac,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("jd,lb,ke,imac,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("jd,lb,ma,ikce,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_babbab += np.einsum("jd,lb,mc,ikae,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_babbab += np.einsum("jd,ie,la,mkbc,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("jd,ie,lc,mkba,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,ke,la,mibc,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t3new_babbab += np.einsum("jd,ke,lc,miba,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t3new_babbab += np.einsum("lb,id,ma,jkec,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov)
    t3new_babbab += np.einsum("lb,id,mc,jkea,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_babbab += np.einsum("lb,kd,ma,jiec,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_babbab += np.einsum("lb,kd,mc,jiea,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov)
    t3new_babbab += np.einsum("id,ke,la,jmbc,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("id,ke,la,jmbc,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("id,ke,lc,jmba,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("id,ke,lc,jmba,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("id,la,mc,jkbe,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_babbab += np.einsum("id,la,mc,jkbe,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,la,mc,jibe,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_babbab += np.einsum("kd,la,mc,jibe,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)

    # T3 amplitudes
    t3new_bbabba = np.zeros((nocc[1], nocc[1], nocc[0], nvir[1], nvir[1], nvir[0]), dtype=np.float64)
    t3new_bbabba += np.einsum("il,jklacb->ijkabc", f.bb.oo, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jl,iklacb->ijkabc", f.bb.oo, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("kl,ijlabc->ijkabc", f.aa.oo, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ad,ijkbdc->ijkabc", f.bb.vv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("bd,ijkadc->ijkabc", f.bb.vv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("cd,ijkabd->ijkabc", f.aa.vv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("klca,iljb->ijkabc", t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("klcb,ilja->ijkabc", t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("klca,jlib->ijkabc", t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("klcb,jlia->ijkabc", t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("lica,kljb->ijkabc", t2.abab, v.aabb.ooov) * -1.0
    t3new_bbabba += np.einsum("licb,klja->ijkabc", t2.abab, v.aabb.ooov)
    t3new_bbabba += np.einsum("ljca,klib->ijkabc", t2.abab, v.aabb.ooov)
    t3new_bbabba += np.einsum("ljcb,klia->ijkabc", t2.abab, v.aabb.ooov) * -1.0
    t3new_bbabba += np.einsum("kjcd,iabd->ijkabc", t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("kjdb,iacd->ijkabc", t2.abab, v.bbaa.ovvv)
    t3new_bbabba += np.einsum("kjcd,ibad->ijkabc", t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjda,ibcd->ijkabc", t2.abab, v.bbaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("kicd,jabd->ijkabc", t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kidb,jacd->ijkabc", t2.abab, v.bbaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("kicd,jbad->ijkabc", t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("kida,jbcd->ijkabc", t2.abab, v.bbaa.ovvv)
    t3new_bbabba += np.einsum("ilab,jlkc->ijkabc", t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbabba += np.einsum("jlab,ilkc->ijkabc", t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbabba += np.einsum("ijad,kcbd->ijkabc", t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbabba += np.einsum("ijbd,kcad->ijkabc", t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbabba += np.einsum("iald,kjlcbd->ijkabc", v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("ibld,kjlcad->ijkabc", v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("jald,kilcbd->ijkabc", v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("jbld,kilcad->ijkabc", v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("iljm,klmcab->ijkabc", v.bbbb.oooo, t3.abbabb) * 2.0
    t3new_bbabba += np.einsum("ilkm,jlmabc->ijkabc", v.bbaa.oooo, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("jlkm,ilmabc->ijkabc", v.bbaa.oooo, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ilad,jklbcd->ijkabc", v.bbbb.oovv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ilbd,jklacd->ijkabc", v.bbbb.oovv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ilcd,jkladb->ijkabc", v.bbaa.oovv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jlad,iklbcd->ijkabc", v.bbbb.oovv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jlbd,iklacd->ijkabc", v.bbbb.oovv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jlcd,ikladb->ijkabc", v.bbaa.oovv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("klad,ijlbdc->ijkabc", v.aabb.oovv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("klbd,ijladc->ijkabc", v.aabb.oovv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("klcd,ijlabd->ijkabc", v.aaaa.oovv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("iald,jklbcd->ijkabc", v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ibld,jklacd->ijkabc", v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jald,iklbcd->ijkabc", v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jbld,iklacd->ijkabc", v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("kcld,ijlabd->ijkabc", v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kcld,ijlabd->ijkabc", v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_bbabba += np.einsum("adbe,ijkdec->ijkabc", v.bbbb.vvvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("adce,ijkbde->ijkabc", v.bbaa.vvvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("bdce,ijkade->ijkabc", v.bbaa.vvvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,kd,ijlabc->ijkabc", f.aa.ov, t1.aa, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,lc,ijkabd->ijkabc", f.aa.ov, t1.aa, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,id,jklacb->ijkabc", f.bb.ov, t1.bb, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ld,jd,iklacb->ijkabc", f.bb.ov, t1.bb, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ld,la,ijkbdc->ijkabc", f.bb.ov, t1.bb, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,lb,ijkadc->ijkabc", f.bb.ov, t1.bb, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,kida,ljcb->ijkabc", f.aa.ov, t2.abab, t2.abab) * -1.0
    t3new_bbabba += np.einsum("ld,kidb,ljca->ijkabc", f.aa.ov, t2.abab, t2.abab)
    t3new_bbabba += np.einsum("ld,kjda,licb->ijkabc", f.aa.ov, t2.abab, t2.abab)
    t3new_bbabba += np.einsum("ld,kjdb,lica->ijkabc", f.aa.ov, t2.abab, t2.abab) * -1.0
    t3new_bbabba += np.einsum("ld,kjcd,ilab->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * -2.0
    t3new_bbabba += np.einsum("ld,klcb,ijad->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * -2.0
    t3new_bbabba += np.einsum("ld,klca,ijbd->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * 2.0
    t3new_bbabba += np.einsum("ld,kicd,jlab->ijkabc", f.bb.ov, t2.abab, t2.bbbb) * 2.0
    t3new_bbabba += np.einsum("kd,ljcb,iald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,ljca,ibld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("kd,licb,jald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("kd,lica,jbld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kjdb,iald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kjda,ibld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("lc,kidb,jald->ijkabc", t1.aa, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("lc,kida,jbld->ijkabc", t1.aa, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,ilab,jlcd->ijkabc", t1.aa, t2.bbbb, v.bbaa.oovv) * -2.0
    t3new_bbabba += np.einsum("kd,jlab,ilcd->ijkabc", t1.aa, t2.bbbb, v.bbaa.oovv) * 2.0
    t3new_bbabba += np.einsum("lc,imab,jmkl->ijkabc", t1.aa, t2.bbbb, v.bbaa.oooo) * 2.0
    t3new_bbabba += np.einsum("lc,jmab,imkl->ijkabc", t1.aa, t2.bbbb, v.bbaa.oooo) * -2.0
    t3new_bbabba += np.einsum("lc,ijad,klbd->ijkabc", t1.aa, t2.bbbb, v.aabb.oovv) * -2.0
    t3new_bbabba += np.einsum("lc,ijbd,klad->ijkabc", t1.aa, t2.bbbb, v.aabb.oovv) * 2.0
    t3new_bbabba += np.einsum("kd,ijbe,aecd->ijkabc", t1.aa, t2.bbbb, v.bbaa.vvvv) * -2.0
    t3new_bbabba += np.einsum("kd,ijae,becd->ijkabc", t1.aa, t2.bbbb, v.bbaa.vvvv) * 2.0
    t3new_bbabba += np.einsum("id,klcb,jlad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_bbabba += np.einsum("id,klca,jlbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_bbabba += np.einsum("id,ljcb,klad->ijkabc", t1.bb, t2.abab, v.aabb.oovv) * -1.0
    t3new_bbabba += np.einsum("id,ljca,klbd->ijkabc", t1.bb, t2.abab, v.aabb.oovv)
    t3new_bbabba += np.einsum("jd,klcb,ilad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_bbabba += np.einsum("jd,klca,ilbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_bbabba += np.einsum("jd,licb,klad->ijkabc", t1.bb, t2.abab, v.aabb.oovv)
    t3new_bbabba += np.einsum("jd,lica,klbd->ijkabc", t1.bb, t2.abab, v.aabb.oovv) * -1.0
    t3new_bbabba += np.einsum("la,kmcb,iljm->ijkabc", t1.bb, t2.abab, v.bbbb.oooo)
    t3new_bbabba += np.einsum("la,kmcb,imjl->ijkabc", t1.bb, t2.abab, v.bbbb.oooo) * -1.0
    t3new_bbabba += np.einsum("la,mjcb,ilkm->ijkabc", t1.bb, t2.abab, v.bbaa.oooo)
    t3new_bbabba += np.einsum("la,micb,jlkm->ijkabc", t1.bb, t2.abab, v.bbaa.oooo) * -1.0
    t3new_bbabba += np.einsum("lb,kmca,iljm->ijkabc", t1.bb, t2.abab, v.bbbb.oooo) * -1.0
    t3new_bbabba += np.einsum("lb,kmca,imjl->ijkabc", t1.bb, t2.abab, v.bbbb.oooo)
    t3new_bbabba += np.einsum("lb,mjca,ilkm->ijkabc", t1.bb, t2.abab, v.bbaa.oooo) * -1.0
    t3new_bbabba += np.einsum("lb,mica,jlkm->ijkabc", t1.bb, t2.abab, v.bbaa.oooo)
    t3new_bbabba += np.einsum("la,kjcd,ilbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_bbabba += np.einsum("la,kjdb,ilcd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv) * -1.0
    t3new_bbabba += np.einsum("la,kicd,jlbd->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_bbabba += np.einsum("la,kidb,jlcd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv)
    t3new_bbabba += np.einsum("lb,kjcd,ilad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv)
    t3new_bbabba += np.einsum("lb,kjda,ilcd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv)
    t3new_bbabba += np.einsum("lb,kicd,jlad->ijkabc", t1.bb, t2.abab, v.bbbb.oovv) * -1.0
    t3new_bbabba += np.einsum("lb,kida,jlcd->ijkabc", t1.bb, t2.abab, v.bbaa.oovv) * -1.0
    t3new_bbabba += np.einsum("id,klcb,jald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("id,klca,jbld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,klcb,iald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,klca,ibld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("la,kjcd,ibld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("la,kicd,jbld->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kjcd,iald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kicd,jald->ijkabc", t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("id,kjce,adbe->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv)
    t3new_bbabba += np.einsum("id,kjeb,adce->ijkabc", t1.bb, t2.abab, v.bbaa.vvvv)
    t3new_bbabba += np.einsum("id,kjce,aebd->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv) * -1.0
    t3new_bbabba += np.einsum("id,kjea,bdce->ijkabc", t1.bb, t2.abab, v.bbaa.vvvv) * -1.0
    t3new_bbabba += np.einsum("jd,kice,adbe->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv) * -1.0
    t3new_bbabba += np.einsum("jd,kieb,adce->ijkabc", t1.bb, t2.abab, v.bbaa.vvvv) * -1.0
    t3new_bbabba += np.einsum("jd,kice,aebd->ijkabc", t1.bb, t2.abab, v.bbbb.vvvv)
    t3new_bbabba += np.einsum("jd,kiea,bdce->ijkabc", t1.bb, t2.abab, v.bbaa.vvvv)
    t3new_bbabba += np.einsum("id,jlab,kcld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("jd,ilab,kcld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("la,ijbd,kcld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("lb,ijad,kcld->ijkabc", t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("kd,ilmd,jlmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,jlmd,ilmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lc,imld,jkmadb->ijkabc", t1.aa, v.bbaa.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("lc,jmld,ikmadb->ijkabc", t1.aa, v.bbaa.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("lc,klmd,ijmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lc,klmd,ijmabd->ijkabc", t1.aa, v.aabb.ooov, t3.bbbbbb) * -6.0
    t3new_bbabba += np.einsum("lc,kmld,ijmabd->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,imld,jkmacb->ijkabc", t1.aa, v.bbaa.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ld,jmld,ikmacb->ijkabc", t1.aa, v.bbaa.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ld,klmd,ijmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,kmld,ijmabc->ijkabc", t1.aa, v.aaaa.ooov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,ldae,ijlbec->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,ldbe,ijlaec->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,ldce,ijlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,lecd,ijlabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,lecd,ijlabe->ijkabc", t1.aa, v.bbaa.ovvv, t3.bbbbbb) * 6.0
    t3new_bbabba += np.einsum("lc,ldae,ijkbed->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lc,ldbe,ijkaed->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,ldae,ijkbec->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,ldbe,ijkaec->ijkabc", t1.aa, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,ldce,ijkabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,lecd,ijkabe->ijkabc", t1.aa, v.aaaa.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("la,ilmd,kjmcbd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("la,jlmd,kimcbd->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("lb,ilmd,kjmcad->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("lb,jlmd,kimcad->ijkabc", t1.bb, v.bbaa.ooov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("id,lead,kjlcbe->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("id,lebd,kjlcae->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("jd,lead,kilcbe->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("jd,lebd,kilcae->ijkabc", t1.bb, v.aabb.ovvv, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("id,jlmd,klmcab->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * -2.0
    t3new_bbabba += np.einsum("id,klmd,jlmacb->ijkabc", t1.bb, v.aabb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,ilmd,klmcab->ijkabc", t1.bb, v.bbbb.ooov, t3.abbabb) * 2.0
    t3new_bbabba += np.einsum("jd,klmd,ilmacb->ijkabc", t1.bb, v.aabb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("la,imld,jkmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("la,jlmd,ikmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("la,jmld,ikmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("la,kmld,ijmbdc->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lb,ilmd,jkmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("lb,imld,jkmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("lb,jmld,ikmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("lb,kmld,ijmadc->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,ilmd,jkmacb->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ld,imld,jkmacb->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ld,jlmd,ikmacb->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ld,jmld,ikmacb->ijkabc", t1.bb, v.bbbb.ooov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ld,kmld,ijmabc->ijkabc", t1.bb, v.aabb.ooov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("id,ldae,jklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("id,ldbe,jklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("id,ldce,jklaeb->ijkabc", t1.bb, v.bbaa.ovvv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("id,lead,jklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("id,lebd,jklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,ldae,iklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jd,ldbe,iklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,ldce,iklaeb->ijkabc", t1.bb, v.bbaa.ovvv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,lead,iklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,lebd,iklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("la,ldbe,ijkdec->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("la,ldce,ijkbde->ijkabc", t1.bb, v.bbaa.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lb,ldae,ijkdec->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lb,ldce,ijkade->ijkabc", t1.bb, v.bbaa.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,ldae,ijkbec->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,ldbe,ijkaec->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,ldce,ijkabe->ijkabc", t1.bb, v.bbaa.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,lead,ijkbec->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,lebd,ijkaec->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kjda,lmcb,imld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("kjdb,lmca,imld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("kida,lmcb,jmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("kidb,lmca,jmld->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("klca,mjdb,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("klcb,mjda,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("klda,mjcb,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("kldb,mjca,ilmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("klca,midb,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("klcb,mida,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("klda,micb,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("kldb,mica,jlmd->ijkabc", t2.abab, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("lida,mjcb,klmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_bbabba += np.einsum("lidb,mjca,klmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_bbabba += np.einsum("lida,mjcb,kmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_bbabba += np.einsum("lidb,mjca,kmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_bbabba += np.einsum("ljda,micb,klmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_bbabba += np.einsum("ljdb,mica,klmd->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_bbabba += np.einsum("ljda,micb,kmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov)
    t3new_bbabba += np.einsum("ljdb,mica,kmld->ijkabc", t2.abab, t2.abab, v.aaaa.ooov) * -1.0
    t3new_bbabba += np.einsum("kidb,ljce,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kide,ljcb,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kida,ljce,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kide,ljca,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kida,ljeb,ldce->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("kidb,ljea,ldce->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_bbabba += np.einsum("kicd,ljeb,lead->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kicd,ljea,lebd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kida,ljeb,lecd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_bbabba += np.einsum("kidb,ljea,lecd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjdb,lice,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjde,licb,ldae->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kjda,lice,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kjde,lica,ldbe->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjda,lieb,ldce->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_bbabba += np.einsum("kjdb,liea,ldce->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjcd,lieb,lead->ijkabc", t2.abab, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjcd,liea,lebd->ijkabc", t2.abab, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kjda,lieb,lecd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("kjdb,liea,lecd->ijkabc", t2.abab, t2.abab, v.aaaa.ovvv)
    t3new_bbabba += np.einsum("klcb,imad,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbabba += np.einsum("klcd,imab,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbabba += np.einsum("klca,imbd,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbabba += np.einsum("klcb,imad,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbabba += np.einsum("klcd,imab,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbabba += np.einsum("klca,imbd,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbabba += np.einsum("klcb,jmad,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbabba += np.einsum("klcd,jmab,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbabba += np.einsum("klca,jmbd,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbabba += np.einsum("klcb,jmad,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbabba += np.einsum("klcd,jmab,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbabba += np.einsum("klca,jmbd,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbabba += np.einsum("kjcd,lmab,ilmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov)
    t3new_bbabba += np.einsum("kjcd,lmab,imld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("kicd,lmab,jlmd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("kicd,lmab,jmld->ijkabc", t2.abab, t2.bbbb, v.bbbb.ooov)
    t3new_bbabba += np.einsum("ljcb,imad,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_bbabba += np.einsum("ljcd,imab,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_bbabba += np.einsum("ljca,imbd,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_bbabba += np.einsum("lmcb,ijad,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_bbabba += np.einsum("lmca,ijbd,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_bbabba += np.einsum("licb,jmad,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_bbabba += np.einsum("licd,jmab,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_bbabba += np.einsum("lica,jmbd,klmd->ijkabc", t2.abab, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_bbabba += np.einsum("kjcd,ilae,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbabba += np.einsum("kjcd,ilbe,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbabba += np.einsum("kjcd,ilae,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbabba += np.einsum("kjcd,ilbe,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbabba += np.einsum("kjdb,ilae,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_bbabba += np.einsum("kjde,ilab,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_bbabba += np.einsum("kjda,ilbe,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_bbabba += np.einsum("klcd,ijae,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbabba += np.einsum("klcd,ijbe,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbabba += np.einsum("klcb,ijde,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("klca,ijde,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("klcd,ijae,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbabba += np.einsum("klcd,ijbe,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbabba += np.einsum("klcb,ijde,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("klca,ijde,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("kldb,ijae,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_bbabba += np.einsum("klda,ijbe,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_bbabba += np.einsum("kicd,jlae,ldbe->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbabba += np.einsum("kicd,jlbe,ldae->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbabba += np.einsum("kicd,jlae,lebd->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbabba += np.einsum("kicd,jlbe,lead->ijkabc", t2.abab, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbabba += np.einsum("kidb,jlae,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_bbabba += np.einsum("kide,jlab,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_bbabba += np.einsum("kida,jlbe,lecd->ijkabc", t2.abab, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_bbabba += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.bbbb, t2.aaaa, v.bbaa.ooov) * -4.0
    t3new_bbabba += np.einsum("jlab,kmcd,ilmd->ijkabc", t2.bbbb, t2.aaaa, v.bbaa.ooov) * 4.0
    t3new_bbabba += np.einsum("ijad,klce,lebd->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ovvv) * 4.0
    t3new_bbabba += np.einsum("ijbd,klce,lead->ijkabc", t2.bbbb, t2.aaaa, v.aabb.ovvv) * -4.0
    t3new_bbabba += np.einsum("kida,ldme,ljmcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_bbabba += np.einsum("kidb,ldme,ljmcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_bbabba += np.einsum("kida,lemd,ljmcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_bbabba += np.einsum("kidb,lemd,ljmcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_bbabba += np.einsum("kjda,ldme,limcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_bbabba += np.einsum("kjdb,ldme,limcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_bbabba += np.einsum("kjda,lemd,limcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -1.0
    t3new_bbabba += np.einsum("kjdb,lemd,limcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba)
    t3new_bbabba += np.einsum("lica,ldme,kjmdbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("licb,ldme,kjmdae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("lida,ldme,kjmcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_bbabba += np.einsum("lidb,ldme,kjmcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_bbabba += np.einsum("lida,lemd,kjmcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_bbabba += np.einsum("lidb,lemd,kjmcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_bbabba += np.einsum("ljca,ldme,kimdbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("ljcb,ldme,kimdae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("ljda,ldme,kimcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_bbabba += np.einsum("ljdb,ldme,kimcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_bbabba += np.einsum("ljda,lemd,kimcbe->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * 2.00000000000002
    t3new_bbabba += np.einsum("ljdb,lemd,kimcae->ijkabc", t2.abab, v.aaaa.ovov, t3.abaaba) * -2.00000000000002
    t3new_bbabba += np.einsum("kicd,ldme,jlmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_bbabba += np.einsum("kicd,ldme,jlmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbabba += np.einsum("kida,ldme,jlmbce->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_bbabba += np.einsum("kidb,ldme,jlmace->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_bbabba += np.einsum("kide,ldme,jlmacb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_bbabba += np.einsum("kicd,lemd,jlmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbabba += np.einsum("kicd,lemd,jlmaeb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_bbabba += np.einsum("kida,lemd,jlmbec->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_bbabba += np.einsum("kidb,lemd,jlmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_bbabba += np.einsum("kide,lemd,jlmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_bbabba += np.einsum("kjcd,ldme,ilmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_bbabba += np.einsum("kjcd,ldme,ilmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbabba += np.einsum("kjda,ldme,ilmbce->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_bbabba += np.einsum("kjdb,ldme,ilmace->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_bbabba += np.einsum("kjde,ldme,ilmacb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab)
    t3new_bbabba += np.einsum("kjcd,lemd,ilmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbabba += np.einsum("kjcd,lemd,ilmaeb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -1.0
    t3new_bbabba += np.einsum("kjda,lemd,ilmbec->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_bbabba += np.einsum("kjdb,lemd,ilmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_bbabba += np.einsum("kjde,lemd,ilmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba)
    t3new_bbabba += np.einsum("klca,ldme,ijmbde->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("klca,ldme,ijmbde->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbabba += np.einsum("klcb,ldme,ijmade->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("klcb,ldme,ijmade->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbabba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbabba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_bbabba += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.abab, v.bbbb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_bbabba += np.einsum("klda,lemd,ijmbec->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbabba += np.einsum("kldb,lemd,ijmaec->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbabba += np.einsum("klde,lemd,ijmabc->ijkabc", t2.abab, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lica,ldme,jkmbde->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("licb,ldme,jkmade->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("lida,ldme,jkmbce->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.00000000000002
    t3new_bbabba += np.einsum("lidb,ldme,jkmace->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.00000000000002
    t3new_bbabba += np.einsum("lide,ldme,jkmacb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("licd,lemd,jkmaeb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.00000000000002
    t3new_bbabba += np.einsum("ljca,ldme,ikmbde->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ljcb,ldme,ikmade->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ljda,ldme,ikmbce->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.00000000000002
    t3new_bbabba += np.einsum("ljdb,ldme,ikmace->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.00000000000002
    t3new_bbabba += np.einsum("ljde,ldme,ikmacb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ljcd,lemd,ikmaeb->ijkabc", t2.abab, v.aabb.ovov, t3.babbab) * 2.00000000000002
    t3new_bbabba += np.einsum("lmca,ldme,ijkbed->ijkabc", t2.abab, v.aabb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lmcb,ldme,ijkaed->ijkabc", t2.abab, v.aabb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lmda,ldme,ijkbec->ijkabc", t2.abab, v.aabb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lmdb,ldme,ijkaec->ijkabc", t2.abab, v.aabb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.abab, v.aabb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ijad,ldme,klmcbe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("ijbd,ldme,klmcae->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("ijad,lemd,kmlcbe->ijkabc", t2.bbbb, v.aabb.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("ijbd,lemd,kmlcae->ijkabc", t2.bbbb, v.aabb.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("ilab,ldme,kjmcde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.0
    t3new_bbabba += np.einsum("ilad,ldme,kjmcbe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_bbabba += np.einsum("ilbd,ldme,kjmcae->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_bbabba += np.einsum("jlab,ldme,kimcde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.0
    t3new_bbabba += np.einsum("jlad,ldme,kimcbe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * -4.00000000000004
    t3new_bbabba += np.einsum("jlbd,ldme,kimcae->ijkabc", t2.bbbb, v.bbaa.ovov, t3.abaaba) * 4.00000000000004
    t3new_bbabba += np.einsum("ijad,ldme,klmcbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_bbabba += np.einsum("ijbd,ldme,klmcae->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_bbabba += np.einsum("ijde,ldme,klmcab->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb)
    t3new_bbabba += np.einsum("ijad,lemd,klmcbe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * 2.0
    t3new_bbabba += np.einsum("ijbd,lemd,klmcae->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -2.0
    t3new_bbabba += np.einsum("ijde,lemd,klmcab->ijkabc", t2.bbbb, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_bbabba += np.einsum("ilab,ldme,jkmdce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.0
    t3new_bbabba += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.00000000000004
    t3new_bbabba += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.00000000000004
    t3new_bbabba += np.einsum("ilde,ldme,jkmacb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.00000000000004
    t3new_bbabba += np.einsum("ilbd,lemd,jkmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.00000000000004
    t3new_bbabba += np.einsum("ilde,lemd,jkmacb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jlab,ldme,ikmdce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.0
    t3new_bbabba += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.00000000000004
    t3new_bbabba += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.00000000000004
    t3new_bbabba += np.einsum("jlde,ldme,ikmacb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jlad,lemd,ikmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * 4.00000000000004
    t3new_bbabba += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -4.00000000000004
    t3new_bbabba += np.einsum("jlde,lemd,ikmacb->ijkabc", t2.bbbb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_bbabba += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.aaaa, v.aabb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbabba += np.einsum("klde,ldme,ijmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_bbabba += np.einsum("klde,lemd,ijmabc->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lmab,ldme,ijkdec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lmad,ldme,ijkbec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lmbd,ldme,ijkaec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lmcd,ldme,ijkabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lmad,lemd,ijkbec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lmbd,lemd,ijkaec->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.aaaa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,lc,imab,jmld->ijkabc", t1.aa, t1.aa, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbabba += np.einsum("kd,lc,jmab,imld->ijkabc", t1.aa, t1.aa, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbabba += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1.aa, t1.aa, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbabba += np.einsum("kd,lc,ijbe,ldae->ijkabc", t1.aa, t1.aa, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbabba += np.einsum("kd,la,mjcb,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("kd,la,micb,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("kd,lb,mjca,ilmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("kd,lb,mica,jlmd->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("lc,ma,kjdb,imld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("lc,ma,kidb,jmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("lc,mb,kjda,imld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov) * -1.0
    t3new_bbabba += np.einsum("lc,mb,kida,jmld->ijkabc", t1.aa, t1.bb, t2.abab, v.bbaa.ooov)
    t3new_bbabba += np.einsum("kd,ie,ljcb,ldae->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("kd,ie,ljca,ldbe->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kd,je,licb,ldae->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("kd,je,lica,ldbe->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("lc,id,kjeb,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("lc,id,kjea,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("lc,jd,kieb,lead->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv)
    t3new_bbabba += np.einsum("lc,jd,kiea,lebd->ijkabc", t1.aa, t1.bb, t2.abab, v.aabb.ovvv) * -1.0
    t3new_bbabba += np.einsum("lc,id,jmab,klmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_bbabba += np.einsum("lc,jd,imab,klmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_bbabba += np.einsum("lc,ma,ijbd,klmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * -2.0
    t3new_bbabba += np.einsum("lc,mb,ijad,klmd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.aabb.ooov) * 2.0
    t3new_bbabba += np.einsum("kd,ie,jlab,lecd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_bbabba += np.einsum("kd,je,ilab,lecd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_bbabba += np.einsum("kd,la,ijbe,lecd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * 2.0
    t3new_bbabba += np.einsum("kd,lb,ijae,lecd->ijkabc", t1.aa, t1.bb, t2.bbbb, v.bbaa.ovvv) * -2.0
    t3new_bbabba += np.einsum("id,la,kmcb,jlmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("id,la,kmcb,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("id,la,mjcb,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov)
    t3new_bbabba += np.einsum("id,lb,kmca,jlmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("id,lb,kmca,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("id,lb,mjca,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_bbabba += np.einsum("jd,la,kmcb,ilmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("jd,la,kmcb,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("jd,la,micb,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov) * -1.0
    t3new_bbabba += np.einsum("jd,lb,kmca,ilmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("jd,lb,kmca,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("jd,lb,mica,kmld->ijkabc", t1.bb, t1.bb, t2.abab, v.aabb.ooov)
    t3new_bbabba += np.einsum("la,mb,kjcd,ilmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("la,mb,kjcd,imld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("la,mb,kicd,jlmd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov) * -1.0
    t3new_bbabba += np.einsum("la,mb,kicd,jmld->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ooov)
    t3new_bbabba += np.einsum("id,je,klcb,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("id,je,klca,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("id,je,klcb,lead->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("id,je,klca,lebd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("id,la,kjce,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("id,la,kjeb,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("id,la,kjce,lebd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("id,lb,kjce,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("id,lb,kjea,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_bbabba += np.einsum("id,lb,kjce,lead->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("jd,la,kice,ldbe->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("jd,la,kieb,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv)
    t3new_bbabba += np.einsum("jd,la,kice,lebd->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("jd,lb,kice,ldae->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv) * -1.0
    t3new_bbabba += np.einsum("jd,lb,kiea,ldce->ijkabc", t1.bb, t1.bb, t2.abab, v.bbaa.ovvv) * -1.0
    t3new_bbabba += np.einsum("jd,lb,kice,lead->ijkabc", t1.bb, t1.bb, t2.abab, v.bbbb.ovvv)
    t3new_bbabba += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.aa, t1.aa, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbabba += np.einsum("kd,lc,lemd,ijmabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,le,ldme,ijmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,mc,lemd,ijkabe->ijkabc", t1.aa, t1.aa, v.aaaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,ie,ldme,jlmacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -1.0
    t3new_bbabba += np.einsum("kd,ie,lemd,jlmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -1.0
    t3new_bbabba += np.einsum("kd,je,ldme,ilmacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab)
    t3new_bbabba += np.einsum("kd,je,lemd,ilmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba)
    t3new_bbabba += np.einsum("kd,la,lemd,ijmbec->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("kd,lb,lemd,ijmaec->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.aa, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lc,id,lemd,jkmaeb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("ld,ie,ldme,jkmacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("lc,jd,lemd,ikmaeb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("ld,je,ldme,ikmacb->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("lc,ma,ldme,ijkbed->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("lc,mb,ldme,ijkaed->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("lc,md,lemd,ijkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,ma,ldme,ijkbec->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,mb,ldme,ijkaec->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("id,la,ldme,kjmcbe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("id,lb,ldme,kjmcae->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("jd,la,ldme,kimcbe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * 2.0
    t3new_bbabba += np.einsum("jd,lb,ldme,kimcae->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.abaaba) * -2.0
    t3new_bbabba += np.einsum("id,je,ldme,klmcab->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb)
    t3new_bbabba += np.einsum("id,je,lemd,klmcab->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.abbabb) * -1.0
    t3new_bbabba += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("id,la,lemd,jkmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("id,lb,ldme,jkmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("id,lb,lemd,jkmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("id,le,ldme,jkmacb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("id,le,lemd,jkmacb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jd,la,ldme,ikmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jd,la,lemd,ikmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("jd,lb,lemd,ikmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jd,le,ldme,ikmacb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * 2.0
    t3new_bbabba += np.einsum("jd,le,lemd,ikmacb->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.babbab) * -2.0
    t3new_bbabba += np.einsum("la,mb,ldme,ijkdec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,ma,ldme,ijkbec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("ld,ma,lemd,ijkbec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,mb,ldme,ijkaec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbabba) * -2.0
    t3new_bbabba += np.einsum("ld,mb,lemd,ijkaec->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbabba) * 2.0
    t3new_bbabba += np.einsum("kd,liea,mjcb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("kd,lieb,mjca,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,liea,mjcb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,lieb,mjca,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("kd,ljea,micb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,ljeb,mica,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("kd,ljea,micb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("kd,ljeb,mica,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kida,mjeb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kidb,mjea,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("lc,kida,mjeb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("lc,kidb,mjea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kjda,mieb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("lc,kjdb,miea,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kjda,mieb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,kjdb,miea,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("ld,kiea,mjcb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("ld,kieb,mjca,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("ld,kiea,mjcb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("ld,kieb,mjca,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("ld,kjea,micb,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("ld,kjeb,mica,ldme->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("ld,kjea,micb,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov) * -1.0
    t3new_bbabba += np.einsum("ld,kjeb,mica,lemd->ijkabc", t1.aa, t2.abab, t2.abab, v.aaaa.ovov)
    t3new_bbabba += np.einsum("kd,ljcb,imae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("kd,ljce,imab,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("kd,ljca,imbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("kd,lmcb,ijae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("kd,lmca,ijbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("kd,licb,jmae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("kd,lice,jmab,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("kd,lica,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("lc,kjdb,imae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("lc,kjde,imab,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("lc,kjda,imbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("lc,kmdb,ijae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("lc,kmda,ijbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("lc,kidb,jmae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("lc,kide,jmab,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("lc,kida,jmbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kjce,imab,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kmcb,ijae,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kmca,ijbe,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("ld,kice,jmab,ldme->ijkabc", t1.aa, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("id,kjea,lmcb,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_bbabba += np.einsum("id,kjeb,lmca,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov)
    t3new_bbabba += np.einsum("id,klca,mjeb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("id,klcb,mjea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("id,klea,mjcb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("id,kleb,mjca,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,kiea,lmcb,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov)
    t3new_bbabba += np.einsum("jd,kieb,lmca,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.aabb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,klca,mieb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("jd,klcb,miea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,klea,micb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,kleb,mica,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("la,kicd,mjeb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("la,kidb,mjce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("la,kide,mjcb,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("la,kjcd,mieb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("la,kjdb,mice,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("la,kjde,micb,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kicd,mjea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("lb,kida,mjce,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("lb,kide,mjca,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kjcd,miea,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kjda,mice,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kjde,mica,lemd->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("ld,kiea,mjcb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("ld,kieb,mjca,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("ld,kjea,micb,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("ld,kjeb,mica,ldme->ijkabc", t1.bb, t2.abab, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("id,klcb,jmae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("id,klce,jmab,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("id,klca,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("id,klcb,jmae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("id,klce,jmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("id,klca,jmbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("id,kjce,lmab,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_bbabba += np.einsum("id,kjce,lmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,klcb,imae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("jd,klce,imab,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("jd,klca,imbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("jd,klcb,imae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("jd,klce,imab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("jd,klca,imbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("jd,kice,lmab,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,kice,lmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_bbabba += np.einsum("la,kjcd,imbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("la,kjcd,imbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("la,kmcd,ijbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("la,kmcb,ijde,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_bbabba += np.einsum("la,kmcd,ijbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("la,kmcb,ijde,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("la,kicd,jmbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("la,kicd,jmbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("lb,kjcd,imae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("lb,kjcd,imae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("lb,kmcd,ijae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("lb,kmca,ijde,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("lb,kmcd,ijae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("lb,kmca,ijde,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov)
    t3new_bbabba += np.einsum("lb,kicd,jmae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("lb,kicd,jmae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kjce,imab,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kjce,imab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("ld,kmcb,ijae,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kmca,ijbe,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("ld,kmcb,ijae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("ld,kmca,ijbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("ld,kice,jmab,ldme->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbabba += np.einsum("ld,kice,jmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbabba += np.einsum("id,jlab,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_bbabba += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_bbabba += np.einsum("la,ijbd,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * 4.0
    t3new_bbabba += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.aaaa, v.bbaa.ovov) * -4.0
    t3new_bbabba += np.einsum("kd,lc,ie,jmab,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("kd,lc,je,imab,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("kd,lc,ma,ijbe,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbabba += np.einsum("kd,lc,mb,ijae,ldme->ijkabc", t1.aa, t1.aa, t1.bb, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbabba += np.einsum("kd,ie,la,mjcb,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("kd,ie,lb,mjca,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,je,la,micb,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov) * -1.0
    t3new_bbabba += np.einsum("kd,je,lb,mica,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.bbaa.ovov)
    t3new_bbabba += np.einsum("lc,id,ma,kjeb,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov)
    t3new_bbabba += np.einsum("lc,id,mb,kjea,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,jd,ma,kieb,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov) * -1.0
    t3new_bbabba += np.einsum("lc,jd,mb,kiea,lemd->ijkabc", t1.aa, t1.bb, t1.bb, t2.abab, v.aabb.ovov)
    t3new_bbabba += np.einsum("id,je,la,kmcb,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("id,je,la,kmcb,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("id,je,lb,kmca,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("id,je,lb,kmca,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("id,la,mb,kjce,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)
    t3new_bbabba += np.einsum("id,la,mb,kjce,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,la,mb,kice,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov) * -1.0
    t3new_bbabba += np.einsum("jd,la,mb,kice,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.abab, v.bbbb.ovov)

    # T3 amplitudes
    t3new_bbbbbb = np.zeros((nocc[1], nocc[1], nocc[1], nvir[1], nvir[1], nvir[1]), dtype=np.float64)
    t3new_bbbbbb += np.einsum("il,jklabc->ijkabc", f.bb.oo, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jl,iklabc->ijkabc", f.bb.oo, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kl,ijlabc->ijkabc", f.bb.oo, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ad,ijkbcd->ijkabc", f.bb.vv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("bd,ijkacd->ijkabc", f.bb.vv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("cd,ijkabd->ijkabc", f.bb.vv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ilab,jlkc->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ilac,jlkb->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ilbc,jlka->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ilab,kljc->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ilac,kljb->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ilbc,klja->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jlab,ilkc->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jlac,ilkb->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jlbc,ilka->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jlab,klic->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jlac,klib->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jlbc,klia->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("klab,iljc->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("klac,iljb->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("klbc,ilja->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("klab,jlic->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("klac,jlib->ijkabc", t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("klbc,jlia->ijkabc", t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ikbd,jacd->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ikcd,jabd->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ikad,jbcd->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ikcd,jbad->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ikad,jcbd->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ikbd,jcad->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ijbd,kacd->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ijcd,kabd->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ijad,kbcd->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ijcd,kbad->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ijad,kcbd->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ijbd,kcad->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jkbd,iacd->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jkcd,iabd->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jkad,ibcd->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jkcd,ibad->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jkad,icbd->ijkabc", t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jkbd,icad->ijkabc", t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("iljm,klmabc->ijkabc", v.bbbb.oooo, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ilkm,jlmabc->ijkabc", v.bbbb.oooo, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jlkm,ilmabc->ijkabc", v.bbbb.oooo, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ilad,jklbcd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ilbd,jklacd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ilcd,jklabd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jlad,iklbcd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jlbd,iklacd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jlcd,iklabd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("klad,ijlbcd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("klbd,ijlacd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("klcd,ijlabd->ijkabc", v.bbbb.oovv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("iald,jklbcd->ijkabc", v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("iald,jklbcd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ibld,jklacd->ijkabc", v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("ibld,jklacd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("icld,jklabd->ijkabc", v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("icld,jklabd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jald,iklbcd->ijkabc", v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("jald,iklbcd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jbld,iklacd->ijkabc", v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("jbld,iklacd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jcld,iklabd->ijkabc", v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("jcld,iklabd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kald,ijlbcd->ijkabc", v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("kald,ijlbcd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kbld,ijlacd->ijkabc", v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("kbld,ijlacd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kcld,ijlabd->ijkabc", v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("kcld,ijlabd->ijkabc", v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("adbe,ijkcde->ijkabc", v.bbbb.vvvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("adce,ijkbde->ijkabc", v.bbbb.vvvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("bdce,ijkade->ijkabc", v.bbbb.vvvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,id,jklabc->ijkabc", f.bb.ov, t1.bb, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,jd,iklabc->ijkabc", f.bb.ov, t1.bb, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,kd,ijlabc->ijkabc", f.bb.ov, t1.bb, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,la,ijkbcd->ijkabc", f.bb.ov, t1.bb, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,lb,ijkacd->ijkabc", f.bb.ov, t1.bb, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,lc,ijkabd->ijkabc", f.bb.ov, t1.bb, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,ikad,jlbc->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * -4.0
    t3new_bbbbbb += np.einsum("ld,ikbd,jlac->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * 4.0
    t3new_bbbbbb += np.einsum("ld,ikcd,jlab->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * -4.0
    t3new_bbbbbb += np.einsum("ld,ilac,jkbd->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * -4.0
    t3new_bbbbbb += np.einsum("ld,ilab,jkcd->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * 4.0
    t3new_bbbbbb += np.einsum("ld,ilbc,jkad->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijad,klbc->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijbd,klac->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * -4.0
    t3new_bbbbbb += np.einsum("ld,ijcd,klab->ijkabc", f.bb.ov, t2.bbbb, t2.bbbb) * 4.0
    t3new_bbbbbb += np.einsum("id,jlac,klbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("id,jlab,klcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("id,jlbc,klad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("id,klac,jlbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("id,klab,jlcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("id,klbc,jlad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ilac,klbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ilab,klcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ilbc,klad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("jd,klac,ilbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("jd,klab,ilcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("jd,klbc,ilad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("kd,ilac,jlbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("kd,ilab,jlcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("kd,ilbc,jlad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("kd,jlac,ilbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("kd,jlab,ilcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("kd,jlbc,ilad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("la,imbc,jlkm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("la,imbc,jmkl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("la,jmbc,ilkm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("la,jmbc,imkl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("la,kmbc,iljm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("la,kmbc,imjl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("lb,imac,jlkm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("lb,imac,jmkl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("lb,jmac,ilkm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("lb,jmac,imkl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("lb,kmac,iljm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("lb,kmac,imjl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("lc,imab,jlkm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("lc,imab,jmkl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("lc,jmab,ilkm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("lc,jmab,imkl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("lc,kmab,iljm->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * -2.0
    t3new_bbbbbb += np.einsum("lc,kmab,imjl->ijkabc", t1.bb, t2.bbbb, v.bbbb.oooo) * 2.0
    t3new_bbbbbb += np.einsum("la,ikbd,jlcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("la,ikcd,jlbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("la,ijbd,klcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("la,ijcd,klbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("la,jkbd,ilcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("la,jkcd,ilbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("lb,ikad,jlcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("lb,ikcd,jlad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("lb,ijad,klcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("lb,ijcd,klad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("lb,jkad,ilcd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("lb,jkcd,ilad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("lc,ikad,jlbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("lc,ikbd,jlad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("lc,ijad,klbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("lc,ijbd,klad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("lc,jkad,ilbd->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * -2.0
    t3new_bbbbbb += np.einsum("lc,jkbd,ilad->ijkabc", t1.bb, t2.bbbb, v.bbbb.oovv) * 2.0
    t3new_bbbbbb += np.einsum("id,jlbc,kald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,jlac,kbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,jlab,kcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,klbc,jald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,klac,jbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,klab,jcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ilbc,kald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ilac,kbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ilab,kcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,klbc,iald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,klac,ibld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,klab,icld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,ilbc,jald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,ilac,jbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,ilab,jcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,jlbc,iald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,jlac,ibld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,jlab,icld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,ikcd,jbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,ikbd,jcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,ijcd,kbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,ijbd,kcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,jkcd,ibld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,jkbd,icld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,ikcd,jald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,ikad,jcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,ijcd,kald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,ijad,kcld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,jkcd,iald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,jkad,icld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,ikbd,jald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,ikad,jbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,ijbd,kald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,ijad,kbld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,jkbd,iald->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,jkad,ibld->ijkabc", t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,jkbe,adce->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("id,jkce,adbe->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("id,jkbe,aecd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("id,jkce,aebd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("id,jkae,bdce->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("id,jkae,becd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikbe,adce->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ikce,adbe->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikbe,aecd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikce,aebd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ikae,bdce->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikae,becd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijbe,adce->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,ijce,adbe->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijbe,aecd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijce,aebd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,ijae,bdce->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijae,becd->ijkabc", t1.bb, t2.bbbb, v.bbbb.vvvv) * 2.0
    t3new_bbbbbb += np.einsum("ld,imld,jkmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,jmld,ikmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,kmld,ijmabc->ijkabc", t1.aa, v.bbaa.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,ldae,ijkbce->ijkabc", t1.aa, v.aabb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ldbe,ijkace->ijkabc", t1.aa, v.aabb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,ldce,ijkabe->ijkabc", t1.aa, v.aabb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,jlmd,klmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,klmd,jlmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,ilmd,klmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,klmd,ilmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,ilmd,jlmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,jlmd,ilmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("la,ilmd,jkmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("la,imld,jkmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("la,jlmd,ikmbcd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("la,jlmd,ikmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("la,jmld,ikmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("la,klmd,ijmbcd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("la,klmd,ijmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("la,kmld,ijmbcd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lb,ilmd,jkmacd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("lb,ilmd,jkmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lb,imld,jkmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("lb,jlmd,ikmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lb,jmld,ikmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lb,klmd,ijmacd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("lb,klmd,ijmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lb,kmld,ijmacd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lc,ilmd,jkmabd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("lc,ilmd,jkmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lc,imld,jkmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lc,jlmd,ikmabd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("lc,jlmd,ikmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lc,jmld,ikmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lc,klmd,ijmabd->ijkabc", t1.bb, v.bbaa.ooov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("lc,klmd,ijmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lc,kmld,ijmabd->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ilmd,jkmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,imld,jkmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,jlmd,ikmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,jmld,ikmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,klmd,ijmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,kmld,ijmabc->ijkabc", t1.bb, v.bbbb.ooov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,ldae,jklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,ldbe,jklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,ldce,jklabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,lead,jklbce->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("id,lead,jklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,lebd,jklace->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("id,lebd,jklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,lecd,jklabe->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("id,lecd,jklabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,ldae,iklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,ldbe,iklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,ldce,iklabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,lead,iklbce->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("jd,lead,iklbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,lebd,iklace->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("jd,lebd,iklace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,lecd,iklabe->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("jd,lecd,iklabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,ldae,ijlbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,ldbe,ijlace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,ldce,ijlabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,lead,ijlbce->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("kd,lead,ijlbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,lebd,ijlace->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("kd,lebd,ijlace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,lecd,ijlabe->ijkabc", t1.bb, v.aabb.ovvv, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("kd,lecd,ijlabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("la,ldbe,ijkcde->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("la,ldce,ijkbde->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lb,ldae,ijkcde->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lb,ldce,ijkade->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lc,ldae,ijkbde->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lc,ldbe,ijkade->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ldae,ijkbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ldbe,ijkace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,ldce,ijkabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,lead,ijkbce->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,lebd,ijkace->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,lecd,ijkabe->ijkabc", t1.bb, v.bbbb.ovvv, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lkdb,imac,jmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lkdc,imab,jmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lkda,imbc,jmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ljdb,imac,kmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ljdc,imab,kmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ljda,imbc,kmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lkdb,jmac,imld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lkdc,jmab,imld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lkda,jmbc,imld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lidb,jmac,kmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lidc,jmab,kmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lida,jmbc,kmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ljdb,kmac,imld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ljdc,kmab,imld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ljda,kmbc,imld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lidb,kmac,jmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lidc,kmab,jmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lida,kmbc,jmld->ijkabc", t2.abab, t2.bbbb, v.bbaa.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ljdc,ikae,ldbe->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ljdb,ikae,ldce->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ljdc,ikbe,ldae->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ljda,ikbe,ldce->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ljdb,ikce,ldae->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ljda,ikce,ldbe->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lkdc,ijae,ldbe->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lkdb,ijae,ldce->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("lkdc,ijbe,ldae->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("lkda,ijbe,ldce->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lkdb,ijce,ldae->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lkda,ijce,ldbe->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("lidc,jkae,ldbe->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lidb,jkae,ldce->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("lidc,jkbe,ldae->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("lida,jkbe,ldce->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lidb,jkce,ldae->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lida,jkce,ldbe->ijkabc", t2.abab, t2.bbbb, v.aabb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ilac,jmbd,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilad,jmbc,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilab,jmcd,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilbc,jmad,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilbd,jmac,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilcd,jmab,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilac,jmbd,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilad,jmbc,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilab,jmcd,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilbc,jmad,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilbd,jmac,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilcd,jmab,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilac,kmbd,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilad,kmbc,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilab,kmcd,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilbc,kmad,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilbd,kmac,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilcd,kmab,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilac,kmbd,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilad,kmbc,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilab,kmcd,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilbc,kmad,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ilbd,kmac,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("ilcd,kmab,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("ikad,lmbc,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ikbd,lmac,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ikcd,lmab,jlmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ikad,lmbc,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ikbd,lmac,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ikcd,lmab,jmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ijad,lmbc,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ijbd,lmac,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ijcd,lmab,klmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ijad,lmbc,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ijbd,lmac,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("ijcd,lmab,kmld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jlac,kmbd,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("jlad,kmbc,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("jlab,kmcd,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("jlbc,kmad,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("jlbd,kmac,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("jlcd,kmab,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("jlac,kmbd,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("jlad,kmbc,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("jlab,kmcd,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("jlbc,kmad,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("jlbd,kmac,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 4.0
    t3new_bbbbbb += np.einsum("jlcd,kmab,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -4.0
    t3new_bbbbbb += np.einsum("jkad,lmbc,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jkbd,lmac,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jkcd,lmab,ilmd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jkad,lmbc,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jkbd,lmac,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jkcd,lmab,imld->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("ikad,jlbe,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ikad,jlce,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ikbd,jlae,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ikbd,jlce,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ikcd,jlae,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ikcd,jlbe,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ikde,jlac,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ikde,jlab,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ikde,jlbc,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ikad,jlbe,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ikad,jlce,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ikbd,jlae,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ikbd,jlce,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ikcd,jlae,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ikcd,jlbe,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ikde,jlac,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ikde,jlab,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ikde,jlbc,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ilad,jkbe,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ilad,jkce,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ilac,jkde,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ilab,jkde,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ilbd,jkae,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ilbd,jkce,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ilbc,jkde,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ilcd,jkae,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ilcd,jkbe,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ilad,jkbe,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ilad,jkce,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ilac,jkde,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ilab,jkde,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ilbd,jkae,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ilbd,jkce,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ilbc,jkde,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ilcd,jkae,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ilcd,jkbe,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijad,klbe,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijad,klce,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ijbd,klae,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ijbd,klce,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijcd,klae,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijcd,klbe,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ijde,klac,ldbe->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ijde,klab,ldce->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ijde,klbc,ldae->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ijad,klbe,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ijad,klce,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijbd,klae,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijbd,klce,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ijcd,klae,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -4.0
    t3new_bbbbbb += np.einsum("ijcd,klbe,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 4.0
    t3new_bbbbbb += np.einsum("ijde,klac,lebd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ijde,klab,lecd->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("ijde,klbc,lead->ijkabc", t2.bbbb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("lida,ldme,jkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lida,ldme,jkmbce->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_bbbbbb += np.einsum("lidb,ldme,jkmace->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("lidb,ldme,jkmace->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_bbbbbb += np.einsum("lidc,ldme,jkmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lidc,ldme,jkmabe->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_bbbbbb += np.einsum("lide,ldme,jkmabc->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lida,lemd,jkmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("lidb,lemd,jkmace->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lidc,lemd,jkmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("ljda,ldme,ikmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("ljda,ldme,ikmbce->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_bbbbbb += np.einsum("ljdb,ldme,ikmace->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("ljdb,ldme,ikmace->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_bbbbbb += np.einsum("ljdc,ldme,ikmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("ljdc,ldme,ikmabe->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_bbbbbb += np.einsum("ljde,ldme,ikmabc->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ljda,lemd,ikmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("ljdb,lemd,ikmace->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("ljdc,lemd,ikmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lkda,ldme,ijmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lkda,ldme,ijmbce->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_bbbbbb += np.einsum("lkdb,ldme,ijmace->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("lkdb,ldme,ijmace->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0000000000000595
    t3new_bbbbbb += np.einsum("lkdc,ldme,ijmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lkdc,ldme,ijmabe->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0000000000000595
    t3new_bbbbbb += np.einsum("lkde,ldme,ijmabc->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lkda,lemd,ijmbce->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("lkdb,lemd,ijmace->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * 2.00000000000002
    t3new_bbbbbb += np.einsum("lkdc,lemd,ijmabe->ijkabc", t2.abab, v.aaaa.ovov, t3.bbabba) * -2.00000000000002
    t3new_bbbbbb += np.einsum("lmda,ldme,ijkbce->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lmdb,ldme,ijkace->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lmdc,ldme,ijkabe->ijkabc", t2.abab, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ijad,ldme,klmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("ijad,ldme,klmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ijbd,ldme,klmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("ijbd,ldme,klmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ijcd,ldme,klmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("ijcd,ldme,klmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ijde,ldme,klmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbbbbb += np.einsum("ijad,lemd,klmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ijad,lemd,klmbec->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbbbbb += np.einsum("ijbd,lemd,klmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ijbd,lemd,klmaec->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbbbbb += np.einsum("ijcd,lemd,klmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ijcd,lemd,klmaeb->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbbbbb += np.einsum("ijde,lemd,klmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbbbbb += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("ikad,ldme,jlmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ikbd,ldme,jlmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("ikbd,ldme,jlmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ikcd,ldme,jlmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("ikcd,ldme,jlmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ikde,ldme,jlmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbbbbb += np.einsum("ikad,lemd,jlmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ikad,lemd,jlmbec->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbbbbb += np.einsum("ikbd,lemd,jlmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ikbd,lemd,jlmaec->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbbbbb += np.einsum("ikcd,lemd,jlmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ikcd,lemd,jlmaeb->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbbbbb += np.einsum("ikde,lemd,jlmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbbbbb += np.einsum("ilab,ldme,jkmcde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.0
    t3new_bbbbbb += np.einsum("ilab,ldme,jkmcde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.0
    t3new_bbbbbb += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.0
    t3new_bbbbbb += np.einsum("ilac,ldme,jkmbde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.0
    t3new_bbbbbb += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_bbbbbb += np.einsum("ilad,ldme,jkmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("ilbc,ldme,jkmade->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.0
    t3new_bbbbbb += np.einsum("ilbc,ldme,jkmade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.0
    t3new_bbbbbb += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_bbbbbb += np.einsum("ilbd,ldme,jkmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("ilcd,ldme,jkmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_bbbbbb += np.einsum("ilcd,ldme,jkmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("ilde,ldme,jkmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ilad,lemd,jkmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("ilbd,lemd,jkmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("ilcd,lemd,jkmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("ilde,lemd,jkmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jkad,ldme,ilmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("jkad,ldme,ilmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("jkbd,ldme,ilmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jkcd,ldme,ilmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("jkcd,ldme,ilmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jkde,ldme,ilmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbbbbb += np.einsum("jkad,lemd,ilmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jkad,lemd,ilmbec->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbbbbb += np.einsum("jkbd,lemd,ilmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jkbd,lemd,ilmaec->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * -2.0
    t3new_bbbbbb += np.einsum("jkcd,lemd,ilmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jkcd,lemd,ilmaeb->ijkabc", t2.bbbb, v.aabb.ovov, t3.babbab) * 2.0
    t3new_bbbbbb += np.einsum("jkde,lemd,ilmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbbbbb += np.einsum("jlab,ldme,ikmcde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.0
    t3new_bbbbbb += np.einsum("jlab,ldme,ikmcde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.0
    t3new_bbbbbb += np.einsum("jlac,ldme,ikmbde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.0
    t3new_bbbbbb += np.einsum("jlac,ldme,ikmbde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.0
    t3new_bbbbbb += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_bbbbbb += np.einsum("jlad,ldme,ikmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.0
    t3new_bbbbbb += np.einsum("jlbc,ldme,ikmade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.0
    t3new_bbbbbb += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_bbbbbb += np.einsum("jlbd,ldme,ikmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_bbbbbb += np.einsum("jlcd,ldme,ikmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("jlde,ldme,ikmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jlad,lemd,ikmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("jlbd,lemd,ikmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("jlcd,lemd,ikmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("jlde,lemd,ikmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("klab,ldme,ijmcde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.0
    t3new_bbbbbb += np.einsum("klab,ldme,ijmcde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.0
    t3new_bbbbbb += np.einsum("klac,ldme,ijmbde->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.0
    t3new_bbbbbb += np.einsum("klac,ldme,ijmbde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.0
    t3new_bbbbbb += np.einsum("klad,ldme,ijmbce->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_bbbbbb += np.einsum("klad,ldme,ijmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("klbc,ldme,ijmade->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.0
    t3new_bbbbbb += np.einsum("klbc,ldme,ijmade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.0
    t3new_bbbbbb += np.einsum("klbd,ldme,ijmace->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * -4.00000000000004
    t3new_bbbbbb += np.einsum("klbd,ldme,ijmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.bbbb, v.bbaa.ovov, t3.bbabba) * 4.00000000000004
    t3new_bbbbbb += np.einsum("klcd,ldme,ijmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("klde,ldme,ijmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("klad,lemd,ijmbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("klbd,lemd,ijmace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 12.000000000000123
    t3new_bbbbbb += np.einsum("klcd,lemd,ijmabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -12.000000000000123
    t3new_bbbbbb += np.einsum("klde,lemd,ijmabc->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lmab,ldme,ijkcde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lmac,ldme,ijkbde->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lmad,ldme,ijkbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lmbc,ldme,ijkade->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lmbd,ldme,ijkace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lmcd,ldme,ijkabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lmad,lemd,ijkbce->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lmbd,lemd,ijkace->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("lmcd,lemd,ijkabe->ijkabc", t2.bbbb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,la,jmbc,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("id,la,jmbc,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,la,kmbc,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,la,kmbc,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,jmac,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,lb,jmac,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,kmac,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,kmac,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,lc,jmab,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("id,lc,jmab,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,lc,kmab,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,lc,kmab,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,imbc,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jd,la,imbc,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,kmbc,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,kmbc,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,imac,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lb,imac,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,kmac,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,kmac,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lc,imab,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lc,imab,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lc,kmab,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lc,kmab,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,imbc,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("kd,la,imbc,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,jmbc,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,jmbc,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,imac,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,lb,imac,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,jmac,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,jmac,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,lc,imab,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("kd,lc,imab,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,lc,jmab,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("kd,lc,jmab,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("la,mb,ikcd,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("la,mb,ikcd,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("la,mb,ijcd,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("la,mb,ijcd,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("la,mb,jkcd,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("la,mb,jkcd,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("la,mc,ikbd,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("la,mc,ikbd,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("la,mc,ijbd,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("la,mc,ijbd,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("la,mc,jkbd,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("la,mc,jkbd,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mc,ikad,jlmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lb,mc,ikad,jmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mc,ijad,klmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mc,ijad,kmld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("lb,mc,jkad,ilmd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mc,jkad,imld->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ooov) * 2.0
    t3new_bbbbbb += np.einsum("id,je,klac,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,je,klab,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,je,klbc,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,je,klac,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,je,klab,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,je,klbc,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,jlac,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,ke,jlab,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,jlbc,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,jlac,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,jlab,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,ke,jlbc,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,la,jkbe,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,la,jkce,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,la,jkbe,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,la,jkce,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,jkae,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,lb,jkce,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,jkae,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,jkce,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,lc,jkae,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("id,lc,jkbe,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,lc,jkae,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("id,lc,jkbe,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,ilac,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ke,ilab,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,ilbc,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,ilac,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,ilab,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,ke,ilbc,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,la,ikbe,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,la,ikce,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,ikbe,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,ikce,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,ikae,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,lb,ikce,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,ikae,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,ikce,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,lc,ikae,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("jd,lc,ikbe,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,lc,ikae,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("jd,lc,ikbe,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,ijbe,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,la,ijce,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,ijbe,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,ijce,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,ijae,ldce->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,lb,ijce,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,ijae,lecd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,ijce,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("kd,lc,ijbe,ldae->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,lc,ijae,lebd->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * 2.0
    t3new_bbbbbb += np.einsum("kd,lc,ijbe,lead->ijkabc", t1.bb, t1.bb, t2.bbbb, v.bbbb.ovvv) * -2.0
    t3new_bbbbbb += np.einsum("ld,ie,ldme,jkmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,je,ldme,ikmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ke,ldme,ijmabc->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,ma,ldme,ijkbce->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,mb,ldme,ijkace->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.aa, t1.bb, v.aabb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,je,ldme,klmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbbbbb += np.einsum("id,je,lemd,klmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbbbbb += np.einsum("id,ke,ldme,jlmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbbbbb += np.einsum("id,ke,lemd,jlmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbbbbb += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("id,la,ldme,jkmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,la,lemd,jkmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,lb,ldme,jkmace->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("id,lb,ldme,jkmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,lb,lemd,jkmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,lc,ldme,jkmabe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("id,lc,ldme,jkmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("id,lc,lemd,jkmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,le,ldme,jkmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("id,le,lemd,jkmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,ke,ldme,ilmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 3.0
    t3new_bbbbbb += np.einsum("jd,ke,lemd,ilmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -3.0
    t3new_bbbbbb += np.einsum("jd,la,ldme,ikmbce->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("jd,la,ldme,ikmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,la,lemd,ikmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("jd,lb,ldme,ikmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,lb,lemd,ikmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,lc,ldme,ikmabe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("jd,lc,ldme,ikmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("jd,lc,lemd,ikmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,le,ldme,ikmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("jd,le,lemd,ikmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,la,ldme,ijmbce->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("kd,la,ldme,ijmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,la,lemd,ijmbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,lb,ldme,ijmace->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * 2.0
    t3new_bbbbbb += np.einsum("kd,lb,ldme,ijmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,lb,lemd,ijmace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.bb, t1.bb, v.bbaa.ovov, t3.bbabba) * -2.0
    t3new_bbbbbb += np.einsum("kd,lc,ldme,ijmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("kd,lc,lemd,ijmabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,le,ldme,ijmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("kd,le,lemd,ijmabc->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("la,mb,ldme,ijkcde->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("la,mc,ldme,ijkbde->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("lb,mc,ldme,ijkade->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ma,ldme,ijkbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,ma,lemd,ijkbce->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,mb,ldme,ijkace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,mb,lemd,ijkace->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,mc,ldme,ijkabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * -6.0
    t3new_bbbbbb += np.einsum("ld,mc,lemd,ijkabe->ijkabc", t1.bb, t1.bb, v.bbbb.ovov, t3.bbbbbb) * 6.0
    t3new_bbbbbb += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ikbe,jmac,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ikce,jmab,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,imab,jkce,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,imbc,jkae,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijae,kmbc,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijbe,kmac,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ijce,kmab,ldme->ijkabc", t1.aa, t2.bbbb, t2.bbbb, v.aabb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,lkeb,jmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,lkec,jmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,lkea,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,ljeb,kmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,ljec,kmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,ljea,kmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lkeb,imac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lkec,imab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lkea,imbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,lieb,kmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,liec,kmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,liea,kmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,ljeb,imac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,ljec,imab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,ljea,imbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,lieb,jmac,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,liec,jmab,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,liea,jmbc,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.aabb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,mjdc,ikbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,mjdb,ikce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,mkdc,ijbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,mkdb,ijce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,midc,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,midb,jkce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mjdc,ikae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,mjda,ikce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mkdc,ijae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mkda,ijce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,midc,jkae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,mida,jkce,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,mjdb,ikae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,mjda,ikbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,mkdb,ijae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,mkda,ijbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,midb,jkae,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,mida,jkbe,lemd->ijkabc", t1.bb, t2.abab, t2.bbbb, v.bbaa.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,jlac,kmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,jlae,kmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,jlab,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,jlbc,kmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,jlbe,kmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,jlce,kmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,jlac,kmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,jlae,kmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,jlab,kmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,jlbc,kmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,jlbe,kmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("id,jlce,kmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,jkae,lmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,jkbe,lmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,jkce,lmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,jkae,lmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,jkbe,lmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,jkce,lmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ilac,kmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("jd,ilae,kmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("jd,ilab,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("jd,ilbc,kmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("jd,ilbe,kmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("jd,ilce,kmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("jd,ilac,kmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("jd,ilae,kmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("jd,ilab,kmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("jd,ilbc,kmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("jd,ilbe,kmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("jd,ilce,kmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("jd,ikae,lmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikbe,lmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ikce,lmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikae,lmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ikbe,lmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ikce,lmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,ilac,jmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("kd,ilae,jmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("kd,ilab,jmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("kd,ilbc,jmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("kd,ilbe,jmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("kd,ilce,jmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("kd,ilac,jmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("kd,ilae,jmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("kd,ilab,jmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("kd,ilbc,jmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("kd,ilbe,jmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("kd,ilce,jmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("kd,ijae,lmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijbe,lmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,ijce,lmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijae,lmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,ijbe,lmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,ijce,lmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,ikbd,jmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("la,ikcd,jmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("la,ikde,jmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,ikbd,jmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("la,ikcd,jmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("la,ikde,jmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,imbd,jkce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("la,imbc,jkde,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,imcd,jkbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("la,imbd,jkce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("la,imbc,jkde,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("la,imcd,jkbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("la,ijbd,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("la,ijcd,kmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("la,ijde,kmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("la,ijbd,kmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("la,ijcd,kmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("la,ijde,kmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,ikad,jmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lb,ikcd,jmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lb,ikde,jmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,ikad,jmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lb,ikcd,jmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lb,ikde,jmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,imad,jkce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lb,imac,jkde,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,imcd,jkae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lb,imad,jkce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lb,imac,jkde,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lb,imcd,jkae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lb,ijad,kmce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lb,ijcd,kmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lb,ijde,kmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lb,ijad,kmce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lb,ijcd,kmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lb,ijde,kmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,ikad,jmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lc,ikbd,jmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lc,ikde,jmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,ikad,jmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lc,ikbd,jmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lc,ikde,jmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,imad,jkbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lc,imab,jkde,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,imbd,jkae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lc,imad,jkbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lc,imab,jkde,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("lc,imbd,jkae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lc,ijad,kmbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lc,ijbd,kmae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lc,ijde,kmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("lc,ijad,kmbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("lc,ijbd,kmae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("lc,ijde,kmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("ld,ikae,jmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ikbe,jmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ikce,jmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ikae,jmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ikbe,jmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ikce,jmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,imac,jkbe,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,imab,jkce,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,imbc,jkae,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,imac,jkbe,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,imab,jkce,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,imbc,jkae,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ijae,kmbc,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijbe,kmac,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ijce,kmab,ldme->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijae,kmbc,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("ld,ijbe,kmac,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * 4.0
    t3new_bbbbbb += np.einsum("ld,ijce,kmab,lemd->ijkabc", t1.bb, t2.bbbb, t2.bbbb, v.bbbb.ovov) * -4.0
    t3new_bbbbbb += np.einsum("id,je,la,kmbc,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,je,la,kmbc,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,je,lb,kmac,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,je,lb,kmac,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,je,lc,kmab,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,je,lc,kmab,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,la,jmbc,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,la,jmbc,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,ke,lb,jmac,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,ke,lb,jmac,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,lc,jmab,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,ke,lc,jmab,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,la,mb,jkce,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,la,mb,jkce,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,la,mc,jkbe,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("id,la,mc,jkbe,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,mc,jkae,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("id,lb,mc,jkae,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ke,la,imbc,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,la,imbc,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ke,lb,imac,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,ke,lb,imac,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,lc,imab,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,ke,lc,imab,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,la,mb,ikce,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,la,mb,ikce,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,mc,ikbe,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("jd,la,mc,ikbe,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,mc,ikae,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("jd,lb,mc,ikae,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,la,mb,ijce,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,la,mb,ijce,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,mc,ijbe,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0
    t3new_bbbbbb += np.einsum("kd,la,mc,ijbe,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,mc,ijae,ldme->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * -2.0
    t3new_bbbbbb += np.einsum("kd,lb,mc,ijae,lemd->ijkabc", t1.bb, t1.bb, t1.bb, t2.bbbb, v.bbbb.ovov) * 2.0

    t1new.aa = t1new_aa
    t1new.bb = t1new_bb
    t2new.aaaa = t2new_aaaa
    t2new.abab = t2new_abab
    t2new.baba = t2new_baba
    t2new.bbbb = t2new_bbbb
    t3new.aaaaaa = t3new_aaaaaa
    t3new.aabaab = t3new_aabaab
    t3new.abaaba = t3new_abaaba
    t3new.baabaa = t3new_baabaa
    t3new.abbabb = t3new_abbabb
    t3new.babbab = t3new_babbab
    t3new.bbabba = t3new_bbabba
    t3new.bbbbbb = t3new_bbbbbb

    return {"t1new": t1new, "t2new": t2new, "t3new": t3new}

