# Code generated by qwick.

import numpy as np
from ebcc.util import pack_2e, einsum, Namespace

def energy(f=None, v=None, nocc=None, nvir=None, t1=None, t2=None, t3=None, **kwargs):
    # energy
    e_cc = 0.0
    e_cc += np.einsum("ia,ia->", f.ov, t1) * 2.0
    e_cc += np.einsum("ijab,iajb->", t2, v.ovov) * 2.0
    e_cc += np.einsum("ijab,ibja->", t2, v.ovov) * -1.0
    e_cc += np.einsum("ia,jb,iajb->", t1, t1, v.ovov) * 2.0
    e_cc += np.einsum("ia,jb,ibja->", t1, t1, v.ovov) * -1.0

    return e_cc

def update_amps(f=None, v=None, nocc=None, nvir=None, t1=None, t2=None, t3=None, **kwargs):
    # T1 amplitudes
    t1new = np.zeros((nocc, nvir), dtype=np.float64)
    t1new += np.einsum("ia->ia", f.ov)
    t1new += np.einsum("ij,ja->ia", f.oo, t1) * -1.0
    t1new += np.einsum("ab,ib->ia", f.vv, t1)
    t1new += np.einsum("jb,ijab->ia", f.ov, t2) * 2.0
    t1new += np.einsum("jb,ijba->ia", f.ov, t2) * -1.0
    t1new += np.einsum("jb,ijab->ia", t1, v.oovv) * -1.0
    t1new += np.einsum("jb,iajb->ia", t1, v.ovov) * 2.0
    t1new += np.einsum("jkab,ijkb->ia", t2, v.ooov) * -1.5
    t1new += np.einsum("jkba,ijkb->ia", t2, v.ooov) * 0.5
    t1new += np.einsum("jkab,ikjb->ia", t2, v.ooov) * 0.5
    t1new += np.einsum("jkba,ikjb->ia", t2, v.ooov) * -0.5
    t1new += np.einsum("ijbc,jbac->ia", t2, v.ovvv) * -1.0
    t1new += np.einsum("ijbc,jcab->ia", t2, v.ovvv) * 2.0
    t1new += np.einsum("jbkc,ijkabc->ia", v.ovov, t3)
    t1new += np.einsum("jbkc,ijkacb->ia", v.ovov, t3) * -0.5
    t1new += np.einsum("jbkc,ijkbac->ia", v.ovov, t3) * -0.25
    t1new += np.einsum("jbkc,ijkcab->ia", v.ovov, t3) * 0.25
    t1new += np.einsum("jbkc,ikjacb->ia", v.ovov, t3) * 0.5
    t1new += np.einsum("jbkc,jikbac->ia", v.ovov, t3) * 0.25
    t1new += np.einsum("jbkc,jikcab->ia", v.ovov, t3) * -0.25
    t1new += np.einsum("jb,ib,ja->ia", f.ov, t1, t1) * -1.0
    t1new += np.einsum("jb,ka,ijkb->ia", t1, t1, v.ooov)
    t1new += np.einsum("jb,ka,ikjb->ia", t1, t1, v.ooov) * -2.0
    t1new += np.einsum("ib,jc,jbac->ia", t1, t1, v.ovvv) * -1.0
    t1new += np.einsum("ib,jc,jcab->ia", t1, t1, v.ovvv) * 2.0
    t1new += np.einsum("ib,jkac,jbkc->ia", t1, t2, v.ovov) * -1.5
    t1new += np.einsum("ib,jkca,jbkc->ia", t1, t2, v.ovov) * 0.5
    t1new += np.einsum("ib,jkac,jckb->ia", t1, t2, v.ovov) * 0.5
    t1new += np.einsum("ib,jkca,jckb->ia", t1, t2, v.ovov) * -0.5
    t1new += np.einsum("ja,ikbc,jbkc->ia", t1, t2, v.ovov) * -2.0
    t1new += np.einsum("ja,ikbc,jckb->ia", t1, t2, v.ovov)
    t1new += np.einsum("jb,ikac,jbkc->ia", t1, t2, v.ovov) * 4.0
    t1new += np.einsum("jb,ikca,jbkc->ia", t1, t2, v.ovov) * -2.0
    t1new += np.einsum("jb,ikac,jckb->ia", t1, t2, v.ovov) * -2.0
    t1new += np.einsum("jb,ikca,jckb->ia", t1, t2, v.ovov)
    t1new += np.einsum("ib,jc,ka,jbkc->ia", t1, t1, t1, v.ovov)
    t1new += np.einsum("ib,jc,ka,jckb->ia", t1, t1, t1, v.ovov) * -2.0

    # T2 amplitudes
    t2new = np.zeros((nocc, nocc, nvir, nvir), dtype=np.float64)
    t2new += np.einsum("iajb->ijab", v.ovov)
    t2new += np.einsum("ik,kjab->ijab", f.oo, t2) * -1.0
    t2new += np.einsum("jk,ikab->ijab", f.oo, t2) * -1.0
    t2new += np.einsum("ac,ijcb->ijab", f.vv, t2)
    t2new += np.einsum("bc,ijac->ijab", f.vv, t2)
    t2new += np.einsum("ka,ikjb->ijab", t1, v.ooov) * -1.0
    t2new += np.einsum("kb,jkia->ijab", t1, v.ooov) * -1.0
    t2new += np.einsum("ic,jbac->ijab", t1, v.ovvv)
    t2new += np.einsum("jc,iabc->ijab", t1, v.ovvv)
    t2new += np.einsum("kc,ijkabc->ijab", f.ov, t3)
    t2new += np.einsum("kc,jikbac->ijab", f.ov, t3)
    t2new += np.einsum("klab,ikjl->ijab", t2, v.oooo)
    t2new += np.einsum("ikac,jkbc->ijab", t2, v.oovv) * -1.0
    t2new += np.einsum("ikcb,jkac->ijab", t2, v.oovv) * -1.0
    t2new += np.einsum("kjac,ikbc->ijab", t2, v.oovv) * -1.0
    t2new += np.einsum("kjcb,ikac->ijab", t2, v.oovv) * -1.0
    t2new += np.einsum("ikac,jbkc->ijab", t2, v.ovov) * 2.0
    t2new += np.einsum("ikca,jbkc->ijab", t2, v.ovov) * -1.0
    t2new += np.einsum("jkbc,iakc->ijab", t2, v.ovov)
    t2new += np.einsum("jkcb,iakc->ijab", t2, v.ovov) * -1.0
    t2new += np.einsum("kjcb,iakc->ijab", t2, v.ovov)
    t2new += np.einsum("ijcd,acbd->ijab", t2, v.vvvv)
    t2new += np.einsum("iklc,jklbac->ijab", v.ooov, t3) * -1.0
    t2new += np.einsum("iklc,kjlabc->ijab", v.ooov, t3) * -0.5
    t2new += np.einsum("iklc,ljkabc->ijab", v.ooov, t3) * 0.5
    t2new += np.einsum("jklc,iklabc->ijab", v.ooov, t3) * -1.0
    t2new += np.einsum("jklc,kilbac->ijab", v.ooov, t3) * -0.5
    t2new += np.einsum("jklc,likbac->ijab", v.ooov, t3) * 0.5
    t2new += np.einsum("kcad,ijkcbd->ijab", v.ovvv, t3) * -0.5
    t2new += np.einsum("kcad,ijkdbc->ijab", v.ovvv, t3) * 0.5
    t2new += np.einsum("kcad,jikbdc->ijab", v.ovvv, t3)
    t2new += np.einsum("kcbd,ijkadc->ijab", v.ovvv, t3)
    t2new += np.einsum("kcbd,jikcad->ijab", v.ovvv, t3) * -0.5
    t2new += np.einsum("kcbd,jikdac->ijab", v.ovvv, t3) * 0.5
    t2new += np.einsum("kc,ic,kjab->ijab", f.ov, t1, t2) * -1.0
    t2new += np.einsum("kc,jc,ikab->ijab", f.ov, t1, t2) * -1.0
    t2new += np.einsum("kc,ka,ijcb->ijab", f.ov, t1, t2) * -1.0
    t2new += np.einsum("kc,kb,ijac->ijab", f.ov, t1, t2) * -1.0
    t2new += np.einsum("ic,kb,jkac->ijab", t1, t1, v.oovv) * -1.0
    t2new += np.einsum("jc,ka,ikbc->ijab", t1, t1, v.oovv) * -1.0
    t2new += np.einsum("ka,lb,ikjl->ijab", t1, t1, v.oooo)
    t2new += np.einsum("ic,ka,jbkc->ijab", t1, t1, v.ovov) * -1.0
    t2new += np.einsum("jc,kb,iakc->ijab", t1, t1, v.ovov) * -1.0
    t2new += np.einsum("ic,jd,acbd->ijab", t1, t1, v.vvvv)
    t2new += np.einsum("ic,klab,jlkc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("jc,klab,iklc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("ka,ilcb,jlkc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("ka,jlbc,iklc->ijab", t1, t2, v.ooov) * -1.0
    t2new += np.einsum("ka,jlcb,iklc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("ka,ljcb,iklc->ijab", t1, t2, v.ooov) * -1.0
    t2new += np.einsum("ka,ljcb,ilkc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("kb,ilac,jklc->ijab", t1, t2, v.ooov) * -2.0
    t2new += np.einsum("kb,ilca,jklc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("kb,ilac,jlkc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("kb,ljac,ilkc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("kc,ilab,jklc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("kc,ilab,jlkc->ijab", t1, t2, v.ooov) * -2.0
    t2new += np.einsum("kc,ljab,iklc->ijab", t1, t2, v.ooov)
    t2new += np.einsum("kc,ljab,ilkc->ijab", t1, t2, v.ooov) * -2.0
    t2new += np.einsum("ic,jkbd,kdac->ijab", t1, t2, v.ovvv)
    t2new += np.einsum("ic,jkdb,kdac->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("ic,kjad,kcbd->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("ic,kjdb,kcad->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("ic,kjdb,kdac->ijab", t1, t2, v.ovvv)
    t2new += np.einsum("jc,ikad,kcbd->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("jc,ikdb,kcad->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("jc,ikad,kdbc->ijab", t1, t2, v.ovvv) * 2.0
    t2new += np.einsum("jc,ikda,kdbc->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("ka,ijcd,kcbd->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("kb,ijcd,kdac->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("kc,ijad,kcbd->ijab", t1, t2, v.ovvv) * 2.0
    t2new += np.einsum("kc,ijdb,kcad->ijab", t1, t2, v.ovvv) * 2.0
    t2new += np.einsum("kc,ijad,kdbc->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("kc,ijdb,kdac->ijab", t1, t2, v.ovvv) * -1.0
    t2new += np.einsum("ic,kcld,jklbad->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("ic,kcld,kjlabd->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("ic,kdlc,jlkbad->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("ic,kdlc,kjlabd->ijab", t1, v.ovov, t3) * 0.5
    t2new += np.einsum("jc,kcld,iklabd->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("jc,kcld,kilbad->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("jc,kdlc,ilkabd->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("jc,kdlc,kilbad->ijab", t1, v.ovov, t3) * 0.5
    t2new += np.einsum("ka,kcld,ijlcbd->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("ka,kcld,ijldbc->ijab", t1, v.ovov, t3) * 0.5
    t2new += np.einsum("ka,kcld,jilbcd->ijab", t1, v.ovov, t3) * -1.0
    t2new += np.einsum("kb,kcld,ijlacd->ijab", t1, v.ovov, t3) * -1.0
    t2new += np.einsum("kb,kcld,jilcad->ijab", t1, v.ovov, t3) * -0.5
    t2new += np.einsum("kb,kcld,jildac->ijab", t1, v.ovov, t3) * 0.5
    t2new += np.einsum("kc,kcld,ijlabd->ijab", t1, v.ovov, t3) * 2.0
    t2new += np.einsum("kc,kcld,jilbad->ijab", t1, v.ovov, t3) * 2.0
    t2new += np.einsum("kc,kdlc,ijlabd->ijab", t1, v.ovov, t3) * -1.0
    t2new += np.einsum("kc,kdlc,jilbad->ijab", t1, v.ovov, t3) * -1.0
    t2new += np.einsum("ikac,jlbd,kcld->ijab", t2, t2, v.ovov) * 2.0
    t2new += np.einsum("ikab,jlcd,kcld->ijab", t2, t2, v.ovov) * -1.0
    t2new += np.einsum("ikac,jldb,kcld->ijab", t2, t2, v.ovov) * -2.0
    t2new += np.einsum("ikca,jlbd,kcld->ijab", t2, t2, v.ovov) * -1.0
    t2new += np.einsum("ikca,jldb,kcld->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ikac,jlbd,kdlc->ijab", t2, t2, v.ovov) * -1.0
    t2new += np.einsum("ikab,jlcd,kdlc->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ikac,jldb,kdlc->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ijac,klbd,kcld->ijab", t2, t2, v.ovov) * -0.5
    t2new += np.einsum("ijac,kldb,kcld->ijab", t2, t2, v.ovov) * 0.5
    t2new += np.einsum("ijcb,klad,kcld->ijab", t2, t2, v.ovov) * -1.5
    t2new += np.einsum("ijcd,klab,kcld->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ijcb,klda,kcld->ijab", t2, t2, v.ovov) * 0.5
    t2new += np.einsum("ijac,klbd,kdlc->ijab", t2, t2, v.ovov) * 0.5
    t2new += np.einsum("ijac,kldb,kdlc->ijab", t2, t2, v.ovov) * -1.5
    t2new += np.einsum("ijcb,klad,kdlc->ijab", t2, t2, v.ovov) * 0.5
    t2new += np.einsum("ijcb,klda,kdlc->ijab", t2, t2, v.ovov) * -0.5
    t2new += np.einsum("ikac,ljdb,kcld->ijab", t2, t2, v.ovov) * 2.0
    t2new += np.einsum("ikcd,ljab,kcld->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ikca,ljdb,kcld->ijab", t2, t2, v.ovov) * -1.0
    t2new += np.einsum("ikab,ljcd,kdlc->ijab", t2, t2, v.ovov) * -1.0
    t2new += np.einsum("ikac,ljdb,kdlc->ijab", t2, t2, v.ovov) * -1.0
    t2new += np.einsum("ikcb,ljad,kdlc->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ikcd,ljab,kdlc->ijab", t2, t2, v.ovov) * -2.0
    t2new += np.einsum("ikca,ljdb,kdlc->ijab", t2, t2, v.ovov)
    t2new += np.einsum("ic,ka,lb,jlkc->ijab", t1, t1, t1, v.ooov)
    t2new += np.einsum("jc,ka,lb,iklc->ijab", t1, t1, t1, v.ooov)
    t2new += np.einsum("ic,jd,ka,kcbd->ijab", t1, t1, t1, v.ovvv) * -1.0
    t2new += np.einsum("ic,jd,kb,kdac->ijab", t1, t1, t1, v.ovvv) * -1.0
    t2new += np.einsum("ic,jd,klab,kcld->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("ic,ka,jlbd,kcld->ijab", t1, t1, t2, v.ovov) * -1.0
    t2new += np.einsum("ic,ka,jldb,kcld->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("ic,ka,ljdb,kcld->ijab", t1, t1, t2, v.ovov) * -1.0
    t2new += np.einsum("ic,ka,ljdb,kdlc->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("ic,kb,ljad,kdlc->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("ic,kd,ljab,kcld->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("ic,kd,ljab,kdlc->ijab", t1, t1, t2, v.ovov) * -2.0
    t2new += np.einsum("jc,ka,ildb,kdlc->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("jc,kb,ilad,kcld->ijab", t1, t1, t2, v.ovov) * -2.0
    t2new += np.einsum("jc,kb,ilda,kcld->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("jc,kb,ilad,kdlc->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("jc,kd,ilab,kcld->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("jc,kd,ilab,kdlc->ijab", t1, t1, t2, v.ovov) * -2.0
    t2new += np.einsum("ka,lb,ijcd,kcld->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("kc,la,ijdb,kcld->ijab", t1, t1, t2, v.ovov) * -2.0
    t2new += np.einsum("kc,la,ijdb,kdlc->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("kc,lb,ijad,kcld->ijab", t1, t1, t2, v.ovov) * -2.0
    t2new += np.einsum("kc,lb,ijad,kdlc->ijab", t1, t1, t2, v.ovov)
    t2new += np.einsum("ic,jd,ka,lb,kcld->ijab", t1, t1, t1, t1, v.ovov)

    # T3 amplitudes
    t3new = np.zeros((nocc, nocc, nocc, nvir, nvir, nvir), dtype=np.float64)
    t3new += np.einsum("il,kjlabc->ijkabc", f.oo, t3)
    t3new += np.einsum("jl,ilkabc->ijkabc", f.oo, t3) * -1.0
    t3new += np.einsum("kl,ijlabc->ijkabc", f.oo, t3) * -1.0
    t3new += np.einsum("ad,ijkcbd->ijkabc", f.vv, t3) * -1.0
    t3new += np.einsum("bd,ijkadc->ijkabc", f.vv, t3)
    t3new += np.einsum("cd,ijkabd->ijkabc", f.vv, t3)
    t3new += np.einsum("ilab,jlkc->ijkabc", t2, v.ooov) * -1.0
    t3new += np.einsum("ilcb,jlka->ijkabc", t2, v.ooov)
    t3new += np.einsum("ilac,kljb->ijkabc", t2, v.ooov) * -1.0
    t3new += np.einsum("ilca,kljb->ijkabc", t2, v.ooov)
    t3new += np.einsum("klac,iljb->ijkabc", t2, v.ooov)
    t3new += np.einsum("klca,iljb->ijkabc", t2, v.ooov) * -1.0
    t3new += np.einsum("klab,jlic->ijkabc", t2, v.ooov)
    t3new += np.einsum("klcb,jlia->ijkabc", t2, v.ooov) * -1.0
    t3new += np.einsum("ljab,ilkc->ijkabc", t2, v.ooov) * -1.0
    t3new += np.einsum("ljcb,ilka->ijkabc", t2, v.ooov)
    t3new += np.einsum("ljab,klic->ijkabc", t2, v.ooov)
    t3new += np.einsum("ljcb,klia->ijkabc", t2, v.ooov) * -1.0
    t3new += np.einsum("ikad,jbcd->ijkabc", t2, v.ovvv)
    t3new += np.einsum("ikcd,jbad->ijkabc", t2, v.ovvv) * -1.0
    t3new += np.einsum("ikdc,jbad->ijkabc", t2, v.ovvv)
    t3new += np.einsum("ikda,jbcd->ijkabc", t2, v.ovvv) * -1.0
    t3new += np.einsum("ijcd,kabd->ijkabc", t2, v.ovvv) * -1.0
    t3new += np.einsum("ijdb,kacd->ijkabc", t2, v.ovvv) * -1.0
    t3new += np.einsum("ijad,kcbd->ijkabc", t2, v.ovvv)
    t3new += np.einsum("ijdb,kcad->ijkabc", t2, v.ovvv)
    t3new += np.einsum("kjcd,iabd->ijkabc", t2, v.ovvv)
    t3new += np.einsum("kjdb,iacd->ijkabc", t2, v.ovvv)
    t3new += np.einsum("kjad,icbd->ijkabc", t2, v.ovvv) * -1.0
    t3new += np.einsum("kjdb,icad->ijkabc", t2, v.ovvv) * -1.0
    t3new += np.einsum("ld,id,kjlabc->ijkabc", f.ov, t1, t3)
    t3new += np.einsum("ld,jd,ilkabc->ijkabc", f.ov, t1, t3) * -1.0
    t3new += np.einsum("ld,kd,ijlabc->ijkabc", f.ov, t1, t3) * -1.0
    t3new += np.einsum("ld,la,ijkcbd->ijkabc", f.ov, t1, t3)
    t3new += np.einsum("ld,lb,ijkadc->ijkabc", f.ov, t1, t3) * -1.0
    t3new += np.einsum("ld,lc,ijkabd->ijkabc", f.ov, t1, t3) * -1.0
    t3new += np.einsum("ld,ijad,klcb->ijkabc", f.ov, t2, t2) * -1.0
    t3new += np.einsum("ld,ijcd,klab->ijkabc", f.ov, t2, t2)
    t3new += np.einsum("ld,ijdb,klac->ijkabc", f.ov, t2, t2)
    t3new += np.einsum("ld,ijdb,klca->ijkabc", f.ov, t2, t2) * -1.0
    t3new += np.einsum("ld,ilab,kjcd->ijkabc", f.ov, t2, t2) * -1.0
    t3new += np.einsum("ld,ilac,kjdb->ijkabc", f.ov, t2, t2) * -1.0
    t3new += np.einsum("ld,ilcb,kjad->ijkabc", f.ov, t2, t2)
    t3new += np.einsum("ld,ilca,kjdb->ijkabc", f.ov, t2, t2)
    t3new += np.einsum("ld,ikad,ljcb->ijkabc", f.ov, t2, t2) * -1.0
    t3new += np.einsum("ld,ikcd,ljab->ijkabc", f.ov, t2, t2)
    t3new += np.einsum("ld,ikdc,ljab->ijkabc", f.ov, t2, t2) * -1.0
    t3new += np.einsum("ld,ikda,ljcb->ijkabc", f.ov, t2, t2)
    t3new += np.einsum("id,klab,jlcd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("id,klcb,jlad->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("id,ljab,klcd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("id,ljcb,klad->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("jd,ilac,klbd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("jd,ilca,klbd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("jd,klac,ilbd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("jd,klca,ilbd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("kd,ilab,jlcd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("kd,ilcb,jlad->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("kd,ljab,ilcd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("kd,ljcb,ilad->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("la,imcb,jmkl->ijkabc", t1, t2, v.oooo) * -1.0
    t3new += np.einsum("la,kmcb,iljm->ijkabc", t1, t2, v.oooo)
    t3new += np.einsum("la,mjcb,ilkm->ijkabc", t1, t2, v.oooo)
    t3new += np.einsum("la,mjcb,imkl->ijkabc", t1, t2, v.oooo) * -1.0
    t3new += np.einsum("lb,imac,jlkm->ijkabc", t1, t2, v.oooo)
    t3new += np.einsum("lb,imca,jlkm->ijkabc", t1, t2, v.oooo) * -1.0
    t3new += np.einsum("lb,kmac,imjl->ijkabc", t1, t2, v.oooo) * -1.0
    t3new += np.einsum("lb,kmca,imjl->ijkabc", t1, t2, v.oooo)
    t3new += np.einsum("lc,imab,jmkl->ijkabc", t1, t2, v.oooo)
    t3new += np.einsum("lc,kmab,iljm->ijkabc", t1, t2, v.oooo) * -1.0
    t3new += np.einsum("lc,mjab,ilkm->ijkabc", t1, t2, v.oooo) * -1.0
    t3new += np.einsum("lc,mjab,imkl->ijkabc", t1, t2, v.oooo)
    t3new += np.einsum("la,ijcd,klbd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("la,ijdb,klcd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("la,kjcd,ilbd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("la,kjdb,ilcd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("lb,ikad,jlcd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("lb,ikcd,jlad->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("lb,ikdc,jlad->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("lb,ikda,jlcd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("lc,ijad,klbd->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("lc,ijdb,klad->ijkabc", t1, t2, v.oovv) * -1.0
    t3new += np.einsum("lc,kjad,ilbd->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("lc,kjdb,ilad->ijkabc", t1, t2, v.oovv)
    t3new += np.einsum("id,klac,jbld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("id,klca,jbld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,ljcb,kald->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("id,ljab,kcld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,ilcb,kald->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("jd,ilab,kcld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,klcb,iald->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,klab,icld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("kd,ilac,jbld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("kd,ilca,jbld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("kd,ljcb,iald->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("kd,ljab,icld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("la,ikcd,jbld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("la,ikdc,jbld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("la,ijdb,kcld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("la,kjdb,icld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("lb,ijcd,kald->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("lb,ijad,kcld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("lb,kjcd,iald->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("lb,kjad,icld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("lc,ikad,jbld->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("lc,ikda,jbld->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("lc,ijdb,kald->ijkabc", t1, t2, v.ovov)
    t3new += np.einsum("lc,kjdb,iald->ijkabc", t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,kjce,adbe->ijkabc", t1, t2, v.vvvv)
    t3new += np.einsum("id,kjeb,adce->ijkabc", t1, t2, v.vvvv)
    t3new += np.einsum("id,kjeb,aecd->ijkabc", t1, t2, v.vvvv) * -1.0
    t3new += np.einsum("id,kjae,becd->ijkabc", t1, t2, v.vvvv) * -1.0
    t3new += np.einsum("jd,ikce,aebd->ijkabc", t1, t2, v.vvvv) * -1.0
    t3new += np.einsum("jd,ikec,aebd->ijkabc", t1, t2, v.vvvv)
    t3new += np.einsum("jd,ikae,bdce->ijkabc", t1, t2, v.vvvv)
    t3new += np.einsum("jd,ikea,bdce->ijkabc", t1, t2, v.vvvv) * -1.0
    t3new += np.einsum("kd,ijce,adbe->ijkabc", t1, t2, v.vvvv) * -1.0
    t3new += np.einsum("kd,ijeb,adce->ijkabc", t1, t2, v.vvvv) * -1.0
    t3new += np.einsum("kd,ijeb,aecd->ijkabc", t1, t2, v.vvvv)
    t3new += np.einsum("kd,ijae,becd->ijkabc", t1, t2, v.vvvv)
    t3new += np.einsum("id,la,kmcb,jmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("id,la,mjcb,klmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("id,la,mjcb,kmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("id,lb,kmac,jlmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("id,lb,kmca,jlmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("id,lc,kmab,jmld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("id,lc,mjab,klmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("id,lc,mjab,kmld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("jd,la,imcb,klmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("jd,la,kmcb,ilmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("jd,lb,imac,kmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("jd,lb,imca,kmld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("jd,lb,kmac,imld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("jd,lb,kmca,imld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("jd,lc,imab,klmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("jd,lc,kmab,ilmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("kd,la,imcb,jmld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("kd,la,mjcb,ilmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("kd,la,mjcb,imld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("kd,lb,imac,jlmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("kd,lb,imca,jlmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("kd,lc,imab,jmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("kd,lc,mjab,ilmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("kd,lc,mjab,imld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("la,mb,ikcd,jmld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("la,mb,ikdc,jmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("la,mb,ijcd,klmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("la,mb,kjcd,ilmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("la,mc,ijdb,klmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("la,mc,ijdb,kmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("la,mc,kjdb,ilmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("la,mc,kjdb,imld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("lc,mb,ikad,jmld->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("lc,mb,ikda,jmld->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("lc,mb,ijad,klmd->ijkabc", t1, t1, t2, v.ooov)
    t3new += np.einsum("lc,mb,kjad,ilmd->ijkabc", t1, t1, t2, v.ooov) * -1.0
    t3new += np.einsum("id,je,klac,ldbe->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,je,klca,ldbe->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,je,klab,lecd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,je,klcb,lead->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,ke,ljab,ldce->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,ke,ljcb,ldae->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,ke,ljab,lecd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,ke,ljcb,lead->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,la,kjce,ldbe->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,la,kjeb,ldce->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,la,kjeb,lecd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,lb,kjae,lecd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,lb,kjce,lead->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("id,lc,kjae,ldbe->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,lc,kjeb,ldae->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,lc,kjeb,lead->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,ke,ilab,ldce->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,ke,ilcb,ldae->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("jd,ke,ilac,lebd->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,ke,ilca,lebd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("jd,la,ikce,lebd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("jd,la,ikec,lebd->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,lb,ikae,ldce->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,lb,ikce,ldae->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("jd,lb,ikec,ldae->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,lb,ikea,ldce->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("jd,lc,ikae,lebd->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("jd,lc,ikea,lebd->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("kd,la,ijce,ldbe->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("kd,la,ijeb,ldce->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("kd,la,ijeb,lecd->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("kd,lb,ijae,lecd->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("kd,lb,ijce,lead->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("kd,lc,ijae,ldbe->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("kd,lc,ijeb,ldae->ijkabc", t1, t1, t2, v.ovvv) * -1.0
    t3new += np.einsum("kd,lc,ijeb,lead->ijkabc", t1, t1, t2, v.ovvv)
    t3new += np.einsum("id,je,la,kmcb,ldme->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("id,je,lb,kmac,lemd->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,je,lb,kmca,lemd->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("id,je,lc,kmab,ldme->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,ke,la,mjcb,ldme->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("id,ke,la,mjcb,lemd->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,ke,lc,mjab,ldme->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,ke,lc,mjab,lemd->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("id,la,mb,kjce,ldme->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("id,la,mc,kjeb,ldme->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("id,la,mc,kjeb,lemd->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("id,lc,mb,kjae,ldme->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,ke,la,imcb,lemd->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,ke,lb,imac,ldme->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("jd,ke,lb,imca,ldme->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,ke,lc,imab,lemd->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("jd,la,mb,ikce,lemd->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("jd,la,mb,ikec,lemd->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("jd,lc,mb,ikae,lemd->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("jd,lc,mb,ikea,lemd->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("kd,la,mb,ijce,ldme->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("kd,la,mc,ijeb,ldme->ijkabc", t1, t1, t1, t2, v.ovov) * -1.0
    t3new += np.einsum("kd,la,mc,ijeb,lemd->ijkabc", t1, t1, t1, t2, v.ovov)
    t3new += np.einsum("kd,lc,mb,ijae,ldme->ijkabc", t1, t1, t1, t2, v.ovov)

    return {"t1new": t1new, "t2new": t2new, "t3new": t3new}

